(*CacheID: 234*)
(* Internal cache information:
NotebookFileLineBreakTest
NotebookFileLineBreakTest
NotebookDataPosition[         0,          0]
NotebookDataLength[   1413909,      34333]
NotebookOptionsPosition[   1400928,      33913]
NotebookOutlinePosition[   1401261,      33928]
CellTagsIndexPosition[   1401218,      33925]
WindowFrame->Normal*)

(* Beginning of Notebook Content *)
Notebook[{

Cell[CellGroupData[{
Cell["read package ", "Chapter"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{" ", 
  RowBox[{"(*", 
   RowBox[{
    RowBox[{"SetDirectory", "[", "\"\</home/botingw/Downloads\>\"", "]"}], 
    ";"}], "*)"}], 
  RowBox[{"(*", 
   RowBox[{
   "other", " ", "files", " ", "are", " ", "under", " ", "the", " ", "same", 
    " ", "directory"}], "*)"}], "\n", 
  RowBox[{"(*", 
   RowBox[{
    RowBox[{"20170620", ":", " ", 
     RowBox[{"for", " ", "script", " ", "version"}]}], ",", " ", 
    RowBox[{
    "executables", " ", "could", " ", "not", " ", "run", " ", "pdfparse", " ",
      "correctly"}], ",", " ", 
    RowBox[{"so", " ", "modify", " ", "the", " ", "path", " ", "setting"}]}], 
   "*)"}], "\n", 
  RowBox[{
   RowBox[{
    RowBox[{"SetDirectory", "[", 
     RowBox[{"NotebookDirectory", "[", "]"}], 
     RowBox[{"(*", 
      RowBox[{"DirectoryName", "[", "$InputFileName", "]"}], "*)"}], " ", 
     "]"}], ";", 
    RowBox[{"(*", 
     RowBox[{
      RowBox[{"Print", "[", 
       RowBox[{"Directory", "[", "]"}], " ", "]"}], ";", 
      RowBox[{"SetDirectory", "[", 
       RowBox[{"NotebookDirectory", "[", "]"}], " ", "]"}], ";", 
      RowBox[{"Print", "[", 
       RowBox[{"Directory", "[", "]"}], " ", "]"}], ";"}], "*)"}], "\n", 
    RowBox[{"Print", "[", 
     RowBox[{"\"\<present directory: \>\"", ",", 
      RowBox[{"Directory", "[", "]"}]}], "]"}], ";"}], "\n", 
   RowBox[{
    RowBox[{"libdir", "=", "\"\<../lib/\>\""}], ";"}], "\n", 
   RowBox[{
    RowBox[{"lib1", "=", 
     RowBox[{"libdir", "<>", "\"\<pdfParsePDS2013.m\>\""}]}], ";"}], "\n", 
   RowBox[{
    RowBox[{"lib2", "=", 
     RowBox[{"libdir", "<>", "\"\<dtareadbotingw2016.m\>\""}]}], ";"}], "\n", 
   
   RowBox[{
    RowBox[{"If", "[", 
     RowBox[{
      RowBox[{"FileExistsQ", "[", "lib1", "]"}], ",", 
      RowBox[{
       RowBox[{"Print", "[", 
        RowBox[{"\"\<loading \>\"", ",", "lib1"}], "]"}], ";", 
       RowBox[{"Get", "[", "lib1", "]"}]}], ",", 
      RowBox[{"Print", "[", 
       RowBox[{
       "\"\<library file \>\"", ",", "lib1", ",", "\"\< doesn't exist\>\""}], 
       "]"}]}], " ", "]"}], ";"}], "\n", 
   RowBox[{
    RowBox[{"If", "[", 
     RowBox[{
      RowBox[{"FileExistsQ", "[", "lib2", "]"}], ",", 
      RowBox[{
       RowBox[{"Print", "[", 
        RowBox[{"\"\<loading \>\"", ",", "lib2"}], "]"}], ";", 
       RowBox[{"Get", "[", "lib2", "]"}]}], ",", 
      RowBox[{"Print", "[", 
       RowBox[{
       "\"\<library file \>\"", ",", "lib2", ",", "\"\< doesn't exist\>\""}], 
       "]"}]}], " ", "]"}], ";"}], "\n", 
   RowBox[{"(*", "\n", 
    RowBox[{
     RowBox[{"<<", "\"\<pdfParsePDS2013.m\>\""}], "\n", 
     RowBox[{"<<", "\"\<dtareadbotingw2016.m\>\""}]}], "\n", "*)"}], "\n", 
   "\n", 
   RowBox[{"(*", "\n", 
    RowBox[{
     RowBox[{"Get", "[", 
      RowBox[{"libdir", "<>", "\"\<pdfParsePDS2013.m\>\""}], "]"}], "\n", 
     RowBox[{"Get", "[", 
      RowBox[{"libdir", "<>", "\"\<dtareadbotingw2016.m\>\""}], "]"}]}], "\n",
     "*)"}]}]}]], "Input",
 InitializationCell->True,
 CellChangeTimes->CompressedData["
1:eJwd0HssFAAcB/AbpbFoCpUUStykI49SnHWbPA5Nhm6iyTQnGtGaR86MpJyl
KRyhJK+kySNq5nVXJucxbMXd5Q+P1SHLmVeq3/f++O7zx3e//baveURcwHUN
BoPhTIFmW2EXTF4rOed73T3h1DuD0tBmJWdGdkjtXVHWdm6rksOWtPyDCdWh
FkIysINnBbN3StzhjYoZTxgS5BoMdeYdedAxxr8IPjeMFEGnxZMyeK2WJYfx
y5Ouj8lx02k2nGnSHRCR9QKdL3BInHGilLxqn2wD+7W8N6vI1VmfLZhhJ8tp
JZlWNg9h3IflMThgGTgOw29HsT+SYc1+bpDZt0/eif8ShgIKtrcfdZNLVV/z
4YE/vtIecqHSfQgq2q7ESMnCTWEsjBy56ThG6lXEOsH1GsMXsDt/Qq05r2R8
ktQMq5qAT2yDDKbIlTljQ8hKv8z9TpbNp/tArrV0DYq3ytch+1as/jR5uKFg
LzTl//WybKOdhqe8oVdNlAOTNI5IdoTMAUHtaVLvpUcdHBxRuviQMq3frrCw
InVlkFxgJqqgtSDCW4q7TD4XenR/qxsmPyd01kOX9oBjY6TQiGsBA89KzkyQ
rPICZ1hQoiWTk8t8Izm0azTxV5Dn7v1Qe3Q6SwirnIbyYOPcrn51f1yl9uKz
6jTGeyWH11gmgJrFWSxtMmm/vy1UbUTx4e5EVjTcsZbUA0VHinqhxugvM13y
lFxmDku0FXw9kjE/EQ1bw1cb8khp5tIbGH5/LbeYFEhWhFBoki0WkTbelySw
2K53ppz0i5bPQvuNlH857bTTnmTGA/LtK/3kPPLOU4cUWOMWHyciuZ984+Ho
pFFaJWkpPiiAwSFDKU2koqsrFf5M7OyFvPSMPmjT37HSQi56CFXwP2RL+R4=

  "]],

Cell[CellGroupData[{

Cell[BoxData[
 InterpretationBox[
  RowBox[{"\<\"present directory: \"\>", 
   "\[InvisibleSpace]", \
"\<\"/home/botingw/Downloads/xqplotter-20171105_color_palette_fix/bin\"\>"}],
  SequenceForm[
  "present directory: ", 
   "/home/botingw/Downloads/xqplotter-20171105_color_palette_fix/bin"],
  Editable->False]], "Print",
 CellChangeTimes->{3.7192328621135902`*^9}],

Cell[BoxData[
 InterpretationBox[
  RowBox[{"\<\"loading \"\>", 
   "\[InvisibleSpace]", "\<\"../lib/pdfParsePDS2013.m\"\>"}],
  SequenceForm["loading ", "../lib/pdfParsePDS2013.m"],
  Editable->False]], "Print",
 CellChangeTimes->{3.719232862115623*^9}],

Cell[BoxData[
 InterpretationBox[
  RowBox[{"\<\"loading \"\>", 
   "\[InvisibleSpace]", "\<\"../lib/dtareadbotingw2016.m\"\>"}],
  SequenceForm["loading ", "../lib/dtareadbotingw2016.m"],
  Editable->False]], "Print",
 CellChangeTimes->{3.719232862131002*^9}]
}, Open  ]]
}, Open  ]]
}, Open  ]],

Cell[CellGroupData[{

Cell["Global variables", "Chapter"],

Cell[BoxData[
 RowBox[{
  RowBox[{"(*", 
   RowBox[{"global", " ", "variables"}], "*)"}], "\n", 
  RowBox[{"(*", 
   RowBox[{
    RowBox[{"2017.04", ".26"}], ",", " ", 
    RowBox[{"for", " ", "new", " ", "CT14NNLO"}], ",", " ", 
    RowBox[{"expid", " ", "=", " ", "245"}], ",", "246", ",", "247", ",", 
    "542", ",", 
    RowBox[{"544", " ", "added"}]}], "*)"}], "\n", 
  RowBox[{"(*", 
   RowBox[{"proton", "===", "===", "===", "===", "===", "===", "===", "=="}], 
   "*)"}], "\n", "\n", 
  RowBox[{
   RowBox[{
    RowBox[{"PDISNCl", "=", 
     RowBox[{"{", 
      RowBox[{"101", ",", "106", ",", "169"}], "}"}]}], ";"}], "\n", 
   RowBox[{
    RowBox[{"PDISNClccbar", "=", 
     RowBox[{"{", "147", "}"}]}], ";"}], "\n", 
   RowBox[{
    RowBox[{"PDISNClbbbar", "=", 
     RowBox[{"{", "145", "}"}]}], ";"}], "\n", 
   RowBox[{
    RowBox[{"PDISNClqqbar", "=", 
     RowBox[{"Flatten", "[", 
      RowBox[{"{", 
       RowBox[{"PDISNClccbar", ",", "PDISNClbbbar"}], "}"}], "]"}]}], ";"}], 
   "\n", 
   RowBox[{
    RowBox[{"PDISNC", "=", 
     RowBox[{"Flatten", "[", 
      RowBox[{"{", 
       RowBox[{"PDISNCl", ",", "PDISNClqqbar"}], "}"}], "]"}]}], ";"}], "\n", 
   "\n", 
   RowBox[{
    RowBox[{"PDISCCl1", "=", 
     RowBox[{"{", "}"}]}], ";"}], "\n", 
   RowBox[{
    RowBox[{"PDISCCl2", "=", 
     RowBox[{"{", "}"}]}], ";"}], "\n", 
   RowBox[{
    RowBox[{"PDISCC", "=", 
     RowBox[{"Flatten", "[", 
      RowBox[{"{", 
       RowBox[{"PDISCCl1", ",", "PDISCCl2"}], "}"}], "]"}]}], ";"}], "\n", 
   "\n", 
   RowBox[{
    RowBox[{"PVBPZ", "=", 
     RowBox[{
      RowBox[{"{", 
       RowBox[{"204", ",", "260", ",", "261"}], "}"}], "~", "Join", "~", 
      RowBox[{"{", "246", "}"}], "~", "Join", "~", 
      RowBox[{"{", 
       RowBox[{"247", ",", "249"}], "}"}]}]}], ";"}], 
   RowBox[{"(*", 
    RowBox[{
     RowBox[{
      RowBox[{"first", " ", "1"}], ":", " ", "pp"}], ",", " ", 
     RowBox[{
      RowBox[{"left", " ", "2"}], ":", " ", "ppbar"}]}], "*)"}], "\n", 
   RowBox[{
    RowBox[{"PVBPW", "=", 
     RowBox[{
      RowBox[{"{", 
       RowBox[{
       "241", ",", "266", ",", "267", ",", "225", ",", "227", ",", "234", ",",
         "281"}], "}"}], "~", "Join", "~", 
      RowBox[{"{", "250", "}"}]}]}], ";"}], 
   RowBox[{"(*", 
    RowBox[{
     RowBox[{
      RowBox[{"first", " ", "3"}], ":", " ", "pp"}], ",", " ", 
     RowBox[{
      RowBox[{"left", " ", "4"}], ":", " ", "ppbar"}]}], "*)"}], "\n", 
   RowBox[{
    RowBox[{"PJP", "=", 
     RowBox[{
      RowBox[{"{", 
       RowBox[{"535", ",", "538", ",", "504", ",", "514"}], "}"}], "~", 
      "Join", "~", 
      RowBox[{"{", 
       RowBox[{"542", ",", "544"}], "}"}], "~", "Join", "~", 
      RowBox[{"{", "545", "}"}]}]}], ";"}], 
   RowBox[{"(*", 
    RowBox[{
     RowBox[{
      RowBox[{"first", " ", "2"}], ":", " ", "pp"}], ",", " ", 
     RowBox[{
      RowBox[{"left", " ", "1"}], ":", " ", "ppbar"}]}], "*)"}], "\n", 
   RowBox[{
    RowBox[{"PTTBAR", "=", 
     RowBox[{"{", 
      RowBox[{"565", ",", "566", ",", "567", ",", "568"}], "}"}]}], ";"}], 
   "\n", 
   RowBox[{"(*", 
    RowBox[{
    "neutron", "===", "===", "===", "===", "===", "===", "===", "=="}], 
    "*)"}], "\[IndentingNewLine]", "\n", 
   RowBox[{
    RowBox[{"NDISNCl", "=", 
     RowBox[{"{", "}"}]}], ";"}], "\n", 
   RowBox[{
    RowBox[{"NDISNClqqbar", "=", 
     RowBox[{"{", "}"}]}], ";"}], "\n", 
   RowBox[{
    RowBox[{"NDISNC", "=", 
     RowBox[{"Flatten", "[", 
      RowBox[{"{", 
       RowBox[{"NDISNCl", ",", "NDISNClqqbar"}], "}"}], "]"}]}], ";"}], "\n", 
   "\n", 
   RowBox[{
    RowBox[{"NDISCCl1", "=", 
     RowBox[{"{", "}"}]}], ";"}], "\n", 
   RowBox[{
    RowBox[{"NDISCCl2", "=", 
     RowBox[{"{", 
      RowBox[{"124", ",", "125"}], "}"}]}], ";"}], "\n", 
   RowBox[{
    RowBox[{"NDISCC", "=", 
     RowBox[{"Flatten", "[", 
      RowBox[{"{", 
       RowBox[{"NDISCCl1", ",", "NDISCCl2"}], "}"}], "]"}]}], ";"}], "\n", 
   "\n", 
   RowBox[{
    RowBox[{"NVBPZ", "=", 
     RowBox[{"{", "}"}]}], ";"}], "\n", 
   RowBox[{
    RowBox[{"NVBPW", "=", 
     RowBox[{"{", "}"}]}], ";"}], "\n", 
   RowBox[{
    RowBox[{"NJP", "=", 
     RowBox[{"{", "}"}]}], ";"}], "\n", 
   RowBox[{"(*", 
    RowBox[{
     RowBox[{"complex", " ", "nucleus"}], "===", "===", "===", "===", "===", "===",
      "===", "=="}], "*)"}], "\n", "\n", 
   RowBox[{
    RowBox[{"hDISNCl", "=", 
     RowBox[{"{", 
      RowBox[{"102", ",", "104"}], "}"}]}], ";"}], "\n", 
   RowBox[{
    RowBox[{"hDISNClqqbar", "=", 
     RowBox[{"{", "}"}]}], ";"}], "\n", 
   RowBox[{
    RowBox[{"hDISNC", "=", 
     RowBox[{"Flatten", "[", 
      RowBox[{"{", 
       RowBox[{"hDISNCl", ",", "hDISNClqqbar"}], "}"}], "]"}]}], ";"}], "\n", 
   "\n", 
   RowBox[{
    RowBox[{"hDISCCl1", "=", 
     RowBox[{"{", 
      RowBox[{"108", ",", "109", ",", "110", ",", "111"}], "}"}]}], ";"}], 
   "\n", 
   RowBox[{
    RowBox[{"hDISCCl2", "=", 
     RowBox[{"{", 
      RowBox[{"126", ",", "127"}], "}"}]}], ";"}], "\n", 
   RowBox[{
    RowBox[{"hDISCC", "=", 
     RowBox[{"Flatten", "[", 
      RowBox[{"{", 
       RowBox[{"hDISCCl1", ",", "hDISCCl2"}], "}"}], "]"}]}], ";"}], "\n", 
   "\n", 
   RowBox[{
    RowBox[{"hVBPZ", "=", 
     RowBox[{"{", 
      RowBox[{"201", ",", "203"}], "}"}]}], ";"}], "\n", 
   RowBox[{
    RowBox[{"hVBPW", "=", 
     RowBox[{"{", "}"}]}], ";"}], "\n", 
   RowBox[{
    RowBox[{"hJP", "=", 
     RowBox[{"{", "}"}]}], ";"}], "\n", "\n", 
   RowBox[{"(*", 
    RowBox[{
     RowBox[{"combine", " ", "types"}], "===", "===", "===", "===", "===", "===",
      "===", "=="}], "*)"}], "\n", 
   RowBox[{
    RowBox[{"PDISNCCC", "=", 
     RowBox[{"{", 
      RowBox[{"159", ",", "160"}], "}"}]}], ";"}], "\n", 
   RowBox[{
    RowBox[{"PVBPWZ", "=", 
     RowBox[{
      RowBox[{"{", 
       RowBox[{"240", ",", "268"}], "}"}], "~", "Join", "~", 
      RowBox[{"{", 
       RowBox[{"245", ",", "248", ",", "250"}], "}"}]}]}], ";"}]}]}]], "Input",\

 InitializationCell->True,
 CellChangeTimes->{{3.718210212273291*^9, 3.718210220292636*^9}, {
  3.718210267842705*^9, 3.718210283675239*^9}, {3.7182104028644037`*^9, 
  3.7182104323266487`*^9}}],

Cell[BoxData[
 RowBox[{
  RowBox[{"(*", 
   RowBox[{
   "set", " ", "the", " ", "title", " ", "of", " ", "the", " ", "output", " ",
     "plots", " ", "of", " ", "processdataplotsmultiexp6percentage"}], "*)"}],
   "\n", 
  RowBox[{"(*", 
   RowBox[{
    RowBox[{"if", " ", "False"}], ",", " ", 
    RowBox[{"plots", " ", "have", " ", "no", " ", "title"}]}], "*)"}], "\n", 
  RowBox[{
   RowBox[{"PlotTitleBool", "=", "True"}], ";"}]}]], "Code"]
}, Open  ]],

Cell[CellGroupData[{

Cell["Correlation plots project", "Title"],

Cell[CellGroupData[{

Cell["data class", "Chapter"],

Cell[CellGroupData[{

Cell["atomic data class", "Section"],

Cell[CellGroupData[{

Cell["expinfo class", "Subsection"],

Cell[BoxData[
 RowBox[{"Exptinfo", "=", "\n", 
  RowBox[{"<|", "\n", 
   RowBox[{
    RowBox[{"\"\<exptid\>\"", "->", "\"\<unset\>\""}], ",", "\n", 
    RowBox[{"\"\<exptname\>\"", "->", "\"\<unset\>\""}], ",", "\n", 
    RowBox[{"\"\<feyndiagram\>\"", "->", "\"\<unset\>\""}]}], "\n", 
   "|>"}]}]], "Input",
 InitializationCell->True]
}, Open  ]],

Cell[CellGroupData[{

Cell["PDFinfo class", "Subsection"],

Cell[BoxData[
 RowBox[{"PDFinfo", "=", "\n", 
  RowBox[{"<|", "\n", 
   RowBox[{
    RowBox[{"\"\<PDFname\>\"", "->", "\"\<unset\>\""}], ",", "\n", 
    RowBox[{"\"\<PDFsetmethod\>\"", "->", "\"\<unset\>\""}], ",", "\n", 
    RowBox[{"\"\<Nset\>\"", "->", "\"\<unset\>\""}], ",", "\n", 
    RowBox[{"\"\<iset\>\"", "->", "\"\<unset\>\""}], ",", "\n", 
    RowBox[{"\"\<flavour\>\"", "->", "\"\<unset\>\""}]}], "\n", 
   "|>"}]}]], "Input",
 InitializationCell->True]
}, Open  ]],

Cell[CellGroupData[{

Cell["data class", "Subsection"],

Cell[BoxData[
 RowBox[{"Data", "=", "\n", 
  RowBox[{"<|", "\n", 
   RowBox[{
    RowBox[{"\"\<label\>\"", "->", "\"\<unset\>\""}], ",", "\n", 
    RowBox[{"\"\<data\>\"", "->", "\"\<unset\>\""}]}], "\n", 
   "|>"}]}]], "Input",
 InitializationCell->True]
}, Open  ]]
}, Open  ]],

Cell[CellGroupData[{

Cell["\<\
data class specific for .dta data, f(x,Q) data (from .pds), correlation data\
\>", "Section"],

Cell[CellGroupData[{

Cell["dtadata class", "Subsection"],

Cell[BoxData[
 RowBox[{"Dtadata", "=", "\n", 
  RowBox[{"Join", "[", "\n", 
   RowBox[{"Data", ",", "\n", 
    RowBox[{"<|", "\n", 
     RowBox[{
      RowBox[{"\"\<exptinfo\>\"", "->", "Exptinfo"}], ",", "\n", 
      RowBox[{"\"\<PDFinfo\>\"", "->", "PDFinfo"}]}], "\n", "|>"}], ",", "\n", 
    RowBox[{"(*", 
     RowBox[{"2017.01", ".16", " ", "add", " ", "raw", " ", "data"}], "*)"}], 
    "\n", 
    RowBox[{"<|", 
     RowBox[{"\"\<rawdata\>\"", "->", "\"\<unset\>\""}], "|>"}]}], "\n", 
   "]"}]}]], "Input",
 InitializationCell->True]
}, Open  ]],

Cell[CellGroupData[{

Cell["fxQdata class", "Subsection"],

Cell[BoxData[
 RowBox[{"FxQdata", "=", "\n", 
  RowBox[{"Join", "[", "\n", 
   RowBox[{"Data", ",", "\n", 
    RowBox[{"<|", "\n", 
     RowBox[{"\"\<PDFinfo\>\"", "->", "PDFinfo"}], "\n", "|>"}]}], "\n", 
   "]"}]}]], "Input",
 InitializationCell->True]
}, Open  ]],

Cell[CellGroupData[{

Cell["fxQsameptdata class", "Subsection"],

Cell[BoxData[
 RowBox[{"FxQsameptdata", "=", "\n", 
  RowBox[{"Join", "[", "\n", 
   RowBox[{"Data", ",", "\n", 
    RowBox[{"<|", "\n", 
     RowBox[{
      RowBox[{"\"\<exptinfo\>\"", "->", "Exptinfo"}], ",", "\n", 
      RowBox[{"\"\<PDFinfo\>\"", "->", "PDFinfo"}]}], "\n", "|>"}]}], "\n", 
   "]"}]}]], "Input",
 InitializationCell->True]
}, Open  ]],

Cell[CellGroupData[{

Cell["corrdata class", "Subsection"],

Cell[BoxData[
 RowBox[{"Corrdata", "=", "\n", 
  RowBox[{"Join", "[", "\n", 
   RowBox[{"Data", ",", "\n", 
    RowBox[{"<|", "\n", 
     RowBox[{"\"\<PDFinfo\>\"", "->", "PDFinfo"}], "\n", "|>"}]}], "\n", 
   "]"}]}]], "Input",
 InitializationCell->True]
}, Open  ]],

Cell[CellGroupData[{

Cell["corrsameptdata class", "Subsection"],

Cell[BoxData[
 RowBox[{"Corrsameptdata", "=", "\n", 
  RowBox[{"Join", "[", "\n", 
   RowBox[{"Data", ",", "\n", 
    RowBox[{"<|", "\n", 
     RowBox[{
      RowBox[{"\"\<exptinfo\>\"", "->", "Exptinfo"}], ",", "\n", 
      RowBox[{"\"\<PDFinfo\>\"", "->", "PDFinfo"}]}], "\n", "|>"}]}], "\n", 
   "]"}]}]], "Input",
 InitializationCell->True]
}, Open  ]],

Cell[CellGroupData[{

Cell["datamethods class", "Subsection"],

Cell[BoxData[
 RowBox[{
  RowBox[{"(*", 
   RowBox[{
    RowBox[{"datain", "=", 
     RowBox[{"{", 
      RowBox[{
       RowBox[{"LF", "[", "a1__", "]"}], ",", 
       RowBox[{"LF", "[", "a2__", "]"}], ",", "..."}], "}"}]}], ",", " ", 
    RowBox[{"dataadd", "=", 
     RowBox[{"{", 
      RowBox[{
       RowBox[{"LF", "[", "b1__", "]"}], ",", 
       RowBox[{"LF", "[", "b2__", "]"}], ",", "..."}], "}"}]}], ",", " ", 
    RowBox[{
    "length", " ", "of", " ", "two", " ", "data", " ", "are", " ", "the", " ",
      "same"}]}], "*)"}], "\n", 
  RowBox[{"(*", 
   RowBox[{"output", ":", " ", 
    RowBox[{"{", 
     RowBox[{
      RowBox[{"LF", "[", 
       RowBox[{"a1__", ",", "b1__"}], "]"}], ",", 
      RowBox[{"LF", "[", 
       RowBox[{"a2__", ",", "b2__"}], "]"}], ",", "..."}], "}"}]}], "*)"}], 
  "\n", 
  RowBox[{
   RowBox[{
    RowBox[{
     RowBox[{"LFadd", "[", 
      RowBox[{"datain_", ",", "dataaddin_"}], "]"}], ":=", "\n", 
     RowBox[{"Module", "[", 
      RowBox[{
       RowBox[{"{", 
        RowBox[{
         RowBox[{"data", "=", "datain"}], ",", 
         RowBox[{"dataadd", "=", "dataaddin"}], ",", "Npt", ",", "Nptadd"}], 
        "}"}], ",", "\n", 
       RowBox[{
        RowBox[{"Npt", "=", 
         RowBox[{"Length", "[", "datain", "]"}]}], ";", "\n", 
        RowBox[{"Nptadd", "=", 
         RowBox[{"Length", "[", "dataaddin", "]"}]}], ";", "\n", 
        RowBox[{"If", "[", 
         RowBox[{
          RowBox[{"Npt", "!=", "Nptadd"}], ",", 
          RowBox[{
           RowBox[{
           "Print", "[", 
            "\"\<error, #points of data & added data are different\>\"", 
            "]"}], ";", 
           RowBox[{"(*", 
            RowBox[{"Return", "[", "0", "]"}], "*)"}], 
           RowBox[{"Abort", "[", "]"}]}]}], " ", "]"}], ";", "\n", 
        RowBox[{"Join", "[", 
         RowBox[{"data", ",", "dataadd", ",", "2"}], "]"}]}]}], "\n", "]"}]}],
     ";"}], "\n", "\n", 
   RowBox[{"(*", 
    RowBox[{"pick", " ", "specific", " ", "elements", " ", "in", " ", "LF"}], 
    "*)"}], "\n", 
   RowBox[{"(*", 
    RowBox[{"ex", ":", 
     RowBox[{
      RowBox[{"LFpick", "[", 
       RowBox[{"test1", ",", 
        RowBox[{"{", 
         RowBox[{"1", ",", "3", ",", "5"}], "}"}]}], "]"}], " ", "output", 
      " ", 
      RowBox[{"LF", "[", 
       RowBox[{
        RowBox[{
         RowBox[{"{", "a", "}"}], "[", 
         RowBox[{"[", "1", "]"}], "]"}], ",", 
        RowBox[{
         RowBox[{"{", "a", "}"}], "[", 
         RowBox[{"[", "3", "]"}], "]"}], ",", 
        RowBox[{
         RowBox[{"{", "a", "}"}], "[", 
         RowBox[{"[", "5", "]"}], "]"}]}], " ", "]"}]}]}], "*)"}], "\n", 
   RowBox[{
    RowBox[{"LFpick", "[", 
     RowBox[{"datain_", ",", "picklistin_"}], "]"}], ":=", "\n", 
    RowBox[{"Module", "[", 
     RowBox[{
      RowBox[{"{", 
       RowBox[{
        RowBox[{"data", "=", "datain"}], ",", 
        RowBox[{"picklist", "=", "picklistin"}]}], "}"}], ",", "\n", 
      RowBox[{
       RowBox[{"Llist", "=", 
        RowBox[{"Length", "[", "picklist", "]"}]}], ";", "\n", 
       RowBox[{"data", "=", 
        RowBox[{"data", "/.", 
         RowBox[{
          RowBox[{"LF", "[", "a__", "]"}], ":>", 
          RowBox[{"Apply", "[", 
           RowBox[{"LF", ",", 
            RowBox[{"Table", "[", 
             RowBox[{
              RowBox[{
               RowBox[{"{", "a", "}"}], "[", 
               RowBox[{"[", 
                RowBox[{"picklist", "[", 
                 RowBox[{"[", "i", "]"}], "]"}], " ", "]"}], "]"}], ",", 
              RowBox[{"{", 
               RowBox[{"i", ",", "1", ",", "Llist"}], "}"}]}], "]"}]}], " ", 
           "]"}]}]}]}], ";", "\n", "data"}]}], "\n", "]"}]}], "\n", "\n", 
   RowBox[{"(*", 
    RowBox[{
    "apply", " ", "Take", " ", "rule", " ", "on", " ", "all", " ", "LF", " ", 
     "elements"}], "*)"}], "\n", 
   RowBox[{
    RowBox[{"LFtake", "[", 
     RowBox[{"datain_", ",", "takelistin_"}], "]"}], ":=", "\n", 
    RowBox[{"Module", "[", 
     RowBox[{
      RowBox[{"{", 
       RowBox[{
        RowBox[{"data", "=", "datain"}], ",", 
        RowBox[{"takelist", "=", "takelistin"}]}], "}"}], ",", "\n", "\n", 
      RowBox[{
       RowBox[{"data", "=", 
        RowBox[{"data", "/.", 
         RowBox[{
          RowBox[{"LF", "[", "a__", "]"}], ":>", 
          RowBox[{"Apply", "[", 
           RowBox[{"LF", ",", 
            RowBox[{"Take", "[", 
             RowBox[{
              RowBox[{"{", "a", "}"}], ",", "takelist"}], "]"}]}], " ", 
           "]"}]}]}]}], ";", "\n", "data"}]}], "\n", "]"}]}], "\n", "\n", 
   RowBox[{"(*", 
    RowBox[{
    "apply", " ", "Delete", " ", "rule", " ", "on", " ", "all", " ", "LF", 
     " ", "elements"}], "*)"}], "\n", 
   RowBox[{
    RowBox[{"LFdelete", "[", 
     RowBox[{"datain_", ",", "deletelistin_"}], "]"}], ":=", "\n", 
    RowBox[{"Module", "[", 
     RowBox[{
      RowBox[{"{", 
       RowBox[{
        RowBox[{"data", "=", "datain"}], ",", 
        RowBox[{"deletelist", "=", "deletelistin"}]}], "}"}], ",", "\n", "\n", 
      RowBox[{
       RowBox[{"data", "=", 
        RowBox[{"data", "/.", 
         RowBox[{
          RowBox[{"LF", "[", "a__", "]"}], ":>", 
          RowBox[{"Apply", "[", 
           RowBox[{"LF", ",", 
            RowBox[{"Delete", "[", 
             RowBox[{
              RowBox[{"{", "a", "}"}], ",", "deletelist"}], "]"}]}], " ", 
           "]"}]}]}]}], ";", "\n", "data"}]}], "\n", "]"}]}], "\n", "\n", 
   RowBox[{"(*", 
    RowBox[{"transf", " ", "all", " ", 
     RowBox[{"LF", "[", "...", "]"}], " ", "in", " ", "data", " ", "to", " ", 
     "List"}], "*)"}], "\n", 
   RowBox[{
    RowBox[{"LFtolist", "[", "datain_", "]"}], ":=", "\n", 
    RowBox[{"Module", "[", 
     RowBox[{
      RowBox[{"{", 
       RowBox[{"data", "=", "datain"}], "}"}], ",", "\n", "\n", 
      RowBox[{
       RowBox[{"data", "=", 
        RowBox[{"data", "/.", 
         RowBox[{"LF", ":>", "List"}]}]}], ";", "\n", "data"}]}], "\n", 
     "]"}]}], "\n", "\n", 
   RowBox[{"(*", 
    RowBox[{
    "pick", " ", "columns", " ", "of", " ", "data", " ", "to", " ", "list"}], 
    "*)"}], "\n", 
   RowBox[{"(*", "\n", 
    RowBox[{
     RowBox[{
      RowBox[{"ex", ":", " ", 
       RowBox[{
        RowBox[{"LFpicktoList", "[", 
         RowBox[{"data", ",", 
          RowBox[{"{", 
           RowBox[{"3", ",", "1"}], "}"}]}], "]"}], " ", "output", " ", 
        RowBox[{"{", 
         RowBox[{"x3list", ",", "x1list"}], "}"}], "\n", "x3list"}]}], " ", 
      "=", " ", 
      RowBox[{"{", 
       RowBox[{
        RowBox[{"LF", "[", 
         RowBox[{"[", "3", "]"}], "]"}], ",", 
        RowBox[{"LF", "[", 
         RowBox[{"[", "3", "]"}], "]"}], ",", "..."}], "}"}]}], ",", " ", 
     RowBox[{"the", " ", "same", " ", "for", " ", "x1list"}]}], "\n", "*)"}], 
   "\n", 
   RowBox[{
    RowBox[{"LFpicktolist", "[", 
     RowBox[{"datain_", ",", "picklistin_"}], "]"}], ":=", "\n", 
    RowBox[{"Module", "[", 
     RowBox[{
      RowBox[{"{", 
       RowBox[{
        RowBox[{"data", "=", "datain"}], ",", 
        RowBox[{"picklist", "=", "picklistin"}]}], "}"}], ",", "\n", 
      RowBox[{
       RowBox[{"Llist", "=", 
        RowBox[{"Length", "[", "picklist", "]"}]}], ";", "\n", 
       RowBox[{"data", "=", 
        RowBox[{"data", "/.", 
         RowBox[{
          RowBox[{"LF", "[", "a__", "]"}], ":>", 
          RowBox[{"Table", "[", 
           RowBox[{
            RowBox[{
             RowBox[{"{", "a", "}"}], "[", 
             RowBox[{"[", 
              RowBox[{"picklist", "[", 
               RowBox[{"[", "i", "]"}], "]"}], " ", "]"}], "]"}], ",", 
            RowBox[{"{", 
             RowBox[{"i", ",", "1", ",", "Llist"}], "}"}]}], "]"}]}]}]}], ";",
        "\n", 
       RowBox[{"(*", 
        RowBox[{"transpose", " ", 
         RowBox[{"from", " ", "[", 
          RowBox[{"[", 
           RowBox[{"Npt", ",", "xi"}], "]"}], "]"}], " ", 
         RowBox[{"to", " ", "[", 
          RowBox[{"[", 
           RowBox[{"xi", ",", "Npt"}], "]"}], "]"}]}], " ", "*)"}], "\n", 
       RowBox[{"data", "=", 
        RowBox[{"Transpose", "[", 
         RowBox[{"data", ",", 
          RowBox[{"{", 
           RowBox[{"2", ",", "1"}], "}"}]}], "]"}]}], ";", "\n", "\n", 
       "data"}]}], "\n", "]"}]}]}]}]], "Input",
 InitializationCell->True],

Cell[BoxData[""], "Input",
 InitializationCell->True],

Cell[BoxData[
 RowBox[{
  RowBox[{"Datamethods", "=", "\n", 
   RowBox[{"<|", "\n", 
    RowBox[{
     RowBox[{"\"\<getdatainfo\>\"", "->", "\n", 
      RowBox[{"Function", "[", 
       RowBox[{
        RowBox[{"{", "dataclass", "}"}], ",", "\n", 
        RowBox[{
         RowBox[{"keys", "=", 
          RowBox[{"Keys", "[", "dataclass", "]"}]}], ";", "\n", 
         RowBox[{"Table", "[", "\n", 
          RowBox[{
           RowBox[{"If", "[", 
            RowBox[{
             RowBox[{
              RowBox[{"keys", "[", 
               RowBox[{"[", "i", "]"}], "]"}], "!=", " ", "\"\<data\>\""}], 
             ",", 
             RowBox[{"Print", "[", 
              RowBox[{
               RowBox[{"keys", "[", 
                RowBox[{"[", "i", "]"}], "]"}], ",", "\"\<:\\n\>\"", ",", 
               RowBox[{"dataclass", "[", 
                RowBox[{"[", 
                 RowBox[{"keys", "[", 
                  RowBox[{"[", "i", "]"}], "]"}], " ", "]"}], "]"}]}], " ", 
              "]"}]}], " ", "]"}], ",", "\n", 
           RowBox[{"{", 
            RowBox[{"i", ",", "1", ",", 
             RowBox[{"Length", "[", "keys", "]"}]}], "}"}]}], "]"}]}]}], "\n",
        "]"}]}], ",", "\n", 
     RowBox[{"\"\<getdata\>\"", "->", 
      RowBox[{"Function", "[", 
       RowBox[{"data", ",", 
        RowBox[{"data", "[", 
         RowBox[{"[", "\"\<data\>\"", "]"}], "]"}]}], " ", "]"}]}], ",", "\n", 
     RowBox[{"\"\<setdata\>\"", "->", 
      RowBox[{"Function", "[", 
       RowBox[{
        RowBox[{"{", 
         RowBox[{"dataclass", ",", "datain"}], "}"}], ",", 
        RowBox[{
         RowBox[{"dataclass", "[", 
          RowBox[{"[", "\"\<data\>\"", "]"}], "]"}], "=", "datain"}]}], " ", 
       "]"}]}], ",", "\n", 
     RowBox[{"\"\<getNpt\>\"", "->", 
      RowBox[{"Function", "[", 
       RowBox[{"data", ",", 
        RowBox[{"Length", "[", 
         RowBox[{"data", "[", 
          RowBox[{"[", "\"\<data\>\"", "]"}], "]"}], " ", "]"}]}], " ", 
       "]"}]}], ",", "\n", 
     RowBox[{"\"\<getNcolumn\>\"", "->", 
      RowBox[{"Function", "[", 
       RowBox[{"data", ",", 
        RowBox[{"Length", "[", 
         RowBox[{
          RowBox[{"data", "[", 
           RowBox[{"[", "\"\<data\>\"", "]"}], "]"}], "[", 
          RowBox[{"[", "1", "]"}], "]"}], " ", "]"}]}], " ", "]"}]}], ",", 
     "\n", 
     RowBox[{"(*", "\n", 
      RowBox[{
       RowBox[{"\"\<getxQ\>\"", "->", "\"\<unset\>\""}], ","}], "\n", "*)"}], 
     "\n", 
     RowBox[{"\"\<getdatalabel\>\"", "->", 
      RowBox[{"Function", "[", 
       RowBox[{
        RowBox[{"{", "dataclass", "}"}], ",", 
        RowBox[{"dataclass", "[", 
         RowBox[{"[", "\"\<label\>\"", "]"}], "]"}]}], " ", "]"}]}], ",", 
     "\n", 
     RowBox[{"\"\<add\>\"", "->", "\n", 
      RowBox[{"Function", "[", 
       RowBox[{
        RowBox[{"{", 
         RowBox[{"dataclassin", ",", "dataaddin", ",", "labeladdin"}], "}"}], 
        ",", "\n", 
        RowBox[{"Module", "[", 
         RowBox[{
          RowBox[{"{", 
           RowBox[{
            RowBox[{"dataclass", "=", "dataclassin"}], ",", 
            RowBox[{"dataadd", "=", "dataaddin"}], ",", 
            RowBox[{"labeladd", "=", "labeladdin"}]}], "}"}], ",", "\n", 
          RowBox[{"(*", "\n", 
           RowBox[{
            RowBox[{"If", "[", 
             RowBox[{
              RowBox[{
               RowBox[{"Dimensions", "[", 
                RowBox[{"dataclass", "[", 
                 RowBox[{"[", "\"\<data\>\"", "]"}], "]"}], " ", "]"}], "!=", 
               
               RowBox[{"Dimensions", "[", "dataadd", "]"}]}], ",", 
              RowBox[{
               RowBox[{
               "Print", "[", 
                "\"\<error, dimension of data & added data are different\>\"",
                 "]"}], ";", 
               RowBox[{"Return", "[", "0", "]"}]}]}], " ", "]"}], ";", "\n", 
            RowBox[{"If", "[", 
             RowBox[{
              RowBox[{
               RowBox[{"Dimensions", "[", 
                RowBox[{"dataclass", "[", 
                 RowBox[{"[", "\"\<label\>\"", "]"}], "]"}], " ", "]"}], "!=", 
               RowBox[{"Dimensions", "[", "labeladd", "]"}]}], ",", 
              RowBox[{
               RowBox[{
               "Print", "[", 
                "\"\<error, dimension of label & added label are \
different\>\"", "]"}], 
               RowBox[{"Return", "[", "0", "]"}]}]}], " ", "]"}], ";"}], "\n",
            "*)"}], "\n", 
          RowBox[{
           RowBox[{
            RowBox[{"dataclass", "[", 
             RowBox[{"[", "\"\<label\>\"", "]"}], "]"}], "=", 
            RowBox[{"Join", "[", 
             RowBox[{
              RowBox[{"dataclass", "[", 
               RowBox[{"[", "\"\<label\>\"", "]"}], "]"}], ",", "labeladd"}], 
             "]"}]}], ";", "\n", 
           RowBox[{
            RowBox[{"dataclass", "[", 
             RowBox[{"[", "\"\<data\>\"", "]"}], "]"}], "=", 
            RowBox[{"LFadd", "[", 
             RowBox[{
              RowBox[{"dataclass", "[", 
               RowBox[{"[", "\"\<data\>\"", "]"}], "]"}], ",", "dataadd"}], 
             "]"}]}], ";", "\n", "dataclass"}]}], "\n", 
         RowBox[{"(*", "\n", 
          RowBox[{
           RowBox[{
            RowBox[{"dataclass", "[", 
             RowBox[{"[", "\"\<label\>\"", "]"}], "]"}], "=", 
            RowBox[{"Join", "[", 
             RowBox[{
              RowBox[{"dataclass", "[", 
               RowBox[{"[", "\"\<label\>\"", "]"}], "]"}], ",", "labeladd"}], 
             "]"}]}], ";", "\n", "dataclass"}], "\n", "*)"}], "\n", "]"}]}], 
       "\n", "]"}]}], ",", "\n", 
     RowBox[{"\"\<pick\>\"", "->", "\n", 
      RowBox[{"Function", "[", 
       RowBox[{
        RowBox[{"{", 
         RowBox[{"dataclassin", ",", "picklistin"}], "}"}], ",", "\n", 
        RowBox[{"Module", "[", 
         RowBox[{
          RowBox[{"{", 
           RowBox[{
            RowBox[{"dataclass", "=", "dataclassin"}], ",", 
            RowBox[{"picklist", "=", "picklistin"}]}], "}"}], ",", "\n", 
          RowBox[{"(*", 
           RowBox[{"change", " ", "data"}], "*)"}], "\n", 
          RowBox[{
           RowBox[{
            RowBox[{"dataclass", "[", 
             RowBox[{"[", "\"\<data\>\"", "]"}], "]"}], "=", 
            RowBox[{"LFpick", "[", 
             RowBox[{
              RowBox[{"dataclass", "[", 
               RowBox[{"[", "\"\<data\>\"", "]"}], "]"}], ",", "picklist"}], 
             "]"}]}], ";", "\n", 
           RowBox[{"(*", 
            RowBox[{
             RowBox[{"change", " ", "data", " ", "label"}], ",", " ", 
             RowBox[{
             "transf", " ", "Head", " ", "of", " ", "it", " ", "to", " ", 
              "LF"}], ",", " ", 
             RowBox[{
             "do", " ", "the", " ", "same", " ", "thing", " ", "as", " ", 
              "what", " ", "you", " ", "do", " ", "on", " ", "data"}], ",", 
             " ", 
             RowBox[{
             "then", " ", "transf", " ", "back", " ", "to", " ", "List"}]}], 
            "*)"}], "\n", 
           RowBox[{
            RowBox[{"dataclass", "[", 
             RowBox[{"[", "\"\<label\>\"", "]"}], "]"}], "=", 
            RowBox[{"LFpick", "[", 
             RowBox[{
              RowBox[{"Apply", "[", 
               RowBox[{"LF", ",", 
                RowBox[{"dataclass", "[", 
                 RowBox[{"[", "\"\<label\>\"", "]"}], "]"}]}], " ", "]"}], 
              ",", "picklist"}], "]"}]}], ";", "\n", 
           RowBox[{
            RowBox[{"dataclass", "[", 
             RowBox[{"[", "\"\<label\>\"", "]"}], "]"}], "=", 
            RowBox[{"Apply", "[", 
             RowBox[{"List", ",", 
              RowBox[{"dataclass", "[", 
               RowBox[{"[", "\"\<label\>\"", "]"}], "]"}]}], " ", "]"}]}], 
           ";", "\n", "\n", "dataclass"}]}], "\n", "]"}]}], "\n", "]"}]}], 
     ",", "\n", 
     RowBox[{"\"\<take\>\"", "->", "\n", 
      RowBox[{"Function", "[", 
       RowBox[{
        RowBox[{"{", 
         RowBox[{"dataclassin", ",", "takelistin"}], "}"}], ",", "\n", 
        RowBox[{"Module", "[", 
         RowBox[{
          RowBox[{"{", 
           RowBox[{
            RowBox[{"dataclass", "=", "dataclassin"}], ",", 
            RowBox[{"takelist", "=", "takelistin"}]}], "}"}], ",", "\n", 
          RowBox[{"(*", 
           RowBox[{"change", " ", "data"}], "*)"}], "\n", 
          RowBox[{
           RowBox[{
            RowBox[{"dataclass", "[", 
             RowBox[{"[", "\"\<data\>\"", "]"}], "]"}], "=", 
            RowBox[{"LFtake", "[", 
             RowBox[{
              RowBox[{"dataclass", "[", 
               RowBox[{"[", "\"\<data\>\"", "]"}], "]"}], ",", "takelist"}], 
             "]"}]}], ";", "\n", 
           RowBox[{"(*", 
            RowBox[{
             RowBox[{"change", " ", "data", " ", "label"}], ",", " ", 
             RowBox[{
             "transf", " ", "Head", " ", "of", " ", "data", " ", "label", " ",
               "to", " ", "LF"}], ",", " ", 
             RowBox[{
             "do", " ", "the", " ", "same", " ", "thing", " ", "as", " ", 
              "what", " ", "you", " ", "do", " ", "on", " ", "data"}], ",", 
             " ", 
             RowBox[{
             "then", " ", "transf", " ", "back", " ", "to", " ", "List"}]}], 
            "*)"}], "\n", 
           RowBox[{
            RowBox[{"dataclass", "[", 
             RowBox[{"[", "\"\<label\>\"", "]"}], "]"}], "=", 
            RowBox[{"LFtake", "[", 
             RowBox[{
              RowBox[{"Apply", "[", 
               RowBox[{"LF", ",", 
                RowBox[{"dataclass", "[", 
                 RowBox[{"[", "\"\<label\>\"", "]"}], "]"}]}], " ", "]"}], 
              ",", "takelist"}], "]"}]}], ";", "\n", 
           RowBox[{
            RowBox[{"dataclass", "[", 
             RowBox[{"[", "\"\<label\>\"", "]"}], "]"}], "=", 
            RowBox[{"Apply", "[", 
             RowBox[{"List", ",", 
              RowBox[{"dataclass", "[", 
               RowBox[{"[", "\"\<label\>\"", "]"}], "]"}]}], " ", "]"}]}], 
           ";", "\n", "\n", "dataclass"}]}], "\n", "]"}]}], "\n", "]"}]}], 
     ",", "\n", 
     RowBox[{"\"\<delete\>\"", "->", "\n", 
      RowBox[{"Function", "[", 
       RowBox[{
        RowBox[{"{", 
         RowBox[{"dataclassin", ",", "deletelistin"}], "}"}], ",", "\n", 
        RowBox[{"Module", "[", 
         RowBox[{
          RowBox[{"{", 
           RowBox[{
            RowBox[{"dataclass", "=", "dataclassin"}], ",", 
            RowBox[{"deletelist", "=", "deletelistin"}]}], "}"}], ",", "\n", 
          RowBox[{"(*", 
           RowBox[{"change", " ", "data"}], "*)"}], "\n", 
          RowBox[{
           RowBox[{
            RowBox[{"dataclass", "[", 
             RowBox[{"[", "\"\<data\>\"", "]"}], "]"}], "=", 
            RowBox[{"LFdelete", "[", 
             RowBox[{
              RowBox[{"dataclass", "[", 
               RowBox[{"[", "\"\<data\>\"", "]"}], "]"}], ",", "deletelist"}],
              "]"}]}], ";", "\n", 
           RowBox[{"(*", 
            RowBox[{
             RowBox[{"change", " ", "data", " ", "label"}], ",", " ", 
             RowBox[{
             "transf", " ", "Head", " ", "of", " ", "data", " ", "label", " ",
               "to", " ", "LF"}], ",", " ", 
             RowBox[{
             "do", " ", "the", " ", "same", " ", "thing", " ", "as", " ", 
              "what", " ", "you", " ", "do", " ", "on", " ", "data"}], ",", 
             " ", 
             RowBox[{
             "then", " ", "transf", " ", "back", " ", "to", " ", "List"}]}], 
            "*)"}], "\n", 
           RowBox[{
            RowBox[{"dataclass", "[", 
             RowBox[{"[", "\"\<label\>\"", "]"}], "]"}], "=", 
            RowBox[{"LFdelete", "[", 
             RowBox[{
              RowBox[{"Apply", "[", 
               RowBox[{"LF", ",", 
                RowBox[{"dataclass", "[", 
                 RowBox[{"[", "\"\<label\>\"", "]"}], "]"}]}], " ", "]"}], 
              ",", "deletelist"}], "]"}]}], ";", "\n", 
           RowBox[{
            RowBox[{"dataclass", "[", 
             RowBox[{"[", "\"\<label\>\"", "]"}], "]"}], "=", 
            RowBox[{"Apply", "[", 
             RowBox[{"List", ",", 
              RowBox[{"dataclass", "[", 
               RowBox[{"[", "\"\<label\>\"", "]"}], "]"}]}], " ", "]"}]}], 
           ";", "\n", "\n", "dataclass"}]}], "\n", "]"}]}], "\n", "]"}]}], 
     ",", "\n", 
     RowBox[{"\"\<tolist\>\"", "->", "\n", 
      RowBox[{"Function", "[", 
       RowBox[{
        RowBox[{"{", "dataclassin", "}"}], ",", "\n", 
        RowBox[{"Module", "[", 
         RowBox[{
          RowBox[{"{", 
           RowBox[{"dataclass", "=", "dataclassin"}], "}"}], ",", "\n", 
          RowBox[{"(*", 
           RowBox[{"change", " ", "data"}], "*)"}], "\n", 
          RowBox[{
           RowBox[{
            RowBox[{"dataclass", "[", 
             RowBox[{"[", "\"\<data\>\"", "]"}], "]"}], "=", 
            RowBox[{
             RowBox[{"dataclass", "[", 
              RowBox[{"[", "\"\<data\>\"", "]"}], "]"}], "/.", 
             RowBox[{"LF", ":>", "List"}]}]}], ";", "\n", "\n", 
           RowBox[{"dataclass", "[", 
            RowBox[{"[", "\"\<data\>\"", "]"}], "]"}]}]}], "\n", "]"}]}], 
       "\n", "]"}]}], ",", 
     RowBox[{"(*", 
      RowBox[{"LFpicktoList", "[", 
       RowBox[{"datain_", ",", "picklistin_"}], "]"}], "*)"}], "\n", 
     RowBox[{"\"\<picktolist\>\"", "->", "\n", 
      RowBox[{"Function", "[", 
       RowBox[{
        RowBox[{"{", 
         RowBox[{"dataclassin", ",", "picklistin"}], "}"}], ",", "\n", 
        RowBox[{"Module", "[", 
         RowBox[{
          RowBox[{"{", 
           RowBox[{
            RowBox[{"dataclass", "=", "dataclassin"}], ",", 
            RowBox[{"picklist", "=", "picklistin"}]}], "}"}], ",", "\n", 
          RowBox[{"(*", 
           RowBox[{"change", " ", "data"}], "*)"}], "\n", 
          RowBox[{
           RowBox[{
            RowBox[{"dataclass", "[", 
             RowBox[{"[", "\"\<data\>\"", "]"}], "]"}], "=", 
            RowBox[{"LFpicktolist", "[", 
             RowBox[{
              RowBox[{"dataclass", "[", 
               RowBox[{"[", "\"\<data\>\"", "]"}], "]"}], ",", "picklist"}], 
             "]"}]}], ";", "\n", "\n", 
           RowBox[{"dataclass", "[", 
            RowBox[{"[", "\"\<data\>\"", "]"}], "]"}]}]}], "\n", "]"}]}], 
       "\n", "]"}]}], ",", "\n", 
     RowBox[{"(*", "\n", 
      RowBox[{
       RowBox[{"\"\<reorder\>\"", "->", "\"\<unset\>\""}], ",", "\n", 
       RowBox[{"\"\<extract\>\"", "->", "\"\<unset\>\""}], ","}], "\n", 
      "*)"}], "\n", 
     RowBox[{"(*", 
      RowBox[{
       RowBox[{"2017.01", ".16"}], ":", " ", 
       RowBox[{
       "discard", " ", "dtaread2016boting`Private`", " ", "from", " ", 
        "dtaread2016boting`Private`LF"}]}], "*)"}], "\n", 
     RowBox[{"\"\<LFglobal\>\"", "->", "\n", 
      RowBox[{"Function", "[", 
       RowBox[{
        RowBox[{"{", "dataclassin", "}"}], ",", "\n", 
        RowBox[{"Module", "[", 
         RowBox[{
          RowBox[{"{", 
           RowBox[{"dataclass", "=", "dataclassin"}], "}"}], ",", "\n", 
          RowBox[{"(*", 
           RowBox[{"change", " ", "data"}], "*)"}], "\n", 
          RowBox[{
           RowBox[{
            RowBox[{"dataclass", "[", 
             RowBox[{"[", "\"\<data\>\"", "]"}], "]"}], "=", 
            RowBox[{
             RowBox[{"dataclass", "[", 
              RowBox[{"[", "\"\<data\>\"", "]"}], "]"}], "/.", 
             RowBox[{"dtaread2016boting`Private`LF", " ", "->", "LF"}]}]}], 
           ";", "\n", "dataclass"}]}], "\n", "]"}]}], "\n", "]"}]}]}], "\n", 
    "|>"}]}], "\n"}]], "Code"]
}, Open  ]]
}, Open  ]]
}, Open  ]],

Cell[CellGroupData[{

Cell[".dta data class", "Chapter"],

Cell[CellGroupData[{

Cell["read .dta file into format of dtadata class", "Section"],

Cell[CellGroupData[{

Cell["readdtafile class", "Subsection"],

Cell[BoxData[
 RowBox[{
  RowBox[{"(*", 
   RowBox[{
    RowBox[{"test", " ", 
     RowBox[{"function", ":", " ", 
      RowBox[{"read", " ", "explist"}]}]}], ",", " ", 
    RowBox[{
    "save", " ", "exp", " ", "data", " ", "with", " ", "the", " ", "same", 
     " ", "exptid", " ", "into", " ", "\"\<exptdata\>\""}]}], "*)"}], "\n", 
  RowBox[{
   RowBox[{
    RowBox[{"readexptsbydta", "[", 
     RowBox[{"dtaDirin_", ",", "explistin_"}], "]"}], ":=", "\n", 
    RowBox[{"Module", "[", 
     RowBox[{
      RowBox[{"{", 
       RowBox[{
        RowBox[{"dtaDir", "=", "dtaDirin"}], ",", 
        RowBox[{"explist", "=", "explistin"}], ",", "residuetmp", ",", 
        "dtafiles", ",", "exptdata", ",", "Nset", ",", "Nexpt"}], "}"}], ",", 
      "\n", 
      RowBox[{"(*", 
       RowBox[{"get", " ", 
        RowBox[{"all", " ", ".", "dta"}], " ", "files", " ", "under", " ", 
        "dtaDir"}], "*)"}], "\n", 
      RowBox[{
       RowBox[{"dtafiles", "=", 
        RowBox[{"FileNames", "[", 
         RowBox[{"dtaDir", "<>", "\"\<*dta\>\""}], "]"}]}], ";", "\n", "\n", 
       RowBox[{"(*", 
        RowBox[{"read", " ", "all", " ", "data", " ", 
         RowBox[{"from", " ", ".", "dta"}], " ", "files"}], "*)"}], "\n", 
       RowBox[{"residuetmp", "=", "\n", 
        RowBox[{"Table", "[", "\n", 
         RowBox[{
          RowBox[{"ReadExptTable", "[", 
           RowBox[{
            RowBox[{"dtafiles", "[", 
             RowBox[{"[", "f", "]"}], "]"}], ",", "\"\<ct2016\>\""}], "]"}], 
          ",", "\n", 
          RowBox[{"(*", "\n", 
           RowBox[{
            RowBox[{"makeobsdataset", "[", 
             RowBox[{
              RowBox[{"ReadExptTable", "[", 
               RowBox[{
                RowBox[{"dtafiles", "[", 
                 RowBox[{"[", "f", "]"}], "]"}], ",", "\"\<ct2016\>\""}], 
               "]"}], ",", "Nexp", ",", "\"\<dummy\>\"", ",", "obs"}], "]"}], 
            " ", ","}], 
           RowBox[{"(*", 
            RowBox[{
             RowBox[{"//", "Flatten"}], ","}], "*)"}], "\n", "*)"}], "\n", 
          RowBox[{"{", 
           RowBox[{"f", ",", "1", ",", 
            RowBox[{"Length", "[", "dtafiles", "]"}]}], "}"}]}], "\n", 
         "]"}]}], ";", "\n", "\n", 
       RowBox[{"Dimensions", "[", "residuetmp", "]"}], ";", "\n", 
       RowBox[{"(*", "\n", 
        RowBox[{
         RowBox[{
          RowBox[{"residuetmp", "[", 
           RowBox[{"[", 
            RowBox[{"1", ",", "10", ",", "7"}], "]"}], "]"}], "\n", 
          RowBox[{"residuetmp", "[", 
           RowBox[{"[", 
            RowBox[{"1", ",", "10", ",", "7"}], "]"}], "]"}]}], "/.", 
         RowBox[{"dtaread2016boting`Private`LF", "\[RuleDelayed]", "List"}]}],
         "\n", "*)"}], "\n", "\n", 
       RowBox[{"(*", 
        RowBox[{
        "variable", " ", "to", " ", "save", " ", "data", " ", "we", " ", 
         "want", " ", 
         RowBox[{"(", 
          RowBox[{"in", " ", "explist"}], ")"}]}], "*)"}], "\n", 
       RowBox[{"exptdata", "=", 
        RowBox[{"{", "}"}]}], ";", "\n", 
       RowBox[{"(*", 
        RowBox[{
        "assume", " ", "#files", " ", "is", " ", "the", " ", "same", " ", 
         "as", " ", "Nset"}], "*)"}], "\n", 
       RowBox[{"Nset", "=", 
        RowBox[{
         RowBox[{"Dimensions", "[", "residuetmp", "]"}], "[", 
         RowBox[{"[", "1", "]"}], "]"}]}], ";", "\n", 
       RowBox[{"Nexpt", "=", 
        RowBox[{
         RowBox[{"Dimensions", "[", "residuetmp", "]"}], "[", 
         RowBox[{"[", "2", "]"}], "]"}]}], ";", "\n", 
       RowBox[{"(*", 
        RowBox[{
         RowBox[{"if", " ", "expt", " ", "you", " ", "want", " ", "in", " ", 
          RowBox[{"the", " ", ".", "dta"}], " ", "file"}], ",", " ", 
         RowBox[{"read", " ", "all", " ", 
          RowBox[{"iset", " ", ".", "dta"}], " ", "files", " ", "into", " ", 
          "variable", " ", "\"\<exptdata\>\""}]}], "*)"}], "\n", 
       RowBox[{"Table", "[", "\n", 
        RowBox[{
         RowBox[{
          RowBox[{"If", "[", "\n", 
           RowBox[{
            RowBox[{
             RowBox[{"explist", "[", 
              RowBox[{"[", "iexplist", "]"}], "]"}], "==", 
             RowBox[{"residuetmp", "[", 
              RowBox[{"[", 
               RowBox[{"1", ",", "iexpt", ",", "1"}], "]"}], "]"}]}], ",", 
            "\n", 
            RowBox[{
             RowBox[{"Print", "[", 
              RowBox[{"\"\<find exptid = \>\"", ",", 
               RowBox[{"explist", "[", 
                RowBox[{"[", "iexplist", "]"}], "]"}], ",", "\"\<.\>\""}], 
              " ", "]"}], ";", "\n", 
             RowBox[{"exptdata", "=", 
              RowBox[{"Append", "[", 
               RowBox[{"exptdata", ",", 
                RowBox[{"Table", "[", 
                 RowBox[{
                  RowBox[{"residuetmp", "[", 
                   RowBox[{"[", 
                    RowBox[{"iset", ",", "iexpt"}], "]"}], "]"}], ",", 
                  RowBox[{"{", 
                   RowBox[{"iset", ",", "1", ",", "Nset"}], "}"}]}], "]"}]}], 
               " ", "]"}]}]}]}], " ", "\n", "]"}], ";", "\n", "\n", 
          "\"\<dummy\>\""}], "\n", 
         RowBox[{"(*", 
          RowBox[{"explist", "[", 
           RowBox[{"[", "i", "]"}], "]"}], "*)"}], "\n", ",", 
         RowBox[{"{", 
          RowBox[{"iexplist", ",", "1", ",", 
           RowBox[{"Length", "[", "explist", "]"}]}], "}"}], ",", 
         RowBox[{"{", 
          RowBox[{"iexpt", ",", "1", ",", "Nexpt"}], "}"}]}], "\n", "]"}], 
       ";", "\n", "\n", 
       RowBox[{"(*", 
        RowBox[{"return", " ", "exp", " ", "datas", " ", "with", " ", 
         RowBox[{"dimensions", " ", "[", 
          RowBox[{"[", 
           RowBox[{"iexpt", ",", "iset"}], "]"}], "]"}]}], "*)"}], "\n", 
       "exptdata"}]}], "\n", "]"}]}], "\n", "\n", 
   RowBox[{"(*", 
    RowBox[{
    "test", " ", "transf", " ", "output", " ", "of", " ", "ReadExptTable", 
     " ", "into", " ", "dtadata", " ", "class", " ", "form"}], "*)"}], "\n", 
   RowBox[{
    RowBox[{"todtadataclass", "[", 
     RowBox[{"datain_", ",", "PDFnamein_", ",", "PDFsetmethodin_"}], "]"}], ":=",
     "\n", 
    RowBox[{"Module", "[", 
     RowBox[{
      RowBox[{"{", 
       RowBox[{
        RowBox[{"data", "=", "datain"}], ",", 
        RowBox[{"PDFname", "=", "PDFnamein"}], ",", 
        RowBox[{"PDFsetmethod", "=", "PDFsetmethodin"}], ",", "Dtadatatmp", 
        ",", "Ndatacolumn"}], "}"}], ",", "\n", 
      RowBox[{
       RowBox[{"Dtadatatmp", "=", "Dtadata"}], ";", "\n", 
       RowBox[{
        RowBox[{"Dtadatatmp", "[", 
         RowBox[{"[", "\"\<data\>\"", "]"}], "]"}], "=", 
        RowBox[{"data", "[", 
         RowBox[{"[", "7", "]"}], "]"}]}], ";", "\n", 
       RowBox[{
        RowBox[{"Dtadatatmp", "[", 
         RowBox[{"[", 
          RowBox[{"\"\<exptinfo\>\"", ",", "\"\<exptid\>\""}], "]"}], "]"}], 
        "=", 
        RowBox[{"data", "[", 
         RowBox[{"[", "1", "]"}], "]"}]}], ";", "\n", 
       RowBox[{
        RowBox[{"Dtadatatmp", "[", 
         RowBox[{"[", 
          RowBox[{"\"\<exptinfo\>\"", ",", "\"\<exptname\>\""}], "]"}], "]"}],
         "=", 
        RowBox[{"data", "[", 
         RowBox[{"[", "2", "]"}], "]"}]}], ";", "\n", 
       RowBox[{
        RowBox[{"Dtadatatmp", "[", 
         RowBox[{"[", 
          RowBox[{"\"\<PDFinfo\>\"", ",", "\"\<PDFname\>\""}], "]"}], "]"}], 
        "=", "PDFname"}], ";", "\n", 
       RowBox[{
        RowBox[{"Dtadatatmp", "[", 
         RowBox[{"[", 
          RowBox[{"\"\<PDFinfo\>\"", ",", "\"\<PDFsetmethod\>\""}], "]"}], 
         "]"}], "=", "PDFsetmethod"}], ";", "\n", "\n", 
       RowBox[{
        RowBox[{"Dtadatatmp", "[", 
         RowBox[{"[", "\"\<label\>\"", "]"}], "]"}], "=", 
        RowBox[{"StringSplit", "[", 
         RowBox[{"data", "[", 
          RowBox[{"[", "3", "]"}], "]"}], " ", "]"}]}], ";", "\n", 
       RowBox[{"(*", 
        RowBox[{
         RowBox[{
          RowBox[{"2017.01", ".19"}], ":", " ", 
          RowBox[{
          "some", " ", "labels", " ", "of", " ", "expt", " ", "are", " ", 
           "not", " ", "at", " ", 
           RowBox[{"data", "[", 
            RowBox[{"[", "3", "]"}], "]"}]}]}], ",", " ", 
         RowBox[{
         "give", " ", "them", " ", "13", " ", "dummy", " ", "labels"}], ",", 
         " ", 
         RowBox[{
         "need", " ", "modify", " ", "in", " ", "the", " ", "future"}]}], 
        "*)"}], "\n", 
       RowBox[{"(*", 
        RowBox[{
        "20170828", " ", "remove", " ", "the", " ", "\"\<wrongformat\>\"", 
         " ", "reminder"}], "*)"}], "\n", "\n", 
       RowBox[{"(*", "\n", 
        RowBox[{
         RowBox[{"If", "[", "\n", 
          RowBox[{
           RowBox[{
            RowBox[{"Length", "[", 
             RowBox[{"Dtadatatmp", "[", 
              RowBox[{"[", "\"\<label\>\"", "]"}], "]"}], " ", "]"}], "!=", 
            "13"}], ",", " ", "\n", 
           RowBox[{
            RowBox[{"Ndatacolumn", "=", 
             RowBox[{"Length", "[", 
              RowBox[{"Apply", "[", 
               RowBox[{"List", ",", 
                RowBox[{
                 RowBox[{"Dtadatatmp", "[", 
                  RowBox[{"[", "\"\<data\>\"", "]"}], "]"}], "[", 
                 RowBox[{"[", "1", "]"}], "]"}]}], " ", "]"}], " ", "]"}]}], 
            ";", 
            RowBox[{"(*", 
             RowBox[{"2017.01", ".22"}], "*)"}], "\n", 
            RowBox[{
             RowBox[{"Dtadatatmp", "[", 
              RowBox[{"[", "\"\<label\>\"", "]"}], "]"}], "=", 
             RowBox[{"Table", "[", 
              RowBox[{"\"\<wrongformat\>\"", ",", 
               RowBox[{"{", 
                RowBox[{"i", ",", "1", ",", "Ndatacolumn"}], "}"}]}], 
              "]"}]}]}]}], "\n", "]"}], ";"}], "\n", "*)"}], "\n", "\n", 
       RowBox[{"(*", 
        RowBox[{
         RowBox[{
         "2017.01", ".16", " ", "add", " ", "dta", " ", "raw", " ", "data"}], 
         " ", "==", " ", 
         RowBox[{
         "utput", " ", "of", " ", "ReadExptTable", " ", "except", " ", "for", 
          " ", 
          RowBox[{"it", "'"}], "s", " ", "data"}]}], " ", "*)"}], "\n", 
       RowBox[{
        RowBox[{"Dtadatatmp", "[", 
         RowBox[{"[", "\"\<rawdata\>\"", "]"}], "]"}], "=", 
        RowBox[{"Delete", "[", 
         RowBox[{"data", ",", "7"}], "]"}]}], ";", "\n", "\n", 
       "Dtadatatmp"}]}], "\n", "]"}]}]}]}]], "Input",
 InitializationCell->True],

Cell[BoxData[
 RowBox[{"Readdtafile", "=", "\n", 
  RowBox[{"<|", "\n", 
   RowBox[{
    RowBox[{"\"\<readdta\>\"", "->", "readexptsbydta"}], ",", "\n", 
    RowBox[{"\"\<toclass\>\"", "->", "todtadataclass"}]}], "\n", 
   "|>"}]}]], "Input",
 InitializationCell->True]
}, Open  ]]
}, Open  ]],

Cell[CellGroupData[{

Cell["class for operate (edit) dtadata class", "Section"],

Cell[CellGroupData[{

Cell["dtaobs class", "Subsection"],

Cell[BoxData[
 RowBox[{
  RowBox[{"(*", 
   RowBox[{
   "function", " ", "for", " ", "calculating", " ", "residual", " ", "of", 
    " ", "dta", " ", "data"}], "*)"}], "\n", 
  RowBox[{
   RowBox[{
    RowBox[{"addresidue", "[", "dataclassin_", "]"}], ":=", "\n", 
    RowBox[{"Module", "[", 
     RowBox[{
      RowBox[{"{", 
       RowBox[{
        RowBox[{"dataclass", "=", "dataclassin"}], ",", "ExptID", ",", 
        "expItype", ",", "residue", ",", "NormFac"}], "}"}], ",", "\n", 
      RowBox[{
       RowBox[{"ExptID", "=", 
        RowBox[{"dataclass", "[", 
         RowBox[{"[", "\"\<exptid\>\"", "]"}], "]"}]}], ";", "\n", 
       RowBox[{"expItype", "=", 
        RowBox[{"ExptIDinfo", "[", "ExptID", "]"}]}], ";", "\n", "\n", 
       RowBox[{"(*", 
        RowBox[{"get", " ", "residual", " ", "method", " ", "1"}], "*)"}], 
       "\n", 
       RowBox[{"(*", "\n", 
        RowBox[{
         RowBox[{"residue", "=", 
          RowBox[{
           RowBox[{"data", "[", 
            RowBox[{"[", "7", "]"}], "]"}], "/.", 
           RowBox[{
            RowBox[{"LF", "[", "a__", "]"}], "\[RuleDelayed]", 
            RowBox[{
             RowBox[{"{", "a", "}"}], "[", 
             RowBox[{"[", "13", "]"}], "]"}]}]}]}], ";", "\n", 
         RowBox[{"residue", "=", 
          RowBox[{"Map", "[", 
           RowBox[{
            RowBox[{
             RowBox[{"If", "[", 
              RowBox[{
               RowBox[{"#", ">", "0"}], ",", 
               RowBox[{"Sqrt", "[", "#", "]"}], ",", 
               RowBox[{"-", 
                RowBox[{"Sqrt", "[", 
                 RowBox[{"-", "#"}], "]"}]}]}], "]"}], "&"}], ",", "residue", 
            ",", 
            RowBox[{"{", "1", "}"}]}], "]"}]}], ";"}], "\n", "*)"}], "\n", 
       "\n", 
       RowBox[{"(*", 
        RowBox[{"get", " ", "residual", " ", "method", " ", "2"}], "*)"}], 
       "\n", 
       RowBox[{"(*", 
        RowBox[{
         RowBox[{
          RowBox[{
           RowBox[{"result", " ", "of", " ", "method1"}], "&"}], "2", " ", 
          "mostly", " ", "diff", " ", "in", " ", "5", "%"}], ",", " ", 
         RowBox[{
         "method", " ", "2", " ", "should", " ", "be", " ", "accurate"}]}], 
        "*)"}], "\n", 
       RowBox[{"(*", 
        RowBox[{
         RowBox[{
          RowBox[{
           RowBox[{"2017.01", ".18"}], ":", " ", 
           RowBox[{
           "NormFac", " ", "should", " ", "be", " ", "in", " ", "formula", 
            " ", "or", " ", 
            RowBox[{"not", "?", " ", "with"}], " ", "NormFac"}]}], "=", "1"}],
          ",", " ", 
         RowBox[{
         "result", " ", "of", " ", "residual", " ", "is", " ", "close", " ", 
          "to", " ", "\"\<ReducedChi2\>\""}]}], " ", "*)"}], "\n", 
       RowBox[{"NormFac", "=", 
        RowBox[{
         RowBox[{"dataclass", "[", 
          RowBox[{"[", "\"\<rawdata\>\"", "]"}], "]"}], "[", 
         RowBox[{"[", "4", "]"}], "]"}]}], ";", "\n", 
       RowBox[{"(*", "v1", "*)"}], "\n", 
       RowBox[{"(*", " ", 
        RowBox[{
         RowBox[{
          RowBox[{"v1", " ", "is", " ", "wrong", "\n", "residue"}], "=", 
          RowBox[{
           RowBox[{"dataclass", "[", 
            RowBox[{"[", "\"\<data\>\"", "]"}], "]"}], "/.", 
           RowBox[{
            RowBox[{"LF", "[", "a__", "]"}], "\[RuleDelayed]", 
            RowBox[{"LF", "[", 
             RowBox[{
              RowBox[{"(", 
               RowBox[{
                RowBox[{
                 RowBox[{
                  RowBox[{"{", "a", "}"}], "[", 
                  RowBox[{"[", "5", "]"}], "]"}], "*", "NormFac"}], "-", 
                RowBox[{
                 RowBox[{"{", "a", "}"}], "[", 
                 RowBox[{"[", "11", "]"}], "]"}]}], ")"}], "/", 
              RowBox[{
               RowBox[{"{", "a", "}"}], "[", 
               RowBox[{"[", "12", "]"}], "]"}]}], " ", "]"}]}]}]}], ";"}], 
        "\n", "*)"}], "\n", 
       RowBox[{"(*", "v2", "*)"}], "\n", "\n", 
       RowBox[{"residue", "=", 
        RowBox[{
         RowBox[{"dataclass", "[", 
          RowBox[{"[", "\"\<data\>\"", "]"}], "]"}], "/.", 
         RowBox[{
          RowBox[{"LF", "[", "a__", "]"}], ":>", 
          RowBox[{"LF", "[", 
           RowBox[{
            RowBox[{"(", 
             RowBox[{
              RowBox[{
               RowBox[{"{", "a", "}"}], "[", 
               RowBox[{"[", "5", "]"}], "]"}], "-", 
              RowBox[{
               RowBox[{"{", "a", "}"}], "[", 
               RowBox[{"[", "11", "]"}], "]"}]}], ")"}], "/", 
            RowBox[{
             RowBox[{"{", "a", "}"}], "[", 
             RowBox[{"[", "12", "]"}], "]"}]}], " ", "]"}]}]}]}], ";", "\n", 
       "\n", 
       RowBox[{"dataclass", "=", 
        RowBox[{
         RowBox[{"Datamethods", "[", 
          RowBox[{"[", "\"\<add\>\"", "]"}], "]"}], "[", 
         RowBox[{"dataclass", ",", "residue", ",", 
          RowBox[{"{", "\"\<residual\>\"", "}"}]}], "]"}]}], ";", "\n", 
       "dataclass"}]}], "\n", "]"}]}], "\n"}]}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{
  3.718338482064652*^9, {3.718338650147225*^9, 3.718338676218459*^9}}]
}, Open  ]]
}, Open  ]]
}, Open  ]],

Cell[CellGroupData[{

Cell[".pds data class", "Chapter"],

Cell[CellGroupData[{

Cell["functions in class", "Section"],

Cell[CellGroupData[{

Cell["calculate f(x,Q,flavour)", "Subsection"],

Cell[BoxData[{
 RowBox[{
  RowBox[{
   RowBox[{
    RowBox[{"pdflist", "[", 
     RowBox[{"xQlistin_", ",", "flavourin_", ",", "ifamilyin_"}], "]"}], ":=",
     "\n", 
    RowBox[{"Module", "[", 
     RowBox[{
      RowBox[{"{", 
       RowBox[{
        RowBox[{"xQlist", "=", "xQlistin"}], ",", 
        RowBox[{"flavour", "=", "flavourin"}], ",", 
        RowBox[{"ifamily", "=", "ifamilyin"}], ",", "x", ",", "Q", ",", 
        "Nset", ",", "output"}], "}"}], ",", "\n", 
      RowBox[{
       RowBox[{"pdfSetActiveFamily", "[", "ifamily", "]"}], ";", " ", 
       RowBox[{"(*", " ", 
        RowBox[{"choose", " ", "PDF", " ", "family"}], " ", "*)"}], "\n", 
       RowBox[{"Nset", "=", 
        RowBox[{"Length", "[", 
         RowBox[{"pdfSetList", "[", 
          RowBox[{"[", "ifamily", "]"}], "]"}], "]"}]}], " ", ";", 
       RowBox[{"(*", " ", 
        RowBox[{"number", " ", "of", " ", "PDF", " ", "sets"}], " ", "*)"}], 
       "\n", 
       RowBox[{"output", "=", 
        RowBox[{"Table", "[", "\n", 
         RowBox[{
          RowBox[{
           RowBox[{"x", "=", 
            RowBox[{"xQlist", "[", 
             RowBox[{"[", 
              RowBox[{"ix", ",", "1"}], "]"}], "]"}]}], ";", "\n", 
           RowBox[{"Q", "=", 
            RowBox[{"xQlist", "[", 
             RowBox[{"[", 
              RowBox[{"ix", ",", "2"}], "]"}], "]"}]}], ";", "\n", 
           RowBox[{"{", 
            RowBox[{"x", ",", "Q", ",", 
             RowBox[{"Table", "[", 
              RowBox[{
               RowBox[{"pdfCTEQ", "[", 
                RowBox[{"x", ",", "Q", ",", "flavour", ",", "iset"}], "]"}], 
               ",", 
               RowBox[{"{", 
                RowBox[{"iset", ",", "Nset"}], "}"}]}], "]"}]}], "}"}]}], ",",
           "\n", 
          RowBox[{"{", 
           RowBox[{"ix", ",", "1", ",", 
            RowBox[{"Length", "[", "xQlist", "]"}]}], "}"}]}], "\n", "]"}]}], 
       ";", "\n", "output"}]}], "\n", "]"}]}], ";"}], "\n"}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{
    RowBox[{"pdfLF", "[", 
     RowBox[{"xQLFin_", ",", "flavourin_", ",", "ifamilyin_"}], "]"}], ":=", 
    "\n", 
    RowBox[{"Module", "[", 
     RowBox[{
      RowBox[{"{", 
       RowBox[{
        RowBox[{"xQLF", "=", "xQLFin"}], ",", 
        RowBox[{"flavour", "=", "flavourin"}], ",", 
        RowBox[{"ifamily", "=", "ifamilyin"}], ",", "x", ",", "Q", ",", 
        "Nset", ",", "output"}], "}"}], ",", "\n", 
      RowBox[{
       RowBox[{"pdfSetActiveFamily", "[", "ifamily", "]"}], ";", " ", 
       RowBox[{"(*", " ", 
        RowBox[{"choose", " ", "PDF", " ", "family"}], " ", "*)"}], "\n", 
       RowBox[{"Nset", "=", 
        RowBox[{"Length", "[", 
         RowBox[{"pdfSetList", "[", 
          RowBox[{"[", "ifamily", "]"}], "]"}], "]"}]}], " ", ";", 
       RowBox[{"(*", " ", 
        RowBox[{"number", " ", "of", " ", "PDF", " ", "sets"}], " ", "*)"}], 
       "\n", 
       RowBox[{"output", "=", 
        RowBox[{"Table", "[", "\n", 
         RowBox[{
          RowBox[{
           RowBox[{"x", "=", 
            RowBox[{"xQLF", "[", 
             RowBox[{"[", 
              RowBox[{"ix", ",", "1"}], "]"}], "]"}]}], ";", "\n", 
           RowBox[{"Q", "=", 
            RowBox[{"xQLF", "[", 
             RowBox[{"[", 
              RowBox[{"ix", ",", "2"}], "]"}], "]"}]}], ";", "\n", 
           RowBox[{"(*", 
            RowBox[{
             RowBox[{
              RowBox[{"for", " ", "flavour"}], " ", "=", " ", 
              RowBox[{"{", 
               RowBox[{
                RowBox[{"-", "5"}], ",", "5"}], "}"}]}], ",", " ", 
             RowBox[{
              RowBox[{"direct", " ", "use", " ", "the", " ", "f", 
               RowBox[{"(", 
                RowBox[{"x", ",", "Q", ",", "flavour"}], ")"}], "\n", "if", 
               " ", "it", " ", "is"}], " ", ">", " ", "5"}], ",", " ", 
             RowBox[{"we", " ", "define", " ", 
              RowBox[{"it", "'"}], "s", " ", "pdf", " ", "as", " ", 
              RowBox[{"following", ":"}]}]}], "\n", "*)"}], "\n", "\n", 
           RowBox[{"LF", "[", 
            RowBox[{"x", ",", "Q", ",", 
             RowBox[{"Sequence", "@@", 
              RowBox[{"Table", "[", 
               RowBox[{
                RowBox[{"pdfCTEQ", "[", 
                 RowBox[{"x", ",", "Q", ",", "flavour", ",", "iset"}], "]"}], 
                ",", 
                RowBox[{"{", 
                 RowBox[{"iset", ",", "Nset"}], "}"}]}], "]"}]}]}], " ", 
            "]"}]}], ",", "\n", 
          RowBox[{"{", 
           RowBox[{"ix", ",", "1", ",", 
            RowBox[{"Length", "[", "xQLF", "]"}]}], "}"}]}], "\n", "]"}]}], 
       ";", "\n", "output"}]}], "\n", "]"}]}], ";"}], "\n"}], "\n"}], "Input",\

 InitializationCell->True],

Cell[BoxData[
 RowBox[{
  RowBox[{"(*", 
   RowBox[{
    RowBox[{"input", " ", "PDFDir"}], ",", " ", "xQLF", ",", "PDFsetmethod", 
    ",", " ", 
    RowBox[{"and", " ", "flavour"}], ",", " ", 
    RowBox[{"output", " ", "FxQdata", " ", "class"}]}], "*)"}], "\n", 
  RowBox[{
   RowBox[{
    RowBox[{"fxQcalculate", "[", 
     RowBox[{
     "xQLFin_", ",", "PdsDirin_", ",", "PDFsetmethodin_", ",", "flavourin_"}],
      "]"}], ":=", "\n", 
    RowBox[{"Module", "[", 
     RowBox[{
      RowBox[{"{", 
       RowBox[{
        RowBox[{"xQLF", "=", "xQLFin"}], ",", 
        RowBox[{"PdsDir", "=", "PdsDirin"}], ",", 
        RowBox[{"PDFsetmethod", "=", "PDFsetmethodin"}], ",", 
        RowBox[{"flavour", "=", "flavourin"}], ",", "fxQclasstmp", ",", 
        "ifamily", ",", "Nset", ",", "datalabel", ",", "xQlabel", ",", 
        "PDFname"}], "}"}], ",", "\n", 
      RowBox[{
       RowBox[{"fxQclasstmp", "=", "FxQdata"}], ";", "\n", "\n", 
       RowBox[{"(*", 
        RowBox[{"setup", " ", "pdf", " ", "function"}], "*)"}], "\n", 
       "pdfResetCTEQ", ";", "\n", 
       RowBox[{"(*", "\n", 
        RowBox[{
         RowBox[{"For", "[", 
          RowBox[{
           RowBox[{"i", "=", "1"}], ",", 
           RowBox[{"i", "\[LessEqual]", "20"}], ",", 
           RowBox[{"i", "++"}], ",", 
           RowBox[{"pdfFamilyParseCTEQ", "[", "\"\<Dummy\>\"", "]"}]}], "]"}],
          ";"}], "\n", "*)"}], "\n", 
       RowBox[{"(*", 
        RowBox[{"generate", " ", "a", " ", "pdf", " ", "space"}], "*)"}], 
       "\n", 
       RowBox[{"pdfFamilyParseCTEQ", "[", "\"\<Dummy\>\"", "]"}], ";", "\n", 
       RowBox[{"ifamily", "=", "1"}], ";", " ", "\n", 
       RowBox[{"(*", " ", 
        RowBox[{
         RowBox[{
         "IniDir", "=", 
          "\"\<//users//nadolsky//share//lhapdf//6.1.5//share/LHAPDF//\
CT14nnlo//pds//\>\""}], ";"}], " ", "*)"}], "\n", 
       RowBox[{"pdfFamilyParseCTEQ", "[", 
        RowBox[{
         RowBox[{"PdsDir", "<>", "\"\<*pds\>\""}], ",", "ifamily"}], "]"}], 
       ";", "\n", "\n", 
       RowBox[{"Nset", "=", 
        RowBox[{"Length", "[", 
         RowBox[{"pdfSetList", "[", 
          RowBox[{"[", "ifamily", "]"}], "]"}], " ", "]"}]}], ";", 
       RowBox[{"(*", " ", 
        RowBox[{"number", " ", "of", " ", "PDF", " ", "sets"}], " ", "*)"}], 
       "\n", 
       RowBox[{"(*", 
        RowBox[{"set", " ", "data", " ", "label"}], "*)"}], "\n", 
       RowBox[{"datalabel", "=", 
        RowBox[{"Table", "[", 
         RowBox[{
          RowBox[{"ToString", "[", 
           RowBox[{"i", "-", "1"}], "]"}], ",", 
          RowBox[{"{", 
           RowBox[{"i", ",", "1", ",", "Nset"}], "}"}]}], "]"}]}], ";", "\n", 
       
       RowBox[{"xQlabel", "=", 
        RowBox[{"{", 
         RowBox[{"\"\<x\>\"", ",", "\"\<Q\>\""}], "}"}]}], ";", "\n", 
       RowBox[{"datalabel", "=", 
        RowBox[{"Join", "[", 
         RowBox[{"xQlabel", ",", "datalabel"}], "]"}]}], ";", "\n", 
       RowBox[{"(*", 
        RowBox[{"set", " ", "PDFname"}], "*)"}], "\n", 
       RowBox[{"PDFname", "=", 
        RowBox[{
         RowBox[{"StringSplit", "[", 
          RowBox[{"PdsDir", ",", "\"\</\>\""}], "]"}], "[", 
         RowBox[{"[", 
          RowBox[{"-", "1"}], "]"}], "]"}]}], ";", "\n", 
       RowBox[{"(*", 
        RowBox[{"set", " ", "info", " ", "of", " ", "class"}], "*)"}], "\n", 
       RowBox[{
        RowBox[{"fxQclasstmp", "[", 
         RowBox[{"[", "\"\<label\>\"", "]"}], "]"}], "=", "datalabel"}], ";", 
       "\n", 
       RowBox[{
        RowBox[{"fxQclasstmp", "[", 
         RowBox[{"[", 
          RowBox[{"\"\<PDFinfo\>\"", ",", "\"\<PDFname\>\""}], "]"}], "]"}], 
        "=", "PDFname"}], ";", "\n", 
       RowBox[{
        RowBox[{"fxQclasstmp", "[", 
         RowBox[{"[", 
          RowBox[{"\"\<PDFinfo\>\"", ",", "\"\<PDFsetmethod\>\""}], "]"}], 
         "]"}], "=", "PDFsetmethod"}], ";", "\n", 
       RowBox[{
        RowBox[{"fxQclasstmp", "[", 
         RowBox[{"[", 
          RowBox[{"\"\<PDFinfo\>\"", ",", "\"\<Nset\>\""}], "]"}], "]"}], "=",
         "Nset"}], ";", "\n", 
       RowBox[{
        RowBox[{"fxQclasstmp", "[", 
         RowBox[{"[", 
          RowBox[{"\"\<PDFinfo\>\"", ",", "\"\<flavour\>\""}], "]"}], "]"}], 
        "=", "flavour"}], ";", "\n", 
       RowBox[{"(*", 
        RowBox[{"calculate", " ", "data", " ", "by", " ", "xQ"}], "*)"}], 
       "\n", 
       RowBox[{
        RowBox[{"fxQclasstmp", "[", 
         RowBox[{"[", "\"\<data\>\"", "]"}], "]"}], "=", 
        RowBox[{"pdfLF", "[", 
         RowBox[{"xQLF", ",", "flavour", ",", "ifamily"}], "]"}]}], ";", "\n", 
       RowBox[{"(*", "output", "*)"}], "\n", "fxQclasstmp"}]}], "\n", "\n", 
     "]"}]}], ";"}]}]], "Input",
 InitializationCell->True]
}, Open  ]],

Cell[CellGroupData[{

Cell["\<\
calculate f(x,Q,flavour) by same point of experiments (from dtadata class)\
\>", "Subsection"],

Cell[BoxData[
 RowBox[{
  RowBox[{"(*", 
   RowBox[{
    RowBox[{"read", " ", "xQLF", " ", "from", " ", "Dtadata"}], ",", " ", 
    RowBox[{
    "pds", " ", "file", " ", "from", " ", "PdsDir", " ", "and", " ", "set", 
     " ", "flavour", "\n", "output", " ", "FxQsameptdata", " ", "class"}], 
    ",", " ", "\n", 
    RowBox[{"\"\<exptinfo\>\"", " ", "is", " ", "copy", " ", "from", " ", 
     RowBox[{"Dtadata", "[", 
      RowBox[{"[", "\"\<exptinfo\>\"", "]"}], "]"}]}], ",", " ", 
    RowBox[{
    "\"\<PDFinfo\>\"", " ", "is", " ", "set", " ", "by", " ", "input", " ", 
     "parameter"}]}], " ", "*)"}], "\n", 
  RowBox[{
   RowBox[{"fxQsameptcalculate", "[", 
    RowBox[{
    "dtadataclassin_", ",", "PdsDirin_", ",", "PDFsetmethodin_", ",", 
     "flavourin_"}], "]"}], ":=", "\n", 
   RowBox[{"Module", "[", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{
       RowBox[{"dtadataclass", "=", "dtadataclassin"}], ",", 
       RowBox[{"PdsDir", "=", "PdsDirin"}], ",", 
       RowBox[{"PDFsetmethod", "=", "PDFsetmethodin"}], ",", 
       RowBox[{"flavour", "=", "flavourin"}], ",", "fxQclasstmp"}], "}"}], 
     ",", "\n", 
     RowBox[{
      RowBox[{"fxQclasstmp", "=", "FxQsameptdata"}], ";", "\n", "\n", 
      RowBox[{"(*", 
       RowBox[{"2017", ",", "01", ",", "12"}], "*)"}], "\n", 
      RowBox[{"(*", 
       RowBox[{
        RowBox[{
        "here", " ", "we", " ", "do", " ", "not", " ", "deal", " ", "with", 
         " ", 
         RowBox[{"part", ":", " ", 
          RowBox[{"extract", " ", 
           RowBox[{"{", 
            RowBox[{"x", ",", "Q"}], "}"}], " ", "from", " ", "dtadata"}]}]}],
         ",", " ", 
        RowBox[{"this", " ", "part", " ", "need", " ", "modified", " ", 
         RowBox[{"later", "."}]}]}], "  ", "*)"}], "\n", 
      RowBox[{"fxQclasstmp", "=", 
       RowBox[{"fxQcalculate", "[", 
        RowBox[{
         RowBox[{"dtadataclass", "[", 
          RowBox[{"[", "\"\<data\>\"", "]"}], "]"}], ",", "PdsDir", ",", 
         "PDFsetmethod", ",", "flavour"}], "]"}]}], ";", "\n", 
      RowBox[{
       RowBox[{"fxQclasstmp", "[", 
        RowBox[{"[", "\"\<exptinfo\>\"", "]"}], "]"}], "=", 
       RowBox[{"dtadataclass", "[", 
        RowBox[{"[", "\"\<exptinfo\>\"", "]"}], "]"}]}], ";", "\n", 
      "fxQclasstmp"}]}], "\n", "]"}]}]}]], "Input",
 InitializationCell->True],

Cell[BoxData[
 RowBox[{
  RowBox[{"(*", 
   RowBox[{
    RowBox[{"input", " ", 
     RowBox[{"fxQdataclass", "[", 
      RowBox[{"[", "flavour", "]"}], "]"}]}], ",", " ", 
    RowBox[{
     RowBox[{"flavour", " ", "from"}], " ", "-", 
     RowBox[{"5", " ", "~", " ", "5"}]}], ",", " ", 
    RowBox[{"output", " ", "the", " ", "customized", " ", "f", 
     RowBox[{"(", 
      RowBox[{"x", ",", "Q"}], ")"}]}], ",", " ", 
    RowBox[{"as", " ", 
     RowBox[{"following", ":", "\n", 
      RowBox[{"dbar", "/", "ubar"}]}]}], ",", " ", 
    RowBox[{"d", "/", "u"}], ",", " ", 
    RowBox[{"s", "+", 
     RowBox[{"sbar", "/", "ubar"}], "+", "dbar"}]}], "\n", "*)"}], "\n", 
  RowBox[{"(*", 
   RowBox[{
    RowBox[{
     RowBox[{
     "the", " ", "way", " ", "to", " ", "calculate", " ", "the", " ", 
      "combination", " ", "of", " ", "pdf", " ", "could", " ", "be", " ", 
      RowBox[{"modify", ":", " ", 
       RowBox[{"if", " ", "f", 
        RowBox[{"(", 
         RowBox[{"x", ",", "Q", ",", "flavour"}], ")"}]}]}]}], "=", "0"}], 
    ",", " ", 
    RowBox[{"then", " ", 
     RowBox[{"don", "'"}], "t", " ", "consider", " ", "the", " ", "point"}]}],
    "*)"}]}]], "Input",
 InitializationCell->True],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"setextrafxQ", "[", "fxQdataclasslistin_", "]"}], ":=", "\n", 
   RowBox[{"Module", "[", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{
       RowBox[{"fxQdataclasslist", "=", "fxQdataclasslistin"}], ",", "bbar", 
       ",", "cbar", ",", "sbar", ",", "dbar", ",", "ubar", ",", "g", ",", "u",
        ",", "d", ",", "s", ",", "c", ",", "b", ",", "Npt", ",", "Nset", ",", 
       "newfxQdata", ",", "LFa", ",", "LFb", ",", "LFc", ",", "LFd", ",", "x",
        ",", "Q", ",", "Nsetdata", ",", "fxQmincut", ",", "dbarubar", ",", 
       "du", ",", "ssbarubardbar"}], "}"}], ",", "\n", 
     RowBox[{"(*", 
      RowBox[{"set", " ", "quark", " ", "label"}], "*)"}], "\n", 
     RowBox[{
      RowBox[{
       RowBox[{"{", 
        RowBox[{
        "bbar", ",", "cbar", ",", "sbar", ",", "dbar", ",", "ubar", ",", "g", 
         ",", "u", ",", "d", ",", "s", ",", "c", ",", "b"}], "}"}], "=", 
       RowBox[{"{", 
        RowBox[{
         RowBox[{
          RowBox[{"-", "5"}], "+", "6"}], ",", 
         RowBox[{
          RowBox[{"-", "4"}], "+", "6"}], ",", 
         RowBox[{
          RowBox[{"-", "3"}], "+", "6"}], ",", 
         RowBox[{
          RowBox[{"-", "2"}], "+", "6"}], ",", 
         RowBox[{
          RowBox[{"-", "1"}], "+", "6"}], ",", 
         RowBox[{"0", "+", "6"}], ",", 
         RowBox[{"1", "+", "6"}], ",", 
         RowBox[{"2", "+", "6"}], ",", 
         RowBox[{"3", "+", "6"}], ",", 
         RowBox[{"4", "+", "6"}], ",", 
         RowBox[{"5", "+", "6"}]}], "}"}]}], ";", "\n", 
      RowBox[{"(*", 
       RowBox[{
        RowBox[{"set", " ", "variables"}], ",", " ", 
        RowBox[{
        "assume", " ", "all", " ", "of", " ", "fxQdataclasslist", " ", "have",
          " ", "the", " ", "same", " ", "Npt"}], ",", " ", "label"}], "*)"}], 
      "\n", 
      RowBox[{"Npt", "=", 
       RowBox[{
        RowBox[{"Datamethods", "[", 
         RowBox[{"[", "\"\<getNpt\>\"", "]"}], "]"}], "[", 
        RowBox[{"fxQdataclasslist", "[", 
         RowBox[{"[", "1", "]"}], "]"}], " ", "]"}]}], ";", "\n", 
      RowBox[{"Nset", "=", 
       RowBox[{
        RowBox[{
         RowBox[{"Datamethods", "[", 
          RowBox[{"[", "\"\<getNcolumn\>\"", "]"}], "]"}], "[", 
         RowBox[{"fxQdataclasslist", "[", 
          RowBox[{"[", "1", "]"}], "]"}], " ", "]"}], "-", "2"}]}], ";", "\n", 
      RowBox[{"(*", 
       RowBox[{
       "pdf", " ", "minimum", " ", "cut", " ", "for", " ", "denominator"}], 
       "*)"}], "\n", 
      RowBox[{"fxQmincut", "=", 
       RowBox[{"10.0", "^", 
        RowBox[{"-", "10"}]}]}], ";", "\n", 
      RowBox[{"(*", 
       RowBox[{
       "set", " ", "classes", " ", "for", " ", "newly", " ", "defined", " ", 
        "flavours"}], "*)"}], "\n", 
      RowBox[{"dbarubar", "=", 
       RowBox[{"fxQdataclasslist", "[", 
        RowBox[{"[", "1", "]"}], "]"}]}], ";", "\n", 
      RowBox[{"du", "=", 
       RowBox[{"fxQdataclasslist", "[", 
        RowBox[{"[", "1", "]"}], "]"}]}], ";", "\n", 
      RowBox[{"ssbarubardbar", "=", 
       RowBox[{"fxQdataclasslist", "[", 
        RowBox[{"[", "1", "]"}], "]"}]}], ";", "\n", "\n", 
      RowBox[{"(*", 
       RowBox[{"dbar", "/", "ubar"}], "*)"}], "\n", 
      RowBox[{"LFa", "=", 
       RowBox[{
        RowBox[{"fxQdataclasslist", "[", 
         RowBox[{"[", "dbar", "]"}], "]"}], "[", 
        RowBox[{"[", "\"\<data\>\"", "]"}], "]"}]}], ";", "\n", 
      RowBox[{"LFb", "=", 
       RowBox[{
        RowBox[{"fxQdataclasslist", "[", 
         RowBox[{"[", "ubar", "]"}], "]"}], "[", 
        RowBox[{"[", "\"\<data\>\"", "]"}], "]"}]}], ";", "\n", "\n", 
      RowBox[{
       RowBox[{"dbarubar", "[", 
        RowBox[{"[", "\"\<data\>\"", "]"}], "]"}], "=", "\n", 
       RowBox[{"Table", "[", "\n", 
        RowBox[{
         RowBox[{
          RowBox[{"x", "=", 
           RowBox[{"LFa", "[", 
            RowBox[{"[", 
             RowBox[{"ix", ",", "1"}], "]"}], "]"}]}], ";", 
          RowBox[{"Q", "=", 
           RowBox[{"LFa", "[", 
            RowBox[{"[", 
             RowBox[{"ix", ",", "2"}], "]"}], "]"}]}], ";", "\n", 
          RowBox[{"Nsetdata", "=", "\n", 
           RowBox[{"Table", "[", "\n", 
            RowBox[{
             RowBox[{"If", "[", "\n", 
              RowBox[{
               RowBox[{
                RowBox[{
                 RowBox[{"LFa", "[", 
                  RowBox[{"[", 
                   RowBox[{"ix", ",", 
                    RowBox[{"iset", "+", "2"}]}], "]"}], "]"}], "!=", "0"}], 
                " ", "&&", " ", 
                RowBox[{
                 RowBox[{"LFb", "[", 
                  RowBox[{"[", 
                   RowBox[{"ix", ",", 
                    RowBox[{"iset", "+", "2"}]}], "]"}], "]"}], "!=", "0"}]}],
                ",", " ", "\n", 
               RowBox[{
                RowBox[{"LFa", "[", 
                 RowBox[{"[", 
                  RowBox[{"ix", ",", 
                   RowBox[{"iset", "+", "2"}]}], "]"}], "]"}], "/", 
                RowBox[{"Max", "[", 
                 RowBox[{
                  RowBox[{"LFb", "[", 
                   RowBox[{"[", 
                    RowBox[{"ix", ",", 
                    RowBox[{"iset", "+", "2"}]}], "]"}], "]"}], ",", 
                  "fxQmincut"}], "]"}]}], ",", "\n", "0.0"}], "\n", "]"}], 
             ",", "\n", 
             RowBox[{"{", 
              RowBox[{"iset", ",", "1", ",", "Nset"}], "}"}]}], "\n", "]"}]}],
           ";", "\n", 
          RowBox[{"LF", "[", 
           RowBox[{"x", ",", "Q", ",", 
            RowBox[{"Sequence", "@@", "Nsetdata"}]}], "]"}]}], ",", "\n", 
         RowBox[{"{", 
          RowBox[{"ix", ",", "1", ",", "Npt"}], "}"}]}], "\n", "]"}]}], ";", 
      "\n", "\n", 
      RowBox[{"(*", 
       RowBox[{"d", "/", "u"}], "*)"}], "\n", 
      RowBox[{"LFa", "=", 
       RowBox[{
        RowBox[{"fxQdataclasslist", "[", 
         RowBox[{"[", "d", "]"}], "]"}], "[", 
        RowBox[{"[", "\"\<data\>\"", "]"}], "]"}]}], ";", "\n", 
      RowBox[{"LFb", "=", 
       RowBox[{
        RowBox[{"fxQdataclasslist", "[", 
         RowBox[{"[", "u", "]"}], "]"}], "[", 
        RowBox[{"[", "\"\<data\>\"", "]"}], "]"}]}], ";", "\n", "\n", 
      RowBox[{
       RowBox[{"du", "[", 
        RowBox[{"[", "\"\<data\>\"", "]"}], "]"}], "=", "\n", 
       RowBox[{"Table", "[", "\n", 
        RowBox[{
         RowBox[{
          RowBox[{"x", "=", 
           RowBox[{"LFa", "[", 
            RowBox[{"[", 
             RowBox[{"ix", ",", "1"}], "]"}], "]"}]}], ";", 
          RowBox[{"Q", "=", 
           RowBox[{"LFa", "[", 
            RowBox[{"[", 
             RowBox[{"ix", ",", "2"}], "]"}], "]"}]}], ";", "\n", 
          RowBox[{"Nsetdata", "=", "\n", 
           RowBox[{"Table", "[", "\n", 
            RowBox[{
             RowBox[{"If", "[", "\n", 
              RowBox[{
               RowBox[{
                RowBox[{
                 RowBox[{"LFa", "[", 
                  RowBox[{"[", 
                   RowBox[{"ix", ",", 
                    RowBox[{"iset", "+", "2"}]}], "]"}], "]"}], "!=", "0"}], 
                " ", "&&", " ", 
                RowBox[{
                 RowBox[{"LFb", "[", 
                  RowBox[{"[", 
                   RowBox[{"ix", ",", 
                    RowBox[{"iset", "+", "2"}]}], "]"}], "]"}], "!=", "0"}]}],
                ",", " ", "\n", 
               RowBox[{
                RowBox[{"LFa", "[", 
                 RowBox[{"[", 
                  RowBox[{"ix", ",", 
                   RowBox[{"iset", "+", "2"}]}], "]"}], "]"}], "/", 
                RowBox[{"Max", "[", 
                 RowBox[{
                  RowBox[{"LFb", "[", 
                   RowBox[{"[", 
                    RowBox[{"ix", ",", 
                    RowBox[{"iset", "+", "2"}]}], "]"}], "]"}], ",", 
                  "fxQmincut"}], "]"}]}], ",", "\n", "0.0"}], "\n", "]"}], 
             ",", "\n", 
             RowBox[{"{", 
              RowBox[{"iset", ",", "1", ",", "Nset"}], "}"}]}], "\n", "]"}]}],
           ";", "\n", 
          RowBox[{"LF", "[", 
           RowBox[{"x", ",", "Q", ",", 
            RowBox[{"Sequence", "@@", "Nsetdata"}]}], "]"}]}], ",", "\n", 
         RowBox[{"{", 
          RowBox[{"ix", ",", "1", ",", "Npt"}], "}"}]}], "\n", "]"}]}], ";", 
      "\n", "\n", 
      RowBox[{"(*", 
       RowBox[{"s", "+", 
        RowBox[{"sbar", "/", "ubar"}], "+", "dbar"}], "*)"}], "\n", 
      RowBox[{"LFa", "=", 
       RowBox[{
        RowBox[{"fxQdataclasslist", "[", 
         RowBox[{"[", "s", "]"}], "]"}], "[", 
        RowBox[{"[", "\"\<data\>\"", "]"}], "]"}]}], ";", "\n", 
      RowBox[{"LFb", "=", 
       RowBox[{
        RowBox[{"fxQdataclasslist", "[", 
         RowBox[{"[", "sbar", "]"}], "]"}], "[", 
        RowBox[{"[", "\"\<data\>\"", "]"}], "]"}]}], ";", "\n", 
      RowBox[{"LFc", "=", 
       RowBox[{
        RowBox[{"fxQdataclasslist", "[", 
         RowBox[{"[", "ubar", "]"}], "]"}], "[", 
        RowBox[{"[", "\"\<data\>\"", "]"}], "]"}]}], ";", "\n", 
      RowBox[{"LFd", "=", 
       RowBox[{
        RowBox[{"fxQdataclasslist", "[", 
         RowBox[{"[", "dbar", "]"}], "]"}], "[", 
        RowBox[{"[", "\"\<data\>\"", "]"}], "]"}]}], ";", "\n", "\n", 
      RowBox[{
       RowBox[{"ssbarubardbar", "[", 
        RowBox[{"[", "\"\<data\>\"", "]"}], "]"}], "=", "\n", 
       RowBox[{"Table", "[", "\n", 
        RowBox[{
         RowBox[{
          RowBox[{"x", "=", 
           RowBox[{"LFa", "[", 
            RowBox[{"[", 
             RowBox[{"ix", ",", "1"}], "]"}], "]"}]}], ";", 
          RowBox[{"Q", "=", 
           RowBox[{"LFa", "[", 
            RowBox[{"[", 
             RowBox[{"ix", ",", "2"}], "]"}], "]"}]}], ";", "\n", 
          RowBox[{"Nsetdata", "=", "\n", 
           RowBox[{"Table", "[", "\n", 
            RowBox[{
             RowBox[{"If", "[", "\n", 
              RowBox[{
               RowBox[{
                RowBox[{
                 RowBox[{"LFa", "[", 
                  RowBox[{"[", 
                   RowBox[{"ix", ",", 
                    RowBox[{"iset", "+", "2"}]}], "]"}], "]"}], "!=", "0"}], 
                " ", "&&", " ", 
                RowBox[{
                 RowBox[{"LFb", "[", 
                  RowBox[{"[", 
                   RowBox[{"ix", ",", 
                    RowBox[{"iset", "+", "2"}]}], "]"}], "]"}], "!=", "0"}], "&&",
                 " ", 
                RowBox[{
                 RowBox[{"LFc", "[", 
                  RowBox[{"[", 
                   RowBox[{"ix", ",", 
                    RowBox[{"iset", "+", "2"}]}], "]"}], "]"}], "!=", "0"}], "&&",
                 " ", 
                RowBox[{
                 RowBox[{"LFd", "[", 
                  RowBox[{"[", 
                   RowBox[{"ix", ",", 
                    RowBox[{"iset", "+", "2"}]}], "]"}], "]"}], "!=", "0"}]}],
                ",", " ", "\n", 
               RowBox[{
                RowBox[{"(", 
                 RowBox[{
                  RowBox[{"LFa", "[", 
                   RowBox[{"[", 
                    RowBox[{"ix", ",", 
                    RowBox[{"iset", "+", "2"}]}], "]"}], "]"}], "+", 
                  RowBox[{"LFb", "[", 
                   RowBox[{"[", 
                    RowBox[{"ix", ",", 
                    RowBox[{"iset", "+", "2"}]}], "]"}], "]"}]}], ")"}], "/", 
                
                RowBox[{"Max", "[", 
                 RowBox[{
                  RowBox[{"(", 
                   RowBox[{
                    RowBox[{"LFc", "[", 
                    RowBox[{"[", 
                    RowBox[{"ix", ",", 
                    RowBox[{"iset", "+", "2"}]}], "]"}], "]"}], "+", 
                    RowBox[{"LFd", "[", 
                    RowBox[{"[", 
                    RowBox[{"ix", ",", 
                    RowBox[{"iset", "+", "2"}]}], "]"}], "]"}]}], ")"}], ",", 
                  "fxQmincut"}], "]"}]}], ",", "\n", "0.0"}], "\n", "]"}], 
             ",", "\n", 
             RowBox[{"{", 
              RowBox[{"iset", ",", "1", ",", "Nset"}], "}"}]}], "\n", "]"}]}],
           ";", "\n", 
          RowBox[{"LF", "[", 
           RowBox[{"x", ",", "Q", ",", 
            RowBox[{"Sequence", "@@", "Nsetdata"}]}], "]"}]}], ",", "\n", 
         RowBox[{"{", 
          RowBox[{"ix", ",", "1", ",", "Npt"}], "}"}]}], "\n", "]"}]}], ";", 
      "\n", "\n", 
      RowBox[{"{", 
       RowBox[{"dbarubar", ",", "du", ",", "ssbarubardbar"}], "}"}]}]}], "\n",
     "]"}]}], "\n", "\n"}]], "Code"]
}, Open  ]]
}, Open  ]],

Cell[CellGroupData[{

Cell["read .pds file into format of fxQdata(fxQsameptdata) class", "Section"],

Cell[CellGroupData[{

Cell["pdsread class", "Subsection"],

Cell[BoxData[
 RowBox[{
  RowBox[{"Pdsread", "=", "\n", 
   RowBox[{"<|", "\n", 
    RowBox[{
     RowBox[{"\"\<fxQ\>\"", "->", "fxQcalculate"}], ",", "\n", 
     RowBox[{"\"\<fxQsamept\>\"", "->", "fxQsameptcalculate"}]}], "\n", 
    "|>"}]}], "\n", "\n"}]], "Input",
 InitializationCell->True]
}, Open  ]]
}, Open  ]]
}, Open  ]],

Cell[CellGroupData[{

Cell["correlation data class", "Chapter"],

Cell[CellGroupData[{

Cell["\<\
calculate correlation function (general version)
input any two observables, get correlation\
\>", "Section"],

Cell[CellGroupData[{

Cell["corrcalculate class", "Subsection"],

Cell[BoxData[
 RowBox[{
  RowBox[{"(*", 
   RowBox[{
    RowBox[{"20170315", ":", " ", 
     RowBox[{"for", " ", "web", " ", "version"}]}], ",", " ", 
    RowBox[{"we", " ", 
     RowBox[{"don", "'"}], "t", " ", "need", " ", "PDF", " ", "library", " ", 
     "and", " ", "initilize", " ", "PDFsets"}], ",", " ", 
    RowBox[{
    "but", " ", "we", " ", "still", " ", "need", " ", "correlation", " ", 
     RowBox[{"function", ".", " ", "so"}], " ", "make", " ", "a", " ", "fake",
      " ", "function", " ", "work", " ", "here", "\n", "all", " ", 
     "functions", " ", "use", " ", "these", " ", "two", " ", "functions", " ",
      "replaced", " ", "by", " ", "fake", " ", "version"}]}], "*)"}], "\n", 
  "\n", 
  RowBox[{
   RowBox[{
    RowBox[{
     RowBox[{"pdfHessianSymErrorfake", "[", "f_", "]"}], ":=", 
     RowBox[{"Module", "[", 
      RowBox[{
       RowBox[{"{", "Neigen", "}"}], ",", "\n", 
       RowBox[{
        RowBox[{"If", "[", 
         RowBox[{
          RowBox[{"ListQ", "[", "f", "]"}], ",", 
          RowBox[{"Neigen", "=", 
           RowBox[{"Length", "[", "f", "]"}]}], ",", 
          RowBox[{
           RowBox[{
           "Print", "[", 
            "\"\<pdfHessianSymErrorfake input should be list \>\"", "]"}], 
           ";", 
           RowBox[{"Abort", "[", "]"}]}]}], " ", "]"}], ";", "\n", 
        RowBox[{"If", "[", 
         RowBox[{
          RowBox[{"OddQ", "[", "Neigen", "]"}], ",", "\n", 
          RowBox[{
           RowBox[{"1", "/", "2"}], " ", 
           RowBox[{"Sqrt", "[", 
            RowBox[{"Sum", "[", "\n", 
             RowBox[{
              RowBox[{"If", "[", 
               RowBox[{
                RowBox[{"ListQ", "[", "f", "]"}], ",", 
                RowBox[{
                 RowBox[{"(", 
                  RowBox[{
                   RowBox[{"f", "[", 
                    RowBox[{"[", 
                    RowBox[{
                    RowBox[{"2", "*", "iset"}], "+", "1"}], "]"}], "]"}], "-", 
                   RowBox[{"f", "[", 
                    RowBox[{"[", 
                    RowBox[{"2", "*", "iset"}], "]"}], "]"}]}], ")"}], "^", 
                 "2"}], ",", 
                RowBox[{
                 RowBox[{"(", 
                  RowBox[{
                   RowBox[{"f", "[", 
                    RowBox[{
                    RowBox[{"2", "*", "iset"}], "+", "1"}], "]"}], "-", 
                   RowBox[{"f", "[", 
                    RowBox[{"2", "*", "iset"}], "]"}]}], ")"}], "^", "2"}]}], 
               "]"}], ",", "\n", 
              RowBox[{"{", 
               RowBox[{"iset", ",", "1", ",", 
                RowBox[{
                 RowBox[{"(", 
                  RowBox[{"Neigen", "-", "1"}], ")"}], "/", "2"}]}], "}"}]}], 
             "]"}], "]"}]}], ",", "\n", 
          RowBox[{"Print", "[", 
           RowBox[{
           "\"\<Error: pdfHessianSymErrorfake requires an odd number of \
entries, not \>\"", ",", "Neigen"}], "]"}]}], "]"}]}]}], "\n", "]"}]}], ";"}],
    " ", "\n", "\n", 
   RowBox[{
    RowBox[{
     RowBox[{"pdfHessianCorrelationfake", "[", 
      RowBox[{"list1_", ",", " ", "list2_"}], "]"}], " ", ":=", 
     RowBox[{"Module", "[", 
      RowBox[{
       RowBox[{"{", 
        RowBox[{
        "Neigen", ",", "Neigen1", ",", " ", "Neigen2", ",", " ", "PDFerror1", 
         ",", " ", "PDFerror2"}], "}"}], ",", "\n", "   ", 
       RowBox[{
        RowBox[{"If", "[", " ", 
         RowBox[{
          RowBox[{
           RowBox[{"!", " ", 
            RowBox[{"ListQ", "[", "list1", "]"}]}], " ", "||", " ", 
           RowBox[{"!", " ", 
            RowBox[{"ListQ", "[", "list2", "]"}]}]}], ",", " ", "\n", "    ", 
          
          RowBox[{
           RowBox[{
           "Print", "[", 
            "\"\<pdfHessianCorrelationfake: both arguments must be lists\>\"",
             "]"}], ";", " ", "Return"}]}], "]"}], ";", "\n", "   ", 
        RowBox[{"If", "[", 
         RowBox[{
          RowBox[{
           RowBox[{"Length", "[", "list1", "]"}], " ", "!=", " ", 
           RowBox[{"Length", "[", "list2", "]"}]}], ",", "\n", "    ", 
          RowBox[{"Print", "[", 
           RowBox[{
           "\"\<Problem: length of the lists do not match, \>\"", ",", " ", 
            "\n", "     ", 
            RowBox[{"Length", "[", "list1", "]"}], " ", ",", " ", 
            "\"\<!=\>\"", ",", " ", 
            RowBox[{
             RowBox[{"Length", "[", "list2", "]"}], ";", " ", "Return"}]}], 
           "]"}]}], "\n", "    ", "]"}], ";", "\n", "   ", 
        RowBox[{"Neigen", " ", "=", " ", 
         RowBox[{"Length", "[", "list1", "]"}]}], ";", "\n", "   ", 
        RowBox[{"If", "[", 
         RowBox[{
          RowBox[{"EvenQ", "[", "Neigen", "]"}], ",", " ", 
          RowBox[{
           RowBox[{"Print", "[", 
            RowBox[{
            "\"\<Stop, an even number of eigenvectors: \>\"", ",", " ", 
             "Neigen"}], "]"}], ";", " ", "Return"}]}], "]"}], ";", "\n", 
        "   ", 
        RowBox[{
         RowBox[{"{", 
          RowBox[{"PDFerror1", ",", " ", "PDFerror2"}], "}"}], " ", "=", " ", 
         
         RowBox[{
          RowBox[{
           RowBox[{"Max", "[", 
            RowBox[{
             RowBox[{"pdfHessianSymErrorfake", "[", "#", "]"}], ",", " ", 
             RowBox[{"10", "^", 
              RowBox[{"-", "8"}]}]}], "]"}], " ", "&"}], " ", "/@", " ", 
          RowBox[{"{", 
           RowBox[{"list1", ",", " ", "list2"}], "}"}]}]}], ";", "\n", "   ", 
        
        RowBox[{
         RowBox[{"1", "/", 
          RowBox[{"(", 
           RowBox[{"PDFerror1", " ", "PDFerror2"}], ")"}]}], " ", 
         RowBox[{"1", "/", "4"}], " ", 
         RowBox[{"Sum", "[", 
          RowBox[{
           RowBox[{
            RowBox[{"(", 
             RowBox[{
              RowBox[{"list1", "[", 
               RowBox[{"[", 
                RowBox[{
                 RowBox[{"2", "*", "iset"}], " ", "+", " ", "1"}], "]"}], 
               "]"}], " ", "-", " ", 
              RowBox[{"list1", "[", 
               RowBox[{"[", 
                RowBox[{"2", "*", "iset"}], "]"}], "]"}]}], ")"}], "*", 
            RowBox[{"(", 
             RowBox[{
              RowBox[{"list2", "[", 
               RowBox[{"[", 
                RowBox[{
                 RowBox[{"2", "*", "iset"}], " ", "+", " ", "1"}], "]"}], 
               "]"}], " ", "-", " ", 
              RowBox[{"list2", "[", 
               RowBox[{"[", 
                RowBox[{"2", "*", "iset"}], "]"}], "]"}]}], ")"}]}], ",", " ", 
           RowBox[{"{", 
            RowBox[{"iset", ",", " ", "1", ",", " ", 
             RowBox[{
              RowBox[{"(", 
               RowBox[{"Neigen", " ", "-", " ", "1"}], ")"}], "/", "2"}]}], 
            "}"}]}], "]"}]}]}]}], "\n", "   ", "]"}]}], ";"}], "\n", 
   "\n"}]}]], "Input",
 InitializationCell->True],

Cell[BoxData[
 RowBox[{
  RowBox[{"(*", 
   RowBox[{
    RowBox[{
     RowBox[{"input", ":", " ", "obsALF"}], "=", 
     RowBox[{"{", 
      RowBox[{
       RowBox[{"LF", "[", 
        RowBox[{"N", " ", "elements"}], "]"}], ",", "..."}], "}"}]}], ",", 
    " ", 
    RowBox[{"obsBLF", ":", " ", 
     RowBox[{"same", " ", "as", " ", "obsALF"}]}]}], "*)"}], "\n", 
  RowBox[{"(*", 
   RowBox[{"output", " ", "list", " ", "of", " ", 
    RowBox[{"correlation", ":", " ", 
     RowBox[{"{", 
      RowBox[{"corr1", ",", "corr2", ",", "corr3", ",", 
       RowBox[{"...", "..."}]}], "}"}]}]}], "*)"}], "\n", 
  RowBox[{"(*", 
   RowBox[{
   "2017.01", ".12", " ", "not", " ", "yet", " ", "consider", " ", "MC", " ", 
    "correlation", " ", "part"}], "*)"}], "\n", 
  RowBox[{
   RowBox[{
    RowBox[{
     RowBox[{"corrAB", "[", 
      RowBox[{"obsALFin_", ",", "obsBLFin_"}], "]"}], ":=", "\n", 
     RowBox[{"Module", "[", 
      RowBox[{
       RowBox[{"{", 
        RowBox[{
         RowBox[{"obsALF", "=", "obsALFin"}], ",", 
         RowBox[{"obsBLF", "=", "obsBLFin"}], ",", "NA", ",", "NB", ",", 
         "NptA", ",", "NptB", ",", "Npt", ",", "correlation"}], "}"}], ",", 
       "\n", 
       RowBox[{
        RowBox[{"NA", "=", 
         RowBox[{"Length", "[", 
          RowBox[{"obsALF", "[", 
           RowBox[{"[", "1", "]"}], "]"}], " ", "]"}]}], ";", "\n", 
        RowBox[{"NB", "=", 
         RowBox[{"Length", "[", 
          RowBox[{"obsBLF", "[", 
           RowBox[{"[", "1", "]"}], "]"}], " ", "]"}]}], ";", "\n", 
        RowBox[{"If", "[", 
         RowBox[{
          RowBox[{"NA", "!=", "NB"}], ",", 
          RowBox[{
           RowBox[{
           "Print", "[", 
            "\"\<error, two observables has different length\>\"", "]"}], ";", 
           RowBox[{"Return", "[", "0", "]"}]}]}], " ", "]"}], ";", "\n", 
        RowBox[{"(*", 
         RowBox[{"#", " ", "of", " ", "points"}], "*)"}], "\n", 
        RowBox[{"NptA", "=", 
         RowBox[{"Length", "[", "obsALF", "]"}]}], ";", "\n", 
        RowBox[{"NptB", "=", 
         RowBox[{"Length", "[", "obsALF", "]"}]}], ";", "\n", 
        RowBox[{"If", "[", 
         RowBox[{
          RowBox[{"NptA", "!=", "NptB"}], ",", 
          RowBox[{
           RowBox[{
           "Print", "[", 
            "\"\<error, two observables has different #points\>\"", "]"}], 
           ";", 
           RowBox[{"Return", "[", "0", "]"}]}]}], " ", "]"}], ";", "\n", 
        RowBox[{"Npt", "=", "NptA"}], ";", "\n", "\n", 
        RowBox[{"(*", 
         RowBox[{
         "calculate", " ", "correlation", " ", "for", " ", "all", " ", 
          "points"}], "*)"}], "\n", 
        RowBox[{"correlation", "=", 
         RowBox[{"Table", "[", "\n", 
          RowBox[{
           RowBox[{"pdfHessianCorrelationfake", "[", 
            RowBox[{
             RowBox[{
              RowBox[{"obsALF", "[", 
               RowBox[{"[", "ix", "]"}], "]"}], "/.", 
              RowBox[{"LF", "->", "List"}]}], ",", 
             RowBox[{
              RowBox[{"obsBLF", "[", 
               RowBox[{"[", "ix", "]"}], "]"}], "/.", 
              RowBox[{"LF", "->", "List"}]}]}], "]"}], ",", "\n", 
           RowBox[{"{", 
            RowBox[{"ix", ",", "1", ",", "Npt"}], "}"}]}], "]"}]}], ";", "\n", 
        RowBox[{"(*", 
         RowBox[{
         "output", " ", "the", " ", "list", " ", "of", " ", "correlation", 
          " ", "for", " ", "all", " ", "points"}], "*)"}], "\n", 
        "correlation"}]}], "\n", "]"}]}], ";"}], "\n"}]}]], "Input",
 InitializationCell->True]
}, Open  ]]
}, Open  ]],

Cell[CellGroupData[{

Cell["\<\
calculate correlation function (specific for corr(f(x,Q,flavour), obs(x,Q)), \
obs==residual, deltaR*residual)
and LF[x,Q,deltaR] data,
they are for plots of default\
\>", "Section",
 CellChangeTimes->{{3.7183384925564747`*^9, 3.718338499797812*^9}}],

Cell[CellGroupData[{

Cell["corrfxQresiduesamept class", "Subsection"],

Cell[BoxData[
 RowBox[{
  RowBox[{"(*", 
   RowBox[{
    RowBox[{
     RowBox[{
     "input", " ", "a", " ", "dtadata", " ", "class", " ", "with", " ", 
      "data"}], "\[Equal]", 
     RowBox[{
      RowBox[{"{", 
       RowBox[{
        RowBox[{"LF", "[", 
         RowBox[{"x", ",", "Q", ",", "obs1", ",", "obs2", ",", 
          RowBox[{"...", "obsNset"}]}], "]"}], ",", "..."}], "}"}], "\n", 
      "and", " ", "a", " ", "fxQsameptdata", " ", "class", " ", "with", " ", 
      "data"}], "\[Equal]", 
     RowBox[{"{", 
      RowBox[{
       RowBox[{"LF", "[", 
        RowBox[{"x", ",", "Q", ",", 
         RowBox[{"f", 
          RowBox[{"(", 
           RowBox[{"x", ",", "Q", ",", "flavour", ",", "iset1"}], ")"}]}], 
         ",", "...", ",", 
         RowBox[{"f", 
          RowBox[{"(", 
           RowBox[{"x", ",", "Q", ",", "flavour", ",", "Nset"}], ")"}]}]}], 
        "]"}], ",", "..."}], "}"}]}], ",", "\n", 
    RowBox[{
     RowBox[{
      RowBox[{"the", " ", "function", " ", "assume", " ", 
       RowBox[{"{", 
        RowBox[{"x", ",", "Q"}], "}"}], " ", "of", " ", "dtadataclass"}], " ",
       "&"}], " ", "fxQsameptdataclass", " ", "are", " ", "the", " ", "same", 
     "\n", "output", " ", "the", " ", "corrsameptdata", " ", "class"}]}], 
   "*)"}], "\n", 
  RowBox[{
   RowBox[{
    RowBox[{"corrfxQdtaobs", "[", 
     RowBox[{"dtadataclassin_", ",", "fxQsameptdataclassin_"}], "]"}], ":=", 
    "\n", 
    RowBox[{"Module", "[", 
     RowBox[{
      RowBox[{"{", 
       RowBox[{
        RowBox[{"dtadataclass", "=", "dtadataclassin"}], ",", 
        RowBox[{"fxQsameptdataclass", "=", "fxQsameptdataclassin"}], ",", 
        "corrsameptdatatmp", ",", "obsALF", ",", "obsBLF", ",", "corrdatatmp",
         ",", "Npt", ",", "x", ",", "Q"}], "}"}], ",", "\n", 
      RowBox[{"(*", 
       RowBox[{
       "set", " ", "info", " ", "part", " ", "of", " ", "output", " ", 
        "class"}], "*)"}], "\n", 
      RowBox[{
       RowBox[{"corrsameptdatatmp", "=", "Corrsameptdata"}], ";", "\n", 
       RowBox[{
        RowBox[{"corrsameptdatatmp", "[", 
         RowBox[{"[", "\"\<exptinfo\>\"", "]"}], "]"}], "=", 
        RowBox[{"dtadataclass", "[", 
         RowBox[{"[", "\"\<exptinfo\>\"", "]"}], "]"}]}], ";", "\n", 
       RowBox[{
        RowBox[{"corrsameptdatatmp", "[", 
         RowBox[{"[", "\"\<PDFinfo\>\"", "]"}], "]"}], "=", 
        RowBox[{"dtadataclass", "[", 
         RowBox[{"[", "\"\<PDFinfo\>\"", "]"}], "]"}]}], ";", "\n", 
       RowBox[{"(*", 
        RowBox[{"set", " ", "f", 
         RowBox[{"(", 
          RowBox[{"x", ",", "Q"}], ")"}], " ", "data", " ", 
         RowBox[{"(", 
          RowBox[{
           RowBox[{"delete", " ", "x"}], ",", 
           RowBox[{"Q", " ", "part", " ", "of", " ", "data"}]}], ")"}]}], 
        "*)"}], "\n", 
       RowBox[{"obsALF", "=", 
        RowBox[{"LFdelete", "[", 
         RowBox[{
          RowBox[{"fxQsameptdataclass", "[", 
           RowBox[{"[", "\"\<data\>\"", "]"}], "]"}], ",", 
          RowBox[{"{", 
           RowBox[{
            RowBox[{"{", "1", "}"}], ",", 
            RowBox[{"{", "2", "}"}]}], "}"}]}], "]"}]}], ";", "\n", 
       RowBox[{"(*", 
        RowBox[{"set", " ", "obs", " ", "data"}], "*)"}], "\n", 
       RowBox[{"obsBLF", "=", 
        RowBox[{"LFdelete", "[", 
         RowBox[{
          RowBox[{"dtadataclass", "[", 
           RowBox[{"[", "\"\<data\>\"", "]"}], "]"}], ",", 
          RowBox[{"{", 
           RowBox[{
            RowBox[{"{", "1", "}"}], ",", 
            RowBox[{"{", "2", "}"}]}], "}"}]}], "]"}]}], ";", "\n", "\n", 
       RowBox[{"(*", 
        RowBox[{"calculate", " ", "correlation"}], "*)"}], "\n", 
       RowBox[{"corrdatatmp", "=", 
        RowBox[{"corrAB", "[", 
         RowBox[{"obsALF", ",", "obsBLF"}], "]"}]}], ";", "\n", 
       RowBox[{"(*", 
        RowBox[{
         RowBox[{"{", 
          RowBox[{
           RowBox[{"corr", 
            RowBox[{"(", 
             RowBox[{"x1", ",", "Q1"}], ")"}]}], ",", "..."}], "}"}], 
         "\[Rule]", 
         RowBox[{"{", 
          RowBox[{"LF", "[", 
           RowBox[{"x", ",", "Q", ",", 
            RowBox[{"corr", 
             RowBox[{"(", 
              RowBox[{"x1", ",", "Q1"}], ")"}]}]}], "]"}], "}"}]}], "*)"}], 
       "\n", 
       RowBox[{"Npt", "=", 
        RowBox[{"Length", "[", "obsALF", "]"}]}], ";", "\n", 
       RowBox[{"corrdatatmp", "=", "\n", 
        RowBox[{"Table", "[", "\n", 
         RowBox[{"(*", 
          RowBox[{
           RowBox[{
            RowBox[{"assume", " ", 
             RowBox[{"{", 
              RowBox[{"x", ",", "Q"}], "}"}], " ", "of", " ", 
             "dtadataclass"}], " ", "&"}], " ", "fxQsameptdataclass", " ", 
           "are", " ", "the", " ", "same"}], "*)"}], "\n", 
         RowBox[{
          RowBox[{
           RowBox[{"x", "=", 
            RowBox[{
             RowBox[{"dtadataclass", "[", 
              RowBox[{"[", "\"\<data\>\"", "]"}], "]"}], "[", 
             RowBox[{"[", 
              RowBox[{"ix", ",", "1"}], "]"}], "]"}]}], ";", "\n", 
           RowBox[{"Q", "=", 
            RowBox[{
             RowBox[{"dtadataclass", "[", 
              RowBox[{"[", "\"\<data\>\"", "]"}], "]"}], "[", 
             RowBox[{"[", 
              RowBox[{"ix", ",", "2"}], "]"}], "]"}]}], ";", "\n", 
           RowBox[{"LF", "[", 
            RowBox[{"x", ",", "Q", ",", 
             RowBox[{"corrdatatmp", "[", 
              RowBox[{"[", "ix", "]"}], "]"}]}], " ", "]"}]}], "\n", ",", 
          "\n", 
          RowBox[{"{", 
           RowBox[{"ix", ",", "1", ",", "Npt"}], "}"}]}], "\n", "]"}]}], ";", 
       "\n", "\n", 
       RowBox[{
        RowBox[{"corrsameptdatatmp", "[", 
         RowBox[{"[", "\"\<data\>\"", "]"}], "]"}], "=", "corrdatatmp"}], ";",
        "\n", 
       RowBox[{
        RowBox[{"corrsameptdatatmp", "[", 
         RowBox[{"[", "\"\<label\>\"", "]"}], "]"}], "=", 
        RowBox[{"{", 
         RowBox[{"\"\<x\>\"", ",", "\"\<Q\>\"", ",", "\"\<corr\>\""}], 
         "}"}]}], ";", "\n", 
       RowBox[{"(*", "output", "*)"}], "\n", "corrsameptdatatmp"}]}], "\n", 
     RowBox[{"(*", "\n", 
      RowBox[{"{", 
       RowBox[{"obsALF", ",", "obsBLF", ",", "corrdatatmp"}], "}"}], "\n", 
      "*)"}], "\n", "]"}]}], ";"}]}]], "Input",
 InitializationCell->True],

Cell[BoxData[
 RowBox[{
  RowBox[{"(*", 
   RowBox[{
    RowBox[{
     RowBox[{
     "input", " ", "a", " ", "dtadata", " ", "class", " ", "with", " ", 
      "data"}], "\[Equal]", 
     RowBox[{
      RowBox[{"{", 
       RowBox[{
        RowBox[{"LF", "[", 
         RowBox[{"x", ",", "Q", ",", "obs1", ",", "obs2", ",", 
          RowBox[{"...", "obsNset"}]}], "]"}], ",", "..."}], "}"}], "\n", 
      "and", " ", "a", " ", "fxQsameptdata", " ", "class", " ", "with", " ", 
      "data"}], "\[Equal]", 
     RowBox[{"{", 
      RowBox[{
       RowBox[{"LF", "[", 
        RowBox[{"x", ",", "Q", ",", 
         RowBox[{"f", 
          RowBox[{"(", 
           RowBox[{"x", ",", "Q", ",", "flavour", ",", "iset1"}], ")"}]}], 
         ",", "...", ",", 
         RowBox[{"f", 
          RowBox[{"(", 
           RowBox[{"x", ",", "Q", ",", "flavour", ",", "Nset"}], ")"}]}]}], 
        "]"}], ",", "..."}], "}"}]}], ",", "\n", 
    RowBox[{
     RowBox[{
      RowBox[{"the", " ", "function", " ", "assume", " ", 
       RowBox[{"{", 
        RowBox[{"x", ",", "Q"}], "}"}], " ", "of", " ", "dtadataclass"}], " ",
       "&"}], " ", "fxQsameptdataclass", " ", "are", " ", "the", " ", "same", 
     "\n", "output", " ", "the", " ", "corrsameptdata", " ", "class", " ", 
     "with", " ", "dr"}]}], "*)"}], "\n", 
  RowBox[{
   RowBox[{"dRcorrfxQdtaobs", "[", 
    RowBox[{"dtadataclassin_", ",", "fxQsameptdataclassin_"}], "]"}], ":=", 
   "\n", 
   RowBox[{"Module", "[", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{
       RowBox[{"dtadataclass", "=", "dtadataclassin"}], ",", 
       RowBox[{"fxQsameptdataclass", "=", "fxQsameptdataclassin"}], ",", 
       "deltaR", ",", "Npt", ",", "Nset", ",", "output", ",", "drcorrtmp"}], 
      "}"}], ",", "\n", "\n", 
     RowBox[{
      RowBox[{"deltaR", "=", 
       RowBox[{"getdeltaR", "[", "dtadataclass", "]"}]}], ";", "\n", 
      RowBox[{"Npt", "=", 
       RowBox[{
        RowBox[{"Datamethods", "[", 
         RowBox[{"[", "\"\<getNpt\>\"", "]"}], "]"}], "[", "dtadataclass", 
        "]"}]}], ";", "\n", 
      RowBox[{"Nset", "=", 
       RowBox[{
        RowBox[{
         RowBox[{"Datamethods", "[", 
          RowBox[{"[", "\"\<getNcolumn\>\"", "]"}], "]"}], "[", 
         "dtadataclass", "]"}], "-", "2"}]}], ";", 
      RowBox[{"(*", 
       RowBox[{"Ncolumn", " ", "=", " ", 
        RowBox[{"Nset", " ", "+", " ", 
         RowBox[{"2", " ", 
          RowBox[{"(", 
           RowBox[{
            RowBox[{"x", "&"}], "Q"}], ")"}]}]}]}], "*)"}], "\n", "\n", 
      RowBox[{"drcorrtmp", "=", 
       RowBox[{"corrfxQdtaobs", "[", 
        RowBox[{"dtadataclass", ",", "fxQsameptdataclass"}], "]"}]}], ";", 
      "\n", 
      RowBox[{"(*", 
       RowBox[{
       "calculate", " ", "dr", "*", "corr", " ", "for", " ", "all", " ", 
        "points"}], "*)"}], "\n", 
      RowBox[{"Table", "[", "\n", 
       RowBox[{
        RowBox[{
         RowBox[{
          RowBox[{"drcorrtmp", "[", 
           RowBox[{"[", "\"\<data\>\"", "]"}], "]"}], "[", 
          RowBox[{"[", 
           RowBox[{"ix", ",", "3"}], "]"}], "]"}], "=", 
         RowBox[{
          RowBox[{
           RowBox[{"drcorrtmp", "[", 
            RowBox[{"[", "\"\<data\>\"", "]"}], "]"}], "[", 
           RowBox[{"[", 
            RowBox[{"ix", ",", "3"}], "]"}], "]"}], "*", 
          RowBox[{"deltaR", "[", 
           RowBox[{"[", "ix", "]"}], "]"}]}]}], ",", "\n", 
        RowBox[{"{", 
         RowBox[{"ix", ",", "1", ",", "Npt"}], "}"}]}], "\n", "]"}], ";", 
      "\n", "\n", "drcorrtmp"}]}], "\n", "]"}]}]}]], "Input",
 InitializationCell->True],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"corrfxQdtaresidue", "[", 
    RowBox[{"dtadataclassin_", ",", "fxQsameptdataclassin_"}], "]"}], ":=", 
   "\n", 
   RowBox[{"Module", "[", 
    RowBox[{
     RowBox[{"{", "}"}], ",", "\n", "\"\<testoutput\>\""}], "\n", "]"}]}], 
  "\n", "\n"}]], "Input",
 InitializationCell->True],

Cell[BoxData[
 RowBox[{
  RowBox[{"(*", 
   RowBox[{"input", " ", "a", " ", "class", " ", "with", " ", 
    RowBox[{"LF", "[", 
     RowBox[{"x", ",", "Q", ",", "iset1", ",", "...", ",", "Nset"}], "]"}]}], 
   "*)"}], "\n", 
  RowBox[{"(*", 
   RowBox[{"output", " ", "deltaR", " ", "as", " ", 
    RowBox[{"List", ":", " ", 
     RowBox[{"{", 
      RowBox[{"dR1", ",", "dR2", ",", 
       RowBox[{"...", "dR", " ", "Npt"}]}], "}"}]}]}], "*)"}], "\n", "\n", 
  RowBox[{
   RowBox[{"getdeltaR", "[", "dtadataclassin_", "]"}], ":=", "\n", 
   RowBox[{"Module", "[", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{
       RowBox[{"dtadataclass", "=", "dtadataclassin"}], ",", "Npt", ",", 
       "observable", ",", "deltaR", ",", "PDFerror1"}], "}"}], ",", "\n", 
     RowBox[{
      RowBox[{"Npt", "=", 
       RowBox[{
        RowBox[{"Datamethods", "[", 
         RowBox[{"[", "\"\<getNpt\>\"", "]"}], "]"}], "[", "dtadataclass", 
        "]"}]}], ";", "\n", 
      RowBox[{"(*", 
       RowBox[{"take", " ", "Nset", " ", "of", " ", "observables", " ", 
        RowBox[{"(", 
         RowBox[{
          RowBox[{"delete", " ", "x"}], ",", "Q"}], ")"}]}], "*)"}], "\n", 
      RowBox[{"(*", 
       RowBox[{"{", 
        RowBox[{
         RowBox[{"LF", "[", 
          RowBox[{"iset", ",", "...", ",", "Nset"}], "]"}], ",", "..."}], 
        "}"}], "*)"}], "\n", 
      RowBox[{"observable", "=", 
       RowBox[{
        RowBox[{"Datamethods", "[", 
         RowBox[{"[", "\"\<take\>\"", "]"}], "]"}], "[", 
        RowBox[{"dtadataclass", ",", 
         RowBox[{"{", 
          RowBox[{"3", ",", 
           RowBox[{"-", "1"}]}], "}"}]}], "]"}]}], ";", "\n", 
      RowBox[{"observable", "=", 
       RowBox[{
        RowBox[{"Datamethods", "[", 
         RowBox[{"[", "\"\<tolist\>\"", "]"}], "]"}], "[", "observable", 
        "]"}]}], ";", "\n", "\n", 
      RowBox[{"deltaR", "=", "\n", 
       RowBox[{"Table", "[", "\n", 
        RowBox[{
         RowBox[{"PDFerror1", "=", " ", 
          RowBox[{"Max", "[", 
           RowBox[{
            RowBox[{"pdfHessianSymErrorfake", "[", 
             RowBox[{"observable", "[", 
              RowBox[{"[", "ix", "]"}], "]"}], " ", "]"}], ",", " ", 
            RowBox[{"10", "^", 
             RowBox[{"-", "8"}]}]}], "]"}]}], ",", "\n", 
         RowBox[{"{", 
          RowBox[{"ix", ",", "1", ",", "Npt"}], "}"}]}], "]"}]}], ";", "\n", 
      "deltaR"}]}], "\n", "]"}]}]}]], "Input",
 InitializationCell->True],

Cell[BoxData[
 RowBox[{
  RowBox[{"getdeltaRclass", "[", "dtadataclassin_", "]"}], ":=", "\n", 
  RowBox[{"Module", "[", 
   RowBox[{
    RowBox[{"{", 
     RowBox[{
      RowBox[{"dtadataclass", "=", "dtadataclassin"}], ",", "Npt", ",", 
      "observable", ",", "deltaR", ",", "PDFerror1"}], "}"}], ",", "\n", 
    RowBox[{
     RowBox[{"Npt", "=", 
      RowBox[{
       RowBox[{"Datamethods", "[", 
        RowBox[{"[", "\"\<getNpt\>\"", "]"}], "]"}], "[", "dtadataclass", 
       "]"}]}], ";", "\n", 
     RowBox[{"(*", 
      RowBox[{"take", " ", "Nset", " ", "of", " ", "observables", " ", 
       RowBox[{"(", 
        RowBox[{
         RowBox[{"delete", " ", "x"}], ",", "Q"}], ")"}]}], "*)"}], "\n", 
     RowBox[{"(*", 
      RowBox[{"{", 
       RowBox[{
        RowBox[{"LF", "[", 
         RowBox[{"iset", ",", "...", ",", "Nset"}], "]"}], ",", "..."}], 
       "}"}], "*)"}], "\n", 
     RowBox[{"observable", "=", 
      RowBox[{
       RowBox[{"Datamethods", "[", 
        RowBox[{"[", "\"\<take\>\"", "]"}], "]"}], "[", 
       RowBox[{"dtadataclass", ",", 
        RowBox[{"{", 
         RowBox[{"1", ",", "2"}], "}"}]}], "]"}]}], ";", "\n", 
     RowBox[{"deltaR", "=", 
      RowBox[{"getdeltaR", "[", "dtadataclass", "]"}]}], ";", "\n", 
     RowBox[{"(*", 
      RowBox[{"transf", " ", "to", " ", 
       RowBox[{"{", 
        RowBox[{
         RowBox[{"LF", "[", "]"}], ",", 
         RowBox[{"LF", "[", "]"}], ",", "..."}], "}"}]}], "*)"}], "\n", 
     RowBox[{"deltaR", "=", "\n", 
      RowBox[{"Table", "[", 
       RowBox[{
        RowBox[{"LF", "[", 
         RowBox[{"deltaR", "[", 
          RowBox[{"[", "ix", "]"}], "]"}], " ", "]"}], ",", 
        RowBox[{"{", 
         RowBox[{"ix", ",", "1", ",", "Npt"}], "}"}]}], "]"}]}], ";", "\n", 
     "\n", 
     RowBox[{"(*", 
      RowBox[{
       RowBox[{"{", 
        RowBox[{"x", ",", "Q"}], "}"}], " ", "+", " ", 
       RowBox[{"{", "deltaR", "}"}]}], "*)"}], "\n", 
     RowBox[{"observable", "=", 
      RowBox[{
       RowBox[{"Datamethods", "[", 
        RowBox[{"[", "\"\<add\>\"", "]"}], "]"}], "[", 
       RowBox[{"observable", ",", "deltaR", ",", 
        RowBox[{"{", "\"\<deltaR\>\"", "}"}]}], "]"}]}], ";", "\n", "\n", 
     "observable"}]}], "\n", "]"}]}]], "Code"],

Cell[BoxData[
 RowBox[{"corrfxQresiduesamept", "=", "\n", 
  RowBox[{"<|", "\n", 
   RowBox[{
    RowBox[{"\"\<corrsamept\>\"", "->", "corrfxQdtaobs"}], ",", "\n", 
    RowBox[{"\"\<dRcorrsamept\>\"", "->", "dRcorrfxQdtaobs"}], ",", "\n", 
    RowBox[{"\"\<deltaR\>\"", "->", "getdeltaR"}], ",", "\n", 
    RowBox[{"\"\<residue\>\"", "->", "corrfxQdtaresidue"}]}], "\n", 
   "|>"}]}]], "Input",
 InitializationCell->True]
}, Open  ]]
}, Open  ]]
}, Open  ]],

Cell[CellGroupData[{

Cell["read/write class", "Chapter"],

Cell[CellGroupData[{

Cell["IO of a general data class", "Section"],

Cell[CellGroupData[{

Cell["\<\
IO number transform: always transform a number into scientific notation\
\>", "Subsection"],

Cell[BoxData[
 RowBox[{
  RowBox[{"(*", 
   RowBox[{
    RowBox[{
    "show", " ", "a", " ", "number", " ", "to", " ", "scientific", " ", 
     RowBox[{"form", ":", " ", "ex", ":", " ", "312.5"}]}], " ", "\[Rule]", 
    " ", 
    RowBox[{"3.125", "E2"}]}], "*)"}], "\n", 
  RowBox[{
   RowBox[{
    RowBox[{"ToSciForm", "[", 
     RowBox[{"N_", ",", "decimal_"}], "]"}], ":=", "\n", 
    RowBox[{"Module", "[", 
     RowBox[{
      RowBox[{"{", "output", "}"}], ",", "\n", 
      RowBox[{
       RowBox[{"output", "=", 
        RowBox[{"ScientificForm", "[", 
         RowBox[{"N", ",", "decimal", ",", 
          RowBox[{"NumberFormat", "->", 
           RowBox[{"(", 
            RowBox[{
             RowBox[{"Row", "[", 
              RowBox[{"{", 
               RowBox[{"#1", ",", "\"\<E\>\"", ",", "#3"}], "}"}], "]"}], 
             "&"}], ")"}]}]}], "]"}]}], ";", "\n", 
       RowBox[{"(*", 
        RowBox[{
         RowBox[{"case", ":", " ", 
          RowBox[{"if", " ", "becom", " ", "N1E"}]}], ",", " ", 
         RowBox[{"it", " ", "means", " ", "N1E0"}], ",", " ", 
         RowBox[{
          RowBox[{"ex", ":", " ", 
           RowBox[{"3.55", "E", " ", "means", " ", "3.55", "*", 
            RowBox[{"10", "^", "0"}]}]}], " ", "=", " ", 
          RowBox[{"3.55", "E0"}]}]}], "*)"}], "\n", 
       RowBox[{"If", "[", 
        RowBox[{
         RowBox[{
          RowBox[{"Length", "[", 
           RowBox[{"StringSplit", "[", 
            RowBox[{
             RowBox[{"ToString", "[", "output", "]"}], ",", "\"\<E\>\""}], 
            "]"}], " ", "]"}], " ", "==", "1"}], ",", 
         RowBox[{"output", "=", 
          RowBox[{"ScientificForm", "[", 
           RowBox[{"N", ",", "decimal", ",", 
            RowBox[{"NumberFormat", "->", 
             RowBox[{"(", 
              RowBox[{
               RowBox[{"Row", "[", 
                RowBox[{"{", 
                 RowBox[{"#1", ",", "\"\<E\>\"", ",", "\"\<0\>\""}], "}"}], 
                "]"}], "&"}], ")"}]}]}], "]"}]}]}], " ", "]"}], ";", "\n", 
       RowBox[{"(*", 
        RowBox[{
         RowBox[{"case", " ", "of", " ", "0"}], ",", " ", 
         RowBox[{"it", " ", "will", " ", "transf", " ", "to", " ", "0", "E"}],
          ",", " ", 
         RowBox[{
         "so", " ", "we", " ", "need", " ", "to", " ", "modify", " ", "to", 
          " ", "0", "E0"}]}], "*)"}], "\n", 
       RowBox[{"(*", "\n", 
        RowBox[{
         RowBox[{"If", "[", 
          RowBox[{
           RowBox[{
            RowBox[{"N", "\[Equal]", "0"}], " ", "||", " ", 
            RowBox[{"(", 
             RowBox[{
              RowBox[{
               RowBox[{"Abs", "[", "N", "]"}], "\[GreaterEqual]", "1"}], " ", 
              "&&", " ", 
              RowBox[{
               RowBox[{"Abs", "[", "N", "]"}], "<", "10"}]}], ")"}]}], ",", 
           RowBox[{"output", "=", 
            RowBox[{"ScientificForm", "[", 
             RowBox[{"N", ",", "decimal", ",", 
              RowBox[{"NumberFormat", "\[Rule]", 
               RowBox[{"(", 
                RowBox[{
                 RowBox[{"Row", "[", 
                  RowBox[{"{", 
                   RowBox[{"#1", ",", "\"\<E\>\"", ",", "\"\<0\>\""}], "}"}], 
                  "]"}], "&"}], ")"}]}]}], "]"}]}]}], " ", "]"}], ";"}], "\n",
         "*)"}], "\n", "output"}]}], "\n", "]"}]}], "\n", "\n", 
   RowBox[{"(*", 
    RowBox[{
     RowBox[{
     "transf", " ", "a", " ", "string", " ", "of", " ", "scientific", " ", 
      "notation", " ", "to", " ", "number"}], ",", " ", 
     RowBox[{
      RowBox[{"ex", ":", " ", "\"\<3.125E2\>\""}], " ", "\[Rule]", " ", 
      "312.5"}]}], "*)"}], "\n", 
   RowBox[{"(*", 
    RowBox[{
     RowBox[{
     "mathematica", " ", "could", " ", "not", " ", "transf", " ", "it"}], 
     ","}], " ", "*)"}], "\n", 
   RowBox[{
    RowBox[{"SciStrToNumber", "[", "str_", "]"}], ":=", "\n", 
    RowBox[{"Module", "[", 
     RowBox[{
      RowBox[{"{", "strtmp", "}"}], ",", "\n", 
      RowBox[{
       RowBox[{"strtmp", "=", 
        RowBox[{"StringSplit", "[", 
         RowBox[{"str", ",", "\"\<E\>\""}], "]"}]}], ";", "\n", 
       RowBox[{"If", "[", 
        RowBox[{
         RowBox[{
          RowBox[{"Length", "[", "strtmp", "]"}], "!=", "2"}], ",", 
         RowBox[{"Print", "[", 
          RowBox[{
          "\"\<error, input is not a number with scientific notation, \>\"", 
           ",", "str"}], "]"}]}], " ", "]"}], ";", "\n", 
       RowBox[{"ToExpression", "[", 
        RowBox[{
         RowBox[{"strtmp", "[", 
          RowBox[{"[", "1", "]"}], "]"}], "<>", "\"\<*\>\"", "<>", 
         "\"\<10^\>\"", "<>", 
         RowBox[{"strtmp", "[", 
          RowBox[{"[", "2", "]"}], "]"}]}], " ", "]"}]}]}], "\n", 
     "]"}]}]}]}]], "Input",
 InitializationCell->True]
}, Open  ]],

Cell["write data class", "Subsection"],

Cell["read data class", "Subsection"]
}, Open  ]],

Cell[CellGroupData[{

Cell["IO of fxQdata class", "Section"],

Cell[BoxData[
 RowBox[{"(*", 
  RowBox[{"fxQ", " ", "format", " ", "for", " ", 
   RowBox[{"IO", ":", "\n", 
    RowBox[{
     RowBox[{
      RowBox[{"pdfflavours", "[", 
       RowBox[{"[", "#flavour", "]"}], "]"}], "[", 
      RowBox[{"[", "Npt", "]"}], "]"}], "[", 
     RowBox[{"[", " ", 
      RowBox[{"x", ",", " ", "Q", ",", " ", 
       RowBox[{"{", 
        RowBox[{"#iset", " ", "of", " ", "pdf", 
         RowBox[{"(", 
          RowBox[{"x", ",", "Q"}], ")"}]}], "}"}]}], "]"}], "]"}]}]}], "\n", 
  "*)"}]], "Input"],

Cell[CellGroupData[{

Cell["write fxQdata class", "Subsection"],

Cell[BoxData[
 RowBox[{
  RowBox[{"(*", 
   RowBox[{
    RowBox[{"input", " ", "data", " ", 
     RowBox[{"format", ":", " ", 
      RowBox[{"{", 
       RowBox[{
        RowBox[{"LF", "[", 
         RowBox[{"x", ",", "Q", ",", "iset", ",", "...", ",", "Nset"}], "]"}],
         ",", 
        RowBox[{"LF", "[", "]"}], ",", "..."}], "}"}]}]}], ",", " ", 
    RowBox[{"transform", " ", 
     RowBox[{"it", "'"}], "s", " ", "data", " ", "to", " ", "format", " ", 
     "of", " ", "IO", " ", 
     RowBox[{"(", 
      RowBox[{"used", " ", "by", " ", "function", " ", "pdfwritesameptnew"}], 
      ")"}]}]}], "*)"}], "\n", 
  RowBox[{
   RowBox[{
    RowBox[{"LFtoIOformat", "[", "datain_", "]"}], ":=", "\n", 
    RowBox[{"Module", "[", 
     RowBox[{
      RowBox[{"{", 
       RowBox[{
        RowBox[{"data", "=", "datain"}], ",", "output"}], "}"}], ",", "\n", 
      RowBox[{
       RowBox[{"output", "=", 
        RowBox[{"data", "/.", 
         RowBox[{
          RowBox[{"LF", "[", "a__", "]"}], ":>", 
          RowBox[{"{", 
           RowBox[{
            RowBox[{
             RowBox[{"{", "a", "}"}], "[", 
             RowBox[{"[", "1", "]"}], "]"}], ",", 
            RowBox[{
             RowBox[{"{", "a", "}"}], "[", 
             RowBox[{"[", "2", "]"}], "]"}], ",", 
            RowBox[{"Take", "[", 
             RowBox[{
              RowBox[{"{", "a", "}"}], ",", 
              RowBox[{"{", 
               RowBox[{"3", ",", 
                RowBox[{"-", "1"}]}], "}"}]}], "]"}]}], "}"}]}]}]}], ";", 
       "\n", "output"}]}], "\n", "]"}]}], "\n", "\n", 
   RowBox[{
    RowBox[{"IOtoLFformat", "[", "datain_", "]"}], ":=", "\n", 
    RowBox[{"Module", "[", 
     RowBox[{
      RowBox[{"{", 
       RowBox[{
        RowBox[{"data", "=", "datain"}], ",", "Npt", ",", "Nset", ",", "fmax",
         ",", "x", ",", "Q", ",", "output"}], "}"}], ",", "\n", "\n", 
      RowBox[{
       RowBox[{"Npt", "=", 
        RowBox[{"Length", "[", "data", "]"}]}], ";", "\n", 
       RowBox[{"output", "=", "\n", 
        RowBox[{"Table", "[", "\n", 
         RowBox[{"(*", 
          RowBox[{"x", " ", "and", " ", "Q"}], "*)"}], "\n", 
         RowBox[{
          RowBox[{
           RowBox[{"x", "=", 
            RowBox[{"data", "[", 
             RowBox[{"[", 
              RowBox[{"ix", ",", "1"}], "]"}], "]"}]}], ";", 
           RowBox[{"Q", "=", 
            RowBox[{"data", "[", 
             RowBox[{"[", 
              RowBox[{"ix", ",", "2"}], "]"}], "]"}]}], ";", "\n", 
           RowBox[{"LF", "[", 
            RowBox[{"x", ",", "Q", ",", 
             RowBox[{"Sequence", "@@", 
              RowBox[{"data", "[", 
               RowBox[{"[", 
                RowBox[{"ix", ",", "3"}], "]"}], "]"}]}]}], " ", "]"}]}], ",",
           "\n", 
          RowBox[{"{", 
           RowBox[{"ix", ",", "1", ",", "Npt"}], "}"}]}], "\n", "]"}]}], ";", 
       "\n", "\n", "output"}]}], "\n", "]"}]}], "\n", 
   RowBox[{"(*", 
    RowBox[{
     RowBox[{"input", " ", "a", " ", "IO", " ", 
      RowBox[{"(", 
       RowBox[{"used", " ", "by", " ", "function", " ", "pdfwritesameptnew"}],
        ")"}]}], ",", " ", 
     RowBox[{"transform", " ", 
      RowBox[{"it", "'"}], "s", " ", "data", " ", "to", " ", "format", " ", 
      "of", " ", "fxQclass"}]}], "*)"}], "\n", 
   RowBox[{"(*", "\n", 
    RowBox[{
     RowBox[{"IOtofxQclassformat", "[", 
      RowBox[{
      "pdfflavoursin_", ",", "exptidin_", ",", "exptnamein_", ",", 
       "PDFnamein_", ",", "PDFsetmethodin_", ",", "flavourin_"}], "]"}], ":=",
      "\n", 
     RowBox[{"Module", "[", 
      RowBox[{
       RowBox[{"{", 
        RowBox[{
         RowBox[{"pdfflavours", "=", "pdfflavoursin"}], ",", "Npt", ",", 
         "Nset", ",", "fmax", ",", "x", ",", "Q", ",", "output"}], "}"}], ",",
        "\n", 
       RowBox[{"(*", 
        RowBox[{"set", " ", "variables"}], "*)"}], "\n", 
       RowBox[{
        RowBox[{"Npt", "=", 
         RowBox[{"Length", "[", 
          RowBox[{"pdfflavours", "[", 
           RowBox[{"[", "1", "]"}], "]"}], " ", "]"}]}], ";", 
        RowBox[{"(*", 
         RowBox[{
          RowBox[{
          "assume", " ", "all", " ", "points", " ", "have", " ", "the", " ", 
           "same", " ", "points"}], ",", " ", 
          RowBox[{
          "it", " ", "could", " ", "be", " ", "modified", " ", "to", " ", 
           "Npt", 
           RowBox[{"(", "flavour", ")"}]}]}], "*)"}], "\n", 
        RowBox[{"fmax", "=", 
         RowBox[{"Length", "[", "pdfflavours", "]"}]}], ";", 
        RowBox[{"(*", 
         RowBox[{"how", " ", "many", " ", "f", 
          RowBox[{"(", 
           RowBox[{"x", ",", "Q", ",", "flavour"}], ")"}], " ", "input"}], 
         "*)"}], "\n", 
        RowBox[{"Nset", "=", 
         RowBox[{"Length", "[", 
          RowBox[{"pdfflavours", "[", 
           RowBox[{"[", 
            RowBox[{"1", ",", "1", ",", "3"}], "]"}], "]"}], " ", "]"}]}], 
        ";", 
        RowBox[{"(*", "Nset", "*)"}], "\n", 
        RowBox[{"(*", "test", "*)"}], 
        RowBox[{"Print", "[", 
         RowBox[{"\"\<{Npt,fmax,Nset} = \>\"", ",", 
          RowBox[{"{", 
           RowBox[{"Npt", ",", "fmax", ",", "Nset"}], "}"}]}], "]"}], ";", 
        "\n", "\n", 
        RowBox[{"output", "=", "FxQsameptdata"}], ";", "\n", 
        RowBox[{"(*", 
         RowBox[{"set", " ", "info"}], "*)"}], "\n", 
        RowBox[{
         RowBox[{"output", "[", 
          RowBox[{"[", "\"\<label\>\"", "]"}], "]"}], "=", 
         RowBox[{"Join", "[", 
          RowBox[{
           RowBox[{"{", 
            RowBox[{"\"\<x\>\"", ",", "\"\<Q\>\""}], "}"}], ",", 
           RowBox[{"Table", "[", 
            RowBox[{
             RowBox[{"ToString", "[", "i", "]"}], ",", 
             RowBox[{"{", 
              RowBox[{"i", ",", "1", ",", "Nset"}], "}"}]}], "]"}]}], " ", 
          "]"}]}], ";", "\n", 
        RowBox[{
         RowBox[{"output", "[", 
          RowBox[{"[", 
           RowBox[{"\"\<exptinfo\>\"", ",", "\"\<exptid\>\""}], "]"}], "]"}], 
         "=", "exptid"}], ";", "\n", 
        RowBox[{
         RowBox[{"output", "[", 
          RowBox[{"[", 
           RowBox[{"\"\<exptinfo\>\"", ",", "\"\<exptname\>\""}], "]"}], 
          "]"}], "=", "exptname"}], ";", "\n", 
        RowBox[{
         RowBox[{"output", "[", 
          RowBox[{"[", 
           RowBox[{"\"\<PDFinfo\>\"", ",", "\"\<PDFname\>\""}], "]"}], "]"}], 
         "=", "PDFname"}], ";", "\n", 
        RowBox[{
         RowBox[{"output", "[", 
          RowBox[{"[", 
           RowBox[{"\"\<PDFinfo\>\"", ",", "\"\<PDFsetmethod\>\""}], "]"}], 
          "]"}], "=", "PDFsetmethod"}], ";", "\n", 
        RowBox[{
         RowBox[{"output", "[", 
          RowBox[{"[", 
           RowBox[{"\"\<PDFinfo\>\"", ",", "\"\<Nset\>\""}], "]"}], "]"}], 
         "=", "Nset"}], ";", "\n", 
        RowBox[{
         RowBox[{"output", "[", 
          RowBox[{"[", 
           RowBox[{"\"\<PDFinfo\>\"", ",", "\"\<flavour\>\""}], "]"}], "]"}], 
         "=", "flavour"}], ";", "\n", "\n", 
        RowBox[{
         RowBox[{"output", "[", 
          RowBox[{"[", "\"\<data\>\"", "]"}], "]"}], "=", "\n", 
         RowBox[{"Table", "[", "\n", 
          RowBox[{
           RowBox[{"Table", "[", "\n", 
            RowBox[{"(*", 
             RowBox[{"x", " ", "and", " ", "Q"}], "*)"}], "\n", 
            RowBox[{
             RowBox[{
              RowBox[{"x", "=", 
               RowBox[{"pdfflavours", "[", 
                RowBox[{"[", 
                 RowBox[{
                  RowBox[{"f", "+", "6"}], ",", "ix", ",", "1"}], "]"}], 
                "]"}]}], ";", 
              RowBox[{"Q", "=", 
               RowBox[{"pdfflavours", "[", 
                RowBox[{"[", 
                 RowBox[{
                  RowBox[{"f", "+", "6"}], ",", "ix", ",", "2"}], "]"}], 
                "]"}]}], ";", "\n", 
              RowBox[{"LF", "[", 
               RowBox[{"x", ",", "Q", ",", 
                RowBox[{"Sequence", "@@", 
                 RowBox[{"pdfflavours", "[", 
                  RowBox[{"[", 
                   RowBox[{
                    RowBox[{"f", "+", "6"}], ",", "ix", ",", "3"}], "]"}], 
                  "]"}]}]}], " ", "]"}]}], ",", "\n", 
             RowBox[{"{", 
              RowBox[{"ix", ",", "1", ",", "Npt"}], "}"}]}], "\n", "]"}], ",",
            "\n", 
           RowBox[{"{", 
            RowBox[{"f", ",", 
             RowBox[{"-", "5"}], ",", 
             RowBox[{
              RowBox[{"-", "5"}], "+", "fmax", "-", "1"}]}], "}"}]}], "\n", 
          "]"}]}], ";", "\n", "\n", "\n", "\n", "output"}]}], "\n", "]"}]}], 
    "\n", "*)"}]}]}]], "Input"],

Cell[BoxData["FxQsameptdata"], "Input",
 InitializationCell->True],

Cell[BoxData[
 RowBox[{
  RowBox[{"(*", 
   RowBox[{"PDFCorrelationplot", "[", 
    RowBox[{
    "MyCorrelations", ",", "\"\<corr g-chi\>\"", ",", "\"\<x\>\"", ",", 
     "\"\<Q\>\"", ",", 
     RowBox[{"{", 
      RowBox[{"0.00001", ",", "1", ",", "1", ",", "120"}], "}"}], ",", "0.2", 
     ",", "0.2"}], "]"}], "*)"}], "\n", 
  RowBox[{"(*", 
   RowBox[{"observablein", ":", " ", 
    RowBox[{"{", 
     RowBox[{
      RowBox[{"{", " ", 
       RowBox[{
        RowBox[{"{", 
         RowBox[{"x", ",", "Q"}], "}"}], ",", " ", 
        RowBox[{"{", 
         RowBox[{"obs1", ",", "obs2", ",", 
          RowBox[{"...", "obs", 
           RowBox[{"(", "iset", ")"}]}]}], "}"}]}], "}"}], ",", " ", 
      RowBox[{"{", " ", 
       RowBox[{
        RowBox[{"{", 
         RowBox[{"x", ",", "Q"}], "}"}], ",", " ", 
        RowBox[{"{", 
         RowBox[{"obs1", ",", "obs2", ",", 
          RowBox[{"...", "obs", 
           RowBox[{"(", "iset", ")"}]}]}], "}"}]}], "}"}], ",", "..."}], 
     "}"}]}], "*)"}], "\n", 
  RowBox[{"(*", 
   RowBox[{"datafilein", ":", " ", 
    RowBox[{"filename", " ", "used", " ", "to", " ", "store", " ", "data"}]}],
    "*)"}], "\n", 
  RowBox[{"(*", 
   RowBox[{
    RowBox[{"IO", " ", "test"}], ",", " ", 
    RowBox[{"scientific", " ", 
     RowBox[{"in", "/", "output"}], " ", "format", " ", "not", " ", 
     "supported", " ", "by", " ", "mathematica"}], ",", " ", 
    RowBox[{
    "we", " ", "can", " ", "use", " ", "NumberForm", " ", "to", " ", 
     "control", " ", "output", " ", "precision"}]}], " ", "*)"}], "\n", 
  RowBox[{
   RowBox[{
    RowBox[{
     RowBox[{"pdfwritesamept", "[", 
      RowBox[{"observablein_", ",", "ifamilyin_", ",", "datafilein_"}], "]"}],
      ":=", "\n", 
     RowBox[{"Module", "[", 
      RowBox[{
       RowBox[{"{", 
        RowBox[{
         RowBox[{"observable", "=", "observablein"}], ",", 
         RowBox[{"ifamily", "=", "ifamilyin"}], ",", 
         RowBox[{"datafile", "=", "datafilein"}], ",", "xQlist", ",", 
         "pdfflavours", ",", "x", ",", "Q", ",", "MyCorrelations", ",", "str",
          ",", "Nset", ",", "Nset2", ",", "xQstr", ",", "pdfisetstr", ",", 
         "fmax", ",", "outputprecision"}], "}"}], ",", "\n", "\n", 
       RowBox[{"(*", 
        RowBox[{"extract", " ", 
         RowBox[{"(", 
          RowBox[{"x", ",", "Q"}], ")"}], " ", "value", " ", "from", " ", 
         "observable"}], "*)"}], "\n", 
       RowBox[{
        RowBox[{"xQlist", "=", 
         RowBox[{"Flatten", "[", 
          RowBox[{
           RowBox[{"Take", "[", 
            RowBox[{"observable", ",", "All", ",", "1"}], "]"}], ",", "1"}], 
          "]"}]}], ";", "\n", "\n", 
        RowBox[{"(*", 
         RowBox[{"set", " ", "#iset"}], "*)"}], "\n", 
        RowBox[{"pdfSetActiveFamily", "[", "ifamily", "]"}], ";", " ", 
        RowBox[{"(*", " ", 
         RowBox[{"choose", " ", "PDF", " ", "family"}], " ", "*)"}], "\n", 
        RowBox[{"Nset", "=", 
         RowBox[{"Length", "[", 
          RowBox[{"pdfSetList", "[", 
           RowBox[{"[", "ifamily", "]"}], "]"}], " ", "]"}]}], " ", ";", 
        RowBox[{"(*", " ", 
         RowBox[{"number", " ", "of", " ", "PDF", " ", "sets"}], " ", "*)"}], 
        "\n", 
        RowBox[{"Nset2", "=", 
         RowBox[{"Length", "[", 
          RowBox[{"observable", "[", 
           RowBox[{"[", 
            RowBox[{"1", ",", "2"}], "]"}], "]"}], " ", "]"}]}], ";", "\n", 
        RowBox[{"If", "[", 
         RowBox[{
          RowBox[{"Nset", "!=", "Nset2"}], ",", 
          RowBox[{
          "Print", "[", 
           "\"\<error, info of #iset in observable and ifamily are \
different\>\"", "]"}]}], "]"}], ";", "\n", 
        RowBox[{"(*", 
         RowBox[{"set", " ", "fmax"}], "*)"}], "\n", 
        RowBox[{"fmax", "=", "11"}], ";", "\n", "\n", "\n", 
        RowBox[{"(*", 
         RowBox[{
          RowBox[{
          "generate", " ", "pdf", " ", "value", " ", "for", " ", "all", " ", 
           "flavour"}], ",", " ", 
          RowBox[{
           RowBox[{"(", 
            RowBox[{"x", ",", "Q"}], ")"}], " ", "points"}]}], "*)"}], "\n", 
        "\n", 
        RowBox[{"pdfflavours", "=", "\n", 
         RowBox[{"Table", "[", 
          RowBox[{
           RowBox[{
            RowBox[{"Print", "[", 
             RowBox[{"\"\<calculate pdf \>\"", ",", "flavour"}], "]"}], ";", 
            RowBox[{"pdflist", "[", 
             RowBox[{"xQlist", ",", "flavour", ",", "1"}], "]"}]}], ",", 
           RowBox[{"{", 
            RowBox[{"flavour", ",", 
             RowBox[{"-", "5"}], ",", "5"}], "}"}]}], "]"}]}], ";", 
        RowBox[{"(*", 
         RowBox[{"test", " ", 
          RowBox[{"mode", ":", " ", 
           RowBox[{"run", " ", "fast"}]}]}], "*)"}], "\n", "\n", 
        RowBox[{"(*", 
         RowBox[{"open", " ", "write"}], "*)"}], "\n", 
        RowBox[{"str", "=", 
         RowBox[{"OpenWrite", "[", "datafile", "]"}]}], ";", "\n", "\n", 
        RowBox[{"WriteString", "[", 
         RowBox[{"str", ",", 
          RowBox[{"\"\<#flavour: \>\"", "<>", 
           RowBox[{"ToString", "[", "fmax", "]"}], "<>", "\"\<  Npt: \>\"", "<>", 
           RowBox[{"ToString", "[", 
            RowBox[{"Length", "[", "xQlist", "]"}], " ", "]"}], "<>", 
           "\"\< #iset: \>\"", "<>", 
           RowBox[{"ToString", "[", "Nset", "]"}], "<>", " ", 
           "\"\<\\n\>\""}]}], "]"}], ";", "\n", "\n", "\n", 
        RowBox[{"Do", "[", "\n", 
         RowBox[{
          RowBox[{
           RowBox[{"WriteLine", "[", 
            RowBox[{"str", ",", 
             RowBox[{"\"\<flavour= \>\"", "<>", 
              RowBox[{"ToString", "[", "f", "]"}]}]}], " ", "]"}], ";", "\n", 
           
           RowBox[{"Do", "[", "\n", 
            RowBox[{"(*", 
             RowBox[{"x", " ", "and", " ", "Q"}], "*)"}], "\n", 
            RowBox[{
             RowBox[{
              RowBox[{"x", "=", 
               RowBox[{"xQlist", "[", 
                RowBox[{"[", 
                 RowBox[{"ix", ",", "1"}], "]"}], "]"}]}], ";", 
              RowBox[{"Q", "=", 
               RowBox[{"xQlist", "[", 
                RowBox[{"[", 
                 RowBox[{"ix", ",", "2"}], "]"}], "]"}]}], ";", "\n", 
              RowBox[{"xQstr", "=", 
               RowBox[{
                RowBox[{"ToString", "[", "x", "]"}], "<>", "\"\< \>\"", "<>", 
                
                RowBox[{"ToString", "[", "Q", "]"}]}]}], ";", "\n", 
              RowBox[{"(*", 
               RowBox[{"f", 
                RowBox[{"(", 
                 RowBox[{"x", ",", "Q"}], ")"}], " ", "for", " ", "all", " ", 
                "iset"}], "*)"}], "\n", 
              RowBox[{"pdfisetstr", "=", "\"\<\>\""}], ";", 
              RowBox[{"(*", 
               RowBox[{"ToString", " ", ">", " ", "StringJoin"}], "*)"}], 
              "\n", "\n", 
              RowBox[{"outputprecision", "=", "10"}], ";", "\n", 
              RowBox[{"(*", "\n", 
               RowBox[{
                RowBox[{"pdfisetstr", "=", 
                 RowBox[{
                  RowBox[{
                   RowBox[{"ToString", "[", "#", "]"}], "&"}], "/@", 
                  RowBox[{"NumberForm", "[", 
                   RowBox[{
                    RowBox[{"pdfflavours", "[", 
                    RowBox[{"[", 
                    RowBox[{
                    RowBox[{"f", "+", "6"}], ",", "ix", ",", "3"}], "]"}], 
                    "]"}], ",", "outputprecision"}], " ", "]"}]}]}], ";", 
                "\n", 
                RowBox[{"pdfisetstr", "=", 
                 RowBox[{
                  RowBox[{
                   RowBox[{"ToString", "[", 
                    RowBox[{"NumberForm", "[", 
                    RowBox[{"#", ",", "outputprecision"}], "]"}], "]"}], 
                   "&"}], "/@", 
                  RowBox[{"pdfflavours", "[", 
                   RowBox[{"[", 
                    RowBox[{
                    RowBox[{"f", "+", "6"}], ",", "ix", ",", "3"}], "]"}], 
                   "]"}]}]}], ";"}], "\n", "*)"}], "\n", 
              RowBox[{"pdfisetstr", "=", 
               RowBox[{
                RowBox[{
                 RowBox[{"ToString", "[", 
                  RowBox[{"ToSciForm", "[", 
                   RowBox[{"#", ",", "outputprecision"}], "]"}], "]"}], "&"}],
                 "/@", 
                RowBox[{"pdfflavours", "[", 
                 RowBox[{"[", 
                  RowBox[{
                   RowBox[{"f", "+", "6"}], ",", "ix", ",", "3"}], "]"}], 
                 "]"}]}]}], ";", "\n", 
              RowBox[{"pdfisetstr", "=", 
               RowBox[{
                RowBox[{
                 RowBox[{"StringJoin", "[", 
                  RowBox[{"#", ",", "\"\< \>\""}], "]"}], "&"}], "/@", 
                "pdfisetstr"}]}], ";", "\n", 
              RowBox[{"pdfisetstr", "=", 
               RowBox[{"StringJoin", "[", "pdfisetstr", "]"}]}], ";", "\n", 
              "\n", 
              RowBox[{"WriteLine", "[", 
               RowBox[{"str", ",", "xQstr"}], "]"}], ";", "\n", 
              RowBox[{"WriteLine", "[", 
               RowBox[{"str", ",", "pdfisetstr"}], "]"}], ";"}], "\n", "\n", 
             ",", "\n", 
             RowBox[{"{", 
              RowBox[{"ix", ",", "1", ",", 
               RowBox[{"Length", "[", "xQlist", "]"}]}], "}"}]}], "\n", "]"}],
            ";"}], ",", "\n", 
          RowBox[{"{", 
           RowBox[{"f", ",", 
            RowBox[{"-", "5"}], ",", "5"}], "}"}]}], "\n", "]"}], ";", "\n", 
        "\n", "\n", 
        RowBox[{"Close", "[", "str", "]"}], ";", "\n", "\n", 
        RowBox[{"(*", "\n", "pdfflavours", "\n", "*)"}], "\n", 
        RowBox[{"{", 
         RowBox[{"1", ",", "1", ",", "1"}], "}"}]}]}], "\n", "]"}]}], ";"}], 
   "\n", "\n", 
   RowBox[{
    RowBox[{
     RowBox[{"pdfwritesameptnew", "[", 
      RowBox[{"pdfflavoursin_", ",", "datafilein_"}], "]"}], ":=", "\n", 
     RowBox[{"Module", "[", 
      RowBox[{
       RowBox[{"{", 
        RowBox[{
         RowBox[{"pdfflavours", "=", "pdfflavoursin"}], ",", 
         RowBox[{"datafile", "=", "datafilein"}], ",", "x", ",", "Q", ",", 
         "str", ",", "Npt", ",", "Nset", ",", "Nset2", ",", "xQstr", ",", 
         "pdfisetstr", ",", "fmax", ",", "outputprecision"}], "}"}], ",", 
       "\n", "\n", 
       RowBox[{"(*", 
        RowBox[{"set", " ", "variables"}], "*)"}], "\n", 
       RowBox[{
        RowBox[{"Npt", "=", 
         RowBox[{"Length", "[", 
          RowBox[{"pdfflavours", "[", 
           RowBox[{"[", "1", "]"}], "]"}], " ", "]"}]}], ";", 
        RowBox[{"(*", 
         RowBox[{
          RowBox[{
          "assume", " ", "all", " ", "points", " ", "have", " ", "the", " ", 
           "same", " ", "points"}], ",", " ", 
          RowBox[{
          "it", " ", "could", " ", "be", " ", "modified", " ", "to", " ", 
           "Npt", 
           RowBox[{"(", "flavour", ")"}]}]}], "*)"}], "\n", 
        RowBox[{"fmax", "=", 
         RowBox[{"Length", "[", "pdfflavours", "]"}]}], ";", 
        RowBox[{"(*", 
         RowBox[{"how", " ", "many", " ", "f", 
          RowBox[{"(", 
           RowBox[{"x", ",", "Q", ",", "flavour"}], ")"}], " ", "input"}], 
         "*)"}], "\n", 
        RowBox[{"Nset", "=", 
         RowBox[{"Length", "[", 
          RowBox[{"pdfflavours", "[", 
           RowBox[{"[", 
            RowBox[{"1", ",", "1", ",", "3"}], "]"}], "]"}], " ", "]"}]}], 
        ";", 
        RowBox[{"(*", "Nset", "*)"}], "\n", 
        RowBox[{"(*", "test", "*)"}], 
        RowBox[{"Print", "[", 
         RowBox[{"\"\<{Npt,fmax,Nset} = \>\"", ",", 
          RowBox[{"{", 
           RowBox[{"Npt", ",", "fmax", ",", "Nset"}], "}"}]}], "]"}], ";", 
        "\n", "\n", "\n", 
        RowBox[{"(*", 
         RowBox[{"open", " ", "write"}], "*)"}], "\n", 
        RowBox[{"str", "=", 
         RowBox[{"OpenWrite", "[", "datafile", "]"}]}], ";", "\n", "\n", 
        RowBox[{"WriteString", "[", 
         RowBox[{"str", ",", 
          RowBox[{"\"\<#flavour: \>\"", "<>", 
           RowBox[{"ToString", "[", "fmax", "]"}], "<>", "\"\<  Npt: \>\"", "<>", 
           RowBox[{"ToString", "[", "Npt", "]"}], "<>", "\"\< #iset: \>\"", "<>", 
           RowBox[{"ToString", "[", "Nset", "]"}], "<>", " ", 
           "\"\<\\n\>\""}]}], "]"}], ";", "\n", "\n", "\n", 
        RowBox[{"Do", "[", "\n", 
         RowBox[{
          RowBox[{
           RowBox[{"WriteLine", "[", 
            RowBox[{"str", ",", 
             RowBox[{"\"\<flavour= \>\"", "<>", 
              RowBox[{"ToString", "[", "f", "]"}]}]}], " ", "]"}], ";", "\n", 
           
           RowBox[{"Do", "[", "\n", 
            RowBox[{"(*", 
             RowBox[{"x", " ", "and", " ", "Q"}], "*)"}], "\n", 
            RowBox[{
             RowBox[{
              RowBox[{"x", "=", 
               RowBox[{"pdfflavours", "[", 
                RowBox[{"[", 
                 RowBox[{
                  RowBox[{"f", "+", "6"}], ",", "ix", ",", "1"}], "]"}], 
                "]"}]}], ";", 
              RowBox[{"Q", "=", 
               RowBox[{"pdfflavours", "[", 
                RowBox[{"[", 
                 RowBox[{
                  RowBox[{"f", "+", "6"}], ",", "ix", ",", "2"}], "]"}], 
                "]"}]}], ";", "\n", 
              RowBox[{"xQstr", "=", 
               RowBox[{
                RowBox[{"ToString", "[", "x", "]"}], "<>", "\"\< \>\"", "<>", 
                
                RowBox[{"ToString", "[", "Q", "]"}]}]}], ";", "\n", 
              RowBox[{"(*", 
               RowBox[{"f", 
                RowBox[{"(", 
                 RowBox[{"x", ",", "Q"}], ")"}], " ", "for", " ", "all", " ", 
                "iset"}], "*)"}], "\n", 
              RowBox[{"pdfisetstr", "=", "\"\<\>\""}], ";", 
              RowBox[{"(*", 
               RowBox[{"ToString", " ", ">", " ", "StringJoin"}], "*)"}], 
              "\n", "\n", 
              RowBox[{"outputprecision", "=", "10"}], ";", "\n", 
              RowBox[{"(*", "\n", 
               RowBox[{
                RowBox[{"pdfisetstr", "=", 
                 RowBox[{
                  RowBox[{
                   RowBox[{"ToString", "[", "#", "]"}], "&"}], "/@", 
                  RowBox[{"NumberForm", "[", 
                   RowBox[{
                    RowBox[{"pdfflavours", "[", 
                    RowBox[{"[", 
                    RowBox[{
                    RowBox[{"f", "+", "6"}], ",", "ix", ",", "3"}], "]"}], 
                    "]"}], ",", "outputprecision"}], " ", "]"}]}]}], ";", 
                "\n", 
                RowBox[{"pdfisetstr", "=", 
                 RowBox[{
                  RowBox[{
                   RowBox[{"ToString", "[", 
                    RowBox[{"NumberForm", "[", 
                    RowBox[{"#", ",", "outputprecision"}], "]"}], "]"}], 
                   "&"}], "/@", 
                  RowBox[{"pdfflavours", "[", 
                   RowBox[{"[", 
                    RowBox[{
                    RowBox[{"f", "+", "6"}], ",", "ix", ",", "3"}], "]"}], 
                   "]"}]}]}], ";"}], "\n", "*)"}], "\n", 
              RowBox[{"pdfisetstr", "=", 
               RowBox[{
                RowBox[{
                 RowBox[{"ToString", "[", 
                  RowBox[{"ToSciForm", "[", 
                   RowBox[{"#", ",", "outputprecision"}], "]"}], "]"}], "&"}],
                 "/@", 
                RowBox[{"pdfflavours", "[", 
                 RowBox[{"[", 
                  RowBox[{
                   RowBox[{"f", "+", "6"}], ",", "ix", ",", "3"}], "]"}], 
                 "]"}]}]}], ";", "\n", 
              RowBox[{"pdfisetstr", "=", 
               RowBox[{
                RowBox[{
                 RowBox[{"StringJoin", "[", 
                  RowBox[{"#", ",", "\"\< \>\""}], "]"}], "&"}], "/@", 
                "pdfisetstr"}]}], ";", "\n", 
              RowBox[{"pdfisetstr", "=", 
               RowBox[{"StringJoin", "[", "pdfisetstr", "]"}]}], ";", "\n", 
              "\n", 
              RowBox[{"WriteLine", "[", 
               RowBox[{"str", ",", "xQstr"}], "]"}], ";", "\n", 
              RowBox[{"WriteLine", "[", 
               RowBox[{"str", ",", "pdfisetstr"}], "]"}], ";"}], "\n", "\n", 
             ",", "\n", 
             RowBox[{"{", 
              RowBox[{"ix", ",", "1", ",", "Npt"}], "}"}]}], "\n", "]"}], 
           ";"}], ",", "\n", 
          RowBox[{"{", 
           RowBox[{"f", ",", 
            RowBox[{"-", "5"}], ",", 
            RowBox[{
             RowBox[{"-", "5"}], "+", "fmax", "-", "1"}]}], "}"}]}], "\n", 
         "]"}], ";", "\n", "\n", "\n", 
        RowBox[{"Close", "[", "str", "]"}], ";", "\n", "\n", 
        RowBox[{"(*", "\n", "pdfflavours", "\n", "*)"}], "\n", 
        RowBox[{"{", 
         RowBox[{"1", ",", "1", ",", "1"}], "}"}]}]}], "\n", "]"}]}], ";"}], 
   "\n", "\n", 
   RowBox[{"(*", 
    RowBox[{"input", ":", " ", "dataclasslist", ":", " ", 
     RowBox[{"FxQsameptdata", "[", 
      RowBox[{"[", "flavour", "]"}], "]"}]}], "*)"}], "\n", 
   RowBox[{"(*", 
    RowBox[{"save", " ", "f", 
     RowBox[{"(", 
      RowBox[{"x", ",", "Q", ",", "flavour"}], ")"}], " ", "into", " ", 
     "file"}], "*)"}], "\n", 
   RowBox[{
    RowBox[{
     RowBox[{"pdfwritesamept2new", "[", 
      RowBox[{"dataclasslistin_", ",", "datafilein_"}], "]"}], ":=", "\n", 
     RowBox[{"Module", "[", 
      RowBox[{
       RowBox[{"{", 
        RowBox[{
         RowBox[{"dataclasslist", "=", "dataclasslistin"}], ",", 
         RowBox[{"datafile", "=", "datafilein"}], ",", "pdfflavours", ",", 
         "x", ",", "Q", ",", "str", ",", "Npt", ",", "Npt2", ",", "Nset", ",",
          "Nset2", ",", "xQstr", ",", "pdfisetstr", ",", "fmax", ",", "fmax2",
          ",", "outputprecision", ",", "exptid", ",", "exptname", ",", 
         "PDFname", ",", "PDFsetmethod"}], "}"}], ",", "\n", "\n", 
       RowBox[{"(*", 
        RowBox[{"transform", " ", "data", " ", "format"}], "*)"}], "\n", 
       RowBox[{
        RowBox[{"Npt", "=", 
         RowBox[{
          RowBox[{"Datamethods", "[", 
           RowBox[{"[", "\"\<getNpt\>\"", "]"}], "]"}], "[", 
          RowBox[{"dataclasslist", "[", 
           RowBox[{"[", "1", "]"}], "]"}], " ", "]"}]}], ";", "\n", 
        RowBox[{"fmax", "=", 
         RowBox[{"Length", "[", "dataclasslist", "]"}]}], ";", 
        RowBox[{"(*", 
         RowBox[{"how", " ", "many", " ", "f", 
          RowBox[{"(", 
           RowBox[{"x", ",", "Q", ",", "flavour"}], ")"}], " ", "input"}], 
         "*)"}], "\n", 
        RowBox[{"Nset", "=", 
         RowBox[{
          RowBox[{
           RowBox[{"Datamethods", "[", 
            RowBox[{"[", "\"\<getNcolumn\>\"", "]"}], "]"}], "[", 
           RowBox[{"dataclasslist", "[", 
            RowBox[{"[", "1", "]"}], "]"}], " ", "]"}], "-", "2"}]}], ";", 
        "\n", "\n", 
        RowBox[{"pdfflavours", "=", "\n", 
         RowBox[{"Table", "[", "\n", 
          RowBox[{
           RowBox[{"LFtoIOformat", "[", 
            RowBox[{
             RowBox[{"dataclasslist", "[", 
              RowBox[{"[", 
               RowBox[{"f", "+", "6"}], "]"}], "]"}], "[", 
             RowBox[{"[", "\"\<data\>\"", "]"}], "]"}], " ", "]"}], ",", "\n", 
           RowBox[{"{", 
            RowBox[{"f", ",", 
             RowBox[{"-", "5"}], ",", 
             RowBox[{
              RowBox[{"-", "5"}], "+", "fmax", "-", "1"}]}], "}"}]}], "\n", 
          "]"}]}], ";", "\n", "\n", 
        RowBox[{"(*", 
         RowBox[{"set", " ", "variables"}], "*)"}], "\n", 
        RowBox[{"Npt2", "=", 
         RowBox[{"Length", "[", 
          RowBox[{"pdfflavours", "[", 
           RowBox[{"[", "1", "]"}], "]"}], " ", "]"}]}], ";", 
        RowBox[{"(*", 
         RowBox[{
          RowBox[{
          "assume", " ", "all", " ", "points", " ", "have", " ", "the", " ", 
           "same", " ", "points"}], ",", " ", 
          RowBox[{
          "it", " ", "could", " ", "be", " ", "modified", " ", "to", " ", 
           "Npt", 
           RowBox[{"(", "flavour", ")"}]}]}], "*)"}], "\n", 
        RowBox[{"fmax2", "=", 
         RowBox[{"Length", "[", "pdfflavours", "]"}]}], ";", 
        RowBox[{"(*", 
         RowBox[{"how", " ", "many", " ", "f", 
          RowBox[{"(", 
           RowBox[{"x", ",", "Q", ",", "flavour"}], ")"}], " ", "input"}], 
         "*)"}], "\n", 
        RowBox[{"Nset2", "=", 
         RowBox[{"Length", "[", 
          RowBox[{"pdfflavours", "[", 
           RowBox[{"[", 
            RowBox[{"1", ",", "1", ",", "3"}], "]"}], "]"}], " ", "]"}]}], 
        ";", 
        RowBox[{"(*", "Nset", "*)"}], "\n", 
        RowBox[{"(*", "test", "*)"}], 
        RowBox[{"Print", "[", 
         RowBox[{"\"\<{Npt,fmax,Nset} = \>\"", ",", 
          RowBox[{"{", 
           RowBox[{"Npt2", ",", "fmax2", ",", "Nset2"}], "}"}]}], "]"}], ";", 
        "\n", "\n", 
        RowBox[{"(*", 
         RowBox[{
         "check", " ", "if", " ", "diff", " ", "from", " ", "the", " ", 
          "info", " ", "on", " ", "class"}], "*)"}], "\n", 
        RowBox[{"If", "[", 
         RowBox[{
          RowBox[{"Npt2", "!=", "Npt"}], ",", 
          RowBox[{"Print", "[", "\"\<error, #Npt \>\"", "]"}]}], " ", "]"}], 
        ";", "\n", 
        RowBox[{"If", "[", 
         RowBox[{
          RowBox[{"fmax2", "!=", "fmax"}], ",", 
          RowBox[{"Print", "[", "\"\<error, #flavour\>\"", "]"}]}], " ", 
         "]"}], ";", "\n", 
        RowBox[{"If", "[", 
         RowBox[{
          RowBox[{"Nset2", "!=", "Nset"}], ",", 
          RowBox[{"Print", "[", "\"\<error, Nset\>\"", "]"}]}], " ", "]"}], 
        ";", "\n", "\n", 
        RowBox[{"(*", 
         RowBox[{"set", " ", "data", " ", "info"}], "*)"}], "\n", 
        RowBox[{"exptid", "=", 
         RowBox[{
          RowBox[{"dataclasslist", "[", 
           RowBox[{"[", "1", "]"}], "]"}], "[", 
          RowBox[{"[", 
           RowBox[{"\"\<exptinfo\>\"", ",", "\"\<exptid\>\""}], "]"}], 
          "]"}]}], ";", "\n", 
        RowBox[{"exptname", "=", 
         RowBox[{
          RowBox[{"dataclasslist", "[", 
           RowBox[{"[", "1", "]"}], "]"}], "[", 
          RowBox[{"[", 
           RowBox[{"\"\<exptinfo\>\"", ",", "\"\<exptname\>\""}], "]"}], 
          "]"}]}], ";", "\n", 
        RowBox[{"PDFname", "=", 
         RowBox[{
          RowBox[{"dataclasslist", "[", 
           RowBox[{"[", "1", "]"}], "]"}], "[", 
          RowBox[{"[", 
           RowBox[{"\"\<PDFinfo\>\"", ",", "\"\<PDFname\>\""}], "]"}], 
          "]"}]}], ";", "\n", 
        RowBox[{"PDFsetmethod", "=", 
         RowBox[{
          RowBox[{"dataclasslist", "[", 
           RowBox[{"[", "1", "]"}], "]"}], "[", 
          RowBox[{"[", 
           RowBox[{"\"\<PDFinfo\>\"", ",", "\"\<PDFsetmethod\>\""}], "]"}], 
          "]"}]}], ";", "\n", "\n", 
        RowBox[{"(*", 
         RowBox[{"open", " ", "write"}], "*)"}], "\n", 
        RowBox[{"str", "=", 
         RowBox[{"OpenWrite", "[", "datafile", "]"}]}], ";", "\n", "\n", 
        RowBox[{"WriteString", "[", "\n", 
         RowBox[{"str", ",", "\n", 
          RowBox[{"\"\<#flavour: \>\"", "<>", 
           RowBox[{"ToString", "[", "fmax", "]"}], "<>", "\n", 
           "\"\<  Npt: \>\"", "<>", 
           RowBox[{"ToString", "[", "Npt", "]"}], "<>", "\n", 
           "\"\< #iset: \>\"", "<>", 
           RowBox[{"ToString", "[", "Nset", "]"}], "<>", " ", "\n", 
           "\"\< #exptid: \>\"", "<>", 
           RowBox[{"ToString", "[", "exptid", "]"}], "<>", "\n", 
           "\"\< exptname: \>\"", "<>", "exptname", "<>", "\n", 
           "\"\< PDFname: \>\"", "<>", "PDFname", "<>", "\n", 
           "\"\< PDFsetmethod: \>\"", "<>", "PDFsetmethod", "<>", "\n", 
           "\"\<\\n\>\""}]}], "\n", "]"}], ";", "\n", 
        RowBox[{"(*", "\n", 
         RowBox[{
          RowBox[{
           RowBox[{"output", "[", 
            RowBox[{"[", 
             RowBox[{"\"\<exptinfo\>\"", ",", "\"\<exptid\>\""}], "]"}], 
            "]"}], "=", "exptid"}], ";", "\n", 
          RowBox[{
           RowBox[{"output", "[", 
            RowBox[{"[", 
             RowBox[{"\"\<exptinfo\>\"", ",", "\"\<exptname\>\""}], "]"}], 
            "]"}], "=", "exptname"}], ";", "\n", 
          RowBox[{
           RowBox[{"output", "[", 
            RowBox[{"[", 
             RowBox[{"\"\<PDFinfo\>\"", ",", "\"\<PDFname\>\""}], "]"}], 
            "]"}], "=", "PDFname"}], ";", "\n", 
          RowBox[{
           RowBox[{"output", "[", 
            RowBox[{"[", 
             RowBox[{"\"\<PDFinfo\>\"", ",", "\"\<PDFsetmethod\>\""}], "]"}], 
            "]"}], "=", "PDFsetmethod"}], ";", "\n", 
          RowBox[{
           RowBox[{"output", "[", 
            RowBox[{"[", 
             RowBox[{"\"\<PDFinfo\>\"", ",", "\"\<Nset\>\""}], "]"}], "]"}], 
           "=", "Nset"}], ";", "\n", 
          RowBox[{
           RowBox[{"output", "[", 
            RowBox[{"[", 
             RowBox[{"\"\<PDFinfo\>\"", ",", "\"\<flavour\>\""}], "]"}], 
            "]"}], "=", "flavour"}], ";"}], "\n", "*)"}], "\n", "\n", "\n", 
        RowBox[{"Do", "[", "\n", 
         RowBox[{
          RowBox[{
           RowBox[{"WriteLine", "[", 
            RowBox[{"str", ",", 
             RowBox[{"\"\<flavour= \>\"", "<>", 
              RowBox[{"ToString", "[", "f", "]"}]}]}], " ", "]"}], ";", "\n", 
           
           RowBox[{"Do", "[", "\n", 
            RowBox[{"(*", 
             RowBox[{"x", " ", "and", " ", "Q"}], "*)"}], "\n", 
            RowBox[{
             RowBox[{
              RowBox[{"x", "=", 
               RowBox[{"pdfflavours", "[", 
                RowBox[{"[", 
                 RowBox[{
                  RowBox[{"f", "+", "6"}], ",", "ix", ",", "1"}], "]"}], 
                "]"}]}], ";", 
              RowBox[{"Q", "=", 
               RowBox[{"pdfflavours", "[", 
                RowBox[{"[", 
                 RowBox[{
                  RowBox[{"f", "+", "6"}], ",", "ix", ",", "2"}], "]"}], 
                "]"}]}], ";", "\n", 
              RowBox[{"xQstr", "=", 
               RowBox[{
                RowBox[{"ToString", "[", "x", "]"}], "<>", "\"\< \>\"", "<>", 
                
                RowBox[{"ToString", "[", "Q", "]"}]}]}], ";", "\n", 
              RowBox[{"(*", 
               RowBox[{"f", 
                RowBox[{"(", 
                 RowBox[{"x", ",", "Q"}], ")"}], " ", "for", " ", "all", " ", 
                "iset"}], "*)"}], "\n", 
              RowBox[{"pdfisetstr", "=", "\"\<\>\""}], ";", 
              RowBox[{"(*", 
               RowBox[{"ToString", " ", ">", " ", "StringJoin"}], "*)"}], 
              "\n", "\n", 
              RowBox[{"outputprecision", "=", "10"}], ";", "\n", 
              RowBox[{"(*", "\n", 
               RowBox[{
                RowBox[{"pdfisetstr", "=", 
                 RowBox[{
                  RowBox[{
                   RowBox[{"ToString", "[", "#", "]"}], "&"}], "/@", 
                  RowBox[{"NumberForm", "[", 
                   RowBox[{
                    RowBox[{"pdfflavours", "[", 
                    RowBox[{"[", 
                    RowBox[{
                    RowBox[{"f", "+", "6"}], ",", "ix", ",", "3"}], "]"}], 
                    "]"}], ",", "outputprecision"}], " ", "]"}]}]}], ";", 
                "\n", 
                RowBox[{"pdfisetstr", "=", 
                 RowBox[{
                  RowBox[{
                   RowBox[{"ToString", "[", 
                    RowBox[{"NumberForm", "[", 
                    RowBox[{"#", ",", "outputprecision"}], "]"}], "]"}], 
                   "&"}], "/@", 
                  RowBox[{"pdfflavours", "[", 
                   RowBox[{"[", 
                    RowBox[{
                    RowBox[{"f", "+", "6"}], ",", "ix", ",", "3"}], "]"}], 
                   "]"}]}]}], ";"}], "\n", "*)"}], "\n", 
              RowBox[{"pdfisetstr", "=", 
               RowBox[{
                RowBox[{
                 RowBox[{"ToString", "[", 
                  RowBox[{"ToSciForm", "[", 
                   RowBox[{"#", ",", "outputprecision"}], "]"}], "]"}], "&"}],
                 "/@", 
                RowBox[{"pdfflavours", "[", 
                 RowBox[{"[", 
                  RowBox[{
                   RowBox[{"f", "+", "6"}], ",", "ix", ",", "3"}], "]"}], 
                 "]"}]}]}], ";", "\n", 
              RowBox[{"pdfisetstr", "=", 
               RowBox[{
                RowBox[{
                 RowBox[{"StringJoin", "[", 
                  RowBox[{"#", ",", "\"\< \>\""}], "]"}], "&"}], "/@", 
                "pdfisetstr"}]}], ";", "\n", 
              RowBox[{"pdfisetstr", "=", 
               RowBox[{"StringJoin", "[", "pdfisetstr", "]"}]}], ";", "\n", 
              "\n", 
              RowBox[{"WriteLine", "[", 
               RowBox[{"str", ",", "xQstr"}], "]"}], ";", "\n", 
              RowBox[{"WriteLine", "[", 
               RowBox[{"str", ",", "pdfisetstr"}], "]"}], ";"}], "\n", "\n", 
             ",", "\n", 
             RowBox[{"{", 
              RowBox[{"ix", ",", "1", ",", "Npt"}], "}"}]}], "\n", "]"}], 
           ";"}], ",", "\n", 
          RowBox[{"{", 
           RowBox[{"f", ",", 
            RowBox[{"-", "5"}], ",", 
            RowBox[{
             RowBox[{"-", "5"}], "+", "fmax", "-", "1"}]}], "}"}]}], "\n", 
         "]"}], ";", "\n", "\n", "\n", 
        RowBox[{"Close", "[", "str", "]"}], ";", "\n", "\n", 
        RowBox[{"(*", "\n", "pdfflavours", "\n", "*)"}], "\n", 
        RowBox[{"{", 
         RowBox[{"1", ",", "1", ",", "1"}], "}"}]}]}], "\n", "]"}]}], 
    ";"}]}]}]], "Input"]
}, Open  ]],

Cell[CellGroupData[{

Cell["read fxQdata class", "Subsection"],

Cell[BoxData[
 RowBox[{
  RowBox[{"(*", 
   RowBox[{
   "read", " ", "data", " ", "stored", " ", "by", " ", "function", " ", 
    "pdfwritesamept"}], "*)"}], "\n", 
  RowBox[{"(*", 
   RowBox[{
    RowBox[{"read", " ", "info", " ", "of", " ", 
     RowBox[{"{", 
      RowBox[{"fmax", ",", "Npt", ",", "Nset"}], "}"}]}], ",", " ", 
    RowBox[{
    "then", " ", "check", " ", "whether", " ", "data", " ", "is", " ", "the", 
     " ", "same", " ", "as", " ", 
     RowBox[{"{", 
      RowBox[{"fmax", ",", "Npt", ",", "Nset"}], "}"}]}], ",", " ", 
    RowBox[{
     RowBox[{"if", " ", "yes"}], " ", "\[Rule]", " ", 
     RowBox[{"output", " ", "the", " ", "data", " ", "by", "\n", 
      RowBox[{"observablein", ":", " ", 
       RowBox[{
        RowBox[{"{", 
         RowBox[{
          RowBox[{"{", " ", 
           RowBox[{
            RowBox[{"{", 
             RowBox[{"x", ",", "Q"}], "}"}], ",", " ", 
            RowBox[{"{", 
             RowBox[{"obs1", ",", "obs2", ",", 
              RowBox[{"...", "obs", 
               RowBox[{"(", "iset", ")"}]}]}], "}"}]}], "}"}], ",", " ", 
          RowBox[{"{", " ", 
           RowBox[{
            RowBox[{"{", 
             RowBox[{"x", ",", "Q"}], "}"}], ",", " ", 
            RowBox[{"{", 
             RowBox[{"obs1", ",", "obs2", ",", 
              RowBox[{"...", "obs", 
               RowBox[{"(", "iset", ")"}]}]}], "}"}]}], "}"}], ",", "..."}], 
         "}"}], "\n", "where", " ", 
        RowBox[{"{", 
         RowBox[{"fmax", ",", "Npt", ",", "Nset"}], "}"}], " ", "means", " ", 
        "#flavour", " ", "in", " ", "data"}]}]}]}], ",", " ", 
    RowBox[{"#of", " ", "points", " ", "of", " ", "data"}], ",", " ", 
    RowBox[{"#iset", " ", "of", " ", "data"}]}], "*)"}], "\n", 
  RowBox[{"(*", 
   RowBox[{"output", " ", 
    RowBox[{"format", ":", "\n", 
     RowBox[{
      RowBox[{
       RowBox[{"pdfflavours", "[", 
        RowBox[{"[", "#flavour", "]"}], "]"}], "[", 
       RowBox[{"[", "Npt", "]"}], "]"}], "[", 
      RowBox[{"[", " ", 
       RowBox[{"x", ",", " ", "Q", ",", " ", 
        RowBox[{"{", 
         RowBox[{"#iset", " ", "of", " ", "pdf", 
          RowBox[{"(", 
           RowBox[{"x", ",", "Q"}], ")"}]}], "}"}]}], "]"}], "]"}]}]}], "\n", 
   "*)"}], "\n", 
  RowBox[{
   RowBox[{"pdfreadsamept2", "[", "datafilein_", "]"}], ":=", "\n", 
   RowBox[{"Module", "[", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{
       RowBox[{"datafile", "=", "datafilein"}], ",", "xQlist", ",", 
       "pdfflavours", ",", "pdfisetstr", ",", "x", ",", "Q", ",", 
       "MyCorrelations", ",", "str", ",", "fmax", ",", "fmax2", ",", "Npt", 
       ",", "dummy", ",", "i", ",", "Nset", ",", "mystr", ",", "tmpdata", ",",
        "exptid", ",", "exptname", ",", "PDFname", ",", "PDFsetmethod", ",", 
       "outputtmp", ",", "output"}], "}"}], ",", "\n", "\n", 
     RowBox[{"(*", 
      RowBox[{"open", " ", "file"}], "*)"}], "\n", 
     RowBox[{
      RowBox[{"str", "=", 
       RowBox[{"OpenRead", "[", "datafile", "]"}]}], ";", "\n", 
      RowBox[{"(*", 
       RowBox[{"read", " ", "info", " ", 
        RowBox[{"{", 
         RowBox[{"fmax", ",", "Npt", ",", "Nset"}], "}"}], " ", "from", " ", 
        "first", " ", "line", " ", "of", " ", "file"}], "*)"}], "\n", 
      RowBox[{
       RowBox[{"{", 
        RowBox[{
        "dummy", ",", "fmax", ",", "dummy", ",", "Npt", ",", "dummy", ",", 
         "Nset", ",", "dummy", ",", "exptid", ",", "dummy", ",", "exptname", 
         ",", "dummy", ",", "PDFname", ",", "dummy", ",", "PDFsetmethod"}], 
        "}"}], "=", "\n", 
       RowBox[{"Read", "[", 
        RowBox[{"str", ",", 
         RowBox[{"{", 
          RowBox[{
          "Word", ",", "Number", ",", "Word", ",", "Number", ",", "Word", ",",
            "Number", ",", "Word", ",", "Number", ",", "Word", ",", "Word", 
           ",", "Word", ",", "Word", ",", "Word", ",", "Word"}], "}"}]}], 
        "]"}]}], ";", "\n", 
      RowBox[{"Print", "[", 
       RowBox[{"\"\<{#flavour, Npt, #set} = \>\"", ",", 
        RowBox[{"{", 
         RowBox[{
         "fmax", ",", "Npt", ",", "Nset", ",", "exptid", ",", "exptname", ",",
           "PDFname", ",", "PDFsetmethod"}], "}"}]}], "]"}], ";", "\n", 
      RowBox[{"(*", 
       RowBox[{
        RowBox[{"dummy", "=", 
         RowBox[{"ReadLine", "[", "str", "]"}]}], ";", 
        RowBox[{"Print", "[", "dummy", "]"}], ";"}], "*)"}], 
      RowBox[{"(*", 
       RowBox[{"read", " ", "left", " ", "of", " ", "the", " ", "line"}], 
       "*)"}], "\n", "\n", 
      RowBox[{"(*", 
       RowBox[{
       "seperate", " ", "flavour", " ", "data", " ", "to", " ", "a", " ", 
        "list"}], "*)"}], "\n", 
      RowBox[{"tmpdata", "=", 
       RowBox[{"ReadList", "[", 
        RowBox[{"str", ",", "Record", ",", 
         RowBox[{"RecordSeparators", "->", "\"\<flavour=\>\""}]}], "]"}]}], 
      ";", "\n", 
      RowBox[{"tmpdata", "=", 
       RowBox[{"Drop", "[", 
        RowBox[{"tmpdata", ",", "1"}], "]"}]}], ";", 
      RowBox[{"(*", 
       RowBox[{"first", " ", "element", " ", "is", " ", "dummy"}], "*)"}], 
      "\n", 
      RowBox[{"fmax2", "=", 
       RowBox[{"Length", "[", "tmpdata", "]"}]}], ";", "\n", 
      RowBox[{"If", "[", 
       RowBox[{
        RowBox[{"fmax", "!=", "fmax2"}], ",", 
        RowBox[{
         RowBox[{"Print", "[", 
          RowBox[{
          "\"\<error, head info of total #flavour inconsistent with data, \
fmax1: \>\"", ",", "fmax", ",", "\"\< fmax2: \>\"", ",", "fmax2"}], " ", 
          "]"}], ";", 
         RowBox[{"Return", "[", "\"\<error\>\"", "]"}]}]}], " ", "]"}], ";", 
      "\n", "\n", 
      RowBox[{"mystr", "=", 
       RowBox[{"Table", "[", 
        RowBox[{
         RowBox[{"StringToStream", "[", 
          RowBox[{"tmpdata", "[", 
           RowBox[{"[", "f", "]"}], "]"}], " ", "]"}], ",", 
         RowBox[{"{", 
          RowBox[{"f", ",", "1", ",", "fmax2"}], "}"}]}], "]"}]}], ";", "\n", 
      "\n", 
      RowBox[{"Close", "[", "str", "]"}], ";", "\n", "\n", 
      RowBox[{"(*", 
       RowBox[{"declare", " ", "variable"}], "*)"}], "\n", 
      RowBox[{"pdfflavours", "=", 
       RowBox[{"{", "}"}]}], ";", "\n", 
      RowBox[{"dummy", "=", 
       RowBox[{"{", "}"}]}], ";", "\n", 
      RowBox[{"x", "=", 
       RowBox[{"{", "}"}]}], ";", "\n", 
      RowBox[{"Q", "=", 
       RowBox[{"{", "}"}]}], ";", "\n", 
      RowBox[{"pdfisetstr", "=", 
       RowBox[{"{", "}"}]}], ";", "\n", "\n", 
      RowBox[{"(*", 
       RowBox[{
       "read", " ", "data", " ", "from", " ", "file", " ", "to", " ", 
        "pdfflavours"}], "*)"}], "\n", 
      RowBox[{"Do", "[", "\n", 
       RowBox[{"(*", "\n", 
        RowBox[{
         RowBox[{"dummy", "=", 
          RowBox[{"ReadLine", "[", 
           RowBox[{"mystr", "[", 
            RowBox[{"[", 
             RowBox[{"f", "+", "6"}], "]"}], "]"}], " ", "]"}]}], ";"}], "\n",
         "*)"}], "\n", "\n", 
       RowBox[{
        RowBox[{
         RowBox[{"dummy", "=", 
          RowBox[{"Read", "[", 
           RowBox[{
            RowBox[{"mystr", "[", 
             RowBox[{"[", 
              RowBox[{"f", "+", "6"}], "]"}], "]"}], ",", "Number"}], "]"}]}],
          ";", 
         RowBox[{"(*", 
          RowBox[{"read", " ", "flavour", " ", "index"}], "*)"}], "\n", 
         RowBox[{"pdfflavours", "=", 
          RowBox[{"Append", "[", 
           RowBox[{"pdfflavours", ",", 
            RowBox[{"{", "}"}]}], "]"}]}], ";", "\n", "\n", 
         RowBox[{"Do", "[", "\n", 
          RowBox[{"(*", 
           RowBox[{"x", " ", "and", " ", "Q"}], "*)"}], "\n", 
          RowBox[{
           RowBox[{
            RowBox[{"x", "=", 
             RowBox[{"Read", "[", 
              RowBox[{
               RowBox[{"mystr", "[", 
                RowBox[{"[", 
                 RowBox[{"f", "+", "6"}], "]"}], "]"}], ",", "Number"}], 
              "]"}]}], ";", "\n", 
            RowBox[{"Q", "=", 
             RowBox[{"Read", "[", 
              RowBox[{
               RowBox[{"mystr", "[", 
                RowBox[{"[", 
                 RowBox[{"f", "+", "6"}], "]"}], "]"}], ",", "Number"}], 
              "]"}]}], ";", "\n", "\n", 
            RowBox[{"(*", 
             RowBox[{
              RowBox[{"Nset", "=", "57"}], ";"}], "*)"}], "\n", 
            RowBox[{"(*", "\n", 
             RowBox[{
              RowBox[{"pdfisetstr", "=", 
               RowBox[{"Read", "[", 
                RowBox[{
                 RowBox[{"mystr", "[", 
                  RowBox[{"[", 
                   RowBox[{"f", "+", "6"}], "]"}], "]"}], ",", 
                 RowBox[{"Table", "[", 
                  RowBox[{"Number", ",", 
                   RowBox[{"{", 
                    RowBox[{"i", ",", "1", ",", "Nset"}], "}"}]}], "]"}]}], 
                " ", "]"}]}], ";"}], "\n", "*)"}], "\n", 
            RowBox[{"pdfisetstr", "=", 
             RowBox[{"Read", "[", 
              RowBox[{
               RowBox[{"mystr", "[", 
                RowBox[{"[", 
                 RowBox[{"f", "+", "6"}], "]"}], "]"}], ",", 
               RowBox[{"Table", "[", 
                RowBox[{"Word", ",", 
                 RowBox[{"{", 
                  RowBox[{"i", ",", "1", ",", "Nset"}], "}"}]}], "]"}]}], " ",
               "]"}]}], ";", 
            RowBox[{"(*", 
             RowBox[{
              RowBox[{"scientific", " ", "notation"}], "\[Rule]", " ", 
              RowBox[{"word", "\[Rule]", " ", "number"}]}], "*)"}], "\n", 
            RowBox[{"pdfisetstr", "=", 
             RowBox[{
              RowBox[{
               RowBox[{"SciStrToNumber", "[", "#", "]"}], "&"}], "/@", 
              "pdfisetstr"}]}], ";", 
            RowBox[{"(*", 
             RowBox[{"word", "\[Rule]", " ", 
              RowBox[{"number", " ", "array"}]}], "*)"}], "\n", "\n", 
            RowBox[{"(*", 
             RowBox[{
             "read", " ", "left", " ", "part", " ", "of", " ", "last", " ", 
              "line"}], "*)"}], "\n", 
            RowBox[{"dummy", "=", 
             RowBox[{"ReadLine", "[", 
              RowBox[{"mystr", "[", 
               RowBox[{"[", 
                RowBox[{"f", "+", "6"}], "]"}], "]"}], " ", "]"}]}], ";", 
            "\n", "\n", 
            RowBox[{"(*", 
             RowBox[{"set", " ", 
              RowBox[{"{", 
               RowBox[{"x", ",", "Q", ",", 
                RowBox[{"{", 
                 RowBox[{"#iset", " ", "of", " ", "pdf"}], "}"}]}], "}"}], 
              " ", "of", " ", "ix"}], " ", "*)"}], "\n", 
            RowBox[{
             RowBox[{"pdfflavours", "[", 
              RowBox[{"[", 
               RowBox[{"f", "+", "6"}], "]"}], "]"}], "=", 
             RowBox[{"Append", "[", 
              RowBox[{
               RowBox[{"pdfflavours", "[", 
                RowBox[{"[", 
                 RowBox[{"f", "+", "6"}], "]"}], "]"}], ",", 
               RowBox[{"{", "}"}]}], "]"}]}], ";", "\n", 
            RowBox[{
             RowBox[{"pdfflavours", "[", 
              RowBox[{"[", 
               RowBox[{
                RowBox[{"f", "+", "6"}], ",", "ix"}], "]"}], "]"}], "=", 
             RowBox[{"Append", "[", 
              RowBox[{
               RowBox[{"pdfflavours", "[", 
                RowBox[{"[", 
                 RowBox[{
                  RowBox[{"f", "+", "6"}], ",", "ix"}], "]"}], "]"}], ",", 
               "x"}], "]"}]}], ";", "\n", 
            RowBox[{
             RowBox[{"pdfflavours", "[", 
              RowBox[{"[", 
               RowBox[{
                RowBox[{"f", "+", "6"}], ",", "ix"}], "]"}], "]"}], "=", 
             RowBox[{"Append", "[", 
              RowBox[{
               RowBox[{"pdfflavours", "[", 
                RowBox[{"[", 
                 RowBox[{
                  RowBox[{"f", "+", "6"}], ",", "ix"}], "]"}], "]"}], ",", 
               "Q"}], "]"}]}], ";", "\n", "\n", 
            RowBox[{
             RowBox[{"pdfflavours", "[", 
              RowBox[{"[", 
               RowBox[{
                RowBox[{"f", "+", "6"}], ",", "ix"}], "]"}], "]"}], "=", 
             RowBox[{"Append", "[", 
              RowBox[{
               RowBox[{"pdfflavours", "[", 
                RowBox[{"[", 
                 RowBox[{
                  RowBox[{"f", "+", "6"}], ",", "ix"}], "]"}], "]"}], ",", 
               "pdfisetstr"}], "]"}]}], ";"}], "\n", "\n", 
           RowBox[{"(*", "\n", 
            RowBox[{
             RowBox[{"x", "=", 
              RowBox[{"xQlist", "[", 
               RowBox[{"[", 
                RowBox[{"ix", ",", "1"}], "]"}], "]"}]}], ";", 
             RowBox[{"Q", "=", 
              RowBox[{"xQlist", "[", 
               RowBox[{"[", 
                RowBox[{"ix", ",", "2"}], "]"}], "]"}]}], ";", "\n", 
             RowBox[{"xQstr", "=", 
              RowBox[{
               RowBox[{"ToString", "[", "x", "]"}], "<>", "\"\< \>\"", "<>", 
               RowBox[{"ToString", "[", "Q", "]"}]}]}], ";"}], "\n", "*)"}], 
           "\n", 
           RowBox[{"(*", 
            RowBox[{"f", 
             RowBox[{"(", 
              RowBox[{"x", ",", "Q"}], ")"}], " ", "for", " ", "all", " ", 
             "iset"}], "*)"}], "\n", 
           RowBox[{"(*", "\n", 
            RowBox[{
             RowBox[{"pdfisetstr", "=", "\"\<\>\""}], ";", 
             RowBox[{"(*", 
              RowBox[{"ToString", " ", ">", " ", "StringJoin"}], "*)"}], "\n",
              "\n", 
             RowBox[{"pdfisetstr", "=", 
              RowBox[{
               RowBox[{
                RowBox[{"ToString", "[", "#", "]"}], "&"}], "/@", 
               RowBox[{"pdfflavours", "[", 
                RowBox[{"[", 
                 RowBox[{
                  RowBox[{"f", "+", "6"}], ",", "ix", ",", "3"}], "]"}], 
                "]"}]}]}], ";", "\n", 
             RowBox[{"pdfisetstr", "=", 
              RowBox[{
               RowBox[{
                RowBox[{"StringJoin", "[", 
                 RowBox[{"#", ",", "\"\< \>\""}], "]"}], "&"}], "/@", 
               "pdfisetstr"}]}], ";", "\n", 
             RowBox[{"pdfisetstr", "=", 
              RowBox[{"StringJoin", "[", "pdfisetstr", "]"}]}], ";", "\n", 
             "\n", 
             RowBox[{"WriteLine", "[", 
              RowBox[{"str", ",", "xQstr"}], "]"}], ";", "\n", 
             RowBox[{"WriteLine", "[", 
              RowBox[{"str", ",", "pdfisetstr"}], "]"}], ";"}], "\n", "*)"}], 
           "\n", ",", "\n", 
           RowBox[{"{", 
            RowBox[{"ix", ",", "1", ",", "Npt"}], "}"}]}], "\n", "]"}], ";"}],
         ",", "\n", 
        RowBox[{"{", 
         RowBox[{"f", ",", 
          RowBox[{"-", "5"}], ",", 
          RowBox[{
           RowBox[{"-", "5"}], "+", "fmax", "-", "1"}]}], "}"}]}], 
       RowBox[{"(*", 
        RowBox[{"test", " ", "f"}], "*)"}], "\n", "]"}], ";", "\n", "\n", 
      RowBox[{"(*", 
       RowBox[{"set", " ", "data"}], "*)"}], "\n", 
      RowBox[{"output", "=", "\n", 
       RowBox[{"Table", "[", "\n", 
        RowBox[{"(*", 
         RowBox[{"set", " ", "fxQdataclass"}], "*)"}], "\n", 
        RowBox[{
         RowBox[{
          RowBox[{"outputtmp", "=", "FxQsameptdata"}], ";", "\n", 
          RowBox[{"(*", 
           RowBox[{"set", " ", "info"}], "*)"}], "\n", 
          RowBox[{
           RowBox[{"outputtmp", "[", 
            RowBox[{"[", "\"\<label\>\"", "]"}], "]"}], "=", 
           RowBox[{"Join", "[", 
            RowBox[{
             RowBox[{"{", 
              RowBox[{"\"\<x\>\"", ",", "\"\<Q\>\""}], "}"}], ",", 
             RowBox[{"Table", "[", 
              RowBox[{
               RowBox[{"ToString", "[", "i", "]"}], ",", 
               RowBox[{"{", 
                RowBox[{"i", ",", "1", ",", "Nset"}], "}"}]}], "]"}]}], " ", 
            "]"}]}], ";", "\n", 
          RowBox[{
           RowBox[{"outputtmp", "[", 
            RowBox[{"[", 
             RowBox[{"\"\<exptinfo\>\"", ",", "\"\<exptid\>\""}], "]"}], 
            "]"}], "=", "exptid"}], ";", "\n", 
          RowBox[{
           RowBox[{"outputtmp", "[", 
            RowBox[{"[", 
             RowBox[{"\"\<exptinfo\>\"", ",", "\"\<exptname\>\""}], "]"}], 
            "]"}], "=", "exptname"}], ";", "\n", 
          RowBox[{
           RowBox[{"outputtmp", "[", 
            RowBox[{"[", 
             RowBox[{"\"\<PDFinfo\>\"", ",", "\"\<PDFname\>\""}], "]"}], 
            "]"}], "=", "PDFname"}], ";", "\n", 
          RowBox[{
           RowBox[{"outputtmp", "[", 
            RowBox[{"[", 
             RowBox[{"\"\<PDFinfo\>\"", ",", "\"\<PDFsetmethod\>\""}], "]"}], 
            "]"}], "=", "PDFsetmethod"}], ";", "\n", 
          RowBox[{
           RowBox[{"outputtmp", "[", 
            RowBox[{"[", 
             RowBox[{"\"\<PDFinfo\>\"", ",", "\"\<Nset\>\""}], "]"}], "]"}], 
           "=", "Nset"}], ";", "\n", 
          RowBox[{"(*", 
           RowBox[{
            RowBox[{
             RowBox[{"output", "[", 
              RowBox[{"[", 
               RowBox[{"\"\<PDFinfo\>\"", ",", "\"\<flavour\>\""}], "]"}], 
              "]"}], "=", "flavour"}], ";"}], "*)"}], "\n", "\n", 
          RowBox[{"(*", 
           RowBox[{"set", " ", "data"}], "*)"}], "\n", 
          RowBox[{
           RowBox[{"outputtmp", "[", 
            RowBox[{"[", "\"\<data\>\"", "]"}], "]"}], "=", 
           RowBox[{"IOtoLFformat", "[", 
            RowBox[{"pdfflavours", "[", 
             RowBox[{"[", 
              RowBox[{"f", "+", "6"}], "]"}], "]"}], " ", "]"}]}], ";", "\n", 
          
          RowBox[{"(*", "output", "*)"}], "\n", "outputtmp"}], ",", "\n", 
         RowBox[{"{", 
          RowBox[{"f", ",", 
           RowBox[{"-", "5"}], ",", 
           RowBox[{
            RowBox[{"-", "5"}], "+", "fmax", "-", "1"}]}], "}"}]}], "\n", 
        "]"}]}], ";", "\n", "\n", "output"}]}], "\n", "]"}]}]}]], "Input"]
}, Open  ]]
}, Open  ]],

Cell[CellGroupData[{

Cell["IO of corrdata class", "Section"],

Cell["write corrdata class", "Subsection"],

Cell["read corrdata class", "Subsection"]
}, Open  ]],

Cell[CellGroupData[{

Cell["IO of  config file", "Section"],

Cell[BoxData[
 RowBox[{
  RowBox[{"(*", 
   RowBox[{"write", " ", "config", " ", "file"}], "*)"}], "\n", 
  RowBox[{"(*", 
   RowBox[{"20170514", ":", " ", 
    RowBox[{
    "for", " ", "read", " ", "data", " ", "and", " ", "make", " ", 
     "plots"}]}], "*)"}], "\n", 
  RowBox[{
   RowBox[{"makecorrconfigfile", "[", 
    RowBox[{
    "configDirin_", ",", "configfilenamein_", ",", "figureDirin_", ",", 
     "myPDFsetDirin_", ",", "PDFsetmethodin_", ",", "PDFnamein_", ",", 
     "PDFDataDirin_", ",", "datalistFilein_", ",", "expttypein_", ",", 
     "exptidin_"}], "]"}], ":=", "\n", 
   RowBox[{"Module", "[", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{
       RowBox[{"configDir", "=", "configDirin"}], ",", 
       RowBox[{"configfilename", "=", "configfilenamein"}], ",", 
       RowBox[{"figureDir", "=", "figureDirin"}], ",", 
       RowBox[{"myPDFsetDir", "=", "myPDFsetDirin"}], ",", 
       RowBox[{"PDFsetmethod", "=", "PDFsetmethodin"}], ",", 
       RowBox[{"PDFname", "=", "PDFnamein"}], ",", 
       RowBox[{"PDFDataDir", "=", "PDFDataDirin"}], ",", 
       RowBox[{"datalistFile", "=", "datalistFilein"}], ",", 
       RowBox[{"expttype", "=", "expttypein"}], ",", 
       RowBox[{"exptid", "=", "exptidin"}], ",", "figureDirtag", ",", 
       "PDFsetDirtag", ",", "PDFsetmethodtag", ",", "PDFDataDirtag", ",", 
       "CorrDataDirtag", ",", "PDFnametag", ",", "datalistFiletag", ",", 
       "expttypetag", ",", "exptidtag", ",", "\n", "figureDirtext", ",", 
       "PDFsetDirtext", ",", "PDFsetmethodtext", ",", "PDFDataDirtext", ",", 
       "CorrDataDirtext", ",", "PDFnametext", ",", "datalistFiletext", ",", 
       "expttypetext", ",", "exptidtext", ",", "\n", "s", ",", "enterstr", 
       ",", "exptidtmp"}], "}"}], ",", "\n", 
     RowBox[{"(*", 
      RowBox[{"set", " ", "tag", " ", "of", " ", "arguments"}], "*)"}], "\n", 
     
     RowBox[{
      RowBox[{"figureDirtag", "=", "\"\< = figureDirtag !\>\""}], ";", "\n", 
      "\n", 
      RowBox[{"PDFsetDirtag", "=", "\"\< = PDFsetDir !\>\""}], ";", "\n", 
      RowBox[{"PDFsetmethodtag", "=", "\"\< = PDFsetmethod !\>\""}], ";", 
      "\n", "\n", 
      RowBox[{"PDFDataDirtag", "=", "\"\< = PDFDataDir !\>\""}], ";", "\n", 
      RowBox[{"CorrDataDirtag", "=", "\"\< = CorrDataDir !\>\""}], ";", "\n", 
      
      RowBox[{"PDFnametag", "=", "\"\< = PDFname !\>\""}], ";", "\n", "\n", 
      RowBox[{"datalistFiletag", "=", "\"\< = datalist !\>\""}], ";", "\n", 
      "\n", 
      RowBox[{"expttypetag", "=", "\"\< = expttype !\>\""}], ";", "\n", 
      RowBox[{"exptidtag", "=", "\"\< = exptid !\>\""}], ";", "\n", 
      RowBox[{"(*", 
       RowBox[{
       "set", " ", "text", " ", "for", " ", "explanation", " ", "of", " ", 
        "arguments"}], "*)"}], "\n", 
      RowBox[{
      "figureDirtext", "=", 
       "\"\< the directory used to save figure files\>\""}], ";", "\n", "\n", 
      
      RowBox[{"PDFsetDirtext", "=", "\"\<  PDFset directory \>\""}], ";", 
      "\n", 
      RowBox[{
      "PDFsetmethodtext", "=", "\"\<  method used to generate PDFset \>\""}], 
      ";", "\n", "\n", 
      RowBox[{
      "PDFDataDirtext", "=", "\"\<  directory storing f(x,Q) data \>\""}], 
      ";", "\n", 
      RowBox[{
      "CorrDataDirtext", "=", 
       "\"\<  directory storing correlation data \>\""}], ";", "\n", 
      RowBox[{
      "PDFnametext", "=", "\"\<  PDFname of file storing f(x,Q) value \>\""}],
       ";", "\n", "\n", 
      RowBox[{
      "datalistFiletext", "=", 
       "\"\<  datalist with experimental information \>\""}], ";", "\n", "\n", 
      RowBox[{
      "expttypetext", "=", 
       "\"\<  expt type mode: single, multi, All, ProtonNeutron are available \
options \>\""}], ";", "\n", 
      RowBox[{"exptidtext", "=", "\"\<  experimental ID \>\""}], ";", "\n", 
      "\n", 
      RowBox[{"enterstr", "=", "\"\<\\n\>\""}], ";", "\n", "\n", 
      RowBox[{"s", "=", 
       RowBox[{"OpenWrite", "[", 
        RowBox[{"configDir", "<>", "configfilename"}], "]"}]}], ";", "\n", 
      RowBox[{"WriteString", "[", 
       RowBox[{
       "s", ",", 
        "\"\<#this file is config file of correlation_plot_project_v3.nb\\n\>\
\""}], "]"}], ";", "\n", 
      RowBox[{"WriteString", "[", 
       RowBox[{
       "s", ",", "\"\<#figureDir is the directory of figure files \\n\>\""}], 
       "]"}], ";", "\n", 
      RowBox[{"WriteString", "[", 
       RowBox[{
       "s", ",", 
        "\"\<#PDFsetDir is the directory of PDFset, PDFsetmethod = Hessian or \
MC \\n\>\""}], "]"}], ";", "\n", 
      RowBox[{"WriteString", "[", 
       RowBox[{
       "s", ",", 
        "\"\<#PDFDataDir is directory store f(x,Q) data, PDFname is name of \
PDFset, ex: CT14NNLO \\n\>\""}], "]"}], ";", "\n", 
      RowBox[{"WriteString", "[", 
       RowBox[{
       "s", ",", 
        "\"\<#datalistFile is the file with experimental information \
\\n\>\""}], "]"}], ";", "\n", 
      RowBox[{"WriteString", "[", 
       RowBox[{
       "s", ",", 
        "\"\<#expttype & exptid are used to decide which experiments you want \
to show  \\n\>\""}], "]"}], ";", "\n", 
      RowBox[{"WriteString", "[", 
       RowBox[{"s", ",", "\"\<\\n\>\""}], "]"}], ";", "\n", "\n", 
      RowBox[{"WriteString", "[", 
       RowBox[{
       "s", ",", "figureDir", ",", "figureDirtag", ",", "figureDirtext", ",", 
        "enterstr"}], "]"}], ";", "\n", 
      RowBox[{"WriteString", "[", 
       RowBox[{"s", ",", "\"\<\\n\>\""}], "]"}], ";", "\n", "\n", 
      RowBox[{"WriteString", "[", 
       RowBox[{
       "s", ",", "myPDFsetDir", ",", "PDFsetDirtag", ",", "PDFsetDirtext", 
        ",", "enterstr"}], "]"}], ";", "\n", 
      RowBox[{"WriteString", "[", 
       RowBox[{
       "s", ",", "PDFsetmethod", ",", "PDFsetmethodtag", ",", 
        "PDFsetmethodtext", ",", "enterstr"}], "]"}], ";", "\n", 
      RowBox[{"WriteString", "[", 
       RowBox[{"s", ",", "\"\<\\n\>\""}], "]"}], ";", "\n", "\n", 
      RowBox[{"WriteString", "[", 
       RowBox[{
       "s", ",", "PDFDataDir", ",", "PDFDataDirtag", ",", "PDFDataDirtext", 
        ",", "enterstr"}], "]"}], ";", "\n", 
      RowBox[{"(*", 
       RowBox[{
        RowBox[{"WriteString", "[", 
         RowBox[{
         "s", ",", "CorrDataDir", ",", "CorrDataDirtag", ",", 
          "CorrDataDirtext", ",", "enterstr"}], "]"}], ";"}], "*)"}], "\n", 
      RowBox[{"WriteString", "[", 
       RowBox[{
       "s", ",", "PDFname", ",", "PDFnametag", ",", "PDFnametext", ",", 
        "enterstr"}], "]"}], ";", "\n", 
      RowBox[{"WriteString", "[", 
       RowBox[{"s", ",", "\"\<\\n\>\""}], "]"}], ";", "\n", "\n", 
      RowBox[{"WriteString", "[", 
       RowBox[{
       "s", ",", "datalistFile", ",", "datalistFiletag", ",", 
        "datalistFiletext", ",", "enterstr"}], "]"}], ";", "\n", 
      RowBox[{"WriteString", "[", 
       RowBox[{"s", ",", "\"\<\\n\>\""}], "]"}], ";", "\n", "\n", 
      RowBox[{"WriteString", "[", 
       RowBox[{
       "s", ",", "expttype", ",", "expttypetag", ",", "expttypetext", ",", 
        "enterstr"}], "]"}], ";", "\n", 
      RowBox[{"WriteString", "[", 
       RowBox[{"s", ",", "\"\<\\n\>\""}], "]"}], ";", "\n", 
      RowBox[{"(*", 
       RowBox[{
        RowBox[{"if", " ", "single", " ", "or", " ", "multi", " ", "type"}], 
        ",", " ", 
        RowBox[{
         RowBox[{"save", " ", "format"}], " ", "=", " ", 
         RowBox[{
          RowBox[{
           RowBox[{"#1", " ", "#2", " ", "#3"}], " ", "..."}], " ", "=", " ", 
          
          RowBox[{"xxx", "!"}]}]}]}], " ", "*)"}], "\n", 
      RowBox[{"exptidtmp", "=", "\"\<\>\""}], ";", 
      RowBox[{"(*", 
       RowBox[{
        RowBox[{"initialize", " ", "exptidtmp"}], ",", " ", 
        RowBox[{
        "exptidtmp", " ", "is", " ", "a", " ", "string", " ", "with", " ", 
         "format", " ", "of", " ", "expid", " ", "in", " ", "the", " ", 
         "config", " ", "file"}]}], "*)"}], "\n", 
      RowBox[{"If", "[", "\n", 
       RowBox[{
        RowBox[{
         RowBox[{"expttype", "==", "\"\<All\>\""}], " ", "||", " ", 
         RowBox[{"expttype", "==", "\"\<ProtonNeutron\>\""}]}], ",", "\n", 
        RowBox[{"exptidtmp", "=", "exptid"}]}], "\n", "]"}], ";", "\n", 
      RowBox[{"If", "[", "\n", 
       RowBox[{
        RowBox[{
         RowBox[{"expttype", "==", "\"\<single\>\""}], " ", "||", " ", 
         RowBox[{"expttype", "==", "\"\<multi\>\""}]}], ",", "\n", 
        RowBox[{
         RowBox[{"exptidtmp", "=", 
          RowBox[{"Table", "[", 
           RowBox[{
            RowBox[{
             RowBox[{"ToString", "[", 
              RowBox[{"exptid", "[", 
               RowBox[{"[", "iexptid", "]"}], "]"}], " ", "]"}], "<>", 
             "\"\< \>\""}], ",", 
            RowBox[{"{", 
             RowBox[{"iexptid", ",", "1", ",", 
              RowBox[{"Length", "[", "exptid", "]"}]}], "}"}]}], "]"}]}], ";",
          "\n", 
         RowBox[{"exptidtmp", "=", 
          RowBox[{"StringJoin", "[", "exptidtmp", "]"}]}], ";", "\n", 
         RowBox[{"exptidtmp", "=", 
          RowBox[{"Drop", "[", 
           RowBox[{"exptidtmp", ",", 
            RowBox[{"-", "1"}]}], "]"}]}], ";"}]}], 
       RowBox[{"(*", 
        RowBox[{"drop", " ", "the", " ", "last", " ", "\"\< \>\""}], "*)"}], 
       "\n", "]"}], ";", "\n", 
      RowBox[{"WriteString", "[", 
       RowBox[{
       "s", ",", "exptidtmp", ",", "exptidtag", ",", "exptidtext", ",", 
        "enterstr"}], "]"}], ";", "\n", 
      RowBox[{"WriteString", "[", 
       RowBox[{"s", ",", "\"\<\\n\>\""}], "]"}], ";", "\n", 
      RowBox[{"(*", "\n", 
       RowBox[{
        RowBox[{"If", "[", "\n", 
         RowBox[{
          RowBox[{
           RowBox[{"StringContainsQ", "[", 
            RowBox[{
             RowBox[{"output", "[", 
              RowBox[{"[", "i", "]"}], "]"}], ",", "exptidtag"}], "]"}], " ", 
           "&&", " ", 
           RowBox[{"(", 
            RowBox[{
             RowBox[{"expttype", "\[Equal]", "\"\<single\>\""}], " ", "||", 
             " ", 
             RowBox[{"expttype", "\[Equal]", "\"\<multi\>\""}]}], ")"}]}], 
          ",", "\n", 
          RowBox[{
           RowBox[{"exptidtmp", "=", 
            RowBox[{"ReadList", "[", 
             RowBox[{
              RowBox[{"StringToStream", "[", 
               RowBox[{"output", "[", 
                RowBox[{"[", "i", "]"}], "]"}], " ", "]"}], ",", "Record", 
              ",", 
              RowBox[{"RecordSeparators", "\[Rule]", "exptidtag"}]}], "]"}]}],
            ";", "\n", 
           RowBox[{"If", "[", 
            RowBox[{
             RowBox[{
              RowBox[{"Length", "[", "exptidtmp", "]"}], "\[Equal]", "2"}], 
             ",", 
             RowBox[{"exptid", "=", 
              RowBox[{"ReadList", "[", 
               RowBox[{
                RowBox[{"StringToStream", "[", 
                 RowBox[{"exptidtmp", "[", 
                  RowBox[{"[", "1", "]"}], "]"}], " ", "]"}], ",", "Number"}],
                "]"}]}]}], " ", "]"}]}]}], 
         RowBox[{"(*", 
          RowBox[{
           RowBox[{
            RowBox[{
             RowBox[{"structure", " ", "is", " ", "like", " ", "exptid"}], 
             "..."}], " ", "exptidtag", " ", "explanation"}], ",", " ", 
           RowBox[{
            RowBox[{"so", " ", "exptidtmp"}], " ", "=", " ", "2"}]}], " ", 
          "*)"}], "\n", "]"}], ";"}], "\n", "*)"}], "\n", "\n", 
      RowBox[{"Close", "[", "s", "]"}], ";", "\n", "\n", 
      "\"\<make correlation config file done\>\""}]}], "\n", 
    "]"}]}]}]], "Input"],

Cell[BoxData[
 RowBox[{
  RowBox[{"(*", 
   RowBox[{"20170514", ":", " ", 
    RowBox[{"for", " ", "save", " ", "data"}]}], "*)"}], "\n", 
  RowBox[{
   RowBox[{"readsavedataconfigfile", "[", 
    RowBox[{"configDirin_", ",", "configfilenamein_"}], "]"}], ":=", "\n", 
   RowBox[{"Module", "[", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{
       RowBox[{"configDir", "=", "configDirin"}], ",", 
       RowBox[{"configfilename", "=", "configfilenamein"}], ",", "\n", 
       "PDFsetDirTag", ",", "PDFsetmethodTag", ",", "ExptIDListTag", ",", 
       "datalistFileTag", ",", "FxQGridDirTag", ",", "FxQGridFileTag", ",", 
       "FxQSameptDirTag", ",", "FxQSameptFileTag", ",", "CorrDataDirTag", ",",
        "CorrDataFileTag", ",", "GridNxTag", ",", "GridNQTag", ",", "\n", 
       "PDFsetDir", ",", "PDFsetmethod", ",", "ExptIDList", ",", 
       "datalistFile", ",", "FxQGridDir", ",", "FxQGridFile", ",", 
       "FxQSameptDir", ",", "FxQSameptFile", ",", "CorrDataDir", ",", 
       "CorrDataFile", ",", "GridNx", ",", "GridNQ", ",", "\n", "itag", ",", 
       "s", ",", "output", ",", "output2", ",", "output3"}], "}"}], ",", "\n",
      "\n", 
     RowBox[{
      RowBox[{"PDFsetDirTag", "=", "\"\<PDF set Dir\>\""}], ";", "\n", 
      RowBox[{"PDFsetmethodTag", "=", "\"\<PDF method\>\""}], ";", "\n", 
      RowBox[{"ExptIDListTag", "=", "\"\<Expt ID List\>\""}], ";", "\n", 
      RowBox[{"datalistFileTag", "=", "\"\<datalis file\>\""}], ";", "\n", 
      RowBox[{"FxQGridDirTag", "=", "\"\<F(x,Q) Grid Path\>\""}], ";", "\n", 
      RowBox[{"FxQGridFileTag", "=", "\"\<F(x,Q) Grid File\>\""}], ";", "\n", 
      
      RowBox[{"FxQSameptDirTag", "=", "\"\<F(x,Q) Samept Path\>\""}], ";", 
      "\n", 
      RowBox[{"FxQSameptFileTag", "=", "\"\<F(x,Q) Samept File\>\""}], ";", 
      "\n", 
      RowBox[{"CorrDataDirTag", "=", "\"\<Correlation Path\>\""}], ";", "\n", 
      
      RowBox[{"CorrDataFileTag", "=", "\"\<Correlation File\>\""}], ";", "\n",
       "\n", 
      RowBox[{"GridNxTag", "=", "\"\<Nx\>\""}], ";", "\n", 
      RowBox[{"GridNQTag", "=", "\"\<NQ\>\""}], ";", "\n", 
      RowBox[{"{", 
       RowBox[{
       "PDFsetDirTag", ",", "PDFsetmethodTag", ",", "ExptIDListTag", ",", 
        "datalistFileTag", ",", "FxQGridDirTag", ",", "FxQGridFileTag", ",", 
        "FxQSameptDirTag", ",", "FxQSameptFileTag", ",", "CorrDataDirTag", 
        ",", "CorrDataFileTag", ",", "GridNxTag", ",", "GridNQTag"}], "}"}], 
      ";", "\n", "\n", 
      RowBox[{"PDFsetDir", "=", "\"\<unset\>\""}], ";", "\n", 
      RowBox[{"PDFsetmethod", "=", "\"\<unset\>\""}], ";", "\n", 
      RowBox[{"ExptIDList", "=", "\"\<unset\>\""}], ";", "\n", 
      RowBox[{"datalistFile", "=", "\"\<unset\>\""}], ";", "\n", 
      RowBox[{"FxQGridDir", "=", "\"\<unset\>\""}], ";", "\n", 
      RowBox[{"FxQGridFile", "=", "\"\<unset\>\""}], ";", "\n", 
      RowBox[{"FxQSameptDir", "=", "\"\<unset\>\""}], ";", "\n", 
      RowBox[{"FxQSameptFile", "=", "\"\<unset\>\""}], ";", "\n", 
      RowBox[{"CorrDataDir", "=", "\"\<unset\>\""}], ";", "\n", 
      RowBox[{"CorrDataFile", "=", "\"\<unset\>\""}], ";", "\n", "\n", 
      RowBox[{"GridNx", "=", "\"\<unset\>\""}], ";", "\n", 
      RowBox[{"GridNQ", "=", "\"\<unset\>\""}], ";", "\n", 
      RowBox[{"{", 
       RowBox[{
       "PDFsetDir", ",", "PDFsetmethod", ",", "ExptIDList", ",", 
        "datalistFile", ",", "FxQGridDir", ",", "FxQGridFile", ",", 
        "FxQSameptDir", ",", "FxQSameptFile", ",", "CorrDataDir", ",", 
        "CorrDataFile", ",", "GridNx", ",", "GridNQ"}], "}"}], ";", "\n", 
      "\n", "\n", 
      RowBox[{"(*", 
       RowBox[{
       "read", " ", "config", " ", "file", " ", "line", " ", "by", " ", 
        "line", " ", "into", " ", "list"}], "*)"}], "\n", 
      RowBox[{"s", "=", 
       RowBox[{"OpenRead", "[", 
        RowBox[{"configDir", "<>", "configfilename"}], "]"}]}], ";", "\n", 
      RowBox[{"output", "=", 
       RowBox[{"ReadList", "[", 
        RowBox[{"s", ",", "String"}], "]"}]}], ";", "\n", 
      RowBox[{"Close", "[", "s", "]"}], ";", "\n", "\n", 
      RowBox[{"(*", 
       RowBox[{"delete", " ", 
        RowBox[{"comments", ":", " ", 
         RowBox[{
         "with", " ", "\"\<#\>\"", " ", "at", " ", "begining", " ", "of", " ",
           "line"}]}]}], "*)"}], "\n", 
      RowBox[{"output2", "=", 
       RowBox[{"{", "}"}]}], ";", "\n", 
      RowBox[{"Table", "[", "\n", 
       RowBox[{
        RowBox[{
         RowBox[{"If", "[", 
          RowBox[{
           RowBox[{
            RowBox[{"StringTake", "[", 
             RowBox[{
              RowBox[{"output", "[", 
               RowBox[{"[", "i", "]"}], "]"}], ",", "1"}], "]"}], "!=", 
            "\"\<#\>\""}], ",", 
           RowBox[{"output2", "=", 
            RowBox[{"Append", "[", 
             RowBox[{"output2", ",", 
              RowBox[{"output", "[", 
               RowBox[{"[", "i", "]"}], "]"}]}], " ", "]"}]}]}], " ", "]"}], 
         ";", "\n", "\"\<dummy\>\""}], "\n", ",", 
        RowBox[{"{", 
         RowBox[{"i", ",", "1", ",", 
          RowBox[{"Length", "[", "output", "]"}]}], "}"}]}], "\n", "]"}], ";",
       "\n", 
      RowBox[{"(*", 
       RowBox[{
       "seperate", " ", "the", " ", "tag", " ", "of", " ", "configure", " ", 
        "file", " ", "and", " ", "arguments", " ", "by", " ", "\"\<:\>\""}], 
       "*)"}], "\n", 
      RowBox[{"output3", "=", 
       RowBox[{"Table", "[", 
        RowBox[{
         RowBox[{"StringSplit", "[", 
          RowBox[{
           RowBox[{"output2", "[", 
            RowBox[{"[", "i", "]"}], "]"}], ",", "\"\<:\>\""}], "]"}], ",", 
         RowBox[{"{", 
          RowBox[{"i", ",", "1", ",", 
           RowBox[{"Length", "[", "output2", "]"}]}], "}"}]}], "]"}]}], ";", 
      "\n", "\n", 
      RowBox[{"{", 
       RowBox[{
       "PDFsetDirTag", ",", "PDFsetmethodTag", ",", "ExptIDListTag", ",", 
        "datalistFileTag", ",", "FxQGridDirTag", ",", "FxQSameptDirTag", ",", 
        "CorrDataDirTag"}], "}"}], ";", "\n", 
      RowBox[{"(*", 
       RowBox[{
        RowBox[{"check", " ", "tag", " ", "exist"}], ",", " ", 
        RowBox[{"if", " ", "a", " ", "tag", " ", "exist"}], ",", " ", 
        RowBox[{
        "read", " ", "arguments", " ", "corresponding", " ", "to", " ", 
         "that", " ", "tag"}]}], "*)"}], "\n", 
      RowBox[{"(*", 
       RowBox[{"read", " ", "PDFset", " ", "Dir"}], "*)"}], "\n", 
      RowBox[{"itag", "=", "1"}], ";", "\n", 
      RowBox[{"If", "[", 
       RowBox[{
        RowBox[{
         RowBox[{"output3", "[", 
          RowBox[{"[", 
           RowBox[{"itag", ",", "1"}], "]"}], "]"}], "==", "PDFsetDirTag"}], 
        ",", 
        RowBox[{
         RowBox[{"PDFsetDir", "=", 
          RowBox[{"output3", "[", 
           RowBox[{"[", 
            RowBox[{"itag", ",", "2"}], "]"}], "]"}]}], ";", 
         RowBox[{"PDFsetDir", "=", 
          RowBox[{"Read", "[", 
           RowBox[{
            RowBox[{"StringToStream", "[", "PDFsetDir", "]"}], ",", "Word"}], 
           "]"}]}]}]}], " ", "]"}], ";", "\n", "\n", 
      RowBox[{"(*", 
       RowBox[{"read", " ", "PDF", " ", "method"}], " ", "*)"}], "\n", 
      RowBox[{"itag", "=", 
       RowBox[{"itag", "+", "1"}]}], ";", "\n", 
      RowBox[{"If", "[", 
       RowBox[{
        RowBox[{
         RowBox[{"output3", "[", 
          RowBox[{"[", 
           RowBox[{"itag", ",", "1"}], "]"}], "]"}], "==", 
         "PDFsetmethodTag"}], ",", 
        RowBox[{
         RowBox[{"PDFsetmethod", "=", 
          RowBox[{"output3", "[", 
           RowBox[{"[", 
            RowBox[{"itag", ",", "2"}], "]"}], "]"}]}], ";", 
         RowBox[{"PDFsetmethod", "=", 
          RowBox[{"Read", "[", 
           RowBox[{
            RowBox[{"StringToStream", "[", "PDFsetmethod", "]"}], ",", 
            "Word"}], "]"}]}]}]}], " ", "]"}], ";", "\n", "\n", 
      RowBox[{"(*", 
       RowBox[{"read", " ", "ExptID", " ", "List"}], " ", "*)"}], "\n", 
      RowBox[{"itag", "=", 
       RowBox[{"itag", "+", "1"}]}], ";", "\n", 
      RowBox[{"If", "[", 
       RowBox[{
        RowBox[{
         RowBox[{"output3", "[", 
          RowBox[{"[", 
           RowBox[{"itag", ",", "1"}], "]"}], "]"}], "==", "ExptIDListTag"}], 
        ",", 
        RowBox[{
         RowBox[{"ExptIDList", "=", 
          RowBox[{"output3", "[", 
           RowBox[{"[", 
            RowBox[{"itag", ",", "2"}], "]"}], "]"}]}], ";", 
         RowBox[{"ExptIDList", "=", 
          RowBox[{"ReadList", "[", 
           RowBox[{
            RowBox[{"StringToStream", "[", "ExptIDList", "]"}], ",", 
            "Number"}], "]"}]}]}]}], " ", "]"}], ";", "\n", "\n", 
      RowBox[{"(*", 
       RowBox[{"read", " ", "datalist", " ", "File"}], " ", "*)"}], "\n", 
      RowBox[{"itag", "=", 
       RowBox[{"itag", "+", "1"}]}], ";", "\n", 
      RowBox[{"If", "[", 
       RowBox[{
        RowBox[{
         RowBox[{"output3", "[", 
          RowBox[{"[", 
           RowBox[{"itag", ",", "1"}], "]"}], "]"}], "==", 
         "datalistFileTag"}], ",", 
        RowBox[{
         RowBox[{"datalistFile", "=", 
          RowBox[{"output3", "[", 
           RowBox[{"[", 
            RowBox[{"itag", ",", "2"}], "]"}], "]"}]}], ";", 
         RowBox[{"datalistFile", "=", 
          RowBox[{"Read", "[", 
           RowBox[{
            RowBox[{"StringToStream", "[", "datalistFile", "]"}], ",", 
            "Word"}], "]"}]}]}]}], " ", "]"}], ";", "\n", "\n", 
      RowBox[{"(*", 
       RowBox[{"read", " ", "FxQGrid", " ", "Dir"}], " ", "*)"}], "\n", 
      RowBox[{"itag", "=", 
       RowBox[{"itag", "+", "1"}]}], ";", "\n", 
      RowBox[{"If", "[", 
       RowBox[{
        RowBox[{
         RowBox[{"output3", "[", 
          RowBox[{"[", 
           RowBox[{"itag", ",", "1"}], "]"}], "]"}], "==", "FxQGridDirTag"}], 
        ",", 
        RowBox[{
         RowBox[{"FxQGridDir", "=", 
          RowBox[{"output3", "[", 
           RowBox[{"[", 
            RowBox[{"itag", ",", "2"}], "]"}], "]"}]}], ";", 
         RowBox[{"FxQGridDir", "=", 
          RowBox[{"Read", "[", 
           RowBox[{
            RowBox[{"StringToStream", "[", "FxQGridDir", "]"}], ",", "Word"}],
            "]"}]}]}]}], " ", "]"}], ";", "\n", "\n", 
      RowBox[{"(*", 
       RowBox[{"read", " ", "FxQGrid", " ", "File"}], " ", "*)"}], "\n", 
      RowBox[{"itag", "=", 
       RowBox[{"itag", "+", "1"}]}], ";", "\n", 
      RowBox[{"If", "[", 
       RowBox[{
        RowBox[{
         RowBox[{"output3", "[", 
          RowBox[{"[", 
           RowBox[{"itag", ",", "1"}], "]"}], "]"}], "==", "FxQGridFileTag"}],
         ",", 
        RowBox[{
         RowBox[{"FxQGridFile", "=", 
          RowBox[{"output3", "[", 
           RowBox[{"[", 
            RowBox[{"itag", ",", "2"}], "]"}], "]"}]}], ";", 
         RowBox[{"FxQGridFile", "=", 
          RowBox[{"Read", "[", 
           RowBox[{
            RowBox[{"StringToStream", "[", "FxQGridFile", "]"}], ",", 
            "Word"}], "]"}]}]}]}], " ", "]"}], ";", "\n", "\n", 
      RowBox[{"(*", 
       RowBox[{"read", " ", "FxQSamept", " ", "Dir"}], " ", "*)"}], "\n", 
      RowBox[{"itag", "=", 
       RowBox[{"itag", "+", "1"}]}], ";", "\n", 
      RowBox[{"If", "[", 
       RowBox[{
        RowBox[{
         RowBox[{"output3", "[", 
          RowBox[{"[", 
           RowBox[{"itag", ",", "1"}], "]"}], "]"}], "==", 
         "FxQSameptDirTag"}], ",", 
        RowBox[{
         RowBox[{"FxQSameptDir", "=", 
          RowBox[{"output3", "[", 
           RowBox[{"[", 
            RowBox[{"itag", ",", "2"}], "]"}], "]"}]}], ";", 
         RowBox[{"FxQSameptDir", "=", 
          RowBox[{"Read", "[", 
           RowBox[{
            RowBox[{"StringToStream", "[", "FxQSameptDir", "]"}], ",", 
            "Word"}], "]"}]}]}]}], " ", "]"}], ";", "\n", "\n", 
      RowBox[{"(*", 
       RowBox[{"read", " ", "FxQSamept", " ", "File"}], " ", "*)"}], "\n", 
      RowBox[{"itag", "=", 
       RowBox[{"itag", "+", "1"}]}], ";", "\n", 
      RowBox[{"If", "[", 
       RowBox[{
        RowBox[{
         RowBox[{"output3", "[", 
          RowBox[{"[", 
           RowBox[{"itag", ",", "1"}], "]"}], "]"}], "==", 
         "FxQSameptFileTag"}], ",", 
        RowBox[{
         RowBox[{"FxQSameptFile", "=", 
          RowBox[{"output3", "[", 
           RowBox[{"[", 
            RowBox[{"itag", ",", "2"}], "]"}], "]"}]}], ";", 
         RowBox[{"FxQSameptFile", "=", 
          RowBox[{"Read", "[", 
           RowBox[{
            RowBox[{"StringToStream", "[", "FxQSameptFile", "]"}], ",", 
            "Word"}], "]"}]}]}]}], " ", "]"}], ";", "\n", "\n", 
      RowBox[{"(*", 
       RowBox[{"read", " ", "Correlation", " ", "Data", " ", "Dir"}], " ", 
       "*)"}], "\n", 
      RowBox[{"itag", "=", 
       RowBox[{"itag", "+", "1"}]}], ";", "\n", 
      RowBox[{"If", "[", 
       RowBox[{
        RowBox[{
         RowBox[{"output3", "[", 
          RowBox[{"[", 
           RowBox[{"itag", ",", "1"}], "]"}], "]"}], "==", "CorrDataDirTag"}],
         ",", 
        RowBox[{
         RowBox[{"CorrDataDir", "=", 
          RowBox[{"output3", "[", 
           RowBox[{"[", 
            RowBox[{"itag", ",", "2"}], "]"}], "]"}]}], ";", 
         RowBox[{"CorrDataDir", "=", 
          RowBox[{"Read", "[", 
           RowBox[{
            RowBox[{"StringToStream", "[", "CorrDataDir", "]"}], ",", 
            "Word"}], "]"}]}]}]}], " ", "]"}], ";", "\n", "\n", 
      RowBox[{"(*", 
       RowBox[{"read", " ", "Correlation", " ", "Data", " ", "File"}], " ", 
       "*)"}], "\n", 
      RowBox[{"itag", "=", 
       RowBox[{"itag", "+", "1"}]}], ";", "\n", 
      RowBox[{"If", "[", 
       RowBox[{
        RowBox[{
         RowBox[{"output3", "[", 
          RowBox[{"[", 
           RowBox[{"itag", ",", "1"}], "]"}], "]"}], "==", 
         "CorrDataFileTag"}], ",", 
        RowBox[{
         RowBox[{"CorrDataFile", "=", 
          RowBox[{"output3", "[", 
           RowBox[{"[", 
            RowBox[{"itag", ",", "2"}], "]"}], "]"}]}], ";", 
         RowBox[{"CorrDataFile", "=", 
          RowBox[{"Read", "[", 
           RowBox[{
            RowBox[{"StringToStream", "[", "CorrDataFile", "]"}], ",", 
            "Word"}], "]"}]}]}]}], " ", "]"}], ";", "\n", "\n", 
      RowBox[{"(*", 
       RowBox[{"read", " ", "Grid", " ", "Nx"}], " ", "*)"}], "\n", 
      RowBox[{"itag", "=", 
       RowBox[{"itag", "+", "1"}]}], ";", "\n", 
      RowBox[{"If", "[", 
       RowBox[{
        RowBox[{
         RowBox[{"output3", "[", 
          RowBox[{"[", 
           RowBox[{"itag", ",", "1"}], "]"}], "]"}], "==", "GridNxTag"}], ",", 
        RowBox[{
         RowBox[{"GridNx", "=", 
          RowBox[{"output3", "[", 
           RowBox[{"[", 
            RowBox[{"itag", ",", "2"}], "]"}], "]"}]}], ";", 
         RowBox[{"GridNx", "=", 
          RowBox[{"Read", "[", 
           RowBox[{
            RowBox[{"StringToStream", "[", "GridNx", "]"}], ",", "Number"}], 
           "]"}]}]}]}], " ", "]"}], ";", "\n", "\n", 
      RowBox[{"(*", 
       RowBox[{"read", " ", "Grid", " ", "NQ"}], " ", "*)"}], "\n", 
      RowBox[{"itag", "=", 
       RowBox[{"itag", "+", "1"}]}], ";", "\n", 
      RowBox[{"If", "[", 
       RowBox[{
        RowBox[{
         RowBox[{"output3", "[", 
          RowBox[{"[", 
           RowBox[{"itag", ",", "1"}], "]"}], "]"}], "==", "GridNQTag"}], ",", 
        RowBox[{
         RowBox[{"GridNQ", "=", 
          RowBox[{"output3", "[", 
           RowBox[{"[", 
            RowBox[{"itag", ",", "2"}], "]"}], "]"}]}], ";", 
         RowBox[{"GridNQ", "=", 
          RowBox[{"Read", "[", 
           RowBox[{
            RowBox[{"StringToStream", "[", "GridNQ", "]"}], ",", "Number"}], 
           "]"}]}]}]}], " ", "]"}], ";", "\n", "\n", "\n", 
      RowBox[{"{", 
       RowBox[{
       "PDFsetDir", ",", "PDFsetmethod", ",", "ExptIDList", ",", 
        "datalistFile", ",", "FxQGridDir", ",", "FxQGridFile", ",", 
        "FxQSameptDir", ",", "FxQSameptFile", ",", "CorrDataDir", ",", 
        "CorrDataFile", ",", "GridNx", ",", "GridNQ"}], "}"}]}]}], "\n", 
    "]"}]}]}]], "Input",
 InitializationCell->True],

Cell[BoxData[
 RowBox[{
  RowBox[{"(*", 
   RowBox[{"20170514", ":", " ", 
    RowBox[{"for", " ", "save", " ", "data"}]}], "*)"}], "\n", 
  RowBox[{
   RowBox[{"readplotdataconfigfile", "[", 
    RowBox[{"configDirin_", ",", "configfilenamein_"}], "]"}], ":=", "\n", 
   RowBox[{"Module", "[", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{
       RowBox[{"configDir", "=", "configDirin"}], ",", 
       RowBox[{"configfilename", "=", "configfilenamein"}], ",", "\n", 
       "PDFsetDirTag", ",", "PDFsetmethodTag", ",", "ExptIDListTag", ",", 
       "datalistFileTag", ",", "FxQGridDirTag", ",", "FxQGridFileTag", ",", 
       "FxQSameptDirTag", ",", "FxQSameptFileTag", ",", "CorrDataDirTag", ",",
        "CorrDataFileTag", ",", "GridNxTag", ",", "GridNQTag", ",", "\n", 
       "PDFsetDir", ",", "PDFsetmethod", ",", "ExptIDList", ",", 
       "datalistFile", ",", "FxQGridDir", ",", "FxQGridFile", ",", 
       "FxQSameptDir", ",", "FxQSameptFile", ",", "CorrDataDir", ",", 
       "CorrDataFile", ",", "GridNx", ",", "GridNQ", ",", "\n", "itag", ",", 
       "s", ",", "output", ",", "output2", ",", "output3"}], "}"}], ",", "\n",
      "\n", "\n", 
     RowBox[{
      RowBox[{"datalistFileTag", "=", "\"\<datalis file\>\""}], ";", "\n", 
      RowBox[{"FxQGridDirTag", "=", "\"\<F(x,Q) Grid Path\>\""}], ";", "\n", 
      RowBox[{"FxQGridFileTag", "=", "\"\<F(x,Q) Grid File\>\""}], ";", "\n", 
      
      RowBox[{"FxQSameptDirTag", "=", "\"\<F(x,Q) Samept Path\>\""}], ";", 
      "\n", 
      RowBox[{"FxQSameptFileTag", "=", "\"\<F(x,Q) Samept File\>\""}], ";", 
      "\n", 
      RowBox[{"CorrDataDirTag", "=", "\"\<Correlation Path\>\""}], ";", "\n", 
      
      RowBox[{"CorrDataFileTag", "=", "\"\<Correlation File\>\""}], ";", "\n",
       "\n", 
      RowBox[{"GridNxTag", "=", "\"\<Nx\>\""}], ";", "\n", 
      RowBox[{"GridNQTag", "=", "\"\<NQ\>\""}], ";", "\n", 
      RowBox[{"{", 
       RowBox[{
       "datalistFileTag", ",", "FxQGridDirTag", ",", "FxQGridFileTag", ",", 
        "FxQSameptDirTag", ",", "FxQSameptFileTag", ",", "CorrDataDirTag", 
        ",", "CorrDataFileTag", ",", "GridNxTag", ",", "GridNQTag"}], "}"}], 
      ";", "\n", "\n", "\n", 
      RowBox[{"datalistFile", "=", "\"\<unset\>\""}], ";", "\n", 
      RowBox[{"FxQGridDir", "=", "\"\<unset\>\""}], ";", "\n", 
      RowBox[{"FxQGridFile", "=", "\"\<unset\>\""}], ";", "\n", 
      RowBox[{"FxQSameptDir", "=", "\"\<unset\>\""}], ";", "\n", 
      RowBox[{"FxQSameptFile", "=", "\"\<unset\>\""}], ";", "\n", 
      RowBox[{"CorrDataDir", "=", "\"\<unset\>\""}], ";", "\n", 
      RowBox[{"CorrDataFile", "=", "\"\<unset\>\""}], ";", "\n", "\n", 
      RowBox[{"GridNx", "=", "\"\<unset\>\""}], ";", "\n", 
      RowBox[{"GridNQ", "=", "\"\<unset\>\""}], ";", "\n", 
      RowBox[{"{", 
       RowBox[{
       "datalistFile", ",", "FxQGridDir", ",", "FxQGridFile", ",", 
        "FxQSameptDir", ",", "FxQSameptFile", ",", "CorrDataDir", ",", 
        "CorrDataFile", ",", "GridNx", ",", "GridNQ"}], "}"}], ";", "\n", 
      "\n", "\n", 
      RowBox[{"(*", 
       RowBox[{
       "read", " ", "config", " ", "file", " ", "line", " ", "by", " ", 
        "line", " ", "into", " ", "list"}], "*)"}], "\n", 
      RowBox[{"s", "=", 
       RowBox[{"OpenRead", "[", 
        RowBox[{"configDir", "<>", "configfilename"}], "]"}]}], ";", "\n", 
      RowBox[{"output", "=", 
       RowBox[{"ReadList", "[", 
        RowBox[{"s", ",", "String"}], "]"}]}], ";", "\n", 
      RowBox[{"Close", "[", "s", "]"}], ";", "\n", "\n", 
      RowBox[{"(*", 
       RowBox[{"delete", " ", 
        RowBox[{"comments", ":", " ", 
         RowBox[{
         "with", " ", "\"\<#\>\"", " ", "at", " ", "begining", " ", "of", " ",
           "line"}]}]}], "*)"}], "\n", 
      RowBox[{"output2", "=", 
       RowBox[{"{", "}"}]}], ";", "\n", 
      RowBox[{"Table", "[", "\n", 
       RowBox[{
        RowBox[{
         RowBox[{"If", "[", 
          RowBox[{
           RowBox[{
            RowBox[{"StringTake", "[", 
             RowBox[{
              RowBox[{"output", "[", 
               RowBox[{"[", "i", "]"}], "]"}], ",", "1"}], "]"}], "!=", 
            "\"\<#\>\""}], ",", 
           RowBox[{"output2", "=", 
            RowBox[{"Append", "[", 
             RowBox[{"output2", ",", 
              RowBox[{"output", "[", 
               RowBox[{"[", "i", "]"}], "]"}]}], " ", "]"}]}]}], " ", "]"}], 
         ";", "\n", "\"\<dummy\>\""}], "\n", ",", 
        RowBox[{"{", 
         RowBox[{"i", ",", "1", ",", 
          RowBox[{"Length", "[", "output", "]"}]}], "}"}]}], "\n", "]"}], ";",
       "\n", 
      RowBox[{"(*", 
       RowBox[{
       "seperate", " ", "the", " ", "tag", " ", "of", " ", "configure", " ", 
        "file", " ", "and", " ", "arguments", " ", "by", " ", "\"\<:\>\""}], 
       "*)"}], "\n", 
      RowBox[{"output3", "=", 
       RowBox[{"Table", "[", 
        RowBox[{
         RowBox[{"StringSplit", "[", 
          RowBox[{
           RowBox[{"output2", "[", 
            RowBox[{"[", "i", "]"}], "]"}], ",", "\"\<:\>\""}], "]"}], ",", 
         RowBox[{"{", 
          RowBox[{"i", ",", "1", ",", 
           RowBox[{"Length", "[", "output2", "]"}]}], "}"}]}], "]"}]}], ";", 
      "\n", "\n", 
      RowBox[{"{", 
       RowBox[{
       "datalistFileTag", ",", "FxQGridDirTag", ",", "FxQSameptDirTag", ",", 
        "CorrDataDirTag"}], "}"}], ";", "\n", 
      RowBox[{"(*", 
       RowBox[{
        RowBox[{"check", " ", "tag", " ", "exist"}], ",", " ", 
        RowBox[{"if", " ", "a", " ", "tag", " ", "exist"}], ",", " ", 
        RowBox[{
        "read", " ", "arguments", " ", "corresponding", " ", "to", " ", 
         "that", " ", "tag"}]}], "*)"}], "\n", "\n", 
      RowBox[{"(*", 
       RowBox[{"read", " ", "datalist", " ", "File"}], " ", "*)"}], "\n", 
      RowBox[{"itag", "=", "1"}], ";", "\n", 
      RowBox[{"If", "[", 
       RowBox[{
        RowBox[{
         RowBox[{"output3", "[", 
          RowBox[{"[", 
           RowBox[{"itag", ",", "1"}], "]"}], "]"}], "==", 
         "datalistFileTag"}], ",", 
        RowBox[{
         RowBox[{"datalistFile", "=", 
          RowBox[{"output3", "[", 
           RowBox[{"[", 
            RowBox[{"itag", ",", "2"}], "]"}], "]"}]}], ";", 
         RowBox[{"datalistFile", "=", 
          RowBox[{"Read", "[", 
           RowBox[{
            RowBox[{"StringToStream", "[", "datalistFile", "]"}], ",", 
            "Word"}], "]"}]}]}]}], " ", "]"}], ";", "\n", "\n", 
      RowBox[{"(*", 
       RowBox[{"read", " ", "FxQGrid", " ", "Dir"}], " ", "*)"}], "\n", 
      RowBox[{"itag", "=", 
       RowBox[{"itag", "+", "1"}]}], ";", "\n", 
      RowBox[{"If", "[", 
       RowBox[{
        RowBox[{
         RowBox[{"output3", "[", 
          RowBox[{"[", 
           RowBox[{"itag", ",", "1"}], "]"}], "]"}], "==", "FxQGridDirTag"}], 
        ",", 
        RowBox[{
         RowBox[{"FxQGridDir", "=", 
          RowBox[{"output3", "[", 
           RowBox[{"[", 
            RowBox[{"itag", ",", "2"}], "]"}], "]"}]}], ";", 
         RowBox[{"FxQGridDir", "=", 
          RowBox[{"Read", "[", 
           RowBox[{
            RowBox[{"StringToStream", "[", "FxQGridDir", "]"}], ",", "Word"}],
            "]"}]}]}]}], " ", "]"}], ";", "\n", "\n", 
      RowBox[{"(*", 
       RowBox[{"read", " ", "FxQGrid", " ", "File"}], " ", "*)"}], "\n", 
      RowBox[{"itag", "=", 
       RowBox[{"itag", "+", "1"}]}], ";", "\n", 
      RowBox[{"If", "[", 
       RowBox[{
        RowBox[{
         RowBox[{"output3", "[", 
          RowBox[{"[", 
           RowBox[{"itag", ",", "1"}], "]"}], "]"}], "==", "FxQGridFileTag"}],
         ",", 
        RowBox[{
         RowBox[{"FxQGridFile", "=", 
          RowBox[{"output3", "[", 
           RowBox[{"[", 
            RowBox[{"itag", ",", "2"}], "]"}], "]"}]}], ";", 
         RowBox[{"FxQGridFile", "=", 
          RowBox[{"Read", "[", 
           RowBox[{
            RowBox[{"StringToStream", "[", "FxQGridFile", "]"}], ",", 
            "Word"}], "]"}]}]}]}], " ", "]"}], ";", "\n", "\n", 
      RowBox[{"(*", 
       RowBox[{"read", " ", "FxQSamept", " ", "Dir"}], " ", "*)"}], "\n", 
      RowBox[{"itag", "=", 
       RowBox[{"itag", "+", "1"}]}], ";", "\n", 
      RowBox[{"If", "[", 
       RowBox[{
        RowBox[{
         RowBox[{"output3", "[", 
          RowBox[{"[", 
           RowBox[{"itag", ",", "1"}], "]"}], "]"}], "==", 
         "FxQSameptDirTag"}], ",", 
        RowBox[{
         RowBox[{"FxQSameptDir", "=", 
          RowBox[{"output3", "[", 
           RowBox[{"[", 
            RowBox[{"itag", ",", "2"}], "]"}], "]"}]}], ";", 
         RowBox[{"FxQSameptDir", "=", 
          RowBox[{"Read", "[", 
           RowBox[{
            RowBox[{"StringToStream", "[", "FxQSameptDir", "]"}], ",", 
            "Word"}], "]"}]}]}]}], " ", "]"}], ";", "\n", "\n", 
      RowBox[{"(*", 
       RowBox[{"read", " ", "FxQSamept", " ", "File"}], " ", "*)"}], "\n", 
      RowBox[{"itag", "=", 
       RowBox[{"itag", "+", "1"}]}], ";", "\n", 
      RowBox[{"If", "[", 
       RowBox[{
        RowBox[{
         RowBox[{"output3", "[", 
          RowBox[{"[", 
           RowBox[{"itag", ",", "1"}], "]"}], "]"}], "==", 
         "FxQSameptFileTag"}], ",", 
        RowBox[{
         RowBox[{"FxQSameptFile", "=", 
          RowBox[{"output3", "[", 
           RowBox[{"[", 
            RowBox[{"itag", ",", "2"}], "]"}], "]"}]}], ";", 
         RowBox[{"FxQSameptFile", "=", 
          RowBox[{"Read", "[", 
           RowBox[{
            RowBox[{"StringToStream", "[", "FxQSameptFile", "]"}], ",", 
            "Word"}], "]"}]}]}]}], " ", "]"}], ";", "\n", "\n", 
      RowBox[{"(*", 
       RowBox[{"read", " ", "Correlation", " ", "Data", " ", "Dir"}], " ", 
       "*)"}], "\n", 
      RowBox[{"itag", "=", 
       RowBox[{"itag", "+", "1"}]}], ";", "\n", 
      RowBox[{"If", "[", 
       RowBox[{
        RowBox[{
         RowBox[{"output3", "[", 
          RowBox[{"[", 
           RowBox[{"itag", ",", "1"}], "]"}], "]"}], "==", "CorrDataDirTag"}],
         ",", 
        RowBox[{
         RowBox[{"CorrDataDir", "=", 
          RowBox[{"output3", "[", 
           RowBox[{"[", 
            RowBox[{"itag", ",", "2"}], "]"}], "]"}]}], ";", 
         RowBox[{"CorrDataDir", "=", 
          RowBox[{"Read", "[", 
           RowBox[{
            RowBox[{"StringToStream", "[", "CorrDataDir", "]"}], ",", 
            "Word"}], "]"}]}]}]}], " ", "]"}], ";", "\n", "\n", 
      RowBox[{"(*", 
       RowBox[{"read", " ", "Correlation", " ", "Data", " ", "File"}], " ", 
       "*)"}], "\n", 
      RowBox[{"itag", "=", 
       RowBox[{"itag", "+", "1"}]}], ";", "\n", 
      RowBox[{"If", "[", 
       RowBox[{
        RowBox[{
         RowBox[{"output3", "[", 
          RowBox[{"[", 
           RowBox[{"itag", ",", "1"}], "]"}], "]"}], "==", 
         "CorrDataFileTag"}], ",", 
        RowBox[{
         RowBox[{"CorrDataFile", "=", 
          RowBox[{"output3", "[", 
           RowBox[{"[", 
            RowBox[{"itag", ",", "2"}], "]"}], "]"}]}], ";", 
         RowBox[{"CorrDataFile", "=", 
          RowBox[{"Read", "[", 
           RowBox[{
            RowBox[{"StringToStream", "[", "CorrDataFile", "]"}], ",", 
            "Word"}], "]"}]}]}]}], " ", "]"}], ";", "\n", "\n", 
      RowBox[{"(*", 
       RowBox[{"read", " ", "Grid", " ", "Nx"}], " ", "*)"}], "\n", 
      RowBox[{"itag", "=", 
       RowBox[{"itag", "+", "1"}]}], ";", "\n", 
      RowBox[{"If", "[", 
       RowBox[{
        RowBox[{
         RowBox[{"output3", "[", 
          RowBox[{"[", 
           RowBox[{"itag", ",", "1"}], "]"}], "]"}], "==", "GridNxTag"}], ",", 
        RowBox[{
         RowBox[{"GridNx", "=", 
          RowBox[{"output3", "[", 
           RowBox[{"[", 
            RowBox[{"itag", ",", "2"}], "]"}], "]"}]}], ";", 
         RowBox[{"GridNx", "=", 
          RowBox[{"Read", "[", 
           RowBox[{
            RowBox[{"StringToStream", "[", "GridNx", "]"}], ",", "Number"}], 
           "]"}]}]}]}], " ", "]"}], ";", "\n", "\n", 
      RowBox[{"(*", 
       RowBox[{"read", " ", "Grid", " ", "NQ"}], " ", "*)"}], "\n", 
      RowBox[{"itag", "=", 
       RowBox[{"itag", "+", "1"}]}], ";", "\n", 
      RowBox[{"If", "[", 
       RowBox[{
        RowBox[{
         RowBox[{"output3", "[", 
          RowBox[{"[", 
           RowBox[{"itag", ",", "1"}], "]"}], "]"}], "==", "GridNQTag"}], ",", 
        RowBox[{
         RowBox[{"GridNQ", "=", 
          RowBox[{"output3", "[", 
           RowBox[{"[", 
            RowBox[{"itag", ",", "2"}], "]"}], "]"}]}], ";", 
         RowBox[{"GridNQ", "=", 
          RowBox[{"Read", "[", 
           RowBox[{
            RowBox[{"StringToStream", "[", "GridNQ", "]"}], ",", "Number"}], 
           "]"}]}]}]}], " ", "]"}], ";", "\n", "\n", "\n", 
      RowBox[{"{", 
       RowBox[{
       "datalistFile", ",", "FxQGridDir", ",", "FxQGridFile", ",", 
        "FxQSameptDir", ",", "FxQSameptFile", ",", "CorrDataDir", ",", 
        "CorrDataFile", ",", "GridNx", ",", "GridNQ"}], "}"}]}]}], "\n", 
    "]"}]}]}]], "Input",
 InitializationCell->True],

Cell[BoxData[
 RowBox[{
  RowBox[{"(*", "\n", 
   RowBox[{
    RowBox[{"makecorrconfigfile", "[", 
     RowBox[{
     "configDirin_", ",", "configfilenamein_", ",", "myPDFsetDirin_", ",", 
      "PDFsetmethodin_", ",", "PDFnamein_", ",", "PDFDataDirin_", ",", 
      "datalistFilein_"}], "]"}], ":=", "\n", 
    RowBox[{"Module", "[", 
     RowBox[{
      RowBox[{"{", 
       RowBox[{
        RowBox[{"configDir", "=", "configDirin"}], ",", 
        RowBox[{"configfilename", "=", "configfilenamein"}], ",", 
        RowBox[{"myPDFsetDir", "=", "myPDFsetDirin"}], ",", 
        RowBox[{"PDFsetmethod", "=", "PDFsetmethodin"}], ",", 
        RowBox[{"PDFname", "=", "PDFnamein"}], ",", 
        RowBox[{"PDFDataDir", "=", "PDFDataDirin"}], ",", 
        RowBox[{"datalistFile", "=", "datalistFilein"}], ",", "PDFsetDirtag", 
        ",", "PDFsetmethodtag", ",", "PDFDataDirtag", ",", "CorrDataDirtag", 
        ",", "PDFnametag", ",", "datalistFiletag", ",", 
        RowBox[{"s", ".", "enterstr"}]}], "}"}], ",", "\n", "\n", 
      RowBox[{
       RowBox[{"PDFsetDirtag", "=", "\"\< = PDFset directory !\>\""}], ";", 
       "\n", 
       RowBox[{
       "PDFsetmethodtag", "=", 
        "\"\< = method used to generate PDFset !\>\""}], ";", "\n", "\n", 
       RowBox[{
       "PDFDataDirtag", "=", "\"\< = directory storing f(x,Q) data !\>\""}], 
       ";", "\n", 
       RowBox[{
       "CorrDataDirtag", "=", 
        "\"\< = directory storing correlation data !\>\""}], ";", "\n", 
       RowBox[{
       "PDFnametag", "=", 
        "\"\< = PDFname of file storing f(x,Q) value !\>\""}], ";", "\n", 
       "\n", 
       RowBox[{
       "datalistFiletag", "=", 
        "\"\< = datalist with experimental information !\>\""}], ";", "\n", 
       "\n", 
       RowBox[{"s", "=", 
        RowBox[{"OpenWrite", "[", 
         RowBox[{"configDir", "<>", "configfilename"}], "]"}]}], ";", "\n", 
       RowBox[{"WriteString", "[", 
        RowBox[{
        "s", ",", 
         "\"\<#this file is config file of \
correlation_plot_project_v3.nb\\n\>\""}], "]"}], ";", "\n", 
       RowBox[{"WriteString", "[", 
        RowBox[{
        "s", ",", 
         "\"\<#PDFsetDir is the directory of PDFset, PDFsetmethod = Hessian \
or MC \\n\>\""}], "]"}], ";", "\n", 
       RowBox[{"WriteString", "[", 
        RowBox[{
        "s", ",", 
         "\"\<#PDFDataDir is directory store f(x,Q) data, PDFname is name of \
PDFset, ex: CT14NNLO \\n\>\""}], "]"}], ";", "\n", 
       RowBox[{"WriteString", "[", 
        RowBox[{
        "s", ",", 
         "\"\<#datalistFile is the file with experimental information \
\\n\>\""}], "]"}], ";", "\n", 
       RowBox[{"WriteString", "[", 
        RowBox[{"s", ",", "\"\<\\n\>\""}], "]"}], ";", "\n", "\n", 
       RowBox[{"enterstr", "=", "\"\<\\n\>\""}], ";", "\n", 
       RowBox[{"WriteString", "[", 
        RowBox[{
        "s", ",", "myPDFsetDir", ",", "PDFsetDirtag", ",", "enterstr"}], 
        "]"}], ";", "\n", 
       RowBox[{"WriteString", "[", 
        RowBox[{
        "s", ",", "PDFsetmethod", ",", "PDFsetmethodtag", ",", "enterstr"}], 
        "]"}], ";", "\n", 
       RowBox[{"WriteString", "[", 
        RowBox[{"s", ",", "\"\<\\n\>\""}], "]"}], ";", "\n", "\n", 
       RowBox[{"WriteString", "[", 
        RowBox[{
        "s", ",", "PDFDataDir", ",", "PDFDataDirtag", ",", "enterstr"}], 
        "]"}], ";", "\n", 
       RowBox[{"WriteString", "[", 
        RowBox[{
        "s", ",", "CorrDataDir", ",", "CorrDataDirtag", ",", "enterstr"}], 
        "]"}], ";", "\n", 
       RowBox[{"WriteString", "[", 
        RowBox[{"s", ",", "PDFname", ",", "PDFnametag", ",", "enterstr"}], 
        "]"}], ";", "\n", 
       RowBox[{"WriteString", "[", 
        RowBox[{"s", ",", "\"\<\\n\>\""}], "]"}], ";", "\n", "\n", 
       RowBox[{"WriteString", "[", 
        RowBox[{
        "s", ",", "datalistFile", ",", "datalistFiletag", ",", "enterstr"}], 
        "]"}], ";", "\n", "\n", 
       RowBox[{"Close", "[", "s", "]"}], ";", "\n", "\n", 
       "\"\<make correlation config file done\>\""}]}], "\n", "]"}]}], "\n", 
   "*)"}], "\n"}]], "Code"],

Cell[BoxData[
 RowBox[{
  RowBox[{"(*", 
   RowBox[{"read", " ", "config", " ", "file"}], "*)"}], "\n", 
  RowBox[{"(*", 
   RowBox[{
    RowBox[{"script", " ", "version"}], ",", " ", 
    RowBox[{
    "add", " ", "runfunc", " ", "mode", " ", "into", " ", "configure", " ", 
     "file"}], ",", " ", 
    RowBox[{
    "so", " ", "that", " ", "user", " ", "can", " ", "use", " ", "commands", 
     " ", "to", " ", "decide", " ", "which", " ", "function", " ", "he", " ", 
     "want", " ", "to", " ", "run"}]}], "*)"}], "\n", 
  RowBox[{
   RowBox[{"readcorrconfigfile", "[", 
    RowBox[{"configDirin_", ",", "configfilenamein_"}], "]"}], ":=", "\n", 
   RowBox[{"Module", "[", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{
       RowBox[{"configDir", "=", "configDirin"}], ",", 
       RowBox[{"configfilename", "=", "configfilenamein"}], ",", "\n", 
       "runfunc", ",", "figureDir", ",", "myPDFsetDir", ",", "PDFsetmethod", 
       ",", "PDFname", ",", "PDFDataDir", ",", "CorrDataDir", ",", 
       "datalistFile", ",", "expttype", ",", "exptid", ",", "\n", 
       "runfunctag", ",", "figureDirtag", ",", "PDFsetDirtag", ",", 
       "PDFsetmethodtag", ",", "PDFDataDirtag", ",", "CorrDataDirtag", ",", 
       "PDFnametag", ",", "datalistFiletag", ",", "expttypetag", ",", 
       "exptidtag", ",", "\n", "runfunctext", ",", "figureDirtext", ",", 
       "PDFsetDirtext", ",", "PDFsetmethodtext", ",", "PDFDataDirtext", ",", 
       "CorrDataDirtext", ",", "PDFnametext", ",", "datalistFiletext", ",", 
       "expttypetext", ",", "exptidtext", ",", "\n", "s", ",", "output", ",", 
       "exptidtmp"}], "}"}], ",", "\n", 
     RowBox[{"(*", 
      RowBox[{"set", " ", "tag", " ", "of", " ", "arguments"}], "*)"}], "\n", 
     
     RowBox[{
      RowBox[{"runfunctag", "=", "\"\< = runfunc !\>\""}], ";", "\n", 
      RowBox[{"figureDirtag", "=", "\"\< = figureDirtag !\>\""}], ";", "\n", 
      "\n", 
      RowBox[{"PDFsetDirtag", "=", "\"\< = PDFsetDir !\>\""}], ";", "\n", 
      RowBox[{"PDFsetmethodtag", "=", "\"\< = PDFsetmethod !\>\""}], ";", 
      "\n", "\n", 
      RowBox[{"PDFDataDirtag", "=", "\"\< = PDFDataDir !\>\""}], ";", "\n", 
      RowBox[{"CorrDataDirtag", "=", "\"\< = CorrDataDir !\>\""}], ";", "\n", 
      
      RowBox[{"PDFnametag", "=", "\"\< = PDFname !\>\""}], ";", "\n", "\n", 
      RowBox[{"datalistFiletag", "=", "\"\< = datalist !\>\""}], ";", "\n", 
      "\n", 
      RowBox[{"expttypetag", "=", "\"\< = expttype !\>\""}], ";", "\n", 
      RowBox[{"exptidtag", "=", "\"\< = exptid !\>\""}], ";", "\n", "\n", 
      RowBox[{"(*", 
       RowBox[{
       "set", " ", "text", " ", "for", " ", "explanation", " ", "of", " ", 
        "arguments"}], "*)"}], "\n", 
      RowBox[{
      "runfunctext", "=", 
       "\"\< the action you want to do, what you can do: save_fx, \
save_corr_plots\>\""}], ";", "\n", 
      RowBox[{
      "figureDirtext", "=", 
       "\"\< the directory used to save figure files\>\""}], ";", "\n", "\n", 
      
      RowBox[{"PDFsetDirtext", "=", "\"\<  PDFset directory \>\""}], ";", 
      "\n", 
      RowBox[{
      "PDFsetmethodtext", "=", "\"\<  method used to generate PDFset \>\""}], 
      ";", "\n", "\n", 
      RowBox[{
      "PDFDataDirtext", "=", "\"\<  directory storing f(x,Q) data \>\""}], 
      ";", "\n", 
      RowBox[{
      "CorrDataDirtext", "=", 
       "\"\<  directory storing correlation data \>\""}], ";", "\n", 
      RowBox[{
      "PDFnametext", "=", "\"\<  PDFname of file storing f(x,Q) value \>\""}],
       ";", "\n", "\n", 
      RowBox[{
      "datalistFiletext", "=", 
       "\"\<  datalist with experimental information \>\""}], ";", "\n", "\n", 
      RowBox[{
      "expttypetext", "=", 
       "\"\<  expt type mode: single, multi, All, ProtonNeutron are available \
options \>\""}], ";", "\n", 
      RowBox[{"exptidtext", "=", "\"\<  experimental ID \>\""}], ";", "\n", 
      "\n", 
      RowBox[{"(*", 
       RowBox[{"tag", " ", "of", " ", "arguments"}], "*)"}], "\n", 
      RowBox[{"(*", "\n", 
       RowBox[{
        RowBox[{"PDFsetDirtag", "=", "\"\< = PDFset directory !\>\""}], ";", 
        "\n", 
        RowBox[{
        "PDFsetmethodtag", "=", 
         "\"\< = method used to generate PDFset !\>\""}], ";", "\n", "\n", 
        RowBox[{
        "PDFDataDirtag", "=", "\"\< = directory storing f(x,Q) data !\>\""}], 
        ";", "\n", 
        RowBox[{
        "CorrDataDirtag", "=", 
         "\"\< = directory storing correlation data !\>\""}], ";", "\n", 
        RowBox[{
        "PDFnametag", "=", 
         "\"\< = PDFname of file storing f(x,Q) value !\>\""}], ";", "\n", 
        "\n", 
        RowBox[{
        "datalistFiletag", "=", 
         "\"\< = datalist with experimental information !\>\""}], ";"}], "\n",
        "*)"}], "\n", 
      RowBox[{"(*", 
       RowBox[{"initialize", " ", "arguments"}], "*)"}], "\n", 
      RowBox[{"runfunc", "=", "\"\<unset\>\""}], ";", "\n", 
      RowBox[{"figureDir", "=", "\"\<unset\>\""}], ";", "\n", 
      RowBox[{"myPDFsetDir", "=", "\"\<unset\>\""}], ";", "\n", 
      RowBox[{"PDFsetmethod", "=", "\"\<unset\>\""}], ";", "\n", 
      RowBox[{"PDFname", "=", "\"\<unset\>\""}], ";", "\n", 
      RowBox[{"PDFDataDir", "=", "\"\<unset\>\""}], ";", "\n", 
      RowBox[{"datalistFile", "=", "\"\<unset\>\""}], ";", "\n", 
      RowBox[{"expttype", "=", "\"\<unset\>\""}], ";", "\n", 
      RowBox[{"exptid", "=", "\"\<unset\>\""}], ";", "\n", "\n", 
      RowBox[{"(*", 
       RowBox[{"read", " ", "file"}], "*)"}], "\n", 
      RowBox[{"s", "=", 
       RowBox[{"OpenRead", "[", 
        RowBox[{"configDir", "<>", "configfilename"}], "]"}]}], ";", "\n", 
      RowBox[{"output", "=", 
       RowBox[{"ReadList", "[", 
        RowBox[{"s", ",", "String"}], "]"}]}], ";", "\n", 
      RowBox[{"Close", "[", "s", "]"}], ";", "\n", "\n", 
      RowBox[{"(*", 
       RowBox[{
        RowBox[{"if", " ", "read", " ", "tag"}], ",", " ", 
        RowBox[{
        "assign", " ", "the", " ", "first", " ", "word", " ", "of", " ", 
         "that", " ", "line", " ", "to", " ", "arguments"}]}], "*)"}], "\n", 
      RowBox[{"(*", 
       RowBox[{
        RowBox[{"20170228", ":", " ", 
         RowBox[{"for", " ", "mathematica", " ", "10.2"}]}], ",", " ", 
        RowBox[{
        "it", " ", "sseems", " ", "stringcontainsQ", " ", "does", " ", "not", 
         " ", "work"}]}], "*)"}], "\n", "\n", 
      RowBox[{"Table", "[", "\n", "\n", 
       RowBox[{
        RowBox[{
         RowBox[{"If", "[", "\n", 
          RowBox[{"(*", "\n", 
           RowBox[{"StringContainsQ", "[", 
            RowBox[{
             RowBox[{"output", "[", 
              RowBox[{"[", "i", "]"}], "]"}], ",", "runfunctag"}], "]"}], 
           "\n", "*)"}], 
          RowBox[{
           RowBox[{"StringMatchQ", "[", 
            RowBox[{
             RowBox[{"output", "[", 
              RowBox[{"[", "i", "]"}], "]"}], ",", 
             RowBox[{"\"\<*\>\"", "<>", "runfunctag", "<>", "\"\<*\>\""}]}], 
            "]"}], ",", "\n", 
           RowBox[{"runfunc", "=", 
            RowBox[{"Read", "[", 
             RowBox[{
              RowBox[{"StringToStream", "[", 
               RowBox[{"output", "[", 
                RowBox[{"[", "i", "]"}], "]"}], " ", "]"}], ",", "Word"}], 
             "]"}]}]}], "\n", "]"}], ";", "\n", 
         RowBox[{"If", "[", "\n", 
          RowBox[{"(*", "\n", 
           RowBox[{"StringContainsQ", "[", 
            RowBox[{
             RowBox[{"output", "[", 
              RowBox[{"[", "i", "]"}], "]"}], ",", "figureDirtag"}], "]"}], 
           "\n", "*)"}], 
          RowBox[{
           RowBox[{"StringMatchQ", "[", 
            RowBox[{
             RowBox[{"output", "[", 
              RowBox[{"[", "i", "]"}], "]"}], ",", 
             RowBox[{"\"\<*\>\"", "<>", "figureDirtag", "<>", "\"\<*\>\""}]}],
             "]"}], ",", "\n", 
           RowBox[{"figureDir", "=", 
            RowBox[{"Read", "[", 
             RowBox[{
              RowBox[{"StringToStream", "[", 
               RowBox[{"output", "[", 
                RowBox[{"[", "i", "]"}], "]"}], " ", "]"}], ",", "Word"}], 
             "]"}]}]}], "\n", "]"}], ";", "\n", 
         RowBox[{"If", "[", "\n", 
          RowBox[{"(*", "\n", 
           RowBox[{"StringContainsQ", "[", 
            RowBox[{
             RowBox[{"output", "[", 
              RowBox[{"[", "i", "]"}], "]"}], ",", "PDFsetDirtag"}], "]"}], 
           "\n", "*)"}], 
          RowBox[{
           RowBox[{"StringMatchQ", "[", 
            RowBox[{
             RowBox[{"output", "[", 
              RowBox[{"[", "i", "]"}], "]"}], ",", 
             RowBox[{"\"\<*\>\"", "<>", "PDFsetDirtag", "<>", "\"\<*\>\""}]}],
             "]"}], ",", "\n", 
           RowBox[{"myPDFsetDir", "=", 
            RowBox[{"Read", "[", 
             RowBox[{
              RowBox[{"StringToStream", "[", 
               RowBox[{"output", "[", 
                RowBox[{"[", "i", "]"}], "]"}], " ", "]"}], ",", "Word"}], 
             "]"}]}]}], "\n", "]"}], ";", "\n", 
         RowBox[{"If", "[", "\n", 
          RowBox[{"(*", "\n", 
           RowBox[{"StringContainsQ", "[", 
            RowBox[{
             RowBox[{"output", "[", 
              RowBox[{"[", "i", "]"}], "]"}], ",", "PDFsetmethodtag"}], "]"}],
            "\n", "*)"}], 
          RowBox[{
           RowBox[{"StringMatchQ", "[", 
            RowBox[{
             RowBox[{"output", "[", 
              RowBox[{"[", "i", "]"}], "]"}], ",", 
             RowBox[{
             "\"\<*\>\"", "<>", "PDFsetmethodtag", "<>", "\"\<*\>\""}]}], 
            "]"}], ",", "\n", 
           RowBox[{"PDFsetmethod", "=", 
            RowBox[{"Read", "[", 
             RowBox[{
              RowBox[{"StringToStream", "[", 
               RowBox[{"output", "[", 
                RowBox[{"[", "i", "]"}], "]"}], " ", "]"}], ",", "Word"}], 
             "]"}]}]}], "\n", "]"}], ";", "\n", 
         RowBox[{"If", "[", "\n", 
          RowBox[{"(*", "\n", 
           RowBox[{"StringContainsQ", "[", 
            RowBox[{
             RowBox[{"output", "[", 
              RowBox[{"[", "i", "]"}], "]"}], ",", "PDFDataDirtag"}], "]"}], 
           "\n", "*)"}], 
          RowBox[{
           RowBox[{"StringMatchQ", "[", 
            RowBox[{
             RowBox[{"output", "[", 
              RowBox[{"[", "i", "]"}], "]"}], ",", 
             RowBox[{
             "\"\<*\>\"", "<>", "PDFDataDirtag", "<>", "\"\<*\>\""}]}], "]"}],
            ",", "\n", 
           RowBox[{"PDFDataDir", "=", 
            RowBox[{"Read", "[", 
             RowBox[{
              RowBox[{"StringToStream", "[", 
               RowBox[{"output", "[", 
                RowBox[{"[", "i", "]"}], "]"}], " ", "]"}], ",", "Word"}], 
             "]"}]}]}], "\n", "]"}], ";", "\n", 
         RowBox[{"If", "[", "\n", 
          RowBox[{"(*", "\n", 
           RowBox[{"StringContainsQ", "[", 
            RowBox[{
             RowBox[{"output", "[", 
              RowBox[{"[", "i", "]"}], "]"}], ",", "CorrDataDirtag"}], "]"}], 
           "\n", "*)"}], 
          RowBox[{
           RowBox[{"StringMatchQ", "[", 
            RowBox[{
             RowBox[{"output", "[", 
              RowBox[{"[", "i", "]"}], "]"}], ",", 
             RowBox[{
             "\"\<*\>\"", "<>", "CorrDataDirtag", "<>", "\"\<*\>\""}]}], 
            "]"}], ",", "\n", 
           RowBox[{"CorrDataDir", "=", 
            RowBox[{"Read", "[", 
             RowBox[{
              RowBox[{"StringToStream", "[", 
               RowBox[{"output", "[", 
                RowBox[{"[", "i", "]"}], "]"}], " ", "]"}], ",", "Word"}], 
             "]"}]}]}], "\n", "]"}], ";", "\n", 
         RowBox[{"If", "[", "\n", 
          RowBox[{"(*", "\n", 
           RowBox[{"StringContainsQ", "[", 
            RowBox[{
             RowBox[{"output", "[", 
              RowBox[{"[", "i", "]"}], "]"}], ",", "PDFnametag"}], "]"}], 
           "\n", "*)"}], 
          RowBox[{
           RowBox[{"StringMatchQ", "[", 
            RowBox[{
             RowBox[{"output", "[", 
              RowBox[{"[", "i", "]"}], "]"}], ",", 
             RowBox[{"\"\<*\>\"", "<>", "PDFnametag", "<>", "\"\<*\>\""}]}], 
            "]"}], ",", "\n", 
           RowBox[{"PDFname", "=", 
            RowBox[{"Read", "[", 
             RowBox[{
              RowBox[{"StringToStream", "[", 
               RowBox[{"output", "[", 
                RowBox[{"[", "i", "]"}], "]"}], " ", "]"}], ",", "Word"}], 
             "]"}]}]}], "\n", "]"}], ";", "\n", 
         RowBox[{"If", "[", "\n", 
          RowBox[{"(*", "\n", 
           RowBox[{"StringContainsQ", "[", 
            RowBox[{
             RowBox[{"output", "[", 
              RowBox[{"[", "i", "]"}], "]"}], ",", "datalistFiletag"}], "]"}],
            "\n", "*)"}], 
          RowBox[{
           RowBox[{"StringMatchQ", "[", 
            RowBox[{
             RowBox[{"output", "[", 
              RowBox[{"[", "i", "]"}], "]"}], ",", 
             RowBox[{
             "\"\<*\>\"", "<>", "datalistFiletag", "<>", "\"\<*\>\""}]}], 
            "]"}], ",", "\n", 
           RowBox[{"datalistFile", "=", 
            RowBox[{"Read", "[", 
             RowBox[{
              RowBox[{"StringToStream", "[", 
               RowBox[{"output", "[", 
                RowBox[{"[", "i", "]"}], "]"}], " ", "]"}], ",", "Word"}], 
             "]"}]}]}], "\n", "]"}], ";", "\n", 
         RowBox[{"If", "[", "\n", 
          RowBox[{"(*", "\n", 
           RowBox[{"StringContainsQ", "[", 
            RowBox[{
             RowBox[{"output", "[", 
              RowBox[{"[", "i", "]"}], "]"}], ",", "expttypetag"}], "]"}], 
           "\n", "*)"}], 
          RowBox[{
           RowBox[{"StringMatchQ", "[", 
            RowBox[{
             RowBox[{"output", "[", 
              RowBox[{"[", "i", "]"}], "]"}], ",", 
             RowBox[{"\"\<*\>\"", "<>", "expttypetag", "<>", "\"\<*\>\""}]}], 
            "]"}], ",", "\n", 
           RowBox[{"expttype", "=", 
            RowBox[{"Read", "[", 
             RowBox[{
              RowBox[{"StringToStream", "[", 
               RowBox[{"output", "[", 
                RowBox[{"[", "i", "]"}], "]"}], " ", "]"}], ",", "Word"}], 
             "]"}]}]}], "\n", "]"}], ";", "\n", 
         RowBox[{"(*", 
          RowBox[{
           RowBox[{"read", " ", "exptid"}], ",", " ", 
           RowBox[{
           "assuming", " ", "there", " ", "are", " ", "several", " ", 
            "exptids"}]}], "*)"}], "\n", 
         RowBox[{"(*", 
          RowBox[{
           RowBox[{
           "take", " ", "string", " ", "in", " ", "front", " ", "of", " ", 
            "exptidtag"}], ",", " ", 
           RowBox[{
           "then", " ", "read", " ", "all", " ", "numbers", " ", "from", " ", 
            "string"}]}], "*)"}], "\n", 
         RowBox[{"If", "[", "\n", 
          RowBox[{"(*", 
           RowBox[{"StringContainsQ", "[", 
            RowBox[{
             RowBox[{"output", "[", 
              RowBox[{"[", "i", "]"}], "]"}], ",", "exptidtag"}], "]"}], 
           "*)"}], 
          RowBox[{
           RowBox[{
            RowBox[{"StringMatchQ", "[", 
             RowBox[{
              RowBox[{"output", "[", 
               RowBox[{"[", "i", "]"}], "]"}], ",", 
              RowBox[{"\"\<*\>\"", "<>", "exptidtag", "<>", "\"\<*\>\""}]}], 
             "]"}], " ", "&&", " ", 
            RowBox[{"(", 
             RowBox[{
              RowBox[{"expttype", "==", "\"\<single\>\""}], " ", "||", " ", 
              RowBox[{"expttype", "==", "\"\<multi\>\""}]}], ")"}]}], ",", 
           "\n", 
           RowBox[{
            RowBox[{"exptidtmp", "=", 
             RowBox[{"ReadList", "[", 
              RowBox[{
               RowBox[{"StringToStream", "[", 
                RowBox[{"output", "[", 
                 RowBox[{"[", "i", "]"}], "]"}], " ", "]"}], ",", "Record", 
               ",", 
               RowBox[{"RecordSeparators", "->", "exptidtag"}]}], "]"}]}], 
            ";", "\n", 
            RowBox[{"If", "[", 
             RowBox[{
              RowBox[{
               RowBox[{"Length", "[", "exptidtmp", "]"}], "==", "2"}], ",", 
              RowBox[{"exptid", "=", 
               RowBox[{"ReadList", "[", 
                RowBox[{
                 RowBox[{"StringToStream", "[", 
                  RowBox[{"exptidtmp", "[", 
                   RowBox[{"[", "1", "]"}], "]"}], " ", "]"}], ",", 
                 "Number"}], "]"}]}]}], " ", "]"}]}]}], 
          RowBox[{"(*", 
           RowBox[{
            RowBox[{
             RowBox[{
              RowBox[{"structure", " ", "is", " ", "like", " ", "exptid"}], 
              "..."}], " ", "exptidtag", " ", "explanation"}], ",", " ", 
            RowBox[{
             RowBox[{"so", " ", "exptidtmp"}], " ", "=", " ", "2"}]}], " ", 
           "*)"}], "\n", "]"}], ";", "\n", "\n", 
         RowBox[{"(*", 
          RowBox[{
           RowBox[{
            RowBox[{
             RowBox[{"don", "'"}], "t", " ", "need", " ", "to", " ", "set", 
             " ", "exptid", " ", "if", " ", "expttype"}], " ", "=", " ", 
            "All"}], ",", "ProtonNeutron"}], "*)"}], "\n", "\"\<dummy\>\""}], 
        "\n", ",", 
        RowBox[{"{", 
         RowBox[{"i", ",", "1", ",", 
          RowBox[{"Length", "[", "output", "]"}]}], "}"}]}], "\n", "]"}], ";",
       "\n", "\n", "\n", 
      RowBox[{"(*", 
       RowBox[{
        RowBox[{
        "if", " ", "any", " ", "arguments", " ", "still", " ", "unset"}], ",",
         " ", 
        RowBox[{"return", " ", "error", " ", "message"}]}], "*)"}], "\n", 
      RowBox[{"(*", 
       RowBox[{"output", " ", "the", " ", "config", " ", "setting"}], "*)"}], 
      "\n", 
      RowBox[{"{", 
       RowBox[{
       "runfunc", ",", "figureDir", ",", "myPDFsetDir", ",", "PDFsetmethod", 
        ",", "PDFname", ",", "PDFDataDir", ",", "datalistFile", ",", 
        "expttype", ",", "exptid"}], "}"}]}]}], "\n", "]"}]}]}]], "Input"],

Cell[BoxData[
 RowBox[{
  RowBox[{"readcorrconfigfile4", "[", 
   RowBox[{"configDirin_", ",", "configfilenamein_"}], "]"}], ":=", "\n", 
  RowBox[{"Module", "[", 
   RowBox[{
    RowBox[{"{", 
     RowBox[{
      RowBox[{"configDir", "=", "configDirin"}], ",", 
      RowBox[{"configfilename", "=", "configfilenamein"}], ",", "\n", 
      "JobidTag", ",", "PDFnameTag", ",", "FigureTypeTag", ",", 
      "FigureFlagTag", ",", "ExptidTypeTag", ",", "ExptidFlagTag", ",", 
      "CorrelationArgTypeTag", ",", "CorrelationArgFlagTag", ",", 
      "UserArgNameTag", ",", "UserArgValueTag", ",", "\n", 
      "XQfigureXrangeTag", ",", "XQfigureYrangeTag", ",", 
      "Hist1figureNbinTag", ",", "Hist1figureXrangeTag", ",", 
      "Hist1figureYrangeTag", ",", "ColorSeperatorTag", ",", "\n", "SizeTag", 
      ",", "HighlightTypeTag", ",", "HighlightModeTag", ",", 
      "HighlightMode1Tag", ",", "HighlightMode2Tag", ",", "\n", "Jobid", ",", 
      "PDFname", ",", "FigureType", ",", "FigureFlag", ",", "ExptidType", ",",
       "ExptidFlag", ",", "CorrelationArgType", ",", "CorrelationArgFlag", 
      ",", "UserArgName", ",", "UserArgValue", ",", "\n", "XQfigureXrange", 
      ",", "XQfigureYrange", ",", "Hist1figureNbin", ",", "Hist1figureXrange",
       ",", "Hist1figureYrange", ",", "ColorSeperator", ",", "\n", "Size", 
      ",", "HighlightType", ",", "HighlightMode", ",", "HighlightMode1", ",", 
      "HighlightMode2", ",", "\n", "itag", ",", "s", ",", "output", ",", 
      "output2", ",", "output3"}], "\n", "}"}], ",", "\n", "\n", 
    RowBox[{
     RowBox[{"JobidTag", "=", "\"\<Job ID (copy from the counter file)\>\""}],
      ";", "\n", 
     RowBox[{"PDFnameTag", "=", "\"\<PDF set\>\""}], ";", "\n", 
     RowBox[{"FigureTypeTag", "=", "\"\<Type\>\""}], ";", "\n", 
     RowBox[{"FigureFlagTag", "=", "\"\<Flag\>\""}], ";", "\n", 
     RowBox[{"ExptidTypeTag", "=", "\"\<Expt. ID\>\""}], ";", "\n", 
     RowBox[{"ExptidFlagTag", "=", "\"\<Expt. Flag\>\""}], ";", "\n", 
     RowBox[{"CorrelationArgTypeTag", "=", "\"\<Type\>\""}], ";", "\n", 
     RowBox[{"CorrelationArgFlagTag", "=", "\"\<Flag\>\""}], ";", "\n", 
     RowBox[{"UserArgNameTag", "=", "\"\<Name\>\""}], ";", "\n", 
     RowBox[{"UserArgValueTag", "=", "\"\<Values\>\""}], ";", "\n", 
     RowBox[{"XQfigureXrangeTag", "=", "\"\<xmin,   xmax\>\""}], ";", "\n", 
     RowBox[{"XQfigureYrangeTag", "=", "\"\<mumin, mumax\>\""}], ";", "\n", 
     RowBox[{"Hist1figureNbinTag", "=", "\"\<Number of bins\>\""}], ";", "\n", 
     RowBox[{"Hist1figureXrangeTag", "=", "\"\<xmin, xmax\>\""}], ";", "\n", 
     RowBox[{"Hist1figureYrangeTag", "=", "\"\<ymin, ymax\>\""}], ";", "\n", 
     RowBox[{"(*", "\n", 
      RowBox[{"Hist2figureXrangeTag", "\n", "Hist2figureYrangeTag"}], "\n", 
      "*)"}], "\n", 
     RowBox[{"ColorSeperatorTag", "=", "\"\<Color by data percentage\>\""}], 
     ";", "\n", 
     RowBox[{"SizeTag", "=", "\"\<Size\>\""}], ";", "\n", 
     RowBox[{"HighlightTypeTag", "=", "\"\<Type\>\""}], ";", "\n", 
     RowBox[{"HighlightModeTag", "=", "\"\<Mode\>\""}], ";", "\n", 
     RowBox[{"HighlightMode1Tag", "=", "\"\<Mode 1 range\>\""}], ";", "\n", 
     RowBox[{"HighlightMode2Tag", "=", "\"\<Mode 2 range\>\""}], ";", "\n", 
     "\n", 
     RowBox[{"Jobid", "=", "\"\<unset\>\""}], ";", "\n", 
     RowBox[{"PDFname", "=", "\"\<unset\>\""}], ";", "\n", 
     RowBox[{"FigureType", "=", "\"\<unset\>\""}], ";", "\n", 
     RowBox[{"FigureFlag", "=", "\"\<unset\>\""}], ";", "\n", 
     RowBox[{"ExptidType", "=", "\"\<unset\>\""}], ";", "\n", 
     RowBox[{"ExptidFlag", "=", "\"\<unset\>\""}], ";", "\n", 
     RowBox[{"CorrelationArgType", "=", "\"\<unset\>\""}], ";", "\n", 
     RowBox[{"CorrelationArgFlag", "=", "\"\<unset\>\""}], ";", "\n", 
     RowBox[{"UserArgName", "=", "\"\<unset\>\""}], ";", "\n", 
     RowBox[{"UserArgValue", "=", "\"\<unset\>\""}], ";", "\n", 
     RowBox[{"XQfigureXrange", "=", "\"\<unset\>\""}], ";", "\n", 
     RowBox[{"XQfigureYrange", "=", "\"\<unset\>\""}], ";", "\n", 
     RowBox[{"Hist1figureNbin", "=", "\"\<unset\>\""}], ";", "\n", 
     RowBox[{"Hist1figureXrange", "=", "\"\<unset\>\""}], ";", "\n", 
     RowBox[{"Hist1figureYrange", "=", "\"\<unset\>\""}], ";", "\n", "\n", 
     RowBox[{"ColorSeperator", "=", "\"\<unset\>\""}], ";", "\n", 
     RowBox[{"Size", "=", "\"\<unset\>\""}], ";", "\n", 
     RowBox[{"HighlightType", "=", "\"\<unset\>\""}], ";", "\n", 
     RowBox[{"HighlightMode", "=", "\"\<unset\>\""}], ";", "\n", 
     RowBox[{"HighlightMode1", "=", "\"\<unset\>\""}], ";", "\n", 
     RowBox[{"HighlightMode2", "=", "\"\<unset\>\""}], ";", "\n", "\n", 
     RowBox[{"(*", 
      RowBox[{
      "read", " ", "config", " ", "file", " ", "line", " ", "by", " ", "line",
        " ", "into", " ", "list"}], "*)"}], "\n", 
     RowBox[{"s", "=", 
      RowBox[{"OpenRead", "[", 
       RowBox[{"configDir", "<>", "configfilename"}], "]"}]}], ";", "\n", 
     RowBox[{"output", "=", 
      RowBox[{"ReadList", "[", 
       RowBox[{"s", ",", "String"}], "]"}]}], ";", "\n", 
     RowBox[{"Close", "[", "s", "]"}], ";", "\n", "\n", 
     RowBox[{"(*", 
      RowBox[{"delete", " ", 
       RowBox[{"comments", ":", " ", 
        RowBox[{
        "with", " ", "\"\<#\>\"", " ", "at", " ", "begining", " ", "of", " ", 
         "line"}]}]}], "*)"}], "\n", 
     RowBox[{"output2", "=", 
      RowBox[{"{", "}"}]}], ";", "\n", 
     RowBox[{"Table", "[", "\n", 
      RowBox[{
       RowBox[{
        RowBox[{"If", "[", 
         RowBox[{
          RowBox[{
           RowBox[{"StringTake", "[", 
            RowBox[{
             RowBox[{"output", "[", 
              RowBox[{"[", "i", "]"}], "]"}], ",", "1"}], "]"}], "!=", 
           "\"\<#\>\""}], ",", 
          RowBox[{"output2", "=", 
           RowBox[{"Append", "[", 
            RowBox[{"output2", ",", 
             RowBox[{"output", "[", 
              RowBox[{"[", "i", "]"}], "]"}]}], " ", "]"}]}]}], " ", "]"}], 
        ";", "\n", "\"\<dummy\>\""}], "\n", ",", 
       RowBox[{"{", 
        RowBox[{"i", ",", "1", ",", 
         RowBox[{"Length", "[", "output", "]"}]}], "}"}]}], "\n", "]"}], ";", 
     "\n", 
     RowBox[{"(*", 
      RowBox[{
      "seperate", " ", "the", " ", "tag", " ", "of", " ", "configure", " ", 
       "file", " ", "and", " ", "arguments", " ", "by", " ", "\"\<:\>\""}], 
      "*)"}], "\n", 
     RowBox[{"output3", "=", 
      RowBox[{"Table", "[", 
       RowBox[{
        RowBox[{"StringSplit", "[", 
         RowBox[{
          RowBox[{"output2", "[", 
           RowBox[{"[", "i", "]"}], "]"}], ",", "\"\<:\>\""}], "]"}], ",", 
        RowBox[{"{", 
         RowBox[{"i", ",", "1", ",", 
          RowBox[{"Length", "[", "output2", "]"}]}], "}"}]}], "]"}]}], ";", 
     "\n", "\n", 
     RowBox[{"(*", 
      RowBox[{
       RowBox[{"check", " ", "tag", " ", "exist"}], ",", " ", 
       RowBox[{"if", " ", "a", " ", "tag", " ", "exist"}], ",", " ", 
       RowBox[{
       "read", " ", "arguments", " ", "corresponding", " ", "to", " ", "that",
         " ", "tag"}]}], "*)"}], "\n", 
     RowBox[{"(*", 
      RowBox[{"read", " ", "Job", " ", "id"}], "*)"}], "\n", 
     RowBox[{"itag", "=", "1"}], ";", "\n", 
     RowBox[{"If", "[", 
      RowBox[{
       RowBox[{
        RowBox[{"output3", "[", 
         RowBox[{"[", 
          RowBox[{"itag", ",", "1"}], "]"}], "]"}], "==", "JobidTag"}], ",", 
       RowBox[{
        RowBox[{"Jobid", "=", 
         RowBox[{"output3", "[", 
          RowBox[{"[", 
           RowBox[{"itag", ",", "2"}], "]"}], "]"}]}], ";", 
        RowBox[{"Jobid", "=", 
         RowBox[{"Read", "[", 
          RowBox[{
           RowBox[{"StringToStream", "[", "Jobid", "]"}], ",", "Number"}], 
          "]"}]}]}]}], " ", "]"}], ";", "\n", 
     RowBox[{"Head", "[", "Jobid", "]"}], ";", "\n", 
     RowBox[{"(*", 
      RowBox[{"read", " ", "PDFname"}], "*)"}], "\n", 
     RowBox[{"itag", "=", 
      RowBox[{"itag", "+", "1"}]}], ";", "\n", 
     RowBox[{"If", "[", 
      RowBox[{
       RowBox[{
        RowBox[{"output3", "[", 
         RowBox[{"[", 
          RowBox[{"itag", ",", "1"}], "]"}], "]"}], "==", "PDFnameTag"}], ",", 
       RowBox[{
        RowBox[{"PDFname", "=", 
         RowBox[{"output3", "[", 
          RowBox[{"[", 
           RowBox[{"itag", ",", "2"}], "]"}], "]"}]}], ";", 
        RowBox[{"PDFname", "=", 
         RowBox[{"Read", "[", 
          RowBox[{
           RowBox[{"StringToStream", "[", "PDFname", "]"}], ",", "Word"}], 
          "]"}]}]}]}], " ", "]"}], ";", "\n", 
     RowBox[{"Head", "[", "PDFname", "]"}], ";", "\n", 
     RowBox[{"(*", 
      RowBox[{"read", " ", "FigureType", " ", "and", " ", "FigureFlag"}], 
      "*)"}], "\n", 
     RowBox[{"itag", "=", 
      RowBox[{"itag", "+", "1"}]}], ";", "\n", 
     RowBox[{"If", "[", 
      RowBox[{
       RowBox[{
        RowBox[{"output3", "[", 
         RowBox[{"[", 
          RowBox[{"itag", ",", "1"}], "]"}], "]"}], "==", "FigureTypeTag"}], 
       ",", 
       RowBox[{"FigureType", "=", 
        RowBox[{"output3", "[", 
         RowBox[{"[", 
          RowBox[{"itag", ",", "2"}], "]"}], "]"}]}]}], " ", "]"}], ";", "\n", 
     RowBox[{"Head", "[", "FigureType", "]"}], ";", "\n", "\n", 
     RowBox[{"itag", "=", 
      RowBox[{"itag", "+", "1"}]}], ";", "\n", 
     RowBox[{"If", "[", 
      RowBox[{
       RowBox[{
        RowBox[{"output3", "[", 
         RowBox[{"[", 
          RowBox[{"itag", ",", "1"}], "]"}], "]"}], "==", "FigureFlagTag"}], 
       ",", 
       RowBox[{"FigureFlag", "=", 
        RowBox[{"output3", "[", 
         RowBox[{"[", 
          RowBox[{"itag", ",", "2"}], "]"}], "]"}]}]}], " ", "]"}], ";", "\n", 
     RowBox[{"Head", "[", "FigureFlag", "]"}], ";", "\n", "\n", 
     RowBox[{"FigureType", "=", 
      RowBox[{"ReadList", "[", 
       RowBox[{
        RowBox[{"StringToStream", "[", "FigureType", "]"}], ",", "Word"}], 
       "]"}]}], ";", "\n", 
     RowBox[{"FigureFlag", "=", 
      RowBox[{"ReadList", "[", 
       RowBox[{
        RowBox[{"StringToStream", "[", "FigureFlag", "]"}], ",", "Number"}], 
       "]"}]}], ";", "\n", "\n", 
     RowBox[{"(*", 
      RowBox[{"read", " ", "ExptidType", " ", "and", " ", "ExptidFlag"}], 
      "*)"}], "\n", 
     RowBox[{"itag", "=", 
      RowBox[{"itag", "+", "1"}]}], ";", "\n", 
     RowBox[{"If", "[", 
      RowBox[{
       RowBox[{
        RowBox[{"output3", "[", 
         RowBox[{"[", 
          RowBox[{"itag", ",", "1"}], "]"}], "]"}], "==", "ExptidTypeTag"}], 
       ",", 
       RowBox[{"ExptidType", "=", 
        RowBox[{"output3", "[", 
         RowBox[{"[", 
          RowBox[{"itag", ",", "2"}], "]"}], "]"}]}]}], " ", "]"}], ";", "\n", 
     RowBox[{"Head", "[", "ExptidType", "]"}], ";", "\n", "\n", 
     RowBox[{"itag", "=", 
      RowBox[{"itag", "+", "1"}]}], ";", "\n", 
     RowBox[{"If", "[", 
      RowBox[{
       RowBox[{
        RowBox[{"output3", "[", 
         RowBox[{"[", 
          RowBox[{"itag", ",", "1"}], "]"}], "]"}], "==", "ExptidFlagTag"}], 
       ",", 
       RowBox[{"ExptidFlag", "=", 
        RowBox[{"output3", "[", 
         RowBox[{"[", 
          RowBox[{"itag", ",", "2"}], "]"}], "]"}]}]}], " ", "]"}], ";", "\n", 
     RowBox[{"Head", "[", "ExptidFlag", "]"}], ";", "\n", "\n", 
     RowBox[{"ExptidType", "=", 
      RowBox[{"ReadList", "[", 
       RowBox[{
        RowBox[{"StringToStream", "[", "ExptidType", "]"}], ",", "Number"}], 
       "]"}]}], ";", "\n", 
     RowBox[{"ExptidFlag", "=", 
      RowBox[{"ReadList", "[", 
       RowBox[{
        RowBox[{"StringToStream", "[", "ExptidFlag", "]"}], ",", "Number"}], 
       "]"}]}], ";", "\n", "\n", 
     RowBox[{"(*", 
      RowBox[{
      "read", " ", "CorrelationArgType", " ", "and", " ", 
       "CorrelationArgFlag"}], "*)"}], "\n", 
     RowBox[{"itag", "=", 
      RowBox[{"itag", "+", "1"}]}], ";", "\n", 
     RowBox[{"If", "[", 
      RowBox[{
       RowBox[{
        RowBox[{"output3", "[", 
         RowBox[{"[", 
          RowBox[{"itag", ",", "1"}], "]"}], "]"}], "==", 
        "CorrelationArgTypeTag"}], ",", 
       RowBox[{"CorrelationArgType", "=", 
        RowBox[{"output3", "[", 
         RowBox[{"[", 
          RowBox[{"itag", ",", "2"}], "]"}], "]"}]}]}], " ", "]"}], ";", "\n", 
     RowBox[{"Head", "[", "CorrelationArgType", "]"}], ";", "\n", "\n", 
     RowBox[{"itag", "=", 
      RowBox[{"itag", "+", "1"}]}], ";", "\n", 
     RowBox[{"If", "[", 
      RowBox[{
       RowBox[{
        RowBox[{"output3", "[", 
         RowBox[{"[", 
          RowBox[{"itag", ",", "1"}], "]"}], "]"}], "==", 
        "CorrelationArgFlagTag"}], ",", 
       RowBox[{"CorrelationArgFlag", "=", 
        RowBox[{"output3", "[", 
         RowBox[{"[", 
          RowBox[{"itag", ",", "2"}], "]"}], "]"}]}]}], " ", "]"}], ";", "\n", 
     RowBox[{"Head", "[", "CorrelationArgFlag", "]"}], ";", "\n", "\n", 
     RowBox[{"CorrelationArgType", "=", 
      RowBox[{"ReadList", "[", 
       RowBox[{
        RowBox[{"StringToStream", "[", "CorrelationArgType", "]"}], ",", 
        "Word"}], "]"}]}], ";", "\n", 
     RowBox[{"CorrelationArgFlag", "=", 
      RowBox[{"ReadList", "[", 
       RowBox[{
        RowBox[{"StringToStream", "[", "CorrelationArgFlag", "]"}], ",", 
        "Number"}], "]"}]}], ";", "\n", "\n", 
     RowBox[{"(*", 
      RowBox[{"read", " ", "UserArgName"}], "*)"}], "\n", 
     RowBox[{"itag", "=", 
      RowBox[{"itag", "+", "1"}]}], ";", "\n", 
     RowBox[{"If", "[", 
      RowBox[{
       RowBox[{
        RowBox[{"output3", "[", 
         RowBox[{"[", 
          RowBox[{"itag", ",", "1"}], "]"}], "]"}], "==", "UserArgNameTag"}], 
       ",", 
       RowBox[{"UserArgName", "=", 
        RowBox[{"output3", "[", 
         RowBox[{"[", 
          RowBox[{"itag", ",", "2"}], "]"}], "]"}]}]}], " ", "]"}], ";", "\n", 
     RowBox[{"Head", "[", "UserArgName", "]"}], ";", "\n", 
     RowBox[{"(*", 
      RowBox[{"read", " ", "UserArgValue"}], "*)"}], "\n", 
     RowBox[{"itag", "=", 
      RowBox[{"itag", "+", "1"}]}], ";", "\n", 
     RowBox[{"If", "[", 
      RowBox[{
       RowBox[{
        RowBox[{"output3", "[", 
         RowBox[{"[", 
          RowBox[{"itag", ",", "1"}], "]"}], "]"}], "==", "UserArgValueTag"}],
        ",", 
       RowBox[{"UserArgValue", "=", 
        RowBox[{"output3", "[", 
         RowBox[{"[", 
          RowBox[{"itag", ",", "2"}], "]"}], "]"}]}]}], " ", "]"}], ";", "\n", 
     RowBox[{"Head", "[", "UserArgValue", "]"}], ";", "\n", "\n", 
     RowBox[{"UserArgValue", "=", 
      RowBox[{"ReadList", "[", 
       RowBox[{
        RowBox[{"StringToStream", "[", "UserArgValue", "]"}], ",", "Number"}],
        "]"}]}], ";", "\n", 
     RowBox[{"(*", 
      RowBox[{
      "read", " ", "XQfigureXrange", " ", "and", " ", "XQfigureYrange"}], 
      "*)"}], "\n", 
     RowBox[{"itag", "=", 
      RowBox[{"itag", "+", "1"}]}], ";", "\n", 
     RowBox[{"If", "[", 
      RowBox[{
       RowBox[{
        RowBox[{"output3", "[", 
         RowBox[{"[", 
          RowBox[{"itag", ",", "1"}], "]"}], "]"}], "==", 
        "XQfigureXrangeTag"}], ",", 
       RowBox[{"XQfigureXrange", "=", 
        RowBox[{"output3", "[", 
         RowBox[{"[", 
          RowBox[{"itag", ",", "2"}], "]"}], "]"}]}]}], " ", "]"}], ";", "\n", 
     RowBox[{"Head", "[", "XQfigureXrange", "]"}], ";", "\n", "\n", 
     RowBox[{"itag", "=", 
      RowBox[{"itag", "+", "1"}]}], ";", "\n", 
     RowBox[{"If", "[", 
      RowBox[{
       RowBox[{
        RowBox[{"output3", "[", 
         RowBox[{"[", 
          RowBox[{"itag", ",", "1"}], "]"}], "]"}], "==", 
        "XQfigureYrangeTag"}], ",", 
       RowBox[{"XQfigureYrange", "=", 
        RowBox[{"output3", "[", 
         RowBox[{"[", 
          RowBox[{"itag", ",", "2"}], "]"}], "]"}]}]}], " ", "]"}], ";", "\n", 
     RowBox[{"Head", "[", "XQfigureYrange", "]"}], ";", "\n", "\n", 
     RowBox[{"XQfigureXrange", "=", 
      RowBox[{"ReadList", "[", 
       RowBox[{
        RowBox[{"StringToStream", "[", "XQfigureXrange", "]"}], ",", "Word"}],
        "]"}]}], ";", "\n", 
     RowBox[{"XQfigureYrange", "=", 
      RowBox[{"ReadList", "[", 
       RowBox[{
        RowBox[{"StringToStream", "[", "XQfigureYrange", "]"}], ",", "Word"}],
        "]"}]}], ";", "\n", 
     RowBox[{"If", "[", 
      RowBox[{
       RowBox[{
        RowBox[{"XQfigureXrange", "[", 
         RowBox[{"[", "1", "]"}], "]"}], "!=", "\"\<auto\>\""}], ",", 
       RowBox[{
        RowBox[{"XQfigureXrange", "[", 
         RowBox[{"[", "1", "]"}], "]"}], "=", 
        RowBox[{"Read", "[", 
         RowBox[{
          RowBox[{"StringToStream", "[", 
           RowBox[{"XQfigureXrange", "[", 
            RowBox[{"[", "1", "]"}], "]"}], " ", "]"}], ",", "Number"}], 
         "]"}]}]}], " ", "]"}], ";", "\n", 
     RowBox[{"If", "[", 
      RowBox[{
       RowBox[{
        RowBox[{"XQfigureXrange", "[", 
         RowBox[{"[", "2", "]"}], "]"}], "!=", "\"\<auto\>\""}], ",", 
       RowBox[{
        RowBox[{"XQfigureXrange", "[", 
         RowBox[{"[", "2", "]"}], "]"}], "=", 
        RowBox[{"Read", "[", 
         RowBox[{
          RowBox[{"StringToStream", "[", 
           RowBox[{"XQfigureXrange", "[", 
            RowBox[{"[", "2", "]"}], "]"}], " ", "]"}], ",", "Number"}], 
         "]"}]}]}], " ", "]"}], ";", "\n", 
     RowBox[{"If", "[", 
      RowBox[{
       RowBox[{
        RowBox[{"XQfigureYrange", "[", 
         RowBox[{"[", "1", "]"}], "]"}], "!=", "\"\<auto\>\""}], ",", 
       RowBox[{
        RowBox[{"XQfigureYrange", "[", 
         RowBox[{"[", "1", "]"}], "]"}], "=", 
        RowBox[{"Read", "[", 
         RowBox[{
          RowBox[{"StringToStream", "[", 
           RowBox[{"XQfigureYrange", "[", 
            RowBox[{"[", "1", "]"}], "]"}], " ", "]"}], ",", "Number"}], 
         "]"}]}]}], " ", "]"}], ";", "\n", 
     RowBox[{"If", "[", 
      RowBox[{
       RowBox[{
        RowBox[{"XQfigureYrange", "[", 
         RowBox[{"[", "2", "]"}], "]"}], "!=", "\"\<auto\>\""}], ",", 
       RowBox[{
        RowBox[{"XQfigureYrange", "[", 
         RowBox[{"[", "2", "]"}], "]"}], "=", 
        RowBox[{"Read", "[", 
         RowBox[{
          RowBox[{"StringToStream", "[", 
           RowBox[{"XQfigureYrange", "[", 
            RowBox[{"[", "2", "]"}], "]"}], " ", "]"}], ",", "Number"}], 
         "]"}]}]}], " ", "]"}], ";", "\n", 
     RowBox[{"(*", 
      RowBox[{
       RowBox[{"read", " ", "Hist1figureNbin"}], ",", " ", 
       "Hist1figureXrange", ",", " ", "Hist1figureYrange"}], "*)"}], "\n", 
     RowBox[{"itag", "=", 
      RowBox[{"itag", "+", "1"}]}], ";", "\n", 
     RowBox[{"If", "[", 
      RowBox[{
       RowBox[{
        RowBox[{"output3", "[", 
         RowBox[{"[", 
          RowBox[{"itag", ",", "1"}], "]"}], "]"}], "==", 
        "Hist1figureNbinTag"}], ",", 
       RowBox[{
        RowBox[{"Hist1figureNbin", "=", 
         RowBox[{"output3", "[", 
          RowBox[{"[", 
           RowBox[{"itag", ",", "2"}], "]"}], "]"}]}], ";", 
        RowBox[{"Hist1figureNbin", "=", 
         RowBox[{"Read", "[", 
          RowBox[{
           RowBox[{"StringToStream", "[", "Hist1figureNbin", "]"}], ",", 
           "Word"}], "]"}]}]}]}], " ", "]"}], ";", "\n", 
     RowBox[{"Head", "[", "Hist1figureNbin", "]"}], ";", "\n", 
     RowBox[{"If", "[", 
      RowBox[{
       RowBox[{"Hist1figureNbin", "!=", "\"\<auto\>\""}], ",", 
       RowBox[{"Hist1figureNbin", "=", 
        RowBox[{"Read", "[", 
         RowBox[{
          RowBox[{"StringToStream", "[", "Hist1figureNbin", "]"}], ",", 
          "Number"}], "]"}]}]}], " ", "]"}], ";", "\n", "\n", 
     RowBox[{"itag", "=", 
      RowBox[{"itag", "+", "1"}]}], ";", "\n", 
     RowBox[{"If", "[", 
      RowBox[{
       RowBox[{
        RowBox[{"output3", "[", 
         RowBox[{"[", 
          RowBox[{"itag", ",", "1"}], "]"}], "]"}], "==", 
        "Hist1figureXrangeTag"}], ",", 
       RowBox[{"Hist1figureXrange", "=", 
        RowBox[{"output3", "[", 
         RowBox[{"[", 
          RowBox[{"itag", ",", "2"}], "]"}], "]"}]}]}], " ", "]"}], ";", "\n", 
     RowBox[{"Head", "[", "Hist1figureXrange", "]"}], ";", "\n", "\n", 
     RowBox[{"itag", "=", 
      RowBox[{"itag", "+", "1"}]}], ";", "\n", 
     RowBox[{"If", "[", 
      RowBox[{
       RowBox[{
        RowBox[{"output3", "[", 
         RowBox[{"[", 
          RowBox[{"itag", ",", "1"}], "]"}], "]"}], "==", 
        "Hist1figureYrangeTag"}], ",", 
       RowBox[{"Hist1figureYrange", "=", 
        RowBox[{"output3", "[", 
         RowBox[{"[", 
          RowBox[{"itag", ",", "2"}], "]"}], "]"}]}]}], " ", "]"}], ";", "\n", 
     RowBox[{"Head", "[", "Hist1figureYrange", "]"}], ";", "\n", "\n", 
     RowBox[{"Hist1figureXrange", "=", 
      RowBox[{"ReadList", "[", 
       RowBox[{
        RowBox[{"StringToStream", "[", "Hist1figureXrange", "]"}], ",", 
        "Word"}], "]"}]}], ";", "\n", 
     RowBox[{"Hist1figureYrange", "=", 
      RowBox[{"ReadList", "[", 
       RowBox[{
        RowBox[{"StringToStream", "[", "Hist1figureYrange", "]"}], ",", 
        "Word"}], "]"}]}], ";", "\n", 
     RowBox[{"If", "[", 
      RowBox[{
       RowBox[{
        RowBox[{"Hist1figureXrange", "[", 
         RowBox[{"[", "1", "]"}], "]"}], "!=", "\"\<auto\>\""}], ",", 
       RowBox[{
        RowBox[{"Hist1figureXrange", "[", 
         RowBox[{"[", "1", "]"}], "]"}], "=", 
        RowBox[{"Read", "[", 
         RowBox[{
          RowBox[{"StringToStream", "[", 
           RowBox[{"Hist1figureXrange", "[", 
            RowBox[{"[", "1", "]"}], "]"}], " ", "]"}], ",", "Number"}], 
         "]"}]}]}], " ", "]"}], ";", "\n", 
     RowBox[{"If", "[", 
      RowBox[{
       RowBox[{
        RowBox[{"Hist1figureXrange", "[", 
         RowBox[{"[", "2", "]"}], "]"}], "!=", "\"\<auto\>\""}], ",", 
       RowBox[{
        RowBox[{"Hist1figureXrange", "[", 
         RowBox[{"[", "2", "]"}], "]"}], "=", 
        RowBox[{"Read", "[", 
         RowBox[{
          RowBox[{"StringToStream", "[", 
           RowBox[{"Hist1figureXrange", "[", 
            RowBox[{"[", "2", "]"}], "]"}], " ", "]"}], ",", "Number"}], 
         "]"}]}]}], " ", "]"}], ";", "\n", 
     RowBox[{"If", "[", 
      RowBox[{
       RowBox[{
        RowBox[{"Hist1figureYrange", "[", 
         RowBox[{"[", "1", "]"}], "]"}], "!=", "\"\<auto\>\""}], ",", 
       RowBox[{
        RowBox[{"Hist1figureYrange", "[", 
         RowBox[{"[", "1", "]"}], "]"}], "=", 
        RowBox[{"Read", "[", 
         RowBox[{
          RowBox[{"StringToStream", "[", 
           RowBox[{"Hist1figureYrange", "[", 
            RowBox[{"[", "1", "]"}], "]"}], " ", "]"}], ",", "Number"}], 
         "]"}]}]}], " ", "]"}], ";", "\n", 
     RowBox[{"If", "[", 
      RowBox[{
       RowBox[{
        RowBox[{"Hist1figureYrange", "[", 
         RowBox[{"[", "2", "]"}], "]"}], "!=", "\"\<auto\>\""}], ",", 
       RowBox[{
        RowBox[{"Hist1figureYrange", "[", 
         RowBox[{"[", "2", "]"}], "]"}], "=", 
        RowBox[{"Read", "[", 
         RowBox[{
          RowBox[{"StringToStream", "[", 
           RowBox[{"Hist1figureYrange", "[", 
            RowBox[{"[", "2", "]"}], "]"}], " ", "]"}], ",", "Number"}], 
         "]"}]}]}], " ", "]"}], ";", "\n", "\n", 
     RowBox[{"(*", 
      RowBox[{"20170306", ":", " ", 
       RowBox[{"add", " ", "color", " ", "seperator"}]}], "*)"}], "\n", 
     RowBox[{"itag", "=", 
      RowBox[{"itag", "+", "1"}]}], ";", "\n", 
     RowBox[{"If", "[", 
      RowBox[{
       RowBox[{
        RowBox[{"output3", "[", 
         RowBox[{"[", 
          RowBox[{"itag", ",", "1"}], "]"}], "]"}], "==", 
        "ColorSeperatorTag"}], ",", 
       RowBox[{"ColorSeperator", "=", 
        RowBox[{"output3", "[", 
         RowBox[{"[", 
          RowBox[{"itag", ",", "2"}], "]"}], "]"}]}]}], " ", "]"}], ";", "\n", 
     RowBox[{"Head", "[", "ColorSeperator", "]"}], ";", "\n", "\n", 
     RowBox[{"ColorSeperator", "=", 
      RowBox[{"ReadList", "[", 
       RowBox[{
        RowBox[{"StringToStream", "[", "ColorSeperator", "]"}], ",", "Word"}],
        "]"}]}], ";", "\n", 
     RowBox[{"If", "[", 
      RowBox[{
       RowBox[{
        RowBox[{"ColorSeperator", "[", 
         RowBox[{"[", "1", "]"}], "]"}], "!=", "\"\<auto\>\""}], ",", "\n", 
       RowBox[{"Table", "[", 
        RowBox[{
         RowBox[{
          RowBox[{
           RowBox[{"ColorSeperator", "[", 
            RowBox[{"[", "i", "]"}], "]"}], "=", 
           RowBox[{"Read", "[", 
            RowBox[{
             RowBox[{"StringToStream", "[", 
              RowBox[{"ColorSeperator", "[", 
               RowBox[{"[", "i", "]"}], "]"}], " ", "]"}], ",", "Number"}], 
            "]"}]}], ";", "\"\<dummy\>\""}], ",", 
         RowBox[{"{", 
          RowBox[{"i", ",", "1", ",", 
           RowBox[{"Length", "[", "ColorSeperator", "]"}]}], "}"}]}], "]"}]}],
       " ", "\n", "]"}], ";", "\n", "\n", 
     RowBox[{"(*", 
      RowBox[{"read", " ", "HighlightType", 
       RowBox[{"(", "FigureType", ")"}], " ", "and", " ", "HighlightMode"}], 
      "*)"}], "\n", 
     RowBox[{"itag", "=", 
      RowBox[{"itag", "+", "1"}]}], ";", "\n", 
     RowBox[{"If", "[", 
      RowBox[{
       RowBox[{
        RowBox[{"output3", "[", 
         RowBox[{"[", 
          RowBox[{"itag", ",", "1"}], "]"}], "]"}], "==", 
        "HighlightTypeTag"}], ",", 
       RowBox[{"HighlightType", "=", 
        RowBox[{"output3", "[", 
         RowBox[{"[", 
          RowBox[{"itag", ",", "2"}], "]"}], "]"}]}]}], " ", "]"}], ";", "\n", 
     RowBox[{"Head", "[", "HighlightType", "]"}], ";", "\n", "\n", 
     RowBox[{"itag", "=", 
      RowBox[{"itag", "+", "1"}]}], ";", "\n", 
     RowBox[{"If", "[", 
      RowBox[{
       RowBox[{
        RowBox[{"output3", "[", 
         RowBox[{"[", 
          RowBox[{"itag", ",", "1"}], "]"}], "]"}], "==", 
        "HighlightModeTag"}], ",", 
       RowBox[{"HighlightMode", "=", 
        RowBox[{"output3", "[", 
         RowBox[{"[", 
          RowBox[{"itag", ",", "2"}], "]"}], "]"}]}]}], " ", "]"}], ";", "\n", 
     RowBox[{"Head", "[", "HighlightMode", "]"}], ";", "\n", 
     RowBox[{"(*", 
      RowBox[{
       RowBox[{"Print", "[", 
        RowBox[{
         RowBox[{"output3", "[", 
          RowBox[{"[", 
           RowBox[{"itag", ",", "1"}], "]"}], "]"}], ",", "\"\<   \>\"", ",", 
         "HighlightModeTag"}], "]"}], ";"}], "*)"}], "\n", "\n", 
     RowBox[{"itag", "=", 
      RowBox[{"itag", "+", "1"}]}], ";", "\n", 
     RowBox[{"If", "[", 
      RowBox[{
       RowBox[{
        RowBox[{"output3", "[", 
         RowBox[{"[", 
          RowBox[{"itag", ",", "1"}], "]"}], "]"}], "==", 
        "HighlightMode1Tag"}], ",", 
       RowBox[{"HighlightMode1", "=", 
        RowBox[{"output3", "[", 
         RowBox[{"[", 
          RowBox[{"itag", ",", "2"}], "]"}], "]"}]}]}], " ", "]"}], ";", "\n", 
     RowBox[{"Head", "[", "HighlightMode1", "]"}], ";", "\n", 
     RowBox[{"(*", 
      RowBox[{
       RowBox[{"Print", "[", 
        RowBox[{
         RowBox[{"output3", "[", 
          RowBox[{"[", 
           RowBox[{"itag", ",", "1"}], "]"}], "]"}], ",", "\"\<   \>\"", ",", 
         "HighlightMode1Tag"}], "]"}], ";"}], "*)"}], "\n", "\n", 
     RowBox[{"itag", "=", 
      RowBox[{"itag", "+", "1"}]}], ";", "\n", 
     RowBox[{"If", "[", 
      RowBox[{
       RowBox[{
        RowBox[{"output3", "[", 
         RowBox[{"[", 
          RowBox[{"itag", ",", "1"}], "]"}], "]"}], "==", 
        "HighlightMode2Tag"}], ",", 
       RowBox[{"HighlightMode2", "=", 
        RowBox[{"output3", "[", 
         RowBox[{"[", 
          RowBox[{"itag", ",", "2"}], "]"}], "]"}]}]}], " ", "]"}], ";", "\n", 
     RowBox[{"Head", "[", "HighlightMode2", "]"}], ";", "\n", 
     RowBox[{"(*", 
      RowBox[{
       RowBox[{"Print", "[", 
        RowBox[{
         RowBox[{"output3", "[", 
          RowBox[{"[", 
           RowBox[{"itag", ",", "1"}], "]"}], "]"}], ",", "\"\<   \>\"", ",", 
         "HighlightMode2Tag"}], "]"}], ";"}], "*)"}], "\n", "\n", 
     RowBox[{"HighlightType", "=", 
      RowBox[{"ReadList", "[", 
       RowBox[{
        RowBox[{"StringToStream", "[", "HighlightType", "]"}], ",", "Word"}], 
       "]"}]}], ";", "\n", 
     RowBox[{"HighlightMode", "=", 
      RowBox[{"ReadList", "[", 
       RowBox[{
        RowBox[{"StringToStream", "[", "HighlightMode", "]"}], ",", 
        "Number"}], "]"}]}], ";", "\n", 
     RowBox[{"HighlightMode1", "=", 
      RowBox[{"ReadList", "[", 
       RowBox[{
        RowBox[{"StringToStream", "[", "HighlightMode1", "]"}], ",", 
        "Number"}], "]"}]}], ";", "\n", 
     RowBox[{"HighlightMode2", "=", 
      RowBox[{"ReadList", "[", 
       RowBox[{
        RowBox[{"StringToStream", "[", "HighlightMode2", "]"}], ",", 
        "Number"}], "]"}]}], ";", "\n", "\n", 
     RowBox[{"(*", "20170307", "*)"}], "\n", 
     RowBox[{"(*", 
      RowBox[{"read", " ", "Size"}], "*)"}], "\n", 
     RowBox[{"(*", 
      RowBox[{"20170315", ":", " ", 
       RowBox[{
       "size", " ", "replace", " ", "to", " ", "the", " ", "next", " ", "of", 
        " ", "highlight", " ", "mode"}]}], "*)"}], "\n", 
     RowBox[{"itag", "=", 
      RowBox[{"itag", "+", "1"}]}], ";", "\n", 
     RowBox[{"If", "[", 
      RowBox[{
       RowBox[{
        RowBox[{"output3", "[", 
         RowBox[{"[", 
          RowBox[{"itag", ",", "1"}], "]"}], "]"}], "==", "SizeTag"}], ",", 
       RowBox[{
        RowBox[{"Size", "=", 
         RowBox[{"output3", "[", 
          RowBox[{"[", 
           RowBox[{"itag", ",", "2"}], "]"}], "]"}]}], ";", 
        RowBox[{"Size", "=", 
         RowBox[{"Read", "[", 
          RowBox[{
           RowBox[{"StringToStream", "[", "Size", "]"}], ",", "Word"}], 
          "]"}]}]}]}], " ", "]"}], ";", "\n", 
     RowBox[{"Head", "[", "Size", "]"}], ";", "\n", 
     RowBox[{"(*", 
      RowBox[{
       RowBox[{"Print", "[", "output3", "]"}], ";"}], "*)"}], "\n", "\n", 
     "\n", "\"\<dummy\>\"", ";", "\n", "\n", 
     RowBox[{"{", 
      RowBox[{
      "Jobid", ",", "PDFname", ",", "FigureType", ",", "FigureFlag", ",", 
       "ExptidType", ",", "ExptidFlag", ",", "CorrelationArgType", ",", 
       "CorrelationArgFlag", ",", "UserArgName", ",", "UserArgValue", ",", 
       "\n", "XQfigureXrange", ",", "XQfigureYrange", ",", "Hist1figureNbin", 
       ",", "Hist1figureXrange", ",", "Hist1figureYrange", ",", "\n", 
       "ColorSeperator", ",", "\n", "Size", ",", "HighlightType", ",", 
       "HighlightMode", ",", "HighlightMode1", ",", "HighlightMode2"}], 
      "}"}]}]}], "\n", "]"}]}]], "Input",
 InitializationCell->True],

Cell[BoxData[
 RowBox[{
  RowBox[{"(*", 
   RowBox[{
    RowBox[{"20171109", ":", " ", 
     RowBox[{"version", " ", "5"}], ":", " ", 
     RowBox[{
     "delete", " ", "the", " ", "user", " ", "define", " ", "function", " ", 
      "value", " ", "part"}]}], ",", " ", 
    RowBox[{
    "ReadUserFunction", " ", "will", " ", "be", " ", "in", " ", "charge", " ",
      "of", " ", "it"}]}], "*)"}], "\[IndentingNewLine]", 
  RowBox[{
   RowBox[{"readcorrconfigfile5", "[", 
    RowBox[{"configDirin_", ",", "configfilenamein_"}], "]"}], ":=", "\n", 
   RowBox[{"Module", "[", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{
       RowBox[{"configDir", "=", "configDirin"}], ",", 
       RowBox[{"configfilename", "=", "configfilenamein"}], ",", "\n", 
       "JobidTag", ",", "PDFnameTag", ",", "FigureTypeTag", ",", 
       "FigureFlagTag", ",", "ExptidTypeTag", ",", "ExptidFlagTag", ",", 
       "CorrelationArgTypeTag", ",", "CorrelationArgFlagTag", ",", 
       "UserArgNameTag", ",", "UserArgValueTag", ",", "\n", 
       "XQfigureXrangeTag", ",", "XQfigureYrangeTag", ",", 
       "Hist1figureNbinTag", ",", "Hist1figureXrangeTag", ",", 
       "Hist1figureYrangeTag", ",", "ColorSeperatorTag", ",", "\n", "SizeTag",
        ",", "HighlightTypeTag", ",", "HighlightModeTag", ",", 
       "HighlightMode1Tag", ",", "HighlightMode2Tag", ",", "\n", "Jobid", ",",
        "PDFname", ",", "FigureType", ",", "FigureFlag", ",", "ExptidType", 
       ",", "ExptidFlag", ",", "CorrelationArgType", ",", 
       "CorrelationArgFlag", ",", "UserArgName", ",", "UserArgValue", ",", 
       "\n", "XQfigureXrange", ",", "XQfigureYrange", ",", "Hist1figureNbin", 
       ",", "Hist1figureXrange", ",", "Hist1figureYrange", ",", 
       "ColorSeperator", ",", "\n", "Size", ",", "HighlightType", ",", 
       "HighlightMode", ",", "HighlightMode1", ",", "HighlightMode2", ",", 
       "\n", "itag", ",", "s", ",", "output", ",", "output2", ",", 
       "output3"}], "\n", "}"}], ",", "\n", "\n", 
     RowBox[{
      RowBox[{
      "JobidTag", "=", "\"\<Job ID (copy from the counter file)\>\""}], ";", 
      "\n", 
      RowBox[{"PDFnameTag", "=", "\"\<PDF set\>\""}], ";", "\n", 
      RowBox[{"FigureTypeTag", "=", "\"\<Type\>\""}], ";", "\n", 
      RowBox[{"FigureFlagTag", "=", "\"\<Flag\>\""}], ";", "\n", 
      RowBox[{"ExptidTypeTag", "=", "\"\<Expt. ID\>\""}], ";", "\n", 
      RowBox[{"ExptidFlagTag", "=", "\"\<Expt. Flag\>\""}], ";", "\n", 
      RowBox[{"CorrelationArgTypeTag", "=", "\"\<Type\>\""}], ";", "\n", 
      RowBox[{"CorrelationArgFlagTag", "=", "\"\<Flag\>\""}], ";", 
      "\[IndentingNewLine]", 
      RowBox[{"(*", 
       RowBox[{
        RowBox[{"20171109", ":", " ", 
         RowBox[{
         "delete", " ", "the", " ", "user", " ", "define", " ", "function", 
          " ", "value", " ", "part"}]}], ",", " ", 
        RowBox[{
        "ReadUserFunction", " ", "will", " ", "be", " ", "in", " ", "charge", 
         " ", "of", " ", "it"}]}], "*)"}], "\[IndentingNewLine]", 
      RowBox[{"(*", "\n", 
       RowBox[{
        RowBox[{"UserArgNameTag", "=", "\"\<Name\>\""}], ";", "\n", 
        RowBox[{"UserArgValueTag", "=", "\"\<Values\>\""}], ";"}], 
       "\[IndentingNewLine]", "*)"}], "\n", 
      RowBox[{"XQfigureXrangeTag", "=", "\"\<xmin,   xmax\>\""}], ";", "\n", 
      RowBox[{"XQfigureYrangeTag", "=", "\"\<mumin, mumax\>\""}], ";", "\n", 
      RowBox[{"Hist1figureNbinTag", "=", "\"\<Number of bins\>\""}], ";", 
      "\n", 
      RowBox[{"Hist1figureXrangeTag", "=", "\"\<xmin, xmax\>\""}], ";", "\n", 
      
      RowBox[{"Hist1figureYrangeTag", "=", "\"\<ymin, ymax\>\""}], ";", "\n", 
      
      RowBox[{"(*", "\n", 
       RowBox[{"Hist2figureXrangeTag", "\n", "Hist2figureYrangeTag"}], "\n", 
       "*)"}], "\n", 
      RowBox[{"ColorSeperatorTag", "=", "\"\<Color by data percentage\>\""}], 
      ";", "\n", 
      RowBox[{"SizeTag", "=", "\"\<Size\>\""}], ";", "\n", 
      RowBox[{"HighlightTypeTag", "=", "\"\<Type\>\""}], ";", "\n", 
      RowBox[{"HighlightModeTag", "=", "\"\<Mode\>\""}], ";", "\n", 
      RowBox[{"HighlightMode1Tag", "=", "\"\<Mode 1 range\>\""}], ";", "\n", 
      RowBox[{"HighlightMode2Tag", "=", "\"\<Mode 2 range\>\""}], ";", "\n", 
      "\n", 
      RowBox[{"Jobid", "=", "\"\<unset\>\""}], ";", "\n", 
      RowBox[{"PDFname", "=", "\"\<unset\>\""}], ";", "\n", 
      RowBox[{"FigureType", "=", "\"\<unset\>\""}], ";", "\n", 
      RowBox[{"FigureFlag", "=", "\"\<unset\>\""}], ";", "\n", 
      RowBox[{"ExptidType", "=", "\"\<unset\>\""}], ";", "\n", 
      RowBox[{"ExptidFlag", "=", "\"\<unset\>\""}], ";", "\n", 
      RowBox[{"CorrelationArgType", "=", "\"\<unset\>\""}], ";", "\n", 
      RowBox[{"CorrelationArgFlag", "=", "\"\<unset\>\""}], ";", 
      "\[IndentingNewLine]", 
      RowBox[{"(*", 
       RowBox[{
        RowBox[{"20171109", ":", " ", 
         RowBox[{
         "delete", " ", "the", " ", "user", " ", "define", " ", "function", 
          " ", "value", " ", "part"}]}], ",", " ", 
        RowBox[{
        "ReadUserFunction", " ", "will", " ", "be", " ", "in", " ", "charge", 
         " ", "of", " ", "it"}]}], "*)"}], "\n", 
      RowBox[{"(*", "\n", 
       RowBox[{
        RowBox[{"UserArgName", "=", "\"\<unset\>\""}], ";", "\n", 
        RowBox[{"UserArgValue", "=", "\"\<unset\>\""}], ";"}], 
       "\[IndentingNewLine]", "*)"}], "\[IndentingNewLine]", 
      RowBox[{"XQfigureXrange", "=", "\"\<unset\>\""}], ";", "\n", 
      RowBox[{"XQfigureYrange", "=", "\"\<unset\>\""}], ";", "\n", 
      RowBox[{"Hist1figureNbin", "=", "\"\<unset\>\""}], ";", "\n", 
      RowBox[{"Hist1figureXrange", "=", "\"\<unset\>\""}], ";", "\n", 
      RowBox[{"Hist1figureYrange", "=", "\"\<unset\>\""}], ";", "\n", "\n", 
      RowBox[{"ColorSeperator", "=", "\"\<unset\>\""}], ";", "\n", 
      RowBox[{"Size", "=", "\"\<unset\>\""}], ";", "\n", 
      RowBox[{"HighlightType", "=", "\"\<unset\>\""}], ";", "\n", 
      RowBox[{"HighlightMode", "=", "\"\<unset\>\""}], ";", "\n", 
      RowBox[{"HighlightMode1", "=", "\"\<unset\>\""}], ";", "\n", 
      RowBox[{"HighlightMode2", "=", "\"\<unset\>\""}], ";", "\n", "\n", 
      RowBox[{"(*", 
       RowBox[{
       "read", " ", "config", " ", "file", " ", "line", " ", "by", " ", 
        "line", " ", "into", " ", "list"}], "*)"}], "\n", 
      RowBox[{"s", "=", 
       RowBox[{"OpenRead", "[", 
        RowBox[{"configDir", "<>", "configfilename"}], "]"}]}], ";", "\n", 
      RowBox[{"output", "=", 
       RowBox[{"ReadList", "[", 
        RowBox[{"s", ",", "String"}], "]"}]}], ";", "\n", 
      RowBox[{"Close", "[", "s", "]"}], ";", "\n", "\n", 
      RowBox[{"(*", 
       RowBox[{"delete", " ", 
        RowBox[{"comments", ":", " ", 
         RowBox[{
         "with", " ", "\"\<#\>\"", " ", "at", " ", "begining", " ", "of", " ",
           "line"}]}]}], "*)"}], "\n", 
      RowBox[{"output2", "=", 
       RowBox[{"{", "}"}]}], ";", "\n", 
      RowBox[{"Table", "[", "\n", 
       RowBox[{
        RowBox[{
         RowBox[{"If", "[", 
          RowBox[{
           RowBox[{
            RowBox[{"StringTake", "[", 
             RowBox[{
              RowBox[{"output", "[", 
               RowBox[{"[", "i", "]"}], "]"}], ",", "1"}], "]"}], "!=", 
            "\"\<#\>\""}], ",", 
           RowBox[{"output2", "=", 
            RowBox[{"Append", "[", 
             RowBox[{"output2", ",", 
              RowBox[{"output", "[", 
               RowBox[{"[", "i", "]"}], "]"}]}], " ", "]"}]}]}], " ", "]"}], 
         ";", "\n", "\"\<dummy\>\""}], "\n", ",", 
        RowBox[{"{", 
         RowBox[{"i", ",", "1", ",", 
          RowBox[{"Length", "[", "output", "]"}]}], "}"}]}], "\n", "]"}], ";",
       "\n", 
      RowBox[{"(*", 
       RowBox[{
       "seperate", " ", "the", " ", "tag", " ", "of", " ", "configure", " ", 
        "file", " ", "and", " ", "arguments", " ", "by", " ", "\"\<:\>\""}], 
       "*)"}], "\n", 
      RowBox[{"output3", "=", 
       RowBox[{"Table", "[", 
        RowBox[{
         RowBox[{"StringSplit", "[", 
          RowBox[{
           RowBox[{"output2", "[", 
            RowBox[{"[", "i", "]"}], "]"}], ",", "\"\<:\>\""}], "]"}], ",", 
         RowBox[{"{", 
          RowBox[{"i", ",", "1", ",", 
           RowBox[{"Length", "[", "output2", "]"}]}], "}"}]}], "]"}]}], ";", 
      "\n", "\n", 
      RowBox[{"(*", 
       RowBox[{
        RowBox[{"check", " ", "tag", " ", "exist"}], ",", " ", 
        RowBox[{"if", " ", "a", " ", "tag", " ", "exist"}], ",", " ", 
        RowBox[{
        "read", " ", "arguments", " ", "corresponding", " ", "to", " ", 
         "that", " ", "tag"}]}], "*)"}], "\n", 
      RowBox[{"(*", 
       RowBox[{"read", " ", "Job", " ", "id"}], "*)"}], "\n", 
      RowBox[{"itag", "=", "1"}], ";", "\n", 
      RowBox[{"If", "[", 
       RowBox[{
        RowBox[{
         RowBox[{"output3", "[", 
          RowBox[{"[", 
           RowBox[{"itag", ",", "1"}], "]"}], "]"}], "==", "JobidTag"}], ",", 
        
        RowBox[{
         RowBox[{"Jobid", "=", 
          RowBox[{"output3", "[", 
           RowBox[{"[", 
            RowBox[{"itag", ",", "2"}], "]"}], "]"}]}], ";", 
         RowBox[{"Jobid", "=", 
          RowBox[{"Read", "[", 
           RowBox[{
            RowBox[{"StringToStream", "[", "Jobid", "]"}], ",", "Number"}], 
           "]"}]}]}]}], " ", "]"}], ";", "\n", 
      RowBox[{"Head", "[", "Jobid", "]"}], ";", "\n", 
      RowBox[{"(*", 
       RowBox[{"read", " ", "PDFname"}], "*)"}], "\n", 
      RowBox[{"itag", "=", 
       RowBox[{"itag", "+", "1"}]}], ";", "\n", 
      RowBox[{"If", "[", 
       RowBox[{
        RowBox[{
         RowBox[{"output3", "[", 
          RowBox[{"[", 
           RowBox[{"itag", ",", "1"}], "]"}], "]"}], "==", "PDFnameTag"}], 
        ",", 
        RowBox[{
         RowBox[{"PDFname", "=", 
          RowBox[{"output3", "[", 
           RowBox[{"[", 
            RowBox[{"itag", ",", "2"}], "]"}], "]"}]}], ";", 
         RowBox[{"PDFname", "=", 
          RowBox[{"Read", "[", 
           RowBox[{
            RowBox[{"StringToStream", "[", "PDFname", "]"}], ",", "Word"}], 
           "]"}]}]}]}], " ", "]"}], ";", "\n", 
      RowBox[{"Head", "[", "PDFname", "]"}], ";", "\n", 
      RowBox[{"(*", 
       RowBox[{"read", " ", "FigureType", " ", "and", " ", "FigureFlag"}], 
       "*)"}], "\n", 
      RowBox[{"itag", "=", 
       RowBox[{"itag", "+", "1"}]}], ";", "\n", 
      RowBox[{"If", "[", 
       RowBox[{
        RowBox[{
         RowBox[{"output3", "[", 
          RowBox[{"[", 
           RowBox[{"itag", ",", "1"}], "]"}], "]"}], "==", "FigureTypeTag"}], 
        ",", 
        RowBox[{"FigureType", "=", 
         RowBox[{"output3", "[", 
          RowBox[{"[", 
           RowBox[{"itag", ",", "2"}], "]"}], "]"}]}]}], " ", "]"}], ";", 
      "\n", 
      RowBox[{"Head", "[", "FigureType", "]"}], ";", "\n", "\n", 
      RowBox[{"itag", "=", 
       RowBox[{"itag", "+", "1"}]}], ";", "\n", 
      RowBox[{"If", "[", 
       RowBox[{
        RowBox[{
         RowBox[{"output3", "[", 
          RowBox[{"[", 
           RowBox[{"itag", ",", "1"}], "]"}], "]"}], "==", "FigureFlagTag"}], 
        ",", 
        RowBox[{"FigureFlag", "=", 
         RowBox[{"output3", "[", 
          RowBox[{"[", 
           RowBox[{"itag", ",", "2"}], "]"}], "]"}]}]}], " ", "]"}], ";", 
      "\n", 
      RowBox[{"Head", "[", "FigureFlag", "]"}], ";", "\n", "\n", 
      RowBox[{"FigureType", "=", 
       RowBox[{"ReadList", "[", 
        RowBox[{
         RowBox[{"StringToStream", "[", "FigureType", "]"}], ",", "Word"}], 
        "]"}]}], ";", "\n", 
      RowBox[{"FigureFlag", "=", 
       RowBox[{"ReadList", "[", 
        RowBox[{
         RowBox[{"StringToStream", "[", "FigureFlag", "]"}], ",", "Number"}], 
        "]"}]}], ";", "\n", "\n", 
      RowBox[{"(*", 
       RowBox[{"read", " ", "ExptidType", " ", "and", " ", "ExptidFlag"}], 
       "*)"}], "\n", 
      RowBox[{"itag", "=", 
       RowBox[{"itag", "+", "1"}]}], ";", "\n", 
      RowBox[{"If", "[", 
       RowBox[{
        RowBox[{
         RowBox[{"output3", "[", 
          RowBox[{"[", 
           RowBox[{"itag", ",", "1"}], "]"}], "]"}], "==", "ExptidTypeTag"}], 
        ",", 
        RowBox[{"ExptidType", "=", 
         RowBox[{"output3", "[", 
          RowBox[{"[", 
           RowBox[{"itag", ",", "2"}], "]"}], "]"}]}]}], " ", "]"}], ";", 
      "\n", 
      RowBox[{"Head", "[", "ExptidType", "]"}], ";", "\n", "\n", 
      RowBox[{"itag", "=", 
       RowBox[{"itag", "+", "1"}]}], ";", "\n", 
      RowBox[{"If", "[", 
       RowBox[{
        RowBox[{
         RowBox[{"output3", "[", 
          RowBox[{"[", 
           RowBox[{"itag", ",", "1"}], "]"}], "]"}], "==", "ExptidFlagTag"}], 
        ",", 
        RowBox[{"ExptidFlag", "=", 
         RowBox[{"output3", "[", 
          RowBox[{"[", 
           RowBox[{"itag", ",", "2"}], "]"}], "]"}]}]}], " ", "]"}], ";", 
      "\n", 
      RowBox[{"Head", "[", "ExptidFlag", "]"}], ";", "\n", "\n", 
      RowBox[{"ExptidType", "=", 
       RowBox[{"ReadList", "[", 
        RowBox[{
         RowBox[{"StringToStream", "[", "ExptidType", "]"}], ",", "Number"}], 
        "]"}]}], ";", "\n", 
      RowBox[{"ExptidFlag", "=", 
       RowBox[{"ReadList", "[", 
        RowBox[{
         RowBox[{"StringToStream", "[", "ExptidFlag", "]"}], ",", "Number"}], 
        "]"}]}], ";", "\n", "\n", 
      RowBox[{"(*", 
       RowBox[{
       "read", " ", "CorrelationArgType", " ", "and", " ", 
        "CorrelationArgFlag"}], "*)"}], "\n", 
      RowBox[{"itag", "=", 
       RowBox[{"itag", "+", "1"}]}], ";", "\n", 
      RowBox[{"If", "[", 
       RowBox[{
        RowBox[{
         RowBox[{"output3", "[", 
          RowBox[{"[", 
           RowBox[{"itag", ",", "1"}], "]"}], "]"}], "==", 
         "CorrelationArgTypeTag"}], ",", 
        RowBox[{"CorrelationArgType", "=", 
         RowBox[{"output3", "[", 
          RowBox[{"[", 
           RowBox[{"itag", ",", "2"}], "]"}], "]"}]}]}], " ", "]"}], ";", 
      "\n", 
      RowBox[{"Head", "[", "CorrelationArgType", "]"}], ";", "\n", "\n", 
      RowBox[{"itag", "=", 
       RowBox[{"itag", "+", "1"}]}], ";", "\n", 
      RowBox[{"If", "[", 
       RowBox[{
        RowBox[{
         RowBox[{"output3", "[", 
          RowBox[{"[", 
           RowBox[{"itag", ",", "1"}], "]"}], "]"}], "==", 
         "CorrelationArgFlagTag"}], ",", 
        RowBox[{"CorrelationArgFlag", "=", 
         RowBox[{"output3", "[", 
          RowBox[{"[", 
           RowBox[{"itag", ",", "2"}], "]"}], "]"}]}]}], " ", "]"}], ";", 
      "\n", 
      RowBox[{"Head", "[", "CorrelationArgFlag", "]"}], ";", "\n", "\n", 
      RowBox[{"CorrelationArgType", "=", 
       RowBox[{"ReadList", "[", 
        RowBox[{
         RowBox[{"StringToStream", "[", "CorrelationArgType", "]"}], ",", 
         "Word"}], "]"}]}], ";", "\n", 
      RowBox[{"CorrelationArgFlag", "=", 
       RowBox[{"ReadList", "[", 
        RowBox[{
         RowBox[{"StringToStream", "[", "CorrelationArgFlag", "]"}], ",", 
         "Number"}], "]"}]}], ";", "\n", "\n", 
      RowBox[{"(*", 
       RowBox[{
        RowBox[{"20171109", ":", " ", 
         RowBox[{
         "delete", " ", "the", " ", "user", " ", "define", " ", "function", 
          " ", "value", " ", "part"}]}], ",", " ", 
        RowBox[{
        "ReadUserFunction", " ", "will", " ", "be", " ", "in", " ", "charge", 
         " ", "of", " ", "it"}]}], "*)"}], "\n", 
      RowBox[{"(*", "\n", 
       RowBox[{"(*", 
        RowBox[{"read", " ", "UserArgName"}], "*)"}], "\n", 
       RowBox[{
        RowBox[{"itag", "=", 
         RowBox[{"itag", "+", "1"}]}], ";", "\n", 
        RowBox[{"If", "[", 
         RowBox[{
          RowBox[{
           RowBox[{"output3", "[", 
            RowBox[{"[", 
             RowBox[{"itag", ",", "1"}], "]"}], "]"}], "==", 
           "UserArgNameTag"}], ",", 
          RowBox[{"UserArgName", "=", 
           RowBox[{"output3", "[", 
            RowBox[{"[", 
             RowBox[{"itag", ",", "2"}], "]"}], "]"}]}]}], " ", "]"}], ";", 
        "\n", 
        RowBox[{"Head", "[", "UserArgName", "]"}], ";", "\n", 
        RowBox[{"(*", 
         RowBox[{"read", " ", "UserArgValue"}], "*)"}], "\n", 
        RowBox[{"itag", "=", 
         RowBox[{"itag", "+", "1"}]}], ";", "\n", 
        RowBox[{"If", "[", 
         RowBox[{
          RowBox[{
           RowBox[{"output3", "[", 
            RowBox[{"[", 
             RowBox[{"itag", ",", "1"}], "]"}], "]"}], "==", 
           "UserArgValueTag"}], ",", 
          RowBox[{"UserArgValue", "=", 
           RowBox[{"output3", "[", 
            RowBox[{"[", 
             RowBox[{"itag", ",", "2"}], "]"}], "]"}]}]}], " ", "]"}], ";", 
        "\n", 
        RowBox[{"Head", "[", "UserArgValue", "]"}], ";", "\n", "\n", 
        RowBox[{"UserArgValue", "=", 
         RowBox[{"ReadList", "[", 
          RowBox[{
           RowBox[{"StringToStream", "[", "UserArgValue", "]"}], ",", 
           "Number"}], "]"}]}], ";"}], "\[IndentingNewLine]", "*)"}], 
      "\[IndentingNewLine]", 
      RowBox[{"(*", 
       RowBox[{
       "read", " ", "XQfigureXrange", " ", "and", " ", "XQfigureYrange"}], 
       "*)"}], "\[IndentingNewLine]", 
      RowBox[{"itag", "=", 
       RowBox[{"itag", "+", "1"}]}], ";", "\n", 
      RowBox[{"If", "[", 
       RowBox[{
        RowBox[{
         RowBox[{"output3", "[", 
          RowBox[{"[", 
           RowBox[{"itag", ",", "1"}], "]"}], "]"}], "==", 
         "XQfigureXrangeTag"}], ",", 
        RowBox[{"XQfigureXrange", "=", 
         RowBox[{"output3", "[", 
          RowBox[{"[", 
           RowBox[{"itag", ",", "2"}], "]"}], "]"}]}]}], " ", "]"}], ";", 
      "\n", 
      RowBox[{"Head", "[", "XQfigureXrange", "]"}], ";", "\n", "\n", 
      RowBox[{"itag", "=", 
       RowBox[{"itag", "+", "1"}]}], ";", "\n", 
      RowBox[{"If", "[", 
       RowBox[{
        RowBox[{
         RowBox[{"output3", "[", 
          RowBox[{"[", 
           RowBox[{"itag", ",", "1"}], "]"}], "]"}], "==", 
         "XQfigureYrangeTag"}], ",", 
        RowBox[{"XQfigureYrange", "=", 
         RowBox[{"output3", "[", 
          RowBox[{"[", 
           RowBox[{"itag", ",", "2"}], "]"}], "]"}]}]}], " ", "]"}], ";", 
      "\n", 
      RowBox[{"Head", "[", "XQfigureYrange", "]"}], ";", "\n", "\n", 
      RowBox[{"XQfigureXrange", "=", 
       RowBox[{"ReadList", "[", 
        RowBox[{
         RowBox[{"StringToStream", "[", "XQfigureXrange", "]"}], ",", 
         "Word"}], "]"}]}], ";", "\n", 
      RowBox[{"XQfigureYrange", "=", 
       RowBox[{"ReadList", "[", 
        RowBox[{
         RowBox[{"StringToStream", "[", "XQfigureYrange", "]"}], ",", 
         "Word"}], "]"}]}], ";", "\n", 
      RowBox[{"If", "[", 
       RowBox[{
        RowBox[{
         RowBox[{"XQfigureXrange", "[", 
          RowBox[{"[", "1", "]"}], "]"}], "!=", "\"\<auto\>\""}], ",", 
        RowBox[{
         RowBox[{"XQfigureXrange", "[", 
          RowBox[{"[", "1", "]"}], "]"}], "=", 
         RowBox[{"Read", "[", 
          RowBox[{
           RowBox[{"StringToStream", "[", 
            RowBox[{"XQfigureXrange", "[", 
             RowBox[{"[", "1", "]"}], "]"}], " ", "]"}], ",", "Number"}], 
          "]"}]}]}], " ", "]"}], ";", "\n", 
      RowBox[{"If", "[", 
       RowBox[{
        RowBox[{
         RowBox[{"XQfigureXrange", "[", 
          RowBox[{"[", "2", "]"}], "]"}], "!=", "\"\<auto\>\""}], ",", 
        RowBox[{
         RowBox[{"XQfigureXrange", "[", 
          RowBox[{"[", "2", "]"}], "]"}], "=", 
         RowBox[{"Read", "[", 
          RowBox[{
           RowBox[{"StringToStream", "[", 
            RowBox[{"XQfigureXrange", "[", 
             RowBox[{"[", "2", "]"}], "]"}], " ", "]"}], ",", "Number"}], 
          "]"}]}]}], " ", "]"}], ";", "\n", 
      RowBox[{"If", "[", 
       RowBox[{
        RowBox[{
         RowBox[{"XQfigureYrange", "[", 
          RowBox[{"[", "1", "]"}], "]"}], "!=", "\"\<auto\>\""}], ",", 
        RowBox[{
         RowBox[{"XQfigureYrange", "[", 
          RowBox[{"[", "1", "]"}], "]"}], "=", 
         RowBox[{"Read", "[", 
          RowBox[{
           RowBox[{"StringToStream", "[", 
            RowBox[{"XQfigureYrange", "[", 
             RowBox[{"[", "1", "]"}], "]"}], " ", "]"}], ",", "Number"}], 
          "]"}]}]}], " ", "]"}], ";", "\n", 
      RowBox[{"If", "[", 
       RowBox[{
        RowBox[{
         RowBox[{"XQfigureYrange", "[", 
          RowBox[{"[", "2", "]"}], "]"}], "!=", "\"\<auto\>\""}], ",", 
        RowBox[{
         RowBox[{"XQfigureYrange", "[", 
          RowBox[{"[", "2", "]"}], "]"}], "=", 
         RowBox[{"Read", "[", 
          RowBox[{
           RowBox[{"StringToStream", "[", 
            RowBox[{"XQfigureYrange", "[", 
             RowBox[{"[", "2", "]"}], "]"}], " ", "]"}], ",", "Number"}], 
          "]"}]}]}], " ", "]"}], ";", "\n", 
      RowBox[{"(*", 
       RowBox[{
        RowBox[{"read", " ", "Hist1figureNbin"}], ",", " ", 
        "Hist1figureXrange", ",", " ", "Hist1figureYrange"}], "*)"}], "\n", 
      RowBox[{"itag", "=", 
       RowBox[{"itag", "+", "1"}]}], ";", "\n", 
      RowBox[{"If", "[", 
       RowBox[{
        RowBox[{
         RowBox[{"output3", "[", 
          RowBox[{"[", 
           RowBox[{"itag", ",", "1"}], "]"}], "]"}], "==", 
         "Hist1figureNbinTag"}], ",", 
        RowBox[{
         RowBox[{"Hist1figureNbin", "=", 
          RowBox[{"output3", "[", 
           RowBox[{"[", 
            RowBox[{"itag", ",", "2"}], "]"}], "]"}]}], ";", 
         RowBox[{"Hist1figureNbin", "=", 
          RowBox[{"Read", "[", 
           RowBox[{
            RowBox[{"StringToStream", "[", "Hist1figureNbin", "]"}], ",", 
            "Word"}], "]"}]}]}]}], " ", "]"}], ";", "\n", 
      RowBox[{"Head", "[", "Hist1figureNbin", "]"}], ";", "\n", 
      RowBox[{"If", "[", 
       RowBox[{
        RowBox[{"Hist1figureNbin", "!=", "\"\<auto\>\""}], ",", 
        RowBox[{"Hist1figureNbin", "=", 
         RowBox[{"Read", "[", 
          RowBox[{
           RowBox[{"StringToStream", "[", "Hist1figureNbin", "]"}], ",", 
           "Number"}], "]"}]}]}], " ", "]"}], ";", "\n", "\n", 
      RowBox[{"itag", "=", 
       RowBox[{"itag", "+", "1"}]}], ";", "\n", 
      RowBox[{"If", "[", 
       RowBox[{
        RowBox[{
         RowBox[{"output3", "[", 
          RowBox[{"[", 
           RowBox[{"itag", ",", "1"}], "]"}], "]"}], "==", 
         "Hist1figureXrangeTag"}], ",", 
        RowBox[{"Hist1figureXrange", "=", 
         RowBox[{"output3", "[", 
          RowBox[{"[", 
           RowBox[{"itag", ",", "2"}], "]"}], "]"}]}]}], " ", "]"}], ";", 
      "\n", 
      RowBox[{"Head", "[", "Hist1figureXrange", "]"}], ";", "\n", "\n", 
      RowBox[{"itag", "=", 
       RowBox[{"itag", "+", "1"}]}], ";", "\n", 
      RowBox[{"If", "[", 
       RowBox[{
        RowBox[{
         RowBox[{"output3", "[", 
          RowBox[{"[", 
           RowBox[{"itag", ",", "1"}], "]"}], "]"}], "==", 
         "Hist1figureYrangeTag"}], ",", 
        RowBox[{"Hist1figureYrange", "=", 
         RowBox[{"output3", "[", 
          RowBox[{"[", 
           RowBox[{"itag", ",", "2"}], "]"}], "]"}]}]}], " ", "]"}], ";", 
      "\n", 
      RowBox[{"Head", "[", "Hist1figureYrange", "]"}], ";", "\n", "\n", 
      RowBox[{"Hist1figureXrange", "=", 
       RowBox[{"ReadList", "[", 
        RowBox[{
         RowBox[{"StringToStream", "[", "Hist1figureXrange", "]"}], ",", 
         "Word"}], "]"}]}], ";", "\n", 
      RowBox[{"Hist1figureYrange", "=", 
       RowBox[{"ReadList", "[", 
        RowBox[{
         RowBox[{"StringToStream", "[", "Hist1figureYrange", "]"}], ",", 
         "Word"}], "]"}]}], ";", "\n", 
      RowBox[{"If", "[", 
       RowBox[{
        RowBox[{
         RowBox[{"Hist1figureXrange", "[", 
          RowBox[{"[", "1", "]"}], "]"}], "!=", "\"\<auto\>\""}], ",", 
        RowBox[{
         RowBox[{"Hist1figureXrange", "[", 
          RowBox[{"[", "1", "]"}], "]"}], "=", 
         RowBox[{"Read", "[", 
          RowBox[{
           RowBox[{"StringToStream", "[", 
            RowBox[{"Hist1figureXrange", "[", 
             RowBox[{"[", "1", "]"}], "]"}], " ", "]"}], ",", "Number"}], 
          "]"}]}]}], " ", "]"}], ";", "\n", 
      RowBox[{"If", "[", 
       RowBox[{
        RowBox[{
         RowBox[{"Hist1figureXrange", "[", 
          RowBox[{"[", "2", "]"}], "]"}], "!=", "\"\<auto\>\""}], ",", 
        RowBox[{
         RowBox[{"Hist1figureXrange", "[", 
          RowBox[{"[", "2", "]"}], "]"}], "=", 
         RowBox[{"Read", "[", 
          RowBox[{
           RowBox[{"StringToStream", "[", 
            RowBox[{"Hist1figureXrange", "[", 
             RowBox[{"[", "2", "]"}], "]"}], " ", "]"}], ",", "Number"}], 
          "]"}]}]}], " ", "]"}], ";", "\n", 
      RowBox[{"If", "[", 
       RowBox[{
        RowBox[{
         RowBox[{"Hist1figureYrange", "[", 
          RowBox[{"[", "1", "]"}], "]"}], "!=", "\"\<auto\>\""}], ",", 
        RowBox[{
         RowBox[{"Hist1figureYrange", "[", 
          RowBox[{"[", "1", "]"}], "]"}], "=", 
         RowBox[{"Read", "[", 
          RowBox[{
           RowBox[{"StringToStream", "[", 
            RowBox[{"Hist1figureYrange", "[", 
             RowBox[{"[", "1", "]"}], "]"}], " ", "]"}], ",", "Number"}], 
          "]"}]}]}], " ", "]"}], ";", "\n", 
      RowBox[{"If", "[", 
       RowBox[{
        RowBox[{
         RowBox[{"Hist1figureYrange", "[", 
          RowBox[{"[", "2", "]"}], "]"}], "!=", "\"\<auto\>\""}], ",", 
        RowBox[{
         RowBox[{"Hist1figureYrange", "[", 
          RowBox[{"[", "2", "]"}], "]"}], "=", 
         RowBox[{"Read", "[", 
          RowBox[{
           RowBox[{"StringToStream", "[", 
            RowBox[{"Hist1figureYrange", "[", 
             RowBox[{"[", "2", "]"}], "]"}], " ", "]"}], ",", "Number"}], 
          "]"}]}]}], " ", "]"}], ";", "\n", "\n", 
      RowBox[{"(*", 
       RowBox[{"20170306", ":", " ", 
        RowBox[{"add", " ", "color", " ", "seperator"}]}], "*)"}], "\n", 
      RowBox[{"itag", "=", 
       RowBox[{"itag", "+", "1"}]}], ";", "\n", 
      RowBox[{"If", "[", 
       RowBox[{
        RowBox[{
         RowBox[{"output3", "[", 
          RowBox[{"[", 
           RowBox[{"itag", ",", "1"}], "]"}], "]"}], "==", 
         "ColorSeperatorTag"}], ",", 
        RowBox[{"ColorSeperator", "=", 
         RowBox[{"output3", "[", 
          RowBox[{"[", 
           RowBox[{"itag", ",", "2"}], "]"}], "]"}]}]}], " ", "]"}], ";", 
      "\n", 
      RowBox[{"Head", "[", "ColorSeperator", "]"}], ";", "\n", "\n", 
      RowBox[{"ColorSeperator", "=", 
       RowBox[{"ReadList", "[", 
        RowBox[{
         RowBox[{"StringToStream", "[", "ColorSeperator", "]"}], ",", 
         "Word"}], "]"}]}], ";", "\n", 
      RowBox[{"If", "[", 
       RowBox[{
        RowBox[{
         RowBox[{"ColorSeperator", "[", 
          RowBox[{"[", "1", "]"}], "]"}], "!=", "\"\<auto\>\""}], ",", "\n", 
        RowBox[{"Table", "[", 
         RowBox[{
          RowBox[{
           RowBox[{
            RowBox[{"ColorSeperator", "[", 
             RowBox[{"[", "i", "]"}], "]"}], "=", 
            RowBox[{"Read", "[", 
             RowBox[{
              RowBox[{"StringToStream", "[", 
               RowBox[{"ColorSeperator", "[", 
                RowBox[{"[", "i", "]"}], "]"}], " ", "]"}], ",", "Number"}], 
             "]"}]}], ";", "\"\<dummy\>\""}], ",", 
          RowBox[{"{", 
           RowBox[{"i", ",", "1", ",", 
            RowBox[{"Length", "[", "ColorSeperator", "]"}]}], "}"}]}], 
         "]"}]}], " ", "\n", "]"}], ";", "\n", "\n", 
      RowBox[{"(*", 
       RowBox[{"read", " ", "HighlightType", 
        RowBox[{"(", "FigureType", ")"}], " ", "and", " ", "HighlightMode"}], 
       "*)"}], "\n", 
      RowBox[{"itag", "=", 
       RowBox[{"itag", "+", "1"}]}], ";", "\n", 
      RowBox[{"If", "[", 
       RowBox[{
        RowBox[{
         RowBox[{"output3", "[", 
          RowBox[{"[", 
           RowBox[{"itag", ",", "1"}], "]"}], "]"}], "==", 
         "HighlightTypeTag"}], ",", 
        RowBox[{"HighlightType", "=", 
         RowBox[{"output3", "[", 
          RowBox[{"[", 
           RowBox[{"itag", ",", "2"}], "]"}], "]"}]}]}], " ", "]"}], ";", 
      "\n", 
      RowBox[{"Head", "[", "HighlightType", "]"}], ";", "\n", "\n", 
      RowBox[{"itag", "=", 
       RowBox[{"itag", "+", "1"}]}], ";", "\n", 
      RowBox[{"If", "[", 
       RowBox[{
        RowBox[{
         RowBox[{"output3", "[", 
          RowBox[{"[", 
           RowBox[{"itag", ",", "1"}], "]"}], "]"}], "==", 
         "HighlightModeTag"}], ",", 
        RowBox[{"HighlightMode", "=", 
         RowBox[{"output3", "[", 
          RowBox[{"[", 
           RowBox[{"itag", ",", "2"}], "]"}], "]"}]}]}], " ", "]"}], ";", 
      "\n", 
      RowBox[{"Head", "[", "HighlightMode", "]"}], ";", "\n", 
      RowBox[{"(*", 
       RowBox[{
        RowBox[{"Print", "[", 
         RowBox[{
          RowBox[{"output3", "[", 
           RowBox[{"[", 
            RowBox[{"itag", ",", "1"}], "]"}], "]"}], ",", "\"\<   \>\"", ",",
           "HighlightModeTag"}], "]"}], ";"}], "*)"}], "\n", "\n", 
      RowBox[{"itag", "=", 
       RowBox[{"itag", "+", "1"}]}], ";", "\n", 
      RowBox[{"If", "[", 
       RowBox[{
        RowBox[{
         RowBox[{"output3", "[", 
          RowBox[{"[", 
           RowBox[{"itag", ",", "1"}], "]"}], "]"}], "==", 
         "HighlightMode1Tag"}], ",", 
        RowBox[{"HighlightMode1", "=", 
         RowBox[{"output3", "[", 
          RowBox[{"[", 
           RowBox[{"itag", ",", "2"}], "]"}], "]"}]}]}], " ", "]"}], ";", 
      "\n", 
      RowBox[{"Head", "[", "HighlightMode1", "]"}], ";", "\n", 
      RowBox[{"(*", 
       RowBox[{
        RowBox[{"Print", "[", 
         RowBox[{
          RowBox[{"output3", "[", 
           RowBox[{"[", 
            RowBox[{"itag", ",", "1"}], "]"}], "]"}], ",", "\"\<   \>\"", ",",
           "HighlightMode1Tag"}], "]"}], ";"}], "*)"}], "\n", "\n", 
      RowBox[{"itag", "=", 
       RowBox[{"itag", "+", "1"}]}], ";", "\n", 
      RowBox[{"If", "[", 
       RowBox[{
        RowBox[{
         RowBox[{"output3", "[", 
          RowBox[{"[", 
           RowBox[{"itag", ",", "1"}], "]"}], "]"}], "==", 
         "HighlightMode2Tag"}], ",", 
        RowBox[{"HighlightMode2", "=", 
         RowBox[{"output3", "[", 
          RowBox[{"[", 
           RowBox[{"itag", ",", "2"}], "]"}], "]"}]}]}], " ", "]"}], ";", 
      "\n", 
      RowBox[{"Head", "[", "HighlightMode2", "]"}], ";", "\n", 
      RowBox[{"(*", 
       RowBox[{
        RowBox[{"Print", "[", 
         RowBox[{
          RowBox[{"output3", "[", 
           RowBox[{"[", 
            RowBox[{"itag", ",", "1"}], "]"}], "]"}], ",", "\"\<   \>\"", ",",
           "HighlightMode2Tag"}], "]"}], ";"}], "*)"}], "\n", "\n", 
      RowBox[{"HighlightType", "=", 
       RowBox[{"ReadList", "[", 
        RowBox[{
         RowBox[{"StringToStream", "[", "HighlightType", "]"}], ",", "Word"}],
         "]"}]}], ";", "\n", 
      RowBox[{"HighlightMode", "=", 
       RowBox[{"ReadList", "[", 
        RowBox[{
         RowBox[{"StringToStream", "[", "HighlightMode", "]"}], ",", 
         "Number"}], "]"}]}], ";", "\n", 
      RowBox[{"(*", 
       RowBox[{"20171109", ":", " ", 
        RowBox[{
        "new", " ", "convention", " ", "of", " ", "highlight", " ", "range"}],
         ":"}], "  ", "*)"}], "\[IndentingNewLine]", 
      RowBox[{"(*", " ", 
       RowBox[{"Mode", ":", "                        ", 
        RowBox[{
         RowBox[{
         "1", "                      ", "2", "    ", "3", "   ", "4"}], " ", 
         "..."}]}], "*)"}], "\[IndentingNewLine]", 
      RowBox[{"(*", " ", 
       RowBox[{
        RowBox[{
         RowBox[{
          RowBox[{
           RowBox[{
            RowBox[{
             RowBox[{"Mode", " ", "1", " ", 
              RowBox[{"range", ":", " ", 
               RowBox[{"{", 
                RowBox[{
                 RowBox[{"{", 
                  RowBox[{"hmin1", ",", "hmax1"}], "}"}], ",", 
                 RowBox[{"{", 
                  RowBox[{"hmin2", ",", "hmax2"}], "}"}], ",", "..."}], 
                "}"}]}]}], ";"}], "  ", "..."}], ";"}], " ", "..."}], ";"}], 
        " ", "..."}], "*)"}], "\[IndentingNewLine]", 
      RowBox[{"HighlightMode1", "=", 
       RowBox[{"StringSplit", "[", 
        RowBox[{
         RowBox[{"Read", "[", 
          RowBox[{
           RowBox[{"StringToStream", "[", "HighlightMode1", "]"}], ",", 
           "String"}], "]"}], ",", "\"\<;\>\""}], "]"}]}], ";", 
      RowBox[{"(*", 
       RowBox[{
        RowBox[{"ReadList", "[", 
         RowBox[{
          RowBox[{"StringToStream", "[", "HighlightMode1", "]"}], ",", 
          "Number"}], "]"}], ";"}], "*)"}], "\n", 
      RowBox[{"HighlightMode2", "=", 
       RowBox[{"StringSplit", "[", 
        RowBox[{
         RowBox[{"Read", "[", 
          RowBox[{
           RowBox[{"StringToStream", "[", "HighlightMode2", "]"}], ",", 
           "String"}], "]"}], ",", "\"\<;\>\""}], "]"}]}], ";", 
      RowBox[{"(*", 
       RowBox[{
        RowBox[{"ReadList", "[", 
         RowBox[{
          RowBox[{"StringToStream", "[", "HighlightMode2", "]"}], ",", 
          "Number"}], "]"}], ";"}], "*)"}], "\n", 
      RowBox[{"(*", 
       RowBox[{
       "read", " ", "the", " ", "List", " ", "expression", " ", "for", " ", 
        "every", " ", "figure", " ", "type"}], "*)"}], "\[IndentingNewLine]", 
      
      RowBox[{"HighlightMode1", "=", 
       RowBox[{
        RowBox[{
         RowBox[{"Read", "[", 
          RowBox[{
           RowBox[{"StringToStream", "[", "#", "]"}], ",", "Expression"}], 
          "]"}], "&"}], "/@", "HighlightMode1"}]}], ";", 
      "\[IndentingNewLine]", 
      RowBox[{"HighlightMode2", "=", 
       RowBox[{
        RowBox[{
         RowBox[{"Read", "[", 
          RowBox[{
           RowBox[{"StringToStream", "[", "#", "]"}], ",", "Expression"}], 
          "]"}], "&"}], "/@", "HighlightMode2"}]}], ";", "\n", 
      RowBox[{"(*", "20170307", "*)"}], "\n", 
      RowBox[{"(*", 
       RowBox[{"read", " ", "Size"}], "*)"}], "\n", 
      RowBox[{"(*", 
       RowBox[{"20170315", ":", " ", 
        RowBox[{
        "size", " ", "replace", " ", "to", " ", "the", " ", "next", " ", "of",
          " ", "highlight", " ", "mode"}]}], "*)"}], "\n", 
      RowBox[{"itag", "=", 
       RowBox[{"itag", "+", "1"}]}], ";", "\n", 
      RowBox[{"If", "[", 
       RowBox[{
        RowBox[{
         RowBox[{"output3", "[", 
          RowBox[{"[", 
           RowBox[{"itag", ",", "1"}], "]"}], "]"}], "==", "SizeTag"}], ",", 
        RowBox[{
         RowBox[{"Size", "=", 
          RowBox[{"output3", "[", 
           RowBox[{"[", 
            RowBox[{"itag", ",", "2"}], "]"}], "]"}]}], ";", 
         RowBox[{"Size", "=", 
          RowBox[{"Read", "[", 
           RowBox[{
            RowBox[{"StringToStream", "[", "Size", "]"}], ",", "Word"}], 
           "]"}]}]}]}], " ", "]"}], ";", "\n", 
      RowBox[{"Head", "[", "Size", "]"}], ";", "\n", 
      RowBox[{"(*", 
       RowBox[{
        RowBox[{"Print", "[", "output3", "]"}], ";"}], "*)"}], "\n", "\n", 
      "\n", "\"\<dummy\>\"", ";", "\n", "\n", 
      RowBox[{"{", 
       RowBox[{
       "Jobid", ",", "PDFname", ",", "FigureType", ",", "FigureFlag", ",", 
        "ExptidType", ",", "ExptidFlag", ",", "CorrelationArgType", ",", 
        "CorrelationArgFlag", ",", 
        RowBox[{"(*", 
         RowBox[{"UserArgName", ",", "UserArgValue", ","}], "*)"}], "\n", 
        "XQfigureXrange", ",", "XQfigureYrange", ",", "Hist1figureNbin", ",", 
        "Hist1figureXrange", ",", "Hist1figureYrange", ",", "\n", 
        "ColorSeperator", ",", "\n", "Size", ",", "HighlightType", ",", 
        "HighlightMode", ",", "HighlightMode1", ",", "HighlightMode2"}], 
       "}"}]}]}], "\n", "]"}]}]}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{{3.719207889677051*^9, 3.7192081110129642`*^9}, {
  3.719208146187992*^9, 3.719208186937668*^9}, {3.719211415669033*^9, 
  3.7192114319329844`*^9}, {3.7192114676506453`*^9, 3.719211547442705*^9}, {
  3.719211636563114*^9, 3.719211676904344*^9}, {3.719211706962453*^9, 
  3.71921179230167*^9}, {3.7192118685394573`*^9, 3.719211937657652*^9}}],

Cell[BoxData[
 RowBox[{
  RowBox[{"(*", "20171109", "*)"}], "\[IndentingNewLine]", 
  RowBox[{"(*", 
   RowBox[{
    RowBox[{
    "read", " ", "user", " ", "define", " ", "function", " ", "or", " ", 
     "data"}], ",", " ", 
    RowBox[{
    "input", " ", "filename", " ", "and", " ", "output", " ", "user", " ", 
     "define", " ", "values"}]}], "*)"}], "\[IndentingNewLine]", 
  RowBox[{
   RowBox[{
    RowBox[{"ReadUserFunction", "[", 
     RowBox[{"UserFuncDirin_", ",", "UserFuncfilenamein_"}], "]"}], ":=", 
    "\[IndentingNewLine]", 
    RowBox[{"Module", "[", 
     RowBox[{
      RowBox[{"{", 
       RowBox[{
        RowBox[{"UserFuncDir", "=", "UserFuncDirin"}], ",", 
        RowBox[{"UserFuncfilename", "=", "UserFuncfilenamein"}], ",", "\n", 
        "UserArgNameTag", ",", "UserArgValueTag", ",", "UserArgName", ",", 
        "UserArgValue", ",", "\n", "itag", ",", "s", ",", "output", ",", 
        "output2", ",", "output3"}], "\n", "}"}], ",", "\n", "\n", 
      RowBox[{
       RowBox[{"UserArgNameTag", "=", "\"\<Name\>\""}], ";", "\n", 
       RowBox[{"UserArgValueTag", "=", "\"\<Values\>\""}], ";", "\n", "\n", 
       "\n", 
       RowBox[{"UserArgName", "=", "\"\<unset\>\""}], ";", "\n", 
       RowBox[{"UserArgValue", "=", "\"\<unset\>\""}], ";", "\n", "\n", "\n", 
       
       RowBox[{"(*", 
        RowBox[{
        "read", " ", "config", " ", "file", " ", "line", " ", "by", " ", 
         "line", " ", "into", " ", "list"}], "*)"}], "\n", 
       RowBox[{"s", "=", 
        RowBox[{"OpenRead", "[", 
         RowBox[{"UserFuncDir", "<>", "UserFuncfilename"}], "]"}]}], ";", 
       "\n", 
       RowBox[{"output", "=", 
        RowBox[{"ReadList", "[", 
         RowBox[{"s", ",", "String"}], "]"}]}], ";", "\n", 
       RowBox[{"Close", "[", "s", "]"}], ";", "\n", "\n", 
       RowBox[{"(*", 
        RowBox[{"delete", " ", 
         RowBox[{"comments", ":", " ", 
          RowBox[{
          "with", " ", "\"\<#\>\"", " ", "at", " ", "begining", " ", "of", 
           " ", "line"}]}]}], "*)"}], "\n", 
       RowBox[{"output2", "=", 
        RowBox[{"{", "}"}]}], ";", "\n", 
       RowBox[{"Table", "[", "\n", 
        RowBox[{
         RowBox[{
          RowBox[{"If", "[", 
           RowBox[{
            RowBox[{
             RowBox[{"StringTake", "[", 
              RowBox[{
               RowBox[{"output", "[", 
                RowBox[{"[", "i", "]"}], "]"}], ",", "1"}], "]"}], "!=", 
             "\"\<#\>\""}], ",", 
            RowBox[{"output2", "=", 
             RowBox[{"Append", "[", 
              RowBox[{"output2", ",", 
               RowBox[{"output", "[", 
                RowBox[{"[", "i", "]"}], "]"}]}], " ", "]"}]}]}], " ", "]"}], 
          ";", "\n", "\"\<dummy\>\""}], "\n", ",", 
         RowBox[{"{", 
          RowBox[{"i", ",", "1", ",", 
           RowBox[{"Length", "[", "output", "]"}]}], "}"}]}], "\n", "]"}], 
       ";", "\n", 
       RowBox[{"(*", 
        RowBox[{
        "seperate", " ", "the", " ", "tag", " ", "of", " ", "configure", " ", 
         "file", " ", "and", " ", "arguments", " ", "by", " ", "\"\<:\>\""}], 
        "*)"}], "\n", 
       RowBox[{"output3", "=", 
        RowBox[{"Table", "[", 
         RowBox[{
          RowBox[{"StringSplit", "[", 
           RowBox[{
            RowBox[{"output2", "[", 
             RowBox[{"[", "i", "]"}], "]"}], ",", "\"\<:\>\""}], "]"}], ",", 
          RowBox[{"{", 
           RowBox[{"i", ",", "1", ",", 
            RowBox[{"Length", "[", "output2", "]"}]}], "}"}]}], "]"}]}], ";", 
       "\n", "\n", 
       RowBox[{"(*", 
        RowBox[{
         RowBox[{"check", " ", "tag", " ", "exist"}], ",", " ", 
         RowBox[{"if", " ", "a", " ", "tag", " ", "exist"}], ",", " ", 
         RowBox[{
         "read", " ", "arguments", " ", "corresponding", " ", "to", " ", 
          "that", " ", "tag"}]}], "*)"}], "\n", 
       RowBox[{"(*", 
        RowBox[{"read", " ", "UserArgName"}], "*)"}], "\n", 
       RowBox[{"itag", "=", "1"}], ";", "\n", 
       RowBox[{"If", "[", 
        RowBox[{
         RowBox[{
          RowBox[{"output3", "[", 
           RowBox[{"[", 
            RowBox[{"itag", ",", "1"}], "]"}], "]"}], "==", 
          "UserArgNameTag"}], ",", 
         RowBox[{"UserArgName", "=", 
          RowBox[{"output3", "[", 
           RowBox[{"[", 
            RowBox[{"itag", ",", "2"}], "]"}], "]"}]}]}], " ", "]"}], ";", 
       "\n", 
       RowBox[{"Head", "[", "UserArgName", "]"}], ";", "\n", 
       RowBox[{"(*", 
        RowBox[{"read", " ", "UserArgValue"}], "*)"}], "\n", 
       RowBox[{"itag", "=", 
        RowBox[{"itag", "+", "1"}]}], ";", "\n", 
       RowBox[{"If", "[", 
        RowBox[{
         RowBox[{
          RowBox[{"output3", "[", 
           RowBox[{"[", 
            RowBox[{"itag", ",", "1"}], "]"}], "]"}], "==", 
          "UserArgValueTag"}], ",", 
         RowBox[{"UserArgValue", "=", 
          RowBox[{"output3", "[", 
           RowBox[{"[", 
            RowBox[{"itag", ",", "2"}], "]"}], "]"}]}]}], " ", "]"}], ";", 
       "\n", 
       RowBox[{"Head", "[", "UserArgValue", "]"}], ";", "\n", 
       RowBox[{"UserArgValue", "=", 
        RowBox[{"ReadList", "[", 
         RowBox[{
          RowBox[{"StringToStream", "[", "UserArgValue", "]"}], ",", 
          "Number"}], "]"}]}], ";", "\n", "\n", 
       RowBox[{"{", 
        RowBox[{"UserArgName", ",", "UserArgValue"}], "}"}]}]}], "\n", 
     "]"}]}], "\[IndentingNewLine]", "\[IndentingNewLine]", 
   RowBox[{"(*", "20171116", "*)"}], "\[IndentingNewLine]", 
   RowBox[{"(*", 
    RowBox[{
     RowBox[{
     "read", " ", "user", " ", "define", " ", "function", " ", "or", " ", 
      "data"}], ",", " ", 
     RowBox[{
     "input", " ", "filename", " ", "and", " ", "output", " ", "user", " ", 
      "define", " ", "function"}], ",", " ", 
     RowBox[{
     "the", " ", "function", " ", "coulld", " ", "be", " ", "the", " ", 
      "Mathematica", " ", "format", " ", "function"}]}], "*)"}], 
   "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"ReadUserFunctionV2", "[", 
     RowBox[{"UserFuncDirin_", ",", "UserFuncfilenamein_"}], "]"}], ":=", 
    "\[IndentingNewLine]", 
    RowBox[{"Module", "[", 
     RowBox[{
      RowBox[{"{", 
       RowBox[{
        RowBox[{"UserFuncDir", "=", "UserFuncDirin"}], ",", 
        RowBox[{"UserFuncfilename", "=", "UserFuncfilenamein"}], ",", "\n", 
        "UserArgNameTag", ",", "UserArgFunctionTag", ",", "UserArgName", ",", 
        "UserArgFunction", ",", "\n", "itag", ",", "s", ",", "output", ",", 
        "output2", ",", "output3"}], "\n", "}"}], ",", "\n", "\n", 
      RowBox[{
       RowBox[{"UserArgNameTag", "=", "\"\<Name\>\""}], ";", "\n", 
       RowBox[{"UserArgFunctionTag", "=", "\"\<Function\>\""}], ";", "\n", 
       "\n", "\n", 
       RowBox[{"UserArgName", "=", "\"\<unset\>\""}], ";", "\n", 
       RowBox[{"UserArgFunction", "=", "\"\<unset\>\""}], ";", "\n", "\n", 
       "\n", 
       RowBox[{"(*", 
        RowBox[{
        "read", " ", "config", " ", "file", " ", "line", " ", "by", " ", 
         "line", " ", "into", " ", "list"}], "*)"}], "\n", 
       RowBox[{"s", "=", 
        RowBox[{"OpenRead", "[", 
         RowBox[{"UserFuncDir", "<>", "UserFuncfilename"}], "]"}]}], ";", 
       "\n", 
       RowBox[{"output", "=", 
        RowBox[{"ReadList", "[", 
         RowBox[{"s", ",", "String"}], "]"}]}], ";", "\n", 
       RowBox[{"Close", "[", "s", "]"}], ";", "\n", "\n", 
       RowBox[{"(*", 
        RowBox[{"delete", " ", 
         RowBox[{"comments", ":", " ", 
          RowBox[{
          "with", " ", "\"\<#\>\"", " ", "at", " ", "begining", " ", "of", 
           " ", "line"}]}]}], "*)"}], "\n", 
       RowBox[{"output2", "=", 
        RowBox[{"{", "}"}]}], ";", "\n", 
       RowBox[{"Table", "[", "\n", 
        RowBox[{
         RowBox[{
          RowBox[{"If", "[", 
           RowBox[{
            RowBox[{
             RowBox[{"StringTake", "[", 
              RowBox[{
               RowBox[{"output", "[", 
                RowBox[{"[", "i", "]"}], "]"}], ",", "1"}], "]"}], "!=", 
             "\"\<#\>\""}], ",", 
            RowBox[{"output2", "=", 
             RowBox[{"Append", "[", 
              RowBox[{"output2", ",", 
               RowBox[{"output", "[", 
                RowBox[{"[", "i", "]"}], "]"}]}], " ", "]"}]}]}], " ", "]"}], 
          ";", "\n", "\"\<dummy\>\""}], "\n", ",", 
         RowBox[{"{", 
          RowBox[{"i", ",", "1", ",", 
           RowBox[{"Length", "[", "output", "]"}]}], "}"}]}], "\n", "]"}], 
       ";", "\n", 
       RowBox[{"(*", 
        RowBox[{
        "seperate", " ", "the", " ", "tag", " ", "of", " ", "configure", " ", 
         "file", " ", "and", " ", "arguments", " ", "by", " ", "\"\<:\>\""}], 
        "*)"}], "\n", 
       RowBox[{"output3", "=", 
        RowBox[{"Table", "[", 
         RowBox[{
          RowBox[{"StringSplit", "[", 
           RowBox[{
            RowBox[{"output2", "[", 
             RowBox[{"[", "i", "]"}], "]"}], ",", "\"\<:\>\""}], "]"}], ",", 
          RowBox[{"{", 
           RowBox[{"i", ",", "1", ",", 
            RowBox[{"Length", "[", "output2", "]"}]}], "}"}]}], "]"}]}], ";", 
       "\n", "\n", 
       RowBox[{"(*", 
        RowBox[{
         RowBox[{"check", " ", "tag", " ", "exist"}], ",", " ", 
         RowBox[{"if", " ", "a", " ", "tag", " ", "exist"}], ",", " ", 
         RowBox[{
         "read", " ", "arguments", " ", "corresponding", " ", "to", " ", 
          "that", " ", "tag"}]}], "*)"}], "\n", 
       RowBox[{"(*", 
        RowBox[{"read", " ", "UserArgName"}], "*)"}], "\n", 
       RowBox[{"itag", "=", "1"}], ";", "\n", 
       RowBox[{"If", "[", 
        RowBox[{
         RowBox[{
          RowBox[{"output3", "[", 
           RowBox[{"[", 
            RowBox[{"itag", ",", "1"}], "]"}], "]"}], "==", 
          "UserArgNameTag"}], ",", 
         RowBox[{"UserArgName", "=", 
          RowBox[{"output3", "[", 
           RowBox[{"[", 
            RowBox[{"itag", ",", "2"}], "]"}], "]"}]}]}], " ", "]"}], ";", 
       "\n", 
       RowBox[{"Head", "[", "UserArgName", "]"}], ";", "\n", 
       RowBox[{"(*", 
        RowBox[{"read", " ", "UserArgFunction"}], "*)"}], "\n", 
       RowBox[{"itag", "=", 
        RowBox[{"itag", "+", "1"}]}], ";", "\n", 
       RowBox[{"If", "[", 
        RowBox[{
         RowBox[{
          RowBox[{"output3", "[", 
           RowBox[{"[", 
            RowBox[{"itag", ",", "1"}], "]"}], "]"}], "==", 
          "UserArgFunctionTag"}], ",", 
         RowBox[{"UserArgFunction", "=", 
          RowBox[{"output3", "[", 
           RowBox[{"[", 
            RowBox[{"itag", ",", "2"}], "]"}], "]"}]}]}], " ", "]"}], ";", 
       "\n", 
       RowBox[{"Head", "[", "UserArgFunction", "]"}], ";", "\n", 
       RowBox[{"UserArgFunction", "=", 
        RowBox[{"Read", "[", 
         RowBox[{
          RowBox[{"StringToStream", "[", "UserArgFunction", "]"}], ",", 
          "Expression"}], "]"}]}], ";", "\n", "\n", 
       RowBox[{"{", 
        RowBox[{"UserArgName", ",", "UserArgFunction"}], "}"}]}]}], "\n", 
     "]"}]}], "\[IndentingNewLine]", "\[IndentingNewLine]", 
   RowBox[{"(*", "20171119", "*)"}], "\[IndentingNewLine]", 
   RowBox[{"(*", 
    RowBox[{
     RowBox[{
     "read", " ", "user", " ", "define", " ", "function", " ", "or", " ", 
      "data"}], ",", " ", 
     RowBox[{
     "input", " ", "filename", " ", "and", " ", "output", " ", "user", " ", 
      "define", " ", "function"}], ",", " ", 
     RowBox[{
     "the", " ", "function", " ", "coulld", " ", "be", " ", "the", " ", 
      "Mathematica", " ", "format", " ", "function"}]}], "*)"}], 
   "\[IndentingNewLine]", 
   RowBox[{"(*", 
    RowBox[{
    "the", " ", "expression", " ", "is", " ", "between", " ", 
     "UserArgFunctionBeginTag", " ", "and", " ", "UserArgFunctionEndTag"}], 
    "*)"}], "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"ReadUserFunctionV3", "[", 
     RowBox[{"UserFuncDirin_", ",", "UserFuncfilenamein_"}], "]"}], ":=", 
    "\[IndentingNewLine]", 
    RowBox[{"Module", "[", 
     RowBox[{
      RowBox[{"{", 
       RowBox[{
        RowBox[{"UserFuncDir", "=", "UserFuncDirin"}], ",", 
        RowBox[{"UserFuncfilename", "=", "UserFuncfilenamein"}], ",", "\n", 
        "UserArgNameTag", ",", "UserArgFunctionTag", ",", "UserArgName", ",", 
        "UserArgFunction", ",", "\n", "itag", ",", "s", ",", "output", ",", 
        "output2", ",", "output3", ",", "\[IndentingNewLine]", 
        "UserArgFunctionBeginTag", ",", "UserArgFunctionEndTag"}], "\n", 
       "}"}], ",", "\n", "\n", 
      RowBox[{
       RowBox[{"UserArgNameTag", "=", "\"\<Name\>\""}], ";", "\n", 
       RowBox[{"UserArgFunctionTag", "=", "\"\<Function\>\""}], ";", 
       "\[IndentingNewLine]", 
       RowBox[{"UserArgFunctionBeginTag", "=", "\"\<!Function Begin:\>\""}], 
       ";", "\[IndentingNewLine]", 
       RowBox[{"UserArgFunctionEndTag", "=", "\"\<!Function End\>\""}], ";", 
       "\n", "\n", 
       RowBox[{"(*", "\n", 
        RowBox[{
         RowBox[{"UserArgName", "=", "\"\<unset\>\""}], ";", "\n", 
         RowBox[{"UserArgFunction", "=", "\"\<unset\>\""}], ";", 
         "\[IndentingNewLine]", "\[IndentingNewLine]", 
         RowBox[{"UserArgFunctionBegin", "=", "\"\<unset\>\""}], ";", 
         "\[IndentingNewLine]", 
         RowBox[{"UserArgFunctionEnd", "=", "\"\<unset\>\""}], ";"}], 
        "\[IndentingNewLine]", "*)"}], "\n", "\n", "\n", 
       RowBox[{"(*", 
        RowBox[{
        "read", " ", "config", " ", "file", " ", "line", " ", "by", " ", 
         "line", " ", "into", " ", "list"}], "*)"}], "\n", 
       RowBox[{"s", "=", 
        RowBox[{"OpenRead", "[", 
         RowBox[{"UserFuncDir", "<>", "UserFuncfilename"}], "]"}]}], ";", 
       "\n", 
       RowBox[{"output", "=", 
        RowBox[{"ReadList", "[", 
         RowBox[{"s", ",", "String"}], "]"}]}], ";", "\n", 
       RowBox[{"Close", "[", "s", "]"}], ";", "\n", "\n", 
       RowBox[{"(*", 
        RowBox[{"delete", " ", 
         RowBox[{"comments", ":", " ", 
          RowBox[{
          "with", " ", "\"\<#\>\"", " ", "at", " ", "begining", " ", "of", 
           " ", "line"}]}]}], "*)"}], "\n", 
       RowBox[{"output2", "=", 
        RowBox[{"{", "}"}]}], ";", "\n", 
       RowBox[{"Table", "[", "\n", 
        RowBox[{
         RowBox[{
          RowBox[{"If", "[", 
           RowBox[{
            RowBox[{
             RowBox[{"StringTake", "[", 
              RowBox[{
               RowBox[{"output", "[", 
                RowBox[{"[", "i", "]"}], "]"}], ",", "1"}], "]"}], "!=", 
             "\"\<#\>\""}], ",", 
            RowBox[{"output2", "=", 
             RowBox[{"Append", "[", 
              RowBox[{"output2", ",", 
               RowBox[{"output", "[", 
                RowBox[{"[", "i", "]"}], "]"}]}], " ", "]"}]}]}], " ", "]"}], 
          ";", "\n", "\"\<dummy\>\""}], "\n", ",", 
         RowBox[{"{", 
          RowBox[{"i", ",", "1", ",", 
           RowBox[{"Length", "[", "output", "]"}]}], "}"}]}], "\n", "]"}], 
       ";", "\[IndentingNewLine]", 
       RowBox[{"(*", 
        RowBox[{
        "check", " ", "the", " ", "first", " ", "tag", " ", "is", " ", 
         "\"\<Name:\>\""}], "*)"}], "\[IndentingNewLine]", 
       RowBox[{"If", "[", 
        RowBox[{
         RowBox[{
          RowBox[{
           RowBox[{"StringSplit", "[", 
            RowBox[{
             RowBox[{"output2", "[", 
              RowBox[{"[", "1", "]"}], "]"}], ",", "\"\<:\>\""}], "]"}], "[", 
           
           RowBox[{"[", "1", "]"}], "]"}], "!=", "UserArgNameTag"}], ",", " ", 
         RowBox[{
          RowBox[{"Print", "[", 
           RowBox[{
           "\"\<error, the first tag should be \>\"", ",", "UserArgNameTag", 
            ",", "\"\<:\>\""}], "]"}], ";", 
          RowBox[{"Abort", "[", "]"}]}]}], " ", "]"}], ";", 
       "\[IndentingNewLine]", "\[IndentingNewLine]", 
       RowBox[{"(*", 
        RowBox[{"back", " ", "to", " ", "one", " ", "string"}], "*)"}], 
       "\[IndentingNewLine]", 
       RowBox[{"output3", "=", 
        RowBox[{"StringJoin", "[", "output2", "]"}]}], ";", 
       "\[IndentingNewLine]", 
       RowBox[{"(*", 
        RowBox[{
        "seperate", " ", "string", " ", "by", " ", "user", " ", "name", " ", 
         "tag"}], "*)"}], "\[IndentingNewLine]", 
       RowBox[{"output3", "=", 
        RowBox[{"StringSplit", "[", 
         RowBox[{"output3", ",", 
          RowBox[{"UserArgNameTag", "<>", "\"\<:\>\""}]}], "]"}]}], ";", 
       "\[IndentingNewLine]", 
       RowBox[{"(*", 
        RowBox[{
         RowBox[{
         "check", " ", "after", " ", "user", " ", "name", " ", "tag"}], ",", 
         " ", 
         RowBox[{
         "there", " ", "are", " ", "one", " ", "function", " ", "begin", " ", 
          "tag", " ", "and", " ", "one", " ", "function", " ", "end", " ", 
          "tag"}]}], "*)"}], "\[IndentingNewLine]", 
       RowBox[{
        RowBox[{
         RowBox[{"If", "[", 
          RowBox[{
           RowBox[{
            RowBox[{
             RowBox[{"StringCount", "[", 
              RowBox[{"#", ",", "UserArgFunctionBeginTag"}], "]"}], 
             "\[NotEqual]", "1"}], " ", "||", 
            RowBox[{
             RowBox[{"StringCount", "[", 
              RowBox[{"#", ",", "UserArgFunctionEndTag"}], "]"}], 
             "\[NotEqual]", "1"}]}], " ", ",", 
           RowBox[{
            RowBox[{"Print", "[", 
             RowBox[{
             "\"\<error, the file format should be \>\"", ",", 
              "UserArgNameTag", ",", "\"\<: xxx \>\"", ",", 
              "UserArgFunctionBeginTag", ",", "\"\< xxx \>\"", ",", 
              "UserArgFunctionEndTag"}], "]"}], ";", 
            RowBox[{"Abort", "[", "]"}]}]}], " ", "]"}], "&"}], "/@", 
        "output3"}], ";", "\[IndentingNewLine]", 
       RowBox[{"(*", 
        RowBox[{
         RowBox[{
         "for", " ", "each", " ", "string", " ", "after", " ", "user", " ", 
          "name", " ", "tag"}], ",", " ", 
         RowBox[{
         "seperate", " ", "it", " ", "by", " ", "begin", " ", "function", " ",
           "tag"}]}], "*)"}], "\[IndentingNewLine]", 
       RowBox[{"output3", "=", 
        RowBox[{
         RowBox[{
          RowBox[{"StringSplit", "[", 
           RowBox[{"#", ",", "UserArgFunctionBeginTag"}], "]"}], "&"}], "/@", 
         "output3"}]}], ";", "\[IndentingNewLine]", "\[IndentingNewLine]", 
       RowBox[{"(*", 
        RowBox[{
         RowBox[{"check", " ", "after", " ", "split"}], ",", " ", 
         RowBox[{"there", " ", "is", " ", 
          RowBox[{"{", 
           RowBox[{"username", ",", " ", 
            RowBox[{"function", " ", "description"}]}], "}"}], " ", "output", 
          " ", "for", " ", "each", " ", "user", " ", "name", " ", "tag"}]}], 
        "*)"}], "\[IndentingNewLine]", 
       RowBox[{
        RowBox[{
         RowBox[{"If", "[", 
          RowBox[{
           RowBox[{
            RowBox[{"Length", "[", "#", "]"}], "\[NotEqual]", "2"}], ",", 
           RowBox[{
            RowBox[{"Print", "[", 
             RowBox[{
             "\"\<error, the file format should be \>\"", ",", 
              "UserArgNameTag", ",", "\"\<: xxx \>\"", ",", 
              "UserArgFunctionBeginTag", ",", "\"\< xxx \>\"", ",", 
              "UserArgFunctionEndTag"}], "]"}], ";", 
            RowBox[{"Abort", "[", "]"}]}]}], " ", "]"}], "&"}], "/@", 
        "output3"}], ";", "\[IndentingNewLine]", "\[IndentingNewLine]", 
       RowBox[{"(*", 
        RowBox[{
        "check", " ", "every", " ", "string", " ", "of", " ", "begin", " ", 
         "function", " ", "should", " ", "has", " ", "an", " ", "end", " ", 
         "function", " ", "tag", " ", "at", " ", "the", " ", "tail"}], "*)"}],
        "\[IndentingNewLine]", 
       RowBox[{
        RowBox[{
         RowBox[{"If", "[", "\[IndentingNewLine]", 
          RowBox[{
           RowBox[{
            RowBox[{
             RowBox[{"Length", "[", 
              RowBox[{"StringSplit", "[", 
               RowBox[{
                RowBox[{"#", "[", 
                 RowBox[{"[", "2", "]"}], "]"}], ",", 
                "UserArgFunctionEndTag"}], "]"}], " ", "]"}], "!=", "1"}], 
            " ", "||", " ", 
            RowBox[{
             RowBox[{"StringCount", "[", 
              RowBox[{
               RowBox[{"#", "[", 
                RowBox[{"[", "2", "]"}], "]"}], ",", 
               "UserArgFunctionEndTag"}], "]"}], "!=", "1"}]}], ",", 
           "\[IndentingNewLine]", 
           RowBox[{
            RowBox[{"Print", "[", 
             RowBox[{
             "\"\<error, the file format should be \>\"", ",", 
              "UserArgNameTag", ",", "\"\<: xxx \>\"", ",", 
              "UserArgFunctionBeginTag", ",", "\"\< xxx \>\"", ",", 
              "UserArgFunctionEndTag"}], "]"}], ";", "\[IndentingNewLine]", 
            RowBox[{"Abort", "[", "]"}]}]}], " ", "\[IndentingNewLine]", 
          "]"}], "&"}], "/@", "output3"}], ";", "\[IndentingNewLine]", 
       RowBox[{"(*", 
        RowBox[{
        "delete", " ", "the", " ", "function", " ", "end", " ", "tag", " ", 
         "for", " ", "each", " ", "function", " ", "begin", " ", "content"}], 
        "*)"}], "\[IndentingNewLine]", 
       RowBox[{"Table", "[", 
        RowBox[{
         RowBox[{
          RowBox[{
           RowBox[{"output3", "[", 
            RowBox[{"[", 
             RowBox[{"i", ",", "2"}], "]"}], "]"}], "=", 
           RowBox[{
            RowBox[{"StringSplit", "[", 
             RowBox[{
              RowBox[{"output3", "[", 
               RowBox[{"[", 
                RowBox[{"i", ",", "2"}], "]"}], "]"}], ",", 
              "UserArgFunctionEndTag"}], "]"}], "[", 
            RowBox[{"[", "1", "]"}], "]"}]}], ";", "\"\<dummy\>\""}], ",", 
         RowBox[{"{", 
          RowBox[{"i", ",", 
           RowBox[{"Length", "[", "output3", "]"}]}], "}"}]}], "]"}], ";", 
       "\[IndentingNewLine]", "\[IndentingNewLine]", 
       RowBox[{"(*", 
        RowBox[{
         RowBox[{"for", " ", "each", " ", "user", " ", "name"}], ",", " ", 
         RowBox[{
         "read", " ", "function", " ", "content", " ", "into", " ", 
          "expression", " ", "format"}]}], "*)"}], "\[IndentingNewLine]", 
       RowBox[{"Table", "[", 
        RowBox[{
         RowBox[{
          RowBox[{
           RowBox[{"output3", "[", 
            RowBox[{"[", 
             RowBox[{"i", ",", "2"}], "]"}], "]"}], "=", 
           RowBox[{"Read", "[", 
            RowBox[{
             RowBox[{"StringToStream", "[", 
              RowBox[{"output3", "[", 
               RowBox[{"[", 
                RowBox[{"i", ",", "2"}], "]"}], "]"}], " ", "]"}], ",", 
             "Expression"}], "]"}]}], ";", "\"\<dummy\>\""}], ",", 
         RowBox[{"{", 
          RowBox[{"i", ",", 
           RowBox[{"Length", "[", "output3", "]"}]}], "}"}]}], "]"}], ";", 
       "\[IndentingNewLine]", "\[IndentingNewLine]", 
       RowBox[{"Return", "[", "output3", "]"}], ";", "\n", 
       RowBox[{"(*", 
        RowBox[{
        "seperate", " ", "the", " ", "tag", " ", "of", " ", "configure", " ", 
         "file", " ", "and", " ", "arguments", " ", "by", " ", "\"\<:\>\""}], 
        "*)"}], "\n", 
       RowBox[{"output3", "=", 
        RowBox[{"Table", "[", 
         RowBox[{
          RowBox[{"StringSplit", "[", 
           RowBox[{
            RowBox[{"output2", "[", 
             RowBox[{"[", "i", "]"}], "]"}], ",", "\"\<:\>\""}], "]"}], ",", 
          RowBox[{"{", 
           RowBox[{"i", ",", "1", ",", 
            RowBox[{"Length", "[", "output2", "]"}]}], "}"}]}], "]"}]}], ";", 
       "\[IndentingNewLine]", "\n", "\n", "\n", 
       RowBox[{"(*", 
        RowBox[{
         RowBox[{"check", " ", "tag", " ", "exist"}], ",", " ", 
         RowBox[{"if", " ", "a", " ", "tag", " ", "exist"}], ",", " ", 
         RowBox[{
         "read", " ", "arguments", " ", "corresponding", " ", "to", " ", 
          "that", " ", "tag"}]}], "*)"}], "\n", 
       RowBox[{"(*", 
        RowBox[{"read", " ", "UserArgName"}], "*)"}], "\[IndentingNewLine]", 
       RowBox[{"itag", "=", "1"}], ";", "\n", 
       RowBox[{"If", "[", 
        RowBox[{
         RowBox[{
          RowBox[{"output3", "[", 
           RowBox[{"[", 
            RowBox[{"itag", ",", "1"}], "]"}], "]"}], "==", 
          "UserArgNameTag"}], ",", 
         RowBox[{"UserArgName", "=", 
          RowBox[{"output3", "[", 
           RowBox[{"[", 
            RowBox[{"itag", ",", "2"}], "]"}], "]"}]}]}], " ", "]"}], ";", 
       "\n", 
       RowBox[{"Head", "[", "UserArgName", "]"}], ";", "\n", 
       RowBox[{"(*", 
        RowBox[{"read", " ", "UserArgFunction"}], "*)"}], "\n", 
       RowBox[{"itag", "=", 
        RowBox[{"itag", "+", "1"}]}], ";", "\n", 
       RowBox[{"If", "[", 
        RowBox[{
         RowBox[{
          RowBox[{"output3", "[", 
           RowBox[{"[", 
            RowBox[{"itag", ",", "1"}], "]"}], "]"}], "==", 
          "UserArgFunctionTag"}], ",", 
         RowBox[{"UserArgFunction", "=", 
          RowBox[{"output3", "[", 
           RowBox[{"[", 
            RowBox[{"itag", ",", "2"}], "]"}], "]"}]}]}], " ", "]"}], ";", 
       "\n", 
       RowBox[{"Head", "[", "UserArgFunction", "]"}], ";", "\n", 
       RowBox[{"UserArgFunction", "=", 
        RowBox[{"Read", "[", 
         RowBox[{
          RowBox[{"StringToStream", "[", "UserArgFunction", "]"}], ",", 
          "Expression"}], "]"}]}], ";", "\n", 
       RowBox[{"(*", "\n", 
        RowBox[{"{", 
         RowBox[{"UserArgName", ",", "UserArgFunction"}], "}"}], 
        "\[IndentingNewLine]", "*)"}], "\[IndentingNewLine]", 
       RowBox[{"(*", 
        RowBox[{"output", " ", "format"}], "*)"}], "\[IndentingNewLine]", 
       RowBox[{"(*", 
        RowBox[{"{", 
         RowBox[{
          RowBox[{"{", 
           RowBox[{
            RowBox[{"user", " ", "name", " ", "1"}], ",", " ", 
            RowBox[{"user", " ", "function", " ", "1"}]}], "}"}], ",", " ", 
          RowBox[{
           RowBox[{"{", 
            RowBox[{
             RowBox[{"user", " ", "name", " ", "2"}], ",", " ", 
             RowBox[{"user", " ", "function", " ", "2"}]}], "}"}], "..."}]}], 
         "}"}], "*)"}], "\[IndentingNewLine]", "output3"}]}], "\n", 
     "]"}]}]}]}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{{3.719206361352789*^9, 3.719206370853891*^9}, {
  3.7192064011377983`*^9, 3.719206407240177*^9}, {3.719206445664157*^9, 
  3.719206528792143*^9}, {3.719206588535296*^9, 3.719206758197659*^9}, {
  3.719206835269075*^9, 3.719206860655794*^9}, {3.719206926062944*^9, 
  3.7192069340405273`*^9}, {3.719207018158044*^9, 3.719207039243352*^9}, {
  3.719207163488001*^9, 3.719207209035729*^9}, {3.719224045549221*^9, 
  3.719224063685758*^9}, {3.719224307464649*^9, 3.7192243076738*^9}, {
  3.7198236826823683`*^9, 3.7198237530916862`*^9}, {3.7201134649713163`*^9, 
  3.7201134662050943`*^9}, {3.720124989276997*^9, 3.72012503186486*^9}}]
}, Open  ]]
}, Open  ]],

Cell[CellGroupData[{

Cell["plot class", "Chapter"],

Cell[CellGroupData[{

Cell["print function: print info of experiment in a PDFset", "Section"],

Cell[BoxData[
 RowBox[{
  RowBox[{"(*", 
   RowBox[{
    RowBox[{"20170228", ":", " ", 
     RowBox[{
     "it", " ", "seems", " ", "subsetQ", " ", "does", " ", "not", " ", "work",
       " ", "at", " ", "10.2", " ", "version", " ", 
      RowBox[{"(", 
       RowBox[{"curie", ",", " ", "rubin"}], ")"}]}]}], ",", " ", 
    RowBox[{"before", " ", "solving", " ", "it"}], ",", " ", 
    RowBox[{
     RowBox[{"don", "'"}], "t", " ", "run", " ", "it"}]}], "*)"}], "\n", 
  RowBox[{"(*", 
   RowBox[{
    RowBox[{"don", "'"}], "t", " ", "initialize", " ", "it"}], "*)"}], "\n", 
  RowBox[{"(*", 
   RowBox[{"8", "_", "2", " ", 
    RowBox[{"version", ":", " ", 
     RowBox[{"delete", " ", "them"}]}]}], "*)"}], "\n", "\n"}]], "Input",
 InitializationCell->True],

Cell[BoxData[""], "Input"],

Cell[BoxData[""], "Input"]
}, Open  ]],

Cell[CellGroupData[{

Cell["class for general setting of various kinds of plots", "Section"],

Cell[CellGroupData[{

Cell["tools for plots class", "Subsection",
 CellChangeTimes->{{3.720661796099835*^9, 3.720661803155414*^9}}],

Cell[BoxData[
 RowBox[{
  RowBox[{"(*", 
   RowBox[{
   "this", " ", "function", " ", "return", " ", "markers", " ", "and", " ", 
    "their", " ", "normalized", " ", "size", " ", "by", " ", 
    RowBox[{"{", 
     RowBox[{"shapes", ",", "sizes"}], "}"}]}], "*)"}], "\[IndentingNewLine]", 
  RowBox[{"(*", 
   RowBox[{
    RowBox[{"shapes", " ", "=", " ", 
     RowBox[{"{", 
      RowBox[{"shape1", ",", "shape2", ",", "..."}], "}"}]}], ",", " ", 
    RowBox[{"sizes", " ", "=", " ", 
     RowBox[{"{", 
      RowBox[{"size1", ",", "size2", ",", "..."}], "}"}]}]}], "*)"}], 
  "\[IndentingNewLine]", 
  RowBox[{
   RowBox[{"PlotMarkerList", "[", "]"}], ":=", "\[IndentingNewLine]", 
   RowBox[{"Module", "[", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{
      "shapes0", ",", "shapes1", ",", "shapes2", ",", "shapes3", ",", 
       "sizes0", ",", "sizes1", ",", "sizes2", ",", "sizes3"}], "}"}], ",", 
     "\[IndentingNewLine]", 
     RowBox[{
      RowBox[{"shapes1", "=", 
       RowBox[{"{", 
        RowBox[{
        "\[FivePointedStar]", ",", "\[ClubSuit]", ",", "\[HeartSuit]", ",", 
         "\[SpadeSuit]", ",", "\[EighthNote]", ",", "\[Sharp]", ",", "\[Yen]",
          ",", "\[Section]", ",", "\[BeamedSixteenthNote]", ",", 
         "\[EmptySet]", ",", "\[Earth]", ",", "\"\<\[Times]\>\"", ",", 
         "\"\<\[CircleMinus]\>\"", ",", "\"\<\[Superset]\>\"", ",", 
         "\"\<>\>\"", ",", "\"\<<\>\"", ",", "\[LightBulb]", ",", "\[Euro]", 
         ",", "\[Cent]", ",", "\[Flat]"}], "}"}]}], ";", 
      "\[IndentingNewLine]", 
      RowBox[{"sizes1", "=", 
       RowBox[{"{", 
        RowBox[{
        "800", ",", "800", ",", "800", ",", "800", ",", "800", ",", "1000", 
         ",", "1000", ",", "1000", ",", "800", ",", "900", ",", "900", ",", 
         "1200", ",", "800", ",", "800", ",", "1000", ",", "1000", ",", 
         "1000", ",", "1000", ",", "1000", ",", "1200"}], "}"}]}], ";", 
      "\[IndentingNewLine]", 
      RowBox[{"shapes2", "=", 
       RowBox[{"{", 
        RowBox[{
        "\"\<\[FilledCircle]\>\"", ",", "\"\<\[FilledSquare]\>\"", ",", 
         "\"\<\[FilledDiamond]\>\"", ",", "\"\<\[FilledUpTriangle]\>\"", ",", 
         "\"\<\[FilledDownTriangle]\>\"", ",", "\"\<\[EmptyCircle]\>\"", ",", 
         "\"\<\[EmptySquare]\>\"", ",", "\"\<\[EmptyDiamond]\>\"", ",", 
         "\"\<\[EmptyUpTriangle]\>\"", ",", "\"\<\[EmptyDownTriangle]\>\""}], 
        "}"}]}], ";", "\[IndentingNewLine]", 
      RowBox[{"sizes2", "=", 
       RowBox[{"{", 
        RowBox[{
        "750.0", ",", "1000.0", ",", "900.0", ",", "850.0", ",", "850.0", ",",
          "750.0", ",", "1000.0", ",", "900.0", ",", "850.0", ",", "850.0"}], 
        "}"}]}], ";", "\[IndentingNewLine]", 
      RowBox[{"shapes0", "=", 
       RowBox[{"{", 
        RowBox[{
        "\[CloverLeaf]", ",", "\[Currency]", ",", "\[DownExclamation]", ",", 
         "\[Checkmark]", ",", "\"\<\[DoubleRightArrow]\>\"", ",", 
         "\"\<\[DoubleLeftArrow]\>\"", ",", "\"\<\[DoubleUpArrow]\>\"", ",", 
         "\"\<\[DoubleDownArrow]\>\"", ",", "\"\<\[SquareSubset]\>\"", ",", 
         "\"\<\[SquareSuperset]\>\"", ",", "\"\<\[NotTilde]\>\"", ",", 
         "\"\<\[NotEqual]\>\"", ",", "\"\<\[PartialD]\>\"", ",", 
         "\"\<\[Intersection]\>\"", ",", "\"\<\[Infinity]\>\"", ",", 
         "\"\<\[CapitalDifferentialD]\>\""}], "}"}]}], ";", 
      "\[IndentingNewLine]", 
      RowBox[{"sizes0", "=", 
       RowBox[{"{", 
        RowBox[{
        "1000", ",", "1200", ",", "1200", ",", "1000", ",", "1000", ",", 
         "1000", ",", "900", ",", "900", ",", "800", ",", "800", ",", "1400", 
         ",", "1200", ",", "900", ",", "800", ",", "1000", ",", "800"}], 
        "}"}]}], ";", "\[IndentingNewLine]", "\[IndentingNewLine]", 
      RowBox[{"(*", 
       RowBox[{
       "check", " ", "size", " ", "and", " ", "shape", " ", "list", " ", 
        "Length", " ", "are", " ", "the", " ", "same"}], "*)"}], 
      "\[IndentingNewLine]", 
      RowBox[{"If", "[", 
       RowBox[{
        RowBox[{
         RowBox[{"Length", "[", "shapes0", "]"}], "\[NotEqual]", 
         RowBox[{"Length", "[", "sizes0", "]"}]}], ",", 
        RowBox[{
         RowBox[{"Print", "[", 
          RowBox[{
          "\"\<error, #shapes0 and #sizes0 are not the same, \
{#shapes0,#sizes0} = \>\"", ",", 
           RowBox[{"{", 
            RowBox[{"shapes0", ",", "sizes0"}], "}"}]}], "]"}], ";", 
         RowBox[{"Abort", "[", "]"}]}]}], " ", "]"}], ";", 
      "\[IndentingNewLine]", 
      RowBox[{"If", "[", 
       RowBox[{
        RowBox[{
         RowBox[{"Length", "[", "shapes1", "]"}], "\[NotEqual]", 
         RowBox[{"Length", "[", "sizes1", "]"}]}], ",", 
        RowBox[{
         RowBox[{"Print", "[", 
          RowBox[{
          "\"\<error, #shapes1 and #sizes1 are not the same, \
{#shapes1,#sizes2} = \>\"", ",", 
           RowBox[{"{", 
            RowBox[{"shapes1", ",", "sizes1"}], "}"}]}], "]"}], ";", 
         RowBox[{"Abort", "[", "]"}]}]}], " ", "]"}], ";", 
      "\[IndentingNewLine]", 
      RowBox[{"If", "[", 
       RowBox[{
        RowBox[{
         RowBox[{"Length", "[", "shapes2", "]"}], "\[NotEqual]", 
         RowBox[{"Length", "[", "sizes2", "]"}]}], ",", 
        RowBox[{
         RowBox[{"Print", "[", 
          RowBox[{
          "\"\<error, #shapes2 and #sizes2 are not the same, \
{#shapes2,#sizes2} = \>\"", ",", 
           RowBox[{"{", 
            RowBox[{"shapes2", ",", "sizes2"}], "}"}]}], "]"}], ";", 
         RowBox[{"Abort", "[", "]"}]}]}], " ", "]"}], ";", 
      "\[IndentingNewLine]", 
      RowBox[{"shapes3", "=", 
       RowBox[{"Join", "[", 
        RowBox[{"shapes2", ",", "shapes1", ",", "shapes0"}], "]"}]}], ";", 
      "\[IndentingNewLine]", 
      RowBox[{"sizes3", "=", 
       RowBox[{"Join", "[", 
        RowBox[{"sizes2", ",", "sizes1", ",", "sizes0"}], "]"}]}], ";", 
      "\[IndentingNewLine]", "\[IndentingNewLine]", 
      RowBox[{"(*", "return", "*)"}], "\[IndentingNewLine]", 
      RowBox[{"{", 
       RowBox[{"shapes3", ",", "sizes3"}], "}"}]}]}], "\[IndentingNewLine]", 
    "]"}]}]}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{{3.720661867160273*^9, 3.720661867776116*^9}}],

Cell[BoxData[
 RowBox[{
  RowBox[{"(*", 
   RowBox[{
    RowBox[{"input", ":", " ", "RGB"}], "=", 
    RowBox[{
    "\"\<R\>\"", " ", "or", " ", "\"\<G\>\"", " ", "or", " ", "\"\<B\>\"", 
     " ", "or", " ", "\"\<Brown\>\"", " ", "or", " ", "\"\<Gray\>\""}]}], 
   "*)"}], "\n", 
  RowBox[{"(*", 
   RowBox[{
    RowBox[{"output", ":", " ", 
     RowBox[{"red", " ", 
      RowBox[{"(", 
       RowBox[{"red", ",", " ", 
        RowBox[{"deep", " ", "red"}], ",", " ", 
        RowBox[{
         RowBox[{"deep", " ", "orange"}], "..."}]}], ")"}]}]}], ",", " ", 
    "green", ",", " ", "blue", ",", " ", "blown", ",", " ", 
    RowBox[{"gray", " ", "color", " ", "lists"}]}], "*)"}], "\n", 
  RowBox[{
   RowBox[{"colorset", "[", "RGBin_", "]"}], ":=", "\n", 
   RowBox[{"Module", "[", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{
       RowBox[{"RGB", "=", "RGBin"}], ",", "colorset", ",", "Rcolor", ",", 
       "Gcolor", ",", "Bcolor", ",", "Graycolor", ",", "Browncolor", ",", 
       "output"}], "}"}], ",", "\n", 
     RowBox[{
      RowBox[{"colorset", "=", 
       RowBox[{"ColorData", "[", 
        RowBox[{"\"\<WebSafe\>\"", ",", "\"\<ColorList\>\""}], "]"}]}], ";", 
      "\n", 
      RowBox[{"Rcolor", "=", 
       RowBox[{"{", 
        RowBox[{
         RowBox[{"colorset", "[", 
          RowBox[{"[", "12", "]"}], "]"}], ",", 
         RowBox[{"colorset", "[", 
          RowBox[{"[", "14", "]"}], "]"}], ",", 
         RowBox[{"colorset", "[", 
          RowBox[{"[", "32", "]"}], "]"}], ",", 
         RowBox[{"colorset", "[", 
          RowBox[{"[", "18", "]"}], "]"}], ",", 
         RowBox[{"colorset", "[", 
          RowBox[{"[", "23", "]"}], "]"}], ",", 
         RowBox[{"colorset", "[", 
          RowBox[{"[", "29", "]"}], "]"}], ",", 
         RowBox[{"colorset", "[", 
          RowBox[{"[", "36", "]"}], "]"}], ",", 
         RowBox[{"colorset", "[", 
          RowBox[{"[", "22", "]"}], "]"}], ",", "Red", ",", 
         RowBox[{"colorset", "[", 
          RowBox[{"[", 
           RowBox[{
            RowBox[{"43", "*", "1"}], "+", "29"}], "]"}], "]"}]}], "}"}]}], 
      ";", "\n", 
      RowBox[{"Gcolor", "=", 
       RowBox[{"{", 
        RowBox[{
         RowBox[{"colorset", "[", 
          RowBox[{"[", 
           RowBox[{
            RowBox[{"43", "*", "4"}], "+", "12"}], "]"}], "]"}], ",", 
         RowBox[{"colorset", "[", 
          RowBox[{"[", 
           RowBox[{
            RowBox[{"43", "*", "4"}], "+", "14"}], "]"}], "]"}], ",", 
         RowBox[{"colorset", "[", 
          RowBox[{"[", 
           RowBox[{
            RowBox[{"43", "*", "4"}], "+", "20"}], "]"}], "]"}], ",", 
         RowBox[{"colorset", "[", 
          RowBox[{"[", 
           RowBox[{
            RowBox[{"43", "*", "4"}], "+", "26"}], "]"}], "]"}], ",", 
         RowBox[{"colorset", "[", 
          RowBox[{"[", 
           RowBox[{
            RowBox[{"43", "*", "4"}], "+", "32"}], "]"}], "]"}], ",", 
         RowBox[{"colorset", "[", 
          RowBox[{"[", 
           RowBox[{
            RowBox[{"43", "*", "2"}], "+", "40"}], "]"}], "]"}], ",", 
         RowBox[{"colorset", "[", 
          RowBox[{"[", "41", "]"}], "]"}], ",", "Green"}], "}"}]}], ";", "\n", 
      RowBox[{"Bcolor", "=", 
       RowBox[{"{", 
        RowBox[{
         RowBox[{"colorset", "[", 
          RowBox[{"[", 
           RowBox[{
            RowBox[{"43", "*", "4"}], "+", "3"}], "]"}], "]"}], ",", 
         RowBox[{"colorset", "[", 
          RowBox[{"[", 
           RowBox[{
            RowBox[{"43", "*", "4"}], "+", "9"}], "]"}], "]"}], ",", 
         RowBox[{"colorset", "[", 
          RowBox[{"[", 
           RowBox[{
            RowBox[{"43", "*", "4"}], "+", "15"}], "]"}], "]"}], ",", 
         RowBox[{"colorset", "[", 
          RowBox[{"[", 
           RowBox[{
            RowBox[{"43", "*", "4"}], "+", "22"}], "]"}], "]"}], ",", 
         RowBox[{"colorset", "[", 
          RowBox[{"[", "43", "]"}], "]"}], ",", 
         RowBox[{"colorset", "[", 
          RowBox[{"[", 
           RowBox[{
            RowBox[{"43", "*", "2"}], "+", "7"}], "]"}], "]"}], ",", 
         RowBox[{"colorset", "[", 
          RowBox[{"[", 
           RowBox[{
            RowBox[{"43", "*", "2"}], "+", "13"}], "]"}], "]"}], ",", 
         RowBox[{"colorset", "[", 
          RowBox[{"[", 
           RowBox[{
            RowBox[{"43", "*", "1"}], "+", "30"}], "]"}], "]"}], ",", 
         "Blue"}], "}"}]}], ";", "\n", 
      RowBox[{"Graycolor", "=", 
       RowBox[{"{", 
        RowBox[{
         RowBox[{"colorset", "[", 
          RowBox[{"[", 
           RowBox[{
            RowBox[{"43", "*", "1"}], "+", "1"}], "]"}], "]"}], ",", 
         RowBox[{"colorset", "[", 
          RowBox[{"[", 
           RowBox[{
            RowBox[{"43", "*", "2"}], "+", "1"}], "]"}], "]"}], ",", 
         RowBox[{"colorset", "[", 
          RowBox[{"[", 
           RowBox[{
            RowBox[{"43", "*", "3"}], "+", "1"}], "]"}], "]"}], ",", 
         RowBox[{"colorset", "[", 
          RowBox[{"[", 
           RowBox[{
            RowBox[{"43", "*", "4"}], "+", "1"}], "]"}], "]"}], ",", "Gray"}],
         "}"}]}], ";", "\n", 
      RowBox[{"Browncolor", "=", 
       RowBox[{"{", 
        RowBox[{
         RowBox[{"colorset", "[", 
          RowBox[{"[", 
           RowBox[{
            RowBox[{"43", "*", "2"}], "+", "9"}], "]"}], "]"}], ",", 
         RowBox[{"colorset", "[", 
          RowBox[{"[", 
           RowBox[{
            RowBox[{"43", "*", "1"}], "+", "9"}], "]"}], "]"}], ",", 
         RowBox[{"colorset", "[", 
          RowBox[{"[", 
           RowBox[{
            RowBox[{"43", "*", "3"}], "+", "9"}], "]"}], "]"}], ",", 
         RowBox[{"colorset", "[", 
          RowBox[{"[", 
           RowBox[{
            RowBox[{"43", "*", "2"}], "+", "16"}], "]"}], "]"}], ",", 
         RowBox[{"colorset", "[", 
          RowBox[{"[", 
           RowBox[{
            RowBox[{"43", "*", "2"}], "+", "22"}], "]"}], "]"}], ",", 
         "Brown"}], "}"}]}], ";", "\n", "\n", 
      RowBox[{"output", "=", "\n", 
       RowBox[{"Switch", "[", "\n", 
        RowBox[{
        "RGB", ",", "\n", "\"\<R\>\"", ",", "Rcolor", ",", "\n", "\"\<G\>\"", 
         ",", "Gcolor", ",", "\n", "\"\<B\>\"", ",", "Bcolor", ",", "\n", 
         "\"\<Gray\>\"", ",", "Graycolor", ",", "\n", "\"\<Brown\>\"", ",", 
         "Browncolor", ",", "\n", "_", ",", "\n", 
         RowBox[{
         "Print", "[", 
          "\"\<error, input should be \\\"R\\\" or \\\"G\\\" or \\\"B\\\" or \
\\\"Brown\\\" or \\\"Gray\\\"\>\"", "]"}]}], "\n", "]"}]}], ";", "\n", "\n", 
      "output"}]}], "\n", "\n", "]"}]}]}]], "Code"],

Cell[BoxData[
 RowBox[{
  RowBox[{"(*", 
   RowBox[{
   "classify", " ", "data", " ", "by", " ", "groups", " ", "of", " ", 
    "ExptID", " ", "lists"}], "*)"}], "\[IndentingNewLine]", 
  RowBox[{"(*", "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{
     RowBox[{
      RowBox[{"data", ":", " ", 
       RowBox[{
        RowBox[{"{", 
         RowBox[{"data1", ",", "data2", ",", "data3", ",", "..."}], "}"}], 
        "\[IndentingNewLine]", "dataExptID"}]}], "=", 
      RowBox[{
       RowBox[{"{", 
        RowBox[{"ID1", ",", "ID2", ",", "..."}], "}"}], " ", "corresponding", 
       " ", "to", " ", 
       RowBox[{"{", 
        RowBox[{"data1", ",", "data2", ",", "..."}], "}"}], 
       "\[IndentingNewLine]", 
       RowBox[{"grouplists", ":", " ", 
        RowBox[{"{", 
         RowBox[{"group1", ",", "group2", ",", "group2", ",", "..."}], 
         "}"}]}]}]}], ";", " ", 
     RowBox[{"groupN", " ", "=", " ", 
      RowBox[{
       RowBox[{"{", 
        RowBox[{"element1", ",", "element2", ",", "..."}], "}"}], 
       "\[IndentingNewLine]", "output", " ", "the", " ", "subgroups"}]}]}], 
    ",", " ", 
    RowBox[{
    "if", " ", "the", " ", "Expt", " ", "ID", " ", "for", " ", "a", " ", 
     "data", " ", "belong", " ", "to", " ", "groupN"}], ",", " ", 
    RowBox[{
     RowBox[{
     "add", " ", "the", " ", "data", " ", "in", " ", "that", " ", "subgroup", 
      " ", "\[IndentingNewLine]", 
      RowBox[{"e", ".", "g", "."}]}], ":", "\[IndentingNewLine]", 
     RowBox[{"if", " ", "IDN", " ", "belong", " ", "to", " ", "elementM"}]}], 
    ",", " ", 
    RowBox[{
     RowBox[{
     "them", " ", "put", " ", "dataN", " ", "in", " ", "the", " ", "M"}], "-", 
     RowBox[{"th", " ", "subgroup"}]}]}], "\[IndentingNewLine]", "*)"}], 
  "\[IndentingNewLine]", 
  RowBox[{
   RowBox[{
    RowBox[{"ClassifyByGroups", "[", 
     RowBox[{
     "datain_", ",", "dataExptIDin_", ",", "groupnamesin_", ",", 
      "grouplistsin_"}], "]"}], ":=", "\[IndentingNewLine]", 
    RowBox[{"Module", "[", 
     RowBox[{
      RowBox[{"{", 
       RowBox[{
        RowBox[{"data", "=", "datain"}], ",", 
        RowBox[{"dataExptID", "=", "dataExptIDin"}], ",", 
        RowBox[{"groupnames", "=", "groupnamesin"}], ",", 
        RowBox[{"grouplists", "=", "grouplistsin"}], ",", "subgroupindexlist",
         ",", "otherindexlist", ",", "groupExptIDs", ",", "groupdata"}], 
       "}"}], ",", "\[IndentingNewLine]", 
      RowBox[{"(*", 
       RowBox[{
       "check", " ", "data", " ", "and", " ", "dataExptID", " ", "have", " ", 
        "the", " ", "same", " ", "Length"}], " ", "*)"}], 
      "\[IndentingNewLine]", 
      RowBox[{
       RowBox[{"If", "[", "\[IndentingNewLine]", 
        RowBox[{
         RowBox[{
          RowBox[{"Length", "[", "data", "]"}], "\[NotEqual]", 
          RowBox[{"Length", "[", "dataExptID", "]"}]}], ",", 
         "\[IndentingNewLine]", 
         RowBox[{
          RowBox[{"Print", "[", 
           RowBox[{
           "\"\<error, data and dataExptID should have the same # of \
elements, {#data,#dataExptID} = \>\"", ",", 
            RowBox[{"{", 
             RowBox[{
              RowBox[{"Length", "[", "data", "]"}], ",", 
              RowBox[{"Length", "[", "dataExptID", "]"}]}], "}"}]}], "]"}], 
          ";", "\[IndentingNewLine]", 
          RowBox[{"Abort", "[", "]"}]}]}], " ", "\[IndentingNewLine]", "]"}], 
       ";", "\[IndentingNewLine]", 
       RowBox[{"(*", 
        RowBox[{
        "check", " ", "groupnames", " ", "and", " ", "grouplists", " ", 
         "have", " ", "the", " ", "same", " ", "Length"}], " ", "*)"}], 
       "\[IndentingNewLine]", 
       RowBox[{"If", "[", "\[IndentingNewLine]", 
        RowBox[{
         RowBox[{
          RowBox[{"Length", "[", "groupnames", "]"}], "\[NotEqual]", 
          RowBox[{"Length", "[", "grouplists", "]"}]}], ",", 
         "\[IndentingNewLine]", 
         RowBox[{
          RowBox[{"Print", "[", 
           RowBox[{
           "\"\<error, groupnames and grouplists should have the same # of \
elements, {#groupnames,#grouplists} = \>\"", ",", 
            RowBox[{"{", 
             RowBox[{
              RowBox[{"Length", "[", "groupnames", "]"}], ",", 
              RowBox[{"Length", "[", "grouplists", "]"}]}], "}"}]}], "]"}], 
          ";", "\[IndentingNewLine]", 
          RowBox[{"Abort", "[", "]"}]}]}], " ", "\[IndentingNewLine]", "]"}], 
       ";", "\[IndentingNewLine]", 
       RowBox[{"(*", 
        RowBox[{
        "check", " ", "input", " ", "subgroups", " ", "do", " ", "not", " ", 
         "overlap"}], "*)"}], "\[IndentingNewLine]", 
       RowBox[{"If", "[", 
        RowBox[{
         RowBox[{
          RowBox[{"Length", "[", 
           RowBox[{"Union", "[", 
            RowBox[{"Flatten", "[", "grouplists", "]"}], " ", "]"}], " ", 
           "]"}], "\[NotEqual]", 
          RowBox[{"Length", "[", 
           RowBox[{"Flatten", "[", "grouplists", "]"}], " ", "]"}]}], ",", 
         RowBox[{
          RowBox[{"Print", "[", 
           RowBox[{
           "\"\<error, some elements are in multiple subgroups, grouplist: \>\
\"", ",", "grouplists"}], "]"}], ";", 
          RowBox[{"Abort", "[", "]"}]}]}], " ", "]"}], ";", 
       "\[IndentingNewLine]", "\[IndentingNewLine]", 
       RowBox[{"(*", 
        RowBox[{
        "classify", " ", "data", " ", "by", " ", "each", " ", "subgroup"}], 
        "*)"}], "\[IndentingNewLine]", 
       RowBox[{"subgroupindexlist", "=", "\[IndentingNewLine]", 
        RowBox[{"Table", "[", "\[IndentingNewLine]", 
         RowBox[{"(*", 
          RowBox[{
           RowBox[{"if", " ", "the", " ", 
            RowBox[{"dataExptID", "[", 
             RowBox[{"[", "i", "]"}], "]"}], " ", "belong", " ", "to", " ", 
            "a", " ", "subgroup"}], ",", " ", 
           RowBox[{
           "add", " ", "it", " ", "to", " ", "this", " ", "subgroup"}]}], 
          "*)"}], "\[IndentingNewLine]", 
         RowBox[{
          RowBox[{"Select", "[", 
           RowBox[{
            RowBox[{"Range", "[", 
             RowBox[{"Length", "[", "dataExptID", "]"}], " ", "]"}], ",", 
            RowBox[{
             RowBox[{
              RowBox[{"Length", "[", 
               RowBox[{"Intersection", "[", 
                RowBox[{
                 RowBox[{"{", 
                  RowBox[{"dataExptID", "[", 
                   RowBox[{"[", "#", "]"}], "]"}], "}"}], ",", 
                 RowBox[{"grouplists", "[", 
                  RowBox[{"[", "igroup", "]"}], "]"}]}], " ", "]"}], " ", 
               "]"}], "\[Equal]", "1"}], "&"}]}], " ", "]"}], ",", 
          "\[IndentingNewLine]", 
          RowBox[{"{", 
           RowBox[{"igroup", ",", 
            RowBox[{"Length", "[", "grouplists", "]"}]}], "}"}]}], 
         "\[IndentingNewLine]", "]"}]}], ";", "\[IndentingNewLine]", 
       RowBox[{"otherindexlist", "=", 
        RowBox[{"Complement", "[", 
         RowBox[{
          RowBox[{"Range", "[", 
           RowBox[{"Length", "[", "dataExptID", "]"}], " ", "]"}], ",", 
          RowBox[{"Flatten", "[", "subgroupindexlist", "]"}]}], " ", "]"}]}], 
       ";", "\[IndentingNewLine]", "\[IndentingNewLine]", 
       RowBox[{"(*", 
        RowBox[{"add", " ", "the", " ", "other", " ", "group", " ", 
         RowBox[{"(", 
          RowBox[{"not", " ", "belong", " ", "to", " ", "anyone"}], ")"}]}], 
        "*)"}], "\[IndentingNewLine]", 
       RowBox[{"subgroupindexlist", "=", 
        RowBox[{"Append", "[", 
         RowBox[{"subgroupindexlist", ",", "otherindexlist"}], "]"}]}], ";", 
       "\[IndentingNewLine]", 
       RowBox[{"(*", 
        RowBox[{
        "check", " ", "all", " ", "elements", " ", "after", " ", "being", " ",
          "classified", " ", "are", " ", "still", " ", "exist"}], "*)"}], 
       "\[IndentingNewLine]", 
       RowBox[{"If", "[", "\[IndentingNewLine]", 
        RowBox[{
         RowBox[{
          RowBox[{"Length", "[", 
           RowBox[{"subgroupindexlist", "//", "Flatten"}], "]"}], 
          "\[NotEqual]", 
          RowBox[{"Length", "[", "dataExptID", "]"}]}], ",", 
         "\[IndentingNewLine]", 
         RowBox[{
          RowBox[{"Print", "[", 
           RowBox[{
           "\"\<error, elements of unclassified data and elements of \
classified data do not match, {#origin,#classified} = \>\"", ",", 
            RowBox[{"{", 
             RowBox[{
              RowBox[{"Length", "[", "dataExptID", "]"}], ",", 
              RowBox[{"Length", "[", 
               RowBox[{"subgroupindexlist", "//", "Flatten"}], "]"}]}], 
             "}"}]}], "]"}], ";", "\[IndentingNewLine]", 
          RowBox[{"Abort", "[", "]"}]}]}], " ", "\[IndentingNewLine]", "]"}], 
       ";", "\[IndentingNewLine]", "\[IndentingNewLine]", 
       RowBox[{"(*", 
        RowBox[{
        "construct", " ", "new", " ", "data", " ", "by", " ", "categories"}], 
        "*)"}], "\[IndentingNewLine]", 
       RowBox[{"groupnames", "=", 
        RowBox[{"groupnames", "~", "Join", "~", 
         RowBox[{"{", "\"\<Others\>\"", "}"}]}]}], ";", "\[IndentingNewLine]", 
       RowBox[{"groupExptIDs", "=", "\[IndentingNewLine]", 
        RowBox[{"Table", "[", "\[IndentingNewLine]", 
         RowBox[{
          RowBox[{"dataExptID", "[", 
           RowBox[{"[", 
            RowBox[{"subgroupindexlist", "[", 
             RowBox[{"[", "igroup", "]"}], "]"}], " ", "]"}], "]"}], ",", 
          "\[IndentingNewLine]", 
          RowBox[{"{", 
           RowBox[{"igroup", ",", 
            RowBox[{
             RowBox[{"Length", "[", "grouplists", "]"}], "+", "1"}]}], 
           "}"}]}], "\[IndentingNewLine]", "]"}]}], ";", 
       "\[IndentingNewLine]", 
       RowBox[{"groupdata", "=", "\[IndentingNewLine]", 
        RowBox[{"Table", "[", "\[IndentingNewLine]", 
         RowBox[{
          RowBox[{"data", "[", 
           RowBox[{"[", 
            RowBox[{"subgroupindexlist", "[", 
             RowBox[{"[", "igroup", "]"}], "]"}], " ", "]"}], "]"}], ",", 
          "\[IndentingNewLine]", 
          RowBox[{"{", 
           RowBox[{"igroup", ",", 
            RowBox[{
             RowBox[{"Length", "[", "grouplists", "]"}], "+", "1"}]}], 
           "}"}]}], "\[IndentingNewLine]", "]"}]}], ";", 
       "\[IndentingNewLine]", "\[IndentingNewLine]", 
       RowBox[{"(*", "output", "*)"}], "\[IndentingNewLine]", 
       RowBox[{"{", 
        RowBox[{"groupnames", ",", "groupExptIDs", ",", "groupdata"}], 
        "}"}]}]}], "\[IndentingNewLine]", "]"}]}], "\[IndentingNewLine]", 
   "\[IndentingNewLine]", "\[IndentingNewLine]", 
   RowBox[{"(*", 
    RowBox[{
     RowBox[{"input", " ", "classify", " ", "modes"}], ",", " ", "output"}], 
    " ", "*)"}], "\[IndentingNewLine]", 
   RowBox[{"(*", "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{
      RowBox[{
       RowBox[{
       "this", " ", "function", " ", "input", " ", "the", " ", "groupnames"}],
        " ", "&"}], " ", "grouplists", " ", "into", " ", "ClassifyByGroups", 
      " ", "according", " ", "to", " ", "ClassifyMode"}], ",", 
     "\[IndentingNewLine]", 
     RowBox[{"single", ":", " ", 
      RowBox[{
      "classify", " ", "data", " ", "by", " ", "each", " ", "expt", " ", "ID",
        "\[IndentingNewLine]", "all"}], ":", " ", 
      RowBox[{
       RowBox[{
        RowBox[{
         RowBox[{
         "define", " ", "all", " ", "data", " ", "in", " ", "one", " ", 
          "group"}], "\[IndentingNewLine]", "..."}], "\[IndentingNewLine]", 
        "..."}], "\[IndentingNewLine]", "\[IndentingNewLine]", "output", " ", 
       "the", " ", 
       RowBox[{"{", 
        RowBox[{"groupnames", ",", "groupExptIDs", ",", "groupdata"}], "}"}], 
       " ", "for", " ", "corresponding", " ", "ClassifyMode"}]}]}], 
    "\[IndentingNewLine]", "*)"}], "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"ClassifyPlottedData", "[", 
     RowBox[{"datain_", ",", "dataExptIDin_", ",", "ClassifyModein_"}], "]"}],
     ":=", "\[IndentingNewLine]", 
    RowBox[{"Module", "[", 
     RowBox[{
      RowBox[{"{", 
       RowBox[{"(*", 
        RowBox[{
         RowBox[{"data", "=", "datain"}], ",", 
         RowBox[{"dataExptID", "=", "dataExptIDin"}], ","}], "*)"}], 
       RowBox[{
        RowBox[{"ClassifyMode", "=", "ClassifyModein"}], ",", "groupnames", 
        ",", "grouplists", ",", "output"}], "}"}], ",", "\[IndentingNewLine]", 
      RowBox[{
       RowBox[{"output", "=", "\[IndentingNewLine]", 
        RowBox[{"Switch", "[", "\[IndentingNewLine]", 
         RowBox[{
         "ClassifyMode", ",", "\[IndentingNewLine]", "\"\<single\>\"", ",", 
          "\[IndentingNewLine]", 
          RowBox[{
           RowBox[{"groupnames", "=", 
            RowBox[{
             RowBox[{
              RowBox[{"ToString", "[", "#", "]"}], "&"}], "/@", 
             "dataExptIDin"}]}], ";", "\[IndentingNewLine]", 
           RowBox[{"grouplists", "=", 
            RowBox[{
             RowBox[{
              RowBox[{"{", "#", "}"}], "&"}], "/@", "dataExptIDin"}]}], ";", 
           "\[IndentingNewLine]", " ", 
           RowBox[{"ClassifyByGroups", "[", 
            RowBox[{
            "datain", ",", "dataExptIDin", ",", "groupnames", ",", 
             "grouplists"}], "]"}]}], ",", "\[IndentingNewLine]", 
          "\"\<all\>\"", ",", "\[IndentingNewLine]", 
          RowBox[{
           RowBox[{"groupnames", "=", 
            RowBox[{"{", "\"\<All\>\"", "}"}]}], ";", "\[IndentingNewLine]", 
           RowBox[{"grouplists", "=", 
            RowBox[{"{", "dataExptIDin", "}"}]}], ";", "\[IndentingNewLine]", 
           
           RowBox[{"(*", "\[IndentingNewLine]", " ", 
            RowBox[{"ClassifyByGroups", "[", 
             RowBox[{
             "datain", ",", "dataExptIDin", ",", "groupnames", ",", 
              "grouplists"}], "]"}], "\[IndentingNewLine]", "*)"}], 
           RowBox[{"{", 
            RowBox[{"groupnames", ",", "grouplists", ",", 
             RowBox[{"{", "datain", "}"}]}], "}"}]}], ",", 
          "\[IndentingNewLine]", "_", ",", "Identity"}], 
         "\[IndentingNewLine]", "]"}]}], ";", "\[IndentingNewLine]", 
       "\[IndentingNewLine]", "output"}]}], "\[IndentingNewLine]", 
     "]"}]}]}]}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{
  3.7206724260854197`*^9, {3.720675032581348*^9, 3.720675033735897*^9}}]
}, Open  ]],

Cell[CellGroupData[{

Cell["plotsetting class", "Subsection"],

Cell[BoxData[
 RowBox[{"Plotsetting", "=", "\n", 
  RowBox[{"<|", "\n", 
   RowBox[{
    RowBox[{"\"\<imgsize\>\"", "->", " ", "\"\<none\>\""}], ",", "\n", 
    RowBox[{"\"\<title\>\"", "->", " ", "\"\<none\>\""}], ",", "\n", 
    RowBox[{"\"\<xtitle\>\"", "->", "  ", "\"\<none\>\""}], ",", "\n", 
    RowBox[{"\"\<ytitle\>\"", "->", "  ", "\"\<none\>\""}], ",", "\n", 
    RowBox[{"\"\<lgdlabel\>\"", "->", "  ", "\"\<none\>\""}], ",", "\n", 
    RowBox[{"\"\<xrange\>\"", "->", "  ", "\"\<none\>\""}], ",", "\n", 
    RowBox[{"\"\<yrange\>\"", "->", "  ", "\"\<none\>\""}], ",", "\n", 
    RowBox[{"\"\<epilog\>\"", "->", "  ", "\"\<none\>\""}], ",", "\n", 
    RowBox[{"\"\<titlesize\>\"", "->", "  ", "\"\<none\>\""}], ",", "\n", 
    RowBox[{"\"\<xtitlesize\>\"", "->", "  ", "\"\<none\>\""}], ",", "\n", 
    RowBox[{"\"\<ytitlesize\>\"", "->", "  ", "\"\<none\>\""}], ",", "\n", 
    RowBox[{"\"\<lgdlabelsize\>\"", "->", "  ", "\"\<none\>\""}], ",", "\n", 
    RowBox[{"\"\<ticklablesize\>\"", "->", "  ", "\"\<none\>\""}], ",", "\n", 
    
    RowBox[{"(*", 
     RowBox[{"for", " ", "plot", " ", "1"}], "*)"}], "\n", 
    RowBox[{"\"\<plotstyle\>\"", "->", "  ", "\"\<none\>\""}], ",", "\n", 
    RowBox[{"\"\<marker\>\"", "->", "  ", "\"\<none\>\""}], ",", "\n", 
    RowBox[{"(*", 
     RowBox[{"for", " ", "plot", " ", "2"}], "*)"}], "\n", 
    RowBox[{"\"\<a\>\"", "->", "  ", "\"\<none\>\""}], ",", "\n", 
    RowBox[{"\"\<b\>\"", "->", "  ", "\"\<none\>\""}], ",", "\n", 
    RowBox[{"\"\<c\>\"", "->", "  ", "\"\<none\>\""}], ",", "\n", 
    RowBox[{"\"\<d\>\"", "->", "  ", "\"\<none\>\""}]}], "\n", 
   "|>"}]}]], "Input",
 InitializationCell->True],

Cell[BoxData[""], "Input",
 InitializationCell->True],

Cell[BoxData[
 RowBox[{
  RowBox[{"(*", 
   RowBox[{
    RowBox[{
    "this", " ", "function", " ", "input", " ", "a", " ", "class", " ", "of", 
     " ", "data"}], ",", " ", 
    RowBox[{"and", " ", "expttype", " ", 
     RowBox[{"(", 
      RowBox[{
       RowBox[{"option", ":", " ", "single"}], ",", " ", "multi", ",", " ", 
       "All", ",", " ", "ProtonNeutron"}], ")"}], "\n", "then", " ", "define",
      " ", "setting", " ", "of", " ", "xQplot", " ", 
     RowBox[{"(", 
      RowBox[{"title", ",", " ", "legend", ",", "..."}], ")"}]}]}], "*)"}], 
  "\n", 
  RowBox[{
   RowBox[{"setplotsetting", "[", 
    RowBox[{
    "dataclassin_", ",", "exptlistin_", ",", "expttypein_", ",", 
     "plottypein_", ",", "obsAtypein_", ",", "obsBtypein_"}], "]"}], ":=", 
   "\n", 
   RowBox[{"Module", "[", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{
       RowBox[{"dataclass", "=", "dataclassin"}], ",", 
       RowBox[{"exptlist", "=", "exptlistin"}], ",", 
       RowBox[{"expttype", "=", "expttypein"}], ",", 
       RowBox[{"plottype", "=", "plottypein"}], ",", "myplotsetting", ",", 
       "\n", "imgsize", ",", "title", ",", "xtitle", ",", "ytitle", ",", 
       "lgdlabel", ",", "xrange", ",", "yrange", ",", "epilog", ",", 
       "titlesize", ",", "xtitlesize", ",", "ytitlesize", ",", "lgdlabelsize",
        ",", "ticklablesize", ",", "\n", "PDISNCtitle", ",", "NDISCCtitle", 
       ",", "PDISNCCCtitle", ",", "PVBPZtitle", ",", "PVBPWtitle", ",", 
       "PJPtitle", ",", "hDISNCtitle", ",", "hDISCCtitle", ",", "hVBPZtitle", 
       ",", "\n", "Markdft", ",", "Psize", ",", "Nsize", ",", "hsize", ",", 
       "myMarker", ",", "marknorm", ",", "myplotstyle", ",", "\n", 
       "PDISNCmarker", ",", "hDISNCmarker", ",", "NDISCCmarker", ",", 
       "hDISCCmarker", ",", "PDISNCCCmarker", ",", "PVBPZmarker", ",", 
       "hVBPZmarker", ",", "PVBPWmarker", ",", "PJPmarker", ",", "\n", 
       "PDISNCcolor", ",", "hDISNCcolor", ",", "NDISCCcolor", ",", 
       "hDISCCcolor", ",", "PDISNCCCcolor", ",", "PVBPZcolor", ",", 
       "hVBPZcolor", ",", "PVBPWcolor", ",", "PJPcolor"}], "}"}], ",", "\n", 
     RowBox[{"(*", 
      RowBox[{
      "declare", " ", "a", " ", "plot", " ", "setting", " ", "class"}], 
      "*)"}], "\n", 
     RowBox[{
      RowBox[{"myplotsetting", "=", "Plotsetting"}], ";", "\n", "\n", 
      RowBox[{"(*", "declare", "*)"}], "\n", 
      RowBox[{"title", "=", "\"\<none\>\""}], ";", "\n", 
      RowBox[{"lgdlabel", "=", "\"\<none\>\""}], ";", "\n", 
      RowBox[{"epilog", "=", "\"\<none\>\""}], ";", "\n", 
      RowBox[{"(*", "****************)"}], "\n", 
      RowBox[{"(*", 
       RowBox[{"general", " ", "setting"}], "*)"}], "\n", 
      RowBox[{"(*", "****************)"}], "\n", 
      RowBox[{"imgsize", "=", 
       RowBox[{"{", 
        RowBox[{
         RowBox[{"{", "700", "}"}], ",", 
         RowBox[{"{", "700", "}"}]}], "}"}]}], ";", "\n", "\n", 
      RowBox[{"xtitle", "=", "\"\<x\>\""}], ";", "\n", 
      RowBox[{"ytitle", "=", "\"\<\[Mu] [GeV]\>\""}], ";", "\n", 
      RowBox[{"xrange", "=", 
       RowBox[{"{", 
        RowBox[{"0.000001", ",", "1.0"}], "}"}]}], ";", "\n", 
      RowBox[{"yrange", "=", 
       RowBox[{"{", 
        RowBox[{"1", ",", "1200"}], "}"}]}], ";", "\n", "\n", 
      RowBox[{"titlesize", "=", "24"}], ";", "\n", 
      RowBox[{"xtitlesize", "=", "18"}], ";", "\n", 
      RowBox[{"ytitlesize", "=", "18"}], ";", "\n", 
      RowBox[{"lgdlabelsize", "=", "12"}], ";", "\n", 
      RowBox[{"ticklablesize", "=", "18"}], ";", "\n", 
      RowBox[{"(*", "****************)"}], "\n", 
      RowBox[{"(*", 
       RowBox[{"for", " ", "plot1", " ", "general", " ", "setting"}], "*)"}], 
      "\n", 
      RowBox[{"(*", "****************)"}], "\n", 
      RowBox[{"(*", 
       RowBox[{"legend", " ", "title", " ", "set"}], "*)"}], "\n", 
      RowBox[{
      "PDISNCtitle", "=", 
       "\"\<DIS NC (\[ScriptP]\[ScriptL] \[Rule] \[ScriptL]X)\>\""}], ";", 
      "\n", 
      RowBox[{
      "NDISCCtitle", "=", "\"\<DIS CC (\[Nu]N \[Rule] \[ScriptL]X)\>\""}], 
      ";", "\n", 
      RowBox[{
      "PDISNCCCtitle", "=", 
       "\"\<DIS NC&CC (\[ScriptP]\[ScriptL] \[Rule] \
\[ScriptL]X/\[Nu]X)\>\""}], ";", "\n", 
      RowBox[{
      "PVBPZtitle", "=", 
       "\"\<VBP Z/\\!\\(\\*SuperscriptBox[\\(\[Gamma]\\), \\(*\\)]\\) (\
\[ScriptP]\[ScriptP]/\[ScriptP]\\!\\(\\*OverscriptBox[\\(\[ScriptP]\\), \
\\(_\\)]\\) \[Rule] \\!\\(\\*SuperscriptBox[\\(\[ScriptL]\\), \
\\(+\\)]\\)\\!\\(\\*SuperscriptBox[\\(\[ScriptL]\\), \\(-\\)]\\)X)\>\""}], 
      ";", "\n", 
      RowBox[{
      "PVBPWtitle", "=", 
       "\"\<VBP \[ScriptL] asym \
(\[ScriptP]\[ScriptP]/\[ScriptP]\\!\\(\\*OverscriptBox[\\(\[ScriptP]\\), \\(_\
\\)]\\) \[Rule] \[ScriptL]\[Nu]X)\>\""}], ";", "\n", 
      RowBox[{
      "PJPtitle", "=", 
       "\"\<\[ScriptP]\[ScriptP]/\[ScriptP]\\!\\(\\*OverscriptBox[\\(\
\[ScriptP]\\), \\(_\\)]\\) \[Rule] \[ScriptJ]X\>\""}], ";", "\n", "\n", 
      RowBox[{
      "hDISNCtitle", "=", 
       "\"\<DIS NC (\[ScriptP]\[ScriptL]/d\[ScriptL] \[Rule] \
\[ScriptL]X)\>\""}], ";", "\n", 
      RowBox[{
      "hDISCCtitle", "=", "\"\<DIS CC (\[Nu]Fe \[Rule] \[ScriptL]X)\>\""}], 
      ";", "\n", 
      RowBox[{
      "hVBPZtitle", "=", 
       "\"\<VBP Z/\\!\\(\\*SuperscriptBox[\\(\[Gamma]\\), \\(*\\)]\\) (\
\[ScriptP]Cu \[Rule] \\!\\(\\*SuperscriptBox[\\(\[ScriptL]\\), \\(+\\)]\\)\\!\
\\(\\*SuperscriptBox[\\(\[ScriptL]\\), \\(-\\)]\\)X)\>\""}], ";", "\n", 
      RowBox[{"(*", 
       RowBox[{"marker", " ", "set", " ", "1"}], "*)"}], "\n", "\n", 
      RowBox[{"Markdft", "=", 
       RowBox[{"Graphics`PlotMarkers", "[", "]"}]}], ";", "\n", "\n", 
      RowBox[{"Psize", "=", "8"}], ";", "\n", 
      RowBox[{"Nsize", "=", "15"}], ";", "\n", 
      RowBox[{"hsize", "=", "12"}], ";", "\n", 
      RowBox[{"PDISNCmarker", "=", 
       RowBox[{"{", 
        RowBox[{
         RowBox[{"Markdft", "[", 
          RowBox[{"[", 
           RowBox[{"4", ",", "1"}], "]"}], "]"}], ",", "Psize"}], "}"}]}], 
      ";", "\n", 
      RowBox[{"hDISNCmarker", "=", 
       RowBox[{"{", 
        RowBox[{"\"\<\[Times]\>\"", ",", "hsize"}], "}"}]}], ";", "\n", 
      RowBox[{"NDISCCmarker", "=", 
       RowBox[{"{", 
        RowBox[{
         RowBox[{"Markdft", "[", 
          RowBox[{"[", 
           RowBox[{"9", ",", "1"}], "]"}], "]"}], ",", "Nsize"}], "}"}]}], 
      ";", "\n", 
      RowBox[{"hDISCCmarker", "=", 
       RowBox[{"{", 
        RowBox[{"\"\<\[Times]\>\"", ",", "hsize"}], "}"}]}], ";", "\n", 
      RowBox[{"PDISNCCCmarker", "=", 
       RowBox[{"{", 
        RowBox[{
         RowBox[{"Markdft", "[", 
          RowBox[{"[", 
           RowBox[{"4", ",", "1"}], "]"}], "]"}], ",", "Psize"}], "}"}]}], 
      ";", "\n", 
      RowBox[{"(*", 
       RowBox[{
        RowBox[{"PVBPWmarker", "=", 
         RowBox[{"Markdft", "[", 
          RowBox[{"[", "2", "]"}], "]"}]}], ";"}], "*)"}], "\n", 
      RowBox[{"PVBPZmarker", "=", 
       RowBox[{"{", 
        RowBox[{
         RowBox[{"Markdft", "[", 
          RowBox[{"[", 
           RowBox[{"4", ",", "1"}], "]"}], "]"}], ",", "Psize"}], "}"}]}], 
      ";", "\n", 
      RowBox[{"hVBPZmarker", "=", 
       RowBox[{"{", 
        RowBox[{"\"\<\[Times]\>\"", ",", "hsize"}], "}"}]}], ";", "\n", 
      RowBox[{"PVBPWmarker", "=", 
       RowBox[{"{", 
        RowBox[{
         RowBox[{"Markdft", "[", 
          RowBox[{"[", 
           RowBox[{"4", ",", "1"}], "]"}], "]"}], ",", "Psize"}], "}"}]}], 
      ";", "\n", 
      RowBox[{"PJPmarker", "=", 
       RowBox[{"{", 
        RowBox[{
         RowBox[{"Markdft", "[", 
          RowBox[{"[", 
           RowBox[{"4", ",", "1"}], "]"}], "]"}], ",", "Psize"}], "}"}]}], 
      ";", "\n", "\n", 
      RowBox[{"(*", 
       RowBox[{"marker", " ", "color", " ", "set", " ", "1"}], "*)"}], "\n", 
      RowBox[{"PDISNCcolor", "=", 
       RowBox[{
        RowBox[{"colorset", "[", "\"\<Brown\>\"", "]"}], "[", 
        RowBox[{"[", "4", "]"}], "]"}]}], ";", "\n", 
      RowBox[{"hDISNCcolor", "=", 
       RowBox[{
        RowBox[{"colorset", "[", "\"\<Gray\>\"", "]"}], "[", 
        RowBox[{"[", "4", "]"}], "]"}]}], ";", "\n", 
      RowBox[{"NDISCCcolor", "=", 
       RowBox[{
        RowBox[{"colorset", "[", "\"\<R\>\"", "]"}], "[", 
        RowBox[{"[", "7", "]"}], "]"}]}], ";", "\n", 
      RowBox[{"hDISCCcolor", "=", 
       RowBox[{
        RowBox[{"colorset", "[", "\"\<R\>\"", "]"}], "[", 
        RowBox[{"[", "3", "]"}], "]"}]}], ";", "\n", 
      RowBox[{"PDISNCCCcolor", "=", 
       RowBox[{
        RowBox[{"colorset", "[", "\"\<R\>\"", "]"}], "[", 
        RowBox[{"[", "4", "]"}], "]"}]}], ";", "\n", 
      RowBox[{"(*", "\n", 
       RowBox[{
        RowBox[{"PVBPWcolor", "=", "Blue"}], ";"}], "\n", "*)"}], "\n", 
      RowBox[{"PVBPZcolor", "=", 
       RowBox[{
        RowBox[{"colorset", "[", "\"\<B\>\"", "]"}], "[", 
        RowBox[{"[", "4", "]"}], "]"}]}], ";", "\n", 
      RowBox[{"hVBPZcolor", "=", 
       RowBox[{
        RowBox[{"colorset", "[", "\"\<B\>\"", "]"}], "[", 
        RowBox[{"[", "3", "]"}], "]"}]}], ";", "\n", 
      RowBox[{"PVBPWcolor", "=", 
       RowBox[{
        RowBox[{"colorset", "[", "\"\<B\>\"", "]"}], "[", 
        RowBox[{"[", "1", "]"}], "]"}]}], ";", "\n", 
      RowBox[{"PJPcolor", "=", 
       RowBox[{
        RowBox[{"colorset", "[", "\"\<G\>\"", "]"}], "[", 
        RowBox[{"[", "1", "]"}], "]"}]}], ";", "\n", "\n", 
      RowBox[{"(*", 
       RowBox[{"legend", " ", "set"}], "*)"}], "\n", 
      RowBox[{"(*", 
       RowBox[{
        RowBox[{"lgd", "=", 
         RowBox[{"{", 
          RowBox[{
          "PDISNCtitle", ",", "hDISNCtitle", ",", "NDISCCtitle", ",", 
           "hDISCCtitle", ",", "PDISNCCCtitle", ",", "PVBPZtitle", ",", 
           "hVBPZtitle", ",", "PVBPWtitle", ",", "PJPtitle"}], "}"}]}], ";"}],
        "*)"}], "\n", 
      RowBox[{"(*", 
       RowBox[{"marker", " ", "set"}], "*)"}], "\n", 
      RowBox[{"myMarker", "=", 
       RowBox[{"{", 
        RowBox[{
        "PDISNCmarker", ",", "hDISNCmarker", ",", "NDISCCmarker", ",", 
         "hDISCCmarker", ",", "PDISNCCCmarker", ",", "PVBPZmarker", ",", 
         "hVBPZmarker", ",", "PVBPWmarker", ",", "PJPmarker"}], "}"}]}], ";", 
      "\n", 
      RowBox[{"marknorm", "=", "0.7"}], ";", "\n", 
      RowBox[{"myMarker", "=", 
       RowBox[{"Table", "[", 
        RowBox[{
         RowBox[{"{", 
          RowBox[{
           RowBox[{"myMarker", "[", 
            RowBox[{"[", 
             RowBox[{"i", ",", "1"}], "]"}], "]"}], ",", 
           RowBox[{"marknorm", "*", 
            RowBox[{"myMarker", "[", 
             RowBox[{"[", 
              RowBox[{"i", ",", "2"}], "]"}], "]"}]}]}], "}"}], ",", 
         RowBox[{"{", 
          RowBox[{"i", ",", "1", ",", 
           RowBox[{"Length", "[", "myMarker", "]"}]}], "}"}]}], "]"}]}], ";", 
      "\n", "\n", 
      RowBox[{"(*", 
       RowBox[{"marker", " ", "color", " ", "set"}], "*)"}], "\n", 
      RowBox[{"myplotstyle", "=", 
       RowBox[{"{", 
        RowBox[{
        "PDISNCcolor", ",", "hDISNCcolor", ",", "NDISCCcolor", ",", 
         "hDISCCcolor", ",", "PDISNCCCcolor", ",", "PVBPZcolor", ",", 
         "hVBPZcolor", ",", "PVBPWcolor", ",", "PJPcolor"}], "}"}]}], ";", 
      "\n", "\n", "\n", 
      RowBox[{"(*", "****************)"}], "\n", 
      RowBox[{"(*", 
       RowBox[{
       "specific", " ", "setting", " ", "for", " ", "various", " ", "plots"}],
        "*)"}], "\n", 
      RowBox[{"(*", "****************)"}], "\n", 
      RowBox[{"(*", 
       RowBox[{"plot", " ", "1"}], "*)"}], "\n", 
      RowBox[{"If", "[", "\n", 
       RowBox[{
        RowBox[{"plottype", "==", "1"}], ",", "\n", 
        RowBox[{
         RowBox[{"If", "[", "\n", 
          RowBox[{
           RowBox[{"expttype", "==", "\"\<single\>\""}], ",", "\n", 
           RowBox[{
            RowBox[{"title", "=", 
             RowBox[{"\"\<Experimental data in \>\"", "<>", 
              RowBox[{
               RowBox[{"dataclass", "[", 
                RowBox[{"[", 
                 RowBox[{"1", ",", "1"}], "]"}], "]"}], "[", 
               RowBox[{"[", 
                RowBox[{"\"\<PDFinfo\>\"", ",", "\"\<PDFname\>\""}], "]"}], 
               "]"}], "<>", "\"\< analysis \\n \>\"", "<>", "\"\< (\>\"", "<>", 
              RowBox[{"ExptIDtoName", "[", 
               RowBox[{"exptlist", "[", 
                RowBox[{"[", "1", "]"}], "]"}], " ", "]"}], "<>", 
              "\"\<)\>\""}]}], ";", 
            RowBox[{"(*", 
             RowBox[{
              RowBox[{
               RowBox[{"dataclass", "[", 
                RowBox[{"[", 
                 RowBox[{"1", ",", "1"}], "]"}], "]"}], " ", 
               RowBox[{"is", " ", "[", 
                RowBox[{"[", 
                 RowBox[{"expt", ",", "flavour"}], "]"}], "]"}]}], ",", " ", 
              RowBox[{
              "need", " ", "modify", " ", "it", " ", "later", " ", "by", " ", 
               "variable", " ", "rather", " ", "than", " ", "number"}]}], 
             "*)"}], "\n", 
            RowBox[{"(*", 
             RowBox[{"legend", " ", "set"}], "*)"}], "\n", 
            RowBox[{"lgdlabel", "=", 
             RowBox[{"{", 
              RowBox[{
               RowBox[{"dataclass", "[", 
                RowBox[{"[", 
                 RowBox[{"1", ",", "1"}], "]"}], "]"}], "[", 
               RowBox[{"[", 
                RowBox[{"\"\<exptinfo\>\"", ",", "\"\<exptname\>\""}], "]"}], 
               "]"}], "}"}]}], ";"}]}], "\n", "]"}], ";", "\n", "\n", 
         RowBox[{"If", "[", "\n", 
          RowBox[{
           RowBox[{"expttype", "==", "\"\<multi\>\""}], ",", "\n", 
           RowBox[{
            RowBox[{"title", "=", 
             RowBox[{"\"\<Experimental data in \>\"", "<>", 
              RowBox[{
               RowBox[{"dataclass", "[", 
                RowBox[{"[", 
                 RowBox[{"1", ",", "1"}], "]"}], "]"}], "[", 
               RowBox[{"[", 
                RowBox[{"\"\<PDFinfo\>\"", ",", "\"\<PDFname\>\""}], "]"}], 
               "]"}], "<>", "\"\< analysis \\n expt id: \>\"", "<>", 
              RowBox[{"ToString", "[", "exptlist", "]"}]}]}], ";", "\n", 
            RowBox[{"(*", 
             RowBox[{"legend", " ", "set"}], "*)"}], "\n", 
            RowBox[{"lgdlabel", "=", 
             RowBox[{"Table", "[", 
              RowBox[{
               RowBox[{
                RowBox[{"dataclass", "[", 
                 RowBox[{"[", 
                  RowBox[{"iexpt", ",", "1"}], "]"}], "]"}], "[", 
                RowBox[{"[", 
                 RowBox[{"\"\<exptinfo\>\"", ",", "\"\<exptname\>\""}], "]"}],
                 "]"}], ",", 
               RowBox[{"{", 
                RowBox[{"iexpt", ",", "1", ",", 
                 RowBox[{"Length", "[", "dataclass", "]"}]}], "}"}]}], 
              "]"}]}], ";"}]}], "\n", "]"}], ";", "\n", "\n", 
         RowBox[{"If", "[", "\n", 
          RowBox[{
           RowBox[{"expttype", "==", "\"\<All\>\""}], ",", "\n", 
           RowBox[{
            RowBox[{"title", "=", 
             RowBox[{"\"\<Experimental data in \>\"", "<>", 
              RowBox[{
               RowBox[{"dataclass", "[", 
                RowBox[{"[", 
                 RowBox[{"1", ",", "1"}], "]"}], "]"}], "[", 
               RowBox[{"[", 
                RowBox[{"\"\<PDFinfo\>\"", ",", "\"\<PDFname\>\""}], "]"}], 
               "]"}], "<>", 
              "\"\< analysis \\n(heavy nucleus collision included)\>\""}]}], 
            ";", "\n", 
            RowBox[{"(*", 
             RowBox[{"legend", " ", "set"}], "*)"}], "\n", 
            RowBox[{"lgdlabel", "=", 
             RowBox[{"{", 
              RowBox[{
              "PDISNCtitle", ",", "hDISNCtitle", ",", "NDISCCtitle", ",", 
               "hDISCCtitle", ",", "PDISNCCCtitle", ",", "PVBPZtitle", ",", 
               "hVBPZtitle", ",", "PVBPWtitle", ",", "PJPtitle"}], "}"}]}], 
            ";", "\n", 
            RowBox[{"(*", 
             RowBox[{"marker", " ", "set"}], "*)"}], "\n", 
            RowBox[{"myMarker", "=", "myMarker"}], ";", "\n", 
            RowBox[{"(*", 
             RowBox[{"marker", " ", "color", " ", "set"}], "*)"}], "\n", 
            RowBox[{"myplotstyle", "=", "myplotstyle"}], ";"}]}], "\n", "\n", 
          "]"}], ";", "\n", 
         RowBox[{"(*", "\n", 
          RowBox[{
           RowBox[{"If", "[", "\n", 
            RowBox[{
             RowBox[{"expttype", "\[Equal]", "\"\<ByProcess\>\""}], ",", "\n", 
             RowBox[{
              RowBox[{
               RowBox[{"myplotsetting", "[", 
                RowBox[{"[", "\"\<title\>\"", "]"}], "]"}], "=", 
               RowBox[{"\"\<Experimental data in \>\"", "<>", 
                RowBox[{"dataclass", "[", 
                 RowBox[{"[", 
                  RowBox[{"\"\<PDFinfo\>\"", ",", "\"\<PDFname\>\""}], "]"}], 
                 "]"}], "<>", 
                "\"\<analysis \\n(heavy nucleus collision included)\>\""}]}], 
              ";"}]}], "\n", "]"}], ";"}], "\n", "*)"}], "\n", "\n", 
         RowBox[{"If", "[", "\n", 
          RowBox[{
           RowBox[{"expttype", "==", "\"\<ProtonNeutron\>\""}], ",", "\n", 
           RowBox[{
            RowBox[{"title", "=", 
             RowBox[{"\"\<Experimental data in \>\"", "<>", 
              RowBox[{
               RowBox[{"dataclass", "[", 
                RowBox[{"[", 
                 RowBox[{"1", ",", "1"}], "]"}], "]"}], "[", 
               RowBox[{"[", 
                RowBox[{"\"\<PDFinfo\>\"", ",", "\"\<PDFname\>\""}], "]"}], 
               "]"}], "<>", 
              "\"\<analysis \\n (only P/N collision included)\>\""}]}], ";", 
            "\n", 
            RowBox[{"(*", 
             RowBox[{"legend", " ", "set"}], "*)"}], "\n", 
            RowBox[{"lgdlabel", "=", 
             RowBox[{"{", 
              RowBox[{
              "PDISNCtitle", ",", "NDISCCtitle", ",", "PDISNCCCtitle", ",", 
               "PVBPZtitle", ",", "PVBPWtitle", ",", "PJPtitle"}], "}"}]}], 
            ";", "\n", 
            RowBox[{"(*", 
             RowBox[{
              RowBox[{"marker", " ", "set"}], ",", " ", 
              RowBox[{
              "delete", " ", "heavy", " ", "neucleon", " ", "collision", " ", 
               "processes"}]}], "*)"}], "\n", 
            RowBox[{"myMarker", "=", 
             RowBox[{"Drop", "[", 
              RowBox[{"myMarker", ",", 
               RowBox[{"{", "7", "}"}]}], "]"}]}], ";", 
            RowBox[{"myMarker", "=", 
             RowBox[{"Drop", "[", 
              RowBox[{"myMarker", ",", 
               RowBox[{"{", "4", "}"}]}], "]"}]}], ";", 
            RowBox[{"myMarker", "=", 
             RowBox[{"Drop", "[", 
              RowBox[{"myMarker", ",", 
               RowBox[{"{", "2", "}"}]}], "]"}]}], ";", "\n", 
            RowBox[{"(*", 
             RowBox[{
              RowBox[{"marker", " ", "color", " ", "set"}], ",", " ", 
              RowBox[{
              "delete", " ", "heavy", " ", "neucleon", " ", "collision", " ", 
               "processes"}]}], "*)"}], "\n", 
            RowBox[{"myplotstyle", "=", 
             RowBox[{"Drop", "[", 
              RowBox[{"myplotstyle", ",", 
               RowBox[{"{", "7", "}"}]}], "]"}]}], ";", 
            RowBox[{"myplotstyle", "=", 
             RowBox[{"Drop", "[", 
              RowBox[{"myplotstyle", ",", 
               RowBox[{"{", "4", "}"}]}], "]"}]}], ";", 
            RowBox[{"myplotstyle", "=", 
             RowBox[{"Drop", "[", 
              RowBox[{"myplotstyle", ",", 
               RowBox[{"{", "2", "}"}]}], "]"}]}], ";"}]}], "\n", "]"}], 
         ";"}]}], "\n", "]"}], ";", "\n", 
      RowBox[{"(*", 
       RowBox[{"plot", " ", "2"}], "*)"}], "\n", "\n", 
      RowBox[{"(*", 
       RowBox[{"plot", " ", "3"}], "*)"}], "\n", "\n", 
      RowBox[{"(*", 
       RowBox[{
       "read", " ", "setting", " ", "to", " ", "class", " ", "and", " ", 
        "output", " ", "the", " ", "class"}], "*)"}], "\n", 
      RowBox[{
       RowBox[{"myplotsetting", "[", 
        RowBox[{"[", "\"\<imgsize\>\"", "]"}], "]"}], "=", "imgsize"}], ";", 
      "\n", 
      RowBox[{
       RowBox[{"myplotsetting", "[", 
        RowBox[{"[", "\"\<title\>\"", "]"}], "]"}], "=", "title"}], ";", "\n", 
      RowBox[{
       RowBox[{"myplotsetting", "[", 
        RowBox[{"[", "\"\<xtitle\>\"", "]"}], "]"}], "=", "xtitle"}], ";", 
      "\n", 
      RowBox[{
       RowBox[{"myplotsetting", "[", 
        RowBox[{"[", "\"\<ytitle\>\"", "]"}], "]"}], "=", "ytitle"}], ";", 
      "\n", 
      RowBox[{
       RowBox[{"myplotsetting", "[", 
        RowBox[{"[", "\"\<lgdlabel\>\"", "]"}], "]"}], "=", "lgdlabel"}], ";",
       "\n", 
      RowBox[{
       RowBox[{"myplotsetting", "[", 
        RowBox[{"[", "\"\<xrange\>\"", "]"}], "]"}], "=", "xrange"}], ";", 
      "\n", 
      RowBox[{
       RowBox[{"myplotsetting", "[", 
        RowBox[{"[", "\"\<yrange\>\"", "]"}], "]"}], "=", "yrange"}], ";", 
      "\n", 
      RowBox[{
       RowBox[{"myplotsetting", "[", 
        RowBox[{"[", "\"\<epilog\>\"", "]"}], "]"}], "=", "epilog"}], ";", 
      "\n", 
      RowBox[{
       RowBox[{"myplotsetting", "[", 
        RowBox[{"[", "\"\<titlesize\>\"", "]"}], "]"}], "=", "titlesize"}], 
      ";", "\n", 
      RowBox[{
       RowBox[{"myplotsetting", "[", 
        RowBox[{"[", "\"\<xtitlesize\>\"", "]"}], "]"}], "=", "xtitlesize"}], 
      ";", "\n", 
      RowBox[{
       RowBox[{"myplotsetting", "[", 
        RowBox[{"[", "\"\<ytitlesize\>\"", "]"}], "]"}], "=", "ytitlesize"}], 
      ";", "\n", 
      RowBox[{
       RowBox[{"myplotsetting", "[", 
        RowBox[{"[", "\"\<lgdlabelsize\>\"", "]"}], "]"}], "=", 
       "lgdlabelsize"}], ";", "\n", 
      RowBox[{
       RowBox[{"myplotsetting", "[", 
        RowBox[{"[", "\"\<ticklablesize\>\"", "]"}], "]"}], "=", 
       "ticklablesize"}], ";", "\n", "\n", 
      RowBox[{
       RowBox[{"myplotsetting", "[", 
        RowBox[{"[", "\"\<plotstyle\>\"", "]"}], "]"}], "=", "myplotstyle"}], 
      ";", "\n", 
      RowBox[{
       RowBox[{"myplotsetting", "[", 
        RowBox[{"[", "\"\<marker\>\"", "]"}], "]"}], "=", "myMarker"}], ";", 
      "\n", "\n", "myplotsetting"}]}], "\n", "\n", "]"}]}]}]], "Input",
 InitializationCell->True]
}, Open  ]],

Cell["plotlabelsize class", "Subsection"]
}, Open  ]],

Cell[CellGroupData[{

Cell["\<\
class for three kinds of plots: 
1. {x,Q} plot for inputs
2. {x,Q} plot for size by value
3. histogram\
\>", "Section"],

Cell[CellGroupData[{

Cell["{x,Q} plot for inputs: xQplotsetting class", "Subsection"],

Cell[BoxData[
 RowBox[{
  RowBox[{"(*", 
   RowBox[{"2016.11", ".04", " ", "botingw"}], "*)"}], "\n", 
  RowBox[{"(*", 
   RowBox[{
   "plot", " ", "pdf", " ", "function", " ", "with", " ", "log", " ", "log", 
    " ", "scale"}], "*)"}], "\n", 
  RowBox[{"(*", 
   RowBox[{
    RowBox[{
     RowBox[{"if", " ", "plotrangein"}], "\[Equal]", "\"\<None\>\""}], ",", 
    " ", 
    RowBox[{
    "then", " ", "plotrange", " ", "is", " ", "by", " ", "default"}]}], 
   "*)"}], "\n", 
  RowBox[{"(*", 
   RowBox[{"example", " ", 
    RowBox[{"input", ":"}]}], " ", "*)"}], "\n", 
  RowBox[{"(*", "\n", 
   RowBox[{
    RowBox[{
     RowBox[{"myMarker", "\n", "myplotstyle", "\n", "title"}], "=", 
     "\"\<(x, Q) points of experiments based on CT14LN fitting\\n (Heavy \
Nucleons included)\>\""}], ";", "\n", 
    RowBox[{"xtitle", "=", "\"\<x\>\""}], ";", "\n", 
    RowBox[{"ytitle", "=", "\"\<Q [GeV]\>\""}], ";", "\n", 
    RowBox[{"lgd", "=", 
     RowBox[{"{", 
      RowBox[{
      "\"\<pl \[Rule] lX, NC\>\"", ",", "\"\<pl \[Rule] clX, NC\>\"", ",", 
       "\"\<\[Nu]N \[Rule] X, CC\>\"", ",", "\"\<\[Nu]N \[Rule] cX, CC\>\"", 
       ",", "\"\<pOverscript[p, _] \[Rule] l^+l^-X, \[ScriptD]\[Sigma]/\
\[ScriptD]y\>\"", ",", 
       "\"\<pOverscript[p, _] \[Rule] l\[Nu]X, A(Subscript[y, l])\>\""}], 
      "}"}]}], ";", "\n", 
    RowBox[{"lgdpos", "=", 
     RowBox[{"{", 
      RowBox[{"0.15", ",", "0.6"}], "}"}]}], ";", "\n", 
    RowBox[{
     RowBox[{
      RowBox[{"PDFloglogplot", "[", 
       RowBox[{
       "tmpDISdataf1", ",", "myMarker", ",", "myplotstyle", ",", "title", ",",
         "xtitle", ",", "ytitle", ",", 
        RowBox[{"{", 
         RowBox[{"0.001", ",", "5", ",", "1", ",", "500"}], "}"}], ",", "lgd",
         ",", "lgdpos"}], "]"}], "\n", "\n", "myMarker"}], "=", 
     RowBox[{"{", 
      RowBox[{
       RowBox[{"{", 
        RowBox[{"\"\<\[FilledCircle]\>\"", ",", "6.272`"}], "}"}], ",", 
       RowBox[{"{", 
        RowBox[{"\"\<\[FilledSquare]\>\"", ",", "6.272`"}], "}"}], ",", 
       RowBox[{"{", 
        RowBox[{"\"\<\[FilledDiamond]\>\"", ",", "7.616`"}], "}"}], ",", 
       RowBox[{"{", 
        RowBox[{"\"\<\[FilledDiamond]\>\"", ",", "7.616`"}], "}"}], ",", 
       RowBox[{"{", 
        RowBox[{"\"\<\[EmptyCircle]\>\"", ",", "7.167999999999999`"}], "}"}], 
       ",", 
       RowBox[{"{", 
        RowBox[{"\"\<\[EmptySquare]\>\"", ",", "7.167999999999999`"}], 
        "}"}]}], "}"}]}], ";", "\n", 
    RowBox[{"myplotstyle", "=", 
     RowBox[{"{", 
      RowBox[{",", ",", ",", ",", ","}], "}"}]}], ";"}], "\n", "\n", "*)"}], 
  "\n", 
  RowBox[{
   RowBox[{"PDFloglogplot", "[", 
    RowBox[{
    "datain_", ",", "plotmarkerin_", ",", "plotstylein_", ",", "titlein_", 
     ",", "xtitlein_", ",", "ytitlein_", ",", "plotrangein_", ",", "lgdin_", 
     ",", "lgdposin_", ",", "imgsizein_"}], "]"}], ":=", "\n", 
   RowBox[{"Module", "[", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{
       RowBox[{"data", "=", "datain"}], ",", 
       RowBox[{"plotmarker", "=", "plotmarkerin"}], ",", 
       RowBox[{"plotstyle", "=", "plotstylein"}], ",", 
       RowBox[{"title", "=", "titlein"}], ",", 
       RowBox[{"xtitle", "=", "xtitlein"}], ",", 
       RowBox[{"ytitle", "=", "ytitlein"}], ",", 
       RowBox[{"plotrange", "=", "plotrangein"}], ",", 
       RowBox[{"lgd", "=", "lgdin"}], ",", 
       RowBox[{"lgdpos", "=", "lgdposin"}], ",", 
       RowBox[{"imgsize", "=", "imgsizein"}], ",", "plotxQout", ",", "minx", 
       ",", "maxx", ",", "miny", ",", "maxy", ",", "imgsizedefault", ",", 
       "titlesize", ",", "xtitlesize", ",", "ytitlesize", ",", "lgdlabelsize",
        ",", "ticklablesize", ",", "plotrangetmp"}], "}"}], ",", "\n", "\n", 
     RowBox[{"(*", 
      RowBox[{
       RowBox[{"2017.01", ".24", " ", "data", " ", "format", " ", "is", " ", 
        RowBox[{"{", 
         RowBox[{
          RowBox[{"{", "data1", "}"}], ",", 
          RowBox[{"{", "data2", "}"}], ",", "..."}], "}"}], "\n", "data"}], 
       " ", "=", " ", 
       RowBox[{"{", 
        RowBox[{
         RowBox[{"LF1", "[", 
          RowBox[{"x", ",", "Q"}], "]"}], ",", 
         RowBox[{"LF1", "[", 
          RowBox[{"x", ",", "Q"}], "]"}], ",", "..."}], "}"}]}], "*)"}], "\n",
      "\n", 
     RowBox[{"(*", 
      RowBox[{
       RowBox[{"20170517", ":", " ", 
        RowBox[{"for", " ", "some", " ", "data"}]}], ",", " ", 
       RowBox[{"there", " ", "is", " ", "no", " ", "data", " ", "point"}], 
       ",", " ", 
       RowBox[{"which", " ", "break", " ", "down", " ", "the", " ", 
        RowBox[{"function", ".", " ", 
         RowBox[{"solution", ":", " ", 
          RowBox[{
          "add", " ", "a", " ", "fake", " ", "point", " ", "if", " ", "there",
            " ", "is", " ", "no", " ", "data", " ", "point"}]}]}]}]}], "*)"}],
      "\n", 
     RowBox[{"(*", 
      RowBox[{
       RowBox[{
       "this", " ", "fake", " ", "point", " ", "should", " ", "not", " ", 
        "in", " ", "the", " ", "figure", " ", "xyrange"}], ",", " ", 
       RowBox[{
        RowBox[{"so", " ", "x"}], "=", "2"}], ",", " ", 
       RowBox[{"Q", "=", "any"}]}], "*)"}], "\n", 
     RowBox[{
      RowBox[{"Table", "[", 
       RowBox[{
        RowBox[{
         RowBox[{"If", "[", 
          RowBox[{
           RowBox[{
            RowBox[{"Length", "[", 
             RowBox[{"data", "[", 
              RowBox[{"[", "idata", "]"}], "]"}], " ", "]"}], "==", "0"}], 
           ",", 
           RowBox[{
            RowBox[{"data", "[", 
             RowBox[{"[", "idata", "]"}], "]"}], "=", 
            RowBox[{"Append", "[", 
             RowBox[{
              RowBox[{"data", "[", 
               RowBox[{"[", "idata", "]"}], "]"}], ",", 
              RowBox[{"LF1", "[", 
               RowBox[{"2.0", ",", "10.0"}], "]"}]}], " ", "]"}]}]}], " ", 
          "]"}], ";", "\"\<dummy\>\""}], ",", 
        RowBox[{"{", 
         RowBox[{"idata", ",", "1", ",", 
          RowBox[{"Length", "[", "data", "]"}]}], "}"}]}], "]"}], ";", "\n", 
      "\n", 
      RowBox[{"(*", 
       RowBox[{
        RowBox[{"when", " ", "plot"}], ",", " ", 
        RowBox[{
        "need", " ", "to", " ", "transform", " ", "to", " ", "List", " ", 
         "format", " ", "for", " ", "every", " ", "point"}]}], "*)"}], "\n", 
      RowBox[{"data", "=", 
       RowBox[{"data", "/.", 
        RowBox[{"LF1", "->", "List"}]}]}], ";", "\n", "\n", 
      RowBox[{"(*", "default", "*)"}], "\n", 
      RowBox[{"minx", "=", "0.00001"}], ";", "\n", 
      RowBox[{"maxx", "=", "1"}], ";", "\n", 
      RowBox[{"miny", "=", "1"}], ";", "\n", 
      RowBox[{"maxy", "=", "1100"}], ";", "\n", 
      RowBox[{"imgsizedefault", "=", 
       RowBox[{"{", 
        RowBox[{
         RowBox[{"{", "600", "}"}], ",", 
         RowBox[{"{", "600", "}"}]}], "}"}]}], ";", "\n", 
      RowBox[{"titlesize", "=", "24"}], ";", "\n", 
      RowBox[{"xtitlesize", "=", "18"}], ";", "\n", 
      RowBox[{"ytitlesize", "=", "18"}], ";", "\n", 
      RowBox[{"lgdlabelsize", "=", "12"}], ";", "\n", 
      RowBox[{"ticklablesize", "=", "18"}], ";", "\n", "\n", 
      RowBox[{"(*", 
       RowBox[{
       "if", " ", "want", " ", "to", " ", "customize", " ", "the", " ", 
        "plot", " ", "range"}], "*)"}], "\n", 
      RowBox[{"plotrangetmp", "=", 
       RowBox[{"ToString", "[", "plotrange", "]"}]}], ";", "\n", 
      RowBox[{"If", "[", "\n", 
       RowBox[{
        RowBox[{"plotrangetmp", "!=", "\"\<None\>\""}], ",", "\n", 
        RowBox[{
         RowBox[{"minx", "=", 
          RowBox[{"plotrange", "[", 
           RowBox[{"[", "1", "]"}], "]"}]}], ";", "\n", 
         RowBox[{"maxx", "=", 
          RowBox[{"plotrange", "[", 
           RowBox[{"[", "2", "]"}], "]"}]}], ";", "\n", 
         RowBox[{"miny", "=", 
          RowBox[{"plotrange", "[", 
           RowBox[{"[", "3", "]"}], "]"}]}], ";", "\n", 
         RowBox[{"maxy", "=", 
          RowBox[{"plotrange", "[", 
           RowBox[{"[", "4", "]"}], "]"}]}], ";"}]}], "\n", "]"}], ";", "\n", 
      
      RowBox[{"(*", 
       RowBox[{
        RowBox[{"set", " ", "image", " ", "size"}], ",", " ", 
        RowBox[{"by", " ", "default", " ", "is", " ", 
         RowBox[{"{", 
          RowBox[{"600", ",", "600"}], "}"}]}], ",", " ", 
        RowBox[{"if", " ", "input", " ", "a", " ", "imgsize"}], ",", " ", 
        RowBox[{
        "them", " ", "use", " ", "the", " ", "input", " ", "arguments", " ", 
         "as", " ", "imgsize"}]}], "*)"}], "\n", 
      RowBox[{"If", "[", 
       RowBox[{
        RowBox[{"imgsize", "!=", " ", "\"\<None\>\""}], ",", 
        RowBox[{"imgsize", "=", "imgsize"}], ",", 
        RowBox[{"imgsize", "=", "imgsizedefault"}]}], "]"}], ";", "\n", "\n", 
      
      RowBox[{"plotxQout", "=", 
       RowBox[{"ListLogLogPlot", "[", "\n", 
        RowBox[{"data", ",", "\n", "\n", 
         RowBox[{"Frame", "->", "True"}], ",", "\n", 
         RowBox[{"(*", "\n", 
          RowBox[{
           RowBox[{"PlotMarkers", "\[Rule]", 
            RowBox[{"{", 
             RowBox[{"Automatic", ",", "Markersize"}], "}"}]}], ","}], "\n", 
          "*)"}], "\n", 
         RowBox[{"PlotMarkers", "->", "plotmarker"}], ",", "\n", 
         RowBox[{"PlotStyle", "->", "plotstyle"}], ",", "\n", 
         RowBox[{"BaseStyle", "->", 
          RowBox[{"{", 
           RowBox[{"FontSize", "->", "18"}], 
           RowBox[{"(*", 
            RowBox[{",", 
             RowBox[{"FontFamily", "\[Rule]", 
              RowBox[{
              "\"\<Helvetica\>\"", "  ", "test", " ", "close", " ", 
               "it"}]}]}], "*)"}], "}"}]}], ",", "\n", 
         RowBox[{"ImageSize", "->", "imgsize"}], ",", 
         RowBox[{"(*", 
          RowBox[{
           RowBox[{"size", " ", "of", " ", "image"}], ",", " ", 
           RowBox[{"including", " ", "title"}], ",", " ", 
           RowBox[{"xy", " ", "title"}], ",", " ", 
           RowBox[{
           "it", " ", "is", " ", "not", " ", "just", " ", "size", " ", "of", 
            " ", "image", " ", "frame"}]}], " ", "*)"}], "\n", 
         RowBox[{"FrameLabel", "->", 
          RowBox[{"{", 
           RowBox[{
            RowBox[{"Style", "[", 
             RowBox[{"xtitle", ",", "xtitlesize"}], "]"}], ",", 
            RowBox[{"Style", "[", 
             RowBox[{"ytitle", ",", "ytitlesize"}], "]"}]}], "}"}]}], ",", 
         "\n", 
         RowBox[{"PlotLabel", "->", 
          RowBox[{"Style", "[", 
           RowBox[{"title", ",", "titlesize"}], "]"}]}], ",", "\n", 
         RowBox[{"FrameTicksStyle", "->", 
          RowBox[{"Directive", "[", 
           RowBox[{"Black", ",", "ticklablesize"}], "]"}]}], ",", "\n", 
         RowBox[{"PlotRange", "->", 
          RowBox[{"{", 
           RowBox[{
            RowBox[{"{", 
             RowBox[{"minx", ",", "maxx"}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"miny", ",", "maxy"}], "}"}]}], "}"}]}], ",", "\n", 
         RowBox[{"PlotLegends", "->", 
          RowBox[{"Placed", "[", 
           RowBox[{
            RowBox[{"PointLegend", "[", 
             RowBox[{"lgd", ",", 
              RowBox[{"LabelStyle", "->", 
               RowBox[{"Directive", "[", 
                RowBox[{"Black", ",", "lgdlabelsize", ",", 
                 RowBox[{
                 "FontFamily", "->", "\"\<Latin Modern Roman Caps\>\""}]}], 
                "]"}]}], ",", 
              RowBox[{"LegendMarkerSize", "->", "15"}], ",", 
              RowBox[{"LegendFunction", "->", "Framed"}]}], " ", "]"}], ",", 
            RowBox[{"(*", "lgdpos", "*)"}], "Right"}], "]"}]}], ",", "\n", 
         RowBox[{"GridLines", "->", 
          RowBox[{"{", 
           RowBox[{
            RowBox[{"{", 
             RowBox[{
             "0.00001", ",", "0.0001", ",", "0.001", ",", "0.01", ",", 
              "0.1"}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"10", ",", "50", ",", "100", ",", "500", ",", "1000"}], 
             "}"}]}], "}"}]}], ",", "\n", 
         RowBox[{"GridLinesStyle", "->", 
          RowBox[{"Directive", "[", "Dashed", "]"}]}], ",", "\n", 
         RowBox[{"AspectRatio", "->", "1"}]}], 
        RowBox[{"(*", 
         RowBox[{
          RowBox[{"size", " ", "ratio", " ", "of", " ", "x"}], ",", " ", 
          RowBox[{"y", " ", "frame"}]}], " ", "*)"}], "\n", "\n", "\n", 
        "]"}]}], ";", "\n", "\n", "plotxQout"}]}], "\n", " ", 
    "]"}]}]}]], "Input",
 InitializationCell->True]
}, Open  ]],

Cell[CellGroupData[{

Cell["{x,Q} plot for size by value: xQptsizeplotsetting class", "Subsection"],

Cell[BoxData[
 RowBox[{
  RowBox[{"(*", 
   RowBox[{"for", " ", "PDFCorrelationplot3"}], "*)"}], "\n", 
  RowBox[{"(*", 
   RowBox[{"set", " ", "point", " ", "size"}], "*)"}], "\n", 
  RowBox[{
   RowBox[{
    RowBox[{
     RowBox[{"Setpointsize", "[", 
      RowBox[{"valuein_", ",", "maxvaluein_", ",", "pin_"}], "]"}], ":=", 
     "\n", 
     RowBox[{"Module", "[", 
      RowBox[{
       RowBox[{"{", 
        RowBox[{
         RowBox[{"value", "=", "valuein"}], ",", 
         RowBox[{"maxvalue", "=", "maxvaluein"}], ",", 
         RowBox[{"p", "=", "pin"}], ",", "basesize", ",", "normsize", ",", 
         "size"}], "}"}], ",", "\n", 
       RowBox[{
        RowBox[{"basesize", "=", "0.001"}], ";", "\n", 
        RowBox[{"normsize", "=", "0.0125"}], ";", 
        RowBox[{"(*", 
         RowBox[{"20170307", ":", " ", 
          RowBox[{"make", " ", "size", " ", "small"}]}], "*)"}], "\n", 
        RowBox[{"(*", 
         RowBox[{"set", " ", "size", " ", "uplimit"}], "*)"}], "\n", 
        RowBox[{"If", "[", 
         RowBox[{
          RowBox[{
           RowBox[{"Abs", "[", "value", "]"}], ">", "maxvalue"}], ",", 
          RowBox[{"value", "=", "maxvalue"}]}], "]"}], ";", "\n", 
        RowBox[{"(*", 
         RowBox[{"set", " ", "size", " ", "formula"}], "*)"}], "\n", 
        RowBox[{"size", "=", 
         RowBox[{"basesize", "+", 
          RowBox[{
           RowBox[{"(", "normsize", ")"}], "*", 
           RowBox[{
            RowBox[{"(", 
             RowBox[{
              RowBox[{"Abs", "[", "value", "]"}], "/", "maxvalue"}], ")"}], 
            "^", "p"}]}]}]}], ";", "\n", 
        RowBox[{"(*", 
         RowBox[{"plot", " ", "test"}], "*)"}], "\n", 
        RowBox[{"(*", "\n", 
         RowBox[{"Graphics", "[", 
          RowBox[{"{", 
           RowBox[{
            RowBox[{"PointSize", "[", "size", "]"}], ",", "Red", ",", 
            RowBox[{"Point", "[", 
             RowBox[{"{", 
              RowBox[{"0", ",", "0"}], "}"}], "]"}]}], "}"}], "]"}], "\n", 
         "*)"}], "\n", "size"}]}], "\n", "]"}]}], ";"}], "\n", "\n", 
   RowBox[{"(*", 
    RowBox[{
     RowBox[{"20170309", ":", " ", 
      RowBox[{
      "version", " ", "for", " ", "highlight", " ", "range", " ", "of", " ", 
       "points"}]}], ",", " ", 
     RowBox[{
     "highlighted", " ", "points", " ", "larger", " ", "than", " ", 
      "unhighlighted", " ", "points"}]}], "*)"}], "\n", 
   RowBox[{"(*", 
    RowBox[{
     RowBox[{"input", " ", "value"}], ",", " ", 
     RowBox[{"highlight", " ", "range"}], ",", " ", 
     RowBox[{"base", " ", "size"}], ",", " ", 
     RowBox[{"decide", " ", "the", " ", "size", " ", "of", " ", "point"}]}], 
    "*)"}], "\n", 
   RowBox[{
    RowBox[{
     RowBox[{"Setpointsize2", "[", 
      RowBox[{
      "valuein_", ",", "highlightrangein_", ",", "nohighlightsizein_"}], 
      "]"}], ":=", "\n", 
     RowBox[{"Module", "[", 
      RowBox[{
       RowBox[{"{", 
        RowBox[{
         RowBox[{"value", "=", "valuein"}], ",", 
         RowBox[{"highlightrange", "=", "highlightrangein"}], ",", 
         RowBox[{"nohighlightsize", "=", "nohighlightsizein"}], ",", 
         "rescalesize", ",", "addsize", ",", "size"}], "}"}], ",", "\n", 
       RowBox[{"(*", 
        RowBox[{
         RowBox[{"rescalesize", "=", "1.5"}], ";"}], "*)"}], "\n", "\n", 
       RowBox[{"(*", 
        RowBox[{"set", " ", "size", " ", "uplimit"}], "*)"}], "\n", 
       RowBox[{
        RowBox[{"If", "[", "\[IndentingNewLine]", 
         RowBox[{"(*", 
          RowBox[{
           RowBox[{"20171106", ":", " ", 
            RowBox[{
             RowBox[{
             "the", " ", "color", " ", "seperator", " ", "criteria", " ", 
              "is", " ", "r1"}], "\[LessEqual]", "value", "<", "r2"}]}], ",", 
           " ", 
           RowBox[{
           "so", " ", "the", " ", "size", " ", "also", " ", "follow", " ", 
            "it"}]}], "*)"}], "\[IndentingNewLine]", 
         RowBox[{
          RowBox[{
           RowBox[{"(", 
            RowBox[{
             RowBox[{"value", ">=", 
              RowBox[{"highlightrange", "[", 
               RowBox[{"[", "1", "]"}], "]"}]}], "&&", " ", 
             RowBox[{"value", "<", 
              RowBox[{"highlightrange", "[", 
               RowBox[{"[", "2", "]"}], "]"}]}]}], ")"}], "||", 
           RowBox[{"(", 
            RowBox[{
             RowBox[{"value", ">=", 
              RowBox[{"(", 
               RowBox[{"-", 
                RowBox[{"highlightrange", "[", 
                 RowBox[{"[", "2", "]"}], "]"}]}], ")"}]}], "&&", " ", 
             RowBox[{"value", "<", 
              RowBox[{"(", 
               RowBox[{"-", 
                RowBox[{"highlightrange", "[", 
                 RowBox[{"[", "1", "]"}], "]"}]}], ")"}]}]}], " ", ")"}]}], 
          "\n", 
          RowBox[{"(*", 
           RowBox[{
            RowBox[{
             RowBox[{"Abs", "[", "value", "]"}], ">=", 
             RowBox[{"highlightrange", "[", 
              RowBox[{"[", "1", "]"}], "]"}]}], "&&", " ", 
            RowBox[{
             RowBox[{"Abs", "[", "value", "]"}], "<=", 
             RowBox[{"highlightrange", "[", 
              RowBox[{"[", "2", "]"}], "]"}]}]}], "*)"}], ",", "\n", 
          RowBox[{"(*", 
           RowBox[{
            RowBox[{
            "for", " ", "case", " ", "of", " ", "highlight", " ", "max"}], 
            ",", " ", 
            RowBox[{"min", " ", "at", " ", "the", " ", "same", " ", "point"}],
             ",", " ", 
            RowBox[{
            "avoid", " ", "blow", " ", "up", " ", "by", " ", "give", " ", 
             "it", " ", "a", " ", "value"}]}], "*)"}], "\n", 
          RowBox[{
           RowBox[{"addsize", "=", "\n", 
            RowBox[{"If", "[", "\n", 
             RowBox[{
              RowBox[{
               RowBox[{"highlightrange", "[", 
                RowBox[{"[", "2", "]"}], "]"}], "!=", 
               RowBox[{"highlightrange", "[", 
                RowBox[{"[", "1", "]"}], "]"}]}], ",", "\n", 
              RowBox[{"0.01", "*", 
               RowBox[{
                RowBox[{"(", 
                 RowBox[{
                  RowBox[{"Abs", "[", "value", "]"}], "-", 
                  RowBox[{"highlightrange", "[", 
                   RowBox[{"[", "1", "]"}], "]"}]}], ")"}], "/", 
                RowBox[{"(", 
                 RowBox[{
                  RowBox[{"highlightrange", "[", 
                   RowBox[{"[", "2", "]"}], "]"}], "-", 
                  RowBox[{"highlightrange", "[", 
                   RowBox[{"[", "1", "]"}], "]"}]}], ")"}]}]}], ",", "\n", 
              "0.01"}], "\n", "]"}]}], ";", "\n", 
           RowBox[{"size", "=", 
            RowBox[{"nohighlightsize", "+", "addsize"}]}]}], ",", "\n", 
          RowBox[{"size", "=", "nohighlightsize"}]}], "\n", "]"}], ";", "\n", 
        "size"}]}], "\n", "]"}]}], ";"}], "\[IndentingNewLine]", 
   "\[IndentingNewLine]", 
   RowBox[{"(*", 
    RowBox[{
     RowBox[{"highlight", " ", "points", " ", "one", " ", "size"}], ",", " ", 
     
     RowBox[{"unhighlighted", " ", "points", " ", "another", " ", "size"}]}], 
    " ", "*)"}], "\n", 
   RowBox[{
    RowBox[{
     RowBox[{"Setpointsize3", "[", 
      RowBox[{
      "valuein_", ",", "highlightrangein_", ",", "nohighlightsizein_"}], 
      "]"}], ":=", "\n", 
     RowBox[{"Module", "[", 
      RowBox[{
       RowBox[{"{", 
        RowBox[{
         RowBox[{"value", "=", "valuein"}], ",", 
         RowBox[{"highlightrange", "=", "highlightrangein"}], ",", 
         RowBox[{"nohighlightsize", "=", "nohighlightsizein"}], ",", 
         "rescalesize", ",", "addsize", ",", "size"}], "}"}], ",", "\n", 
       RowBox[{"(*", 
        RowBox[{
         RowBox[{"rescalesize", "=", "1.5"}], ";"}], "*)"}], "\n", "\n", 
       RowBox[{"(*", 
        RowBox[{"set", " ", "size", " ", "uplimit"}], "*)"}], "\n", 
       RowBox[{
        RowBox[{"If", "[", "\[IndentingNewLine]", 
         RowBox[{"(*", 
          RowBox[{
           RowBox[{"20171106", ":", " ", 
            RowBox[{
             RowBox[{
             "the", " ", "color", " ", "seperator", " ", "criteria", " ", 
              "is", " ", "r1"}], "\[LessEqual]", "value", "<", "r2"}]}], ",", 
           " ", 
           RowBox[{
           "so", " ", "the", " ", "size", " ", "also", " ", "follow", " ", 
            "it"}]}], "*)"}], "\[IndentingNewLine]", 
         RowBox[{
          RowBox[{
           RowBox[{"(", 
            RowBox[{
             RowBox[{"value", ">=", 
              RowBox[{"highlightrange", "[", 
               RowBox[{"[", "1", "]"}], "]"}]}], "&&", " ", 
             RowBox[{"value", "<", 
              RowBox[{"highlightrange", "[", 
               RowBox[{"[", "2", "]"}], "]"}]}]}], ")"}], "||", 
           RowBox[{"(", 
            RowBox[{
             RowBox[{"value", ">=", 
              RowBox[{"(", 
               RowBox[{"-", 
                RowBox[{"highlightrange", "[", 
                 RowBox[{"[", "2", "]"}], "]"}]}], ")"}]}], "&&", " ", 
             RowBox[{"value", "<", 
              RowBox[{"(", 
               RowBox[{"-", 
                RowBox[{"highlightrange", "[", 
                 RowBox[{"[", "1", "]"}], "]"}]}], ")"}]}]}], " ", ")"}]}], 
          "\n", 
          RowBox[{"(*", 
           RowBox[{
            RowBox[{
             RowBox[{"Abs", "[", "value", "]"}], ">=", 
             RowBox[{"highlightrange", "[", 
              RowBox[{"[", "1", "]"}], "]"}]}], "&&", " ", 
            RowBox[{
             RowBox[{"Abs", "[", "value", "]"}], "<=", 
             RowBox[{"highlightrange", "[", 
              RowBox[{"[", "2", "]"}], "]"}]}]}], "*)"}], ",", "\n", 
          RowBox[{"(*", 
           RowBox[{
            RowBox[{
            "for", " ", "case", " ", "of", " ", "highlight", " ", "max"}], 
            ",", " ", 
            RowBox[{"min", " ", "at", " ", "the", " ", "same", " ", "point"}],
             ",", " ", 
            RowBox[{
            "avoid", " ", "blow", " ", "up", " ", "by", " ", "give", " ", 
             "it", " ", "a", " ", "value"}]}], "*)"}], "\n", 
          RowBox[{
           RowBox[{"addsize", "=", "\n", 
            RowBox[{"If", "[", "\n", 
             RowBox[{
              RowBox[{
               RowBox[{"highlightrange", "[", 
                RowBox[{"[", "2", "]"}], "]"}], "!=", 
               RowBox[{"highlightrange", "[", 
                RowBox[{"[", "1", "]"}], "]"}]}], ",", "\n", "0.005", ",", 
              "\n", "0.005"}], "\n", "]"}]}], ";", "\n", 
           RowBox[{"size", "=", 
            RowBox[{"nohighlightsize", "+", "addsize"}]}]}], ",", "\n", 
          RowBox[{"size", "=", "nohighlightsize"}]}], "\n", "]"}], ";", "\n", 
        "size"}]}], "\n", "]"}]}], ";"}], "\[IndentingNewLine]", 
   "\[IndentingNewLine]", 
   RowBox[{"(*", 
    RowBox[{"20171109", ":", " ", 
     RowBox[{"highlight", " ", "convention", " ", "change"}], ":", " ", 
     RowBox[{"{", 
      RowBox[{
       RowBox[{"{", 
        RowBox[{"hmin1", ",", "hmax1"}], "}"}], ",", 
       RowBox[{"{", 
        RowBox[{"hmin2", ",", "hmax2"}], "}"}], ",", "..."}], "}"}]}], "*)"}],
    "\[IndentingNewLine]", 
   RowBox[{"(*", 
    RowBox[{
     RowBox[{"highlight", " ", "points", " ", "one", " ", "size"}], ",", " ", 
     
     RowBox[{"unhighlighted", " ", "points", " ", "another", " ", "size"}]}], 
    " ", "*)"}], "\n", 
   RowBox[{
    RowBox[{
     RowBox[{"Setpointsize4", "[", 
      RowBox[{
      "valuein_", ",", "highlightrangein_", ",", "nohighlightsizein_"}], 
      "]"}], ":=", "\n", 
     RowBox[{"Module", "[", 
      RowBox[{
       RowBox[{"{", 
        RowBox[{
         RowBox[{"value", "=", "valuein"}], ",", 
         RowBox[{"highlightrange", "=", "highlightrangein"}], ",", 
         RowBox[{"nohighlightsize", "=", "nohighlightsizein"}], ",", 
         "rescalesize", ",", "addsize", ",", "size"}], "}"}], ",", 
       "\[IndentingNewLine]", 
       RowBox[{"(*", 
        RowBox[{
        "check", " ", "highlight", " ", "range", " ", "convention", " ", "is",
          " ", "correct"}], "*)"}], "\[IndentingNewLine]", 
       RowBox[{
        RowBox[{"If", "[", 
         RowBox[{
          RowBox[{
           RowBox[{"Length", "[", 
            RowBox[{"Dimensions", "[", "highlightrange", "]"}], " ", "]"}], 
           "\[NotEqual]", "2"}], " ", ",", "\[IndentingNewLine]", 
          RowBox[{
           RowBox[{"Print", "[", 
            RowBox[{
            "\"\<highlight range convention incorrect, the correct convention \
should be {{hmin1,hmax1},{hmin2,hmax2},...}, yours: \>\"", ",", 
             "highlightrange"}], "]"}], ";", 
           RowBox[{"Quit", "[", "]"}]}]}], " ", "]"}], ";", 
        "\[IndentingNewLine]", 
        RowBox[{"If", "[", 
         RowBox[{
          RowBox[{
           RowBox[{
            RowBox[{"Dimensions", "[", "highlightrange", "]"}], "[", 
            RowBox[{"[", "2", "]"}], "]"}], "\[NotEqual]", "2"}], ",", 
          "\[IndentingNewLine]", 
          RowBox[{
           RowBox[{"Print", "[", 
            RowBox[{
            "\"\<highlight range convention incorrect, the correct convention \
should be {{hmin1,hmax1},{hmin2,hmax2},...}, yours: \>\"", ",", 
             "highlightrange"}], "]"}], ";", 
           RowBox[{"Quit", "[", "]"}]}]}], " ", "]"}], ";", 
        "\[IndentingNewLine]", 
        RowBox[{
         RowBox[{
          RowBox[{"If", "[", 
           RowBox[{
            RowBox[{
             RowBox[{"#", "[", 
              RowBox[{"[", "2", "]"}], "]"}], "<", 
             RowBox[{"#", "[", 
              RowBox[{"[", "1", "]"}], "]"}]}], ",", 
            RowBox[{
             RowBox[{
             "Print", "[", 
              "\"\<error, in each {hmin, hmax} the specifying highlight \
range, hmax should larger than hmin\>\"", "]"}], ";", 
             RowBox[{"Quit", "[", "]"}]}]}], " ", "]"}], "&"}], "/@", 
         "highlightrange"}], ";", "\n", 
        RowBox[{"(*", 
         RowBox[{
          RowBox[{"rescalesize", "=", "1.5"}], ";"}], "*)"}], "\n", "\n", 
        RowBox[{"(*", 
         RowBox[{"set", " ", "size", " ", "uplimit"}], "*)"}], "\n", 
        RowBox[{"If", "[", "\[IndentingNewLine]", 
         RowBox[{"(*", 
          RowBox[{
           RowBox[{"20171106", ":", " ", 
            RowBox[{
             RowBox[{
             "the", " ", "color", " ", "seperator", " ", "criteria", " ", 
              "is", " ", "r1"}], "\[LessEqual]", "value", "<", "r2"}]}], ",", 
           " ", 
           RowBox[{
           "so", " ", "the", " ", "size", " ", "also", " ", "follow", " ", 
            "it"}]}], "*)"}], "\[IndentingNewLine]", 
         RowBox[{"(*", 
          RowBox[{
           RowBox[{"(", 
            RowBox[{
             RowBox[{"value", ">=", 
              RowBox[{"highlightrange", "[", 
               RowBox[{"[", "1", "]"}], "]"}]}], "&&", " ", 
             RowBox[{"value", "<", 
              RowBox[{"highlightrange", "[", 
               RowBox[{"[", "2", "]"}], "]"}]}]}], ")"}], "||", 
           RowBox[{"(", 
            RowBox[{
             RowBox[{"value", ">=", 
              RowBox[{"(", 
               RowBox[{"-", 
                RowBox[{"highlightrange", "[", 
                 RowBox[{"[", "2", "]"}], "]"}]}], ")"}]}], "&&", " ", 
             RowBox[{"value", "<", 
              RowBox[{"(", 
               RowBox[{"-", 
                RowBox[{"highlightrange", "[", 
                 RowBox[{"[", "1", "]"}], "]"}]}], ")"}]}]}], " ", ")"}]}], 
          "*)"}], "\[IndentingNewLine]", 
         RowBox[{"(*", 
          RowBox[{
           RowBox[{"20171109", ":", " ", 
            RowBox[{
            "if", " ", "the", " ", "value", " ", "is", " ", "in", " ", "any", 
             " ", "highlight", " ", "range"}]}], ",", " ", 
           RowBox[{"add", " ", "size"}]}], "*)"}], "\[IndentingNewLine]", 
         RowBox[{
          RowBox[{
           RowBox[{"Intersection", "[", 
            RowBox[{
             RowBox[{
              RowBox[{
               RowBox[{"(", 
                RowBox[{
                 RowBox[{"value", ">=", 
                  RowBox[{"#", "[", 
                   RowBox[{"[", "1", "]"}], "]"}]}], " ", "&&", " ", 
                 RowBox[{"value", "<", 
                  RowBox[{"#", "[", 
                   RowBox[{"[", "2", "]"}], "]"}]}]}], ")"}], "&"}], "/@", 
              "highlightrange"}], ",", 
             RowBox[{"{", "True", "}"}]}], "]"}], "==", 
           RowBox[{"{", "True", "}"}]}], "\n", 
          RowBox[{"(*", 
           RowBox[{
            RowBox[{
             RowBox[{"Abs", "[", "value", "]"}], ">=", 
             RowBox[{"highlightrange", "[", 
              RowBox[{"[", "1", "]"}], "]"}]}], "&&", " ", 
            RowBox[{
             RowBox[{"Abs", "[", "value", "]"}], "<=", 
             RowBox[{"highlightrange", "[", 
              RowBox[{"[", "2", "]"}], "]"}]}]}], "*)"}], ",", "\n", 
          RowBox[{"(*", 
           RowBox[{
            RowBox[{
            "for", " ", "case", " ", "of", " ", "highlight", " ", "max"}], 
            ",", " ", 
            RowBox[{"min", " ", "at", " ", "the", " ", "same", " ", "point"}],
             ",", " ", 
            RowBox[{
            "avoid", " ", "blow", " ", "up", " ", "by", " ", "give", " ", 
             "it", " ", "a", " ", "value"}]}], "*)"}], "\n", 
          RowBox[{
           RowBox[{"addsize", "=", "\n", 
            RowBox[{"If", "[", "\n", 
             RowBox[{"(*", 
              RowBox[{
              "20171109", " ", "for", " ", "new", " ", "highlight", " ", 
               "range", " ", "convention"}], "*)"}], 
             RowBox[{"(*", 
              RowBox[{
               RowBox[{"highlightrange", "[", 
                RowBox[{"[", "2", "]"}], "]"}], "!=", 
               RowBox[{"highlightrange", "[", 
                RowBox[{"[", "1", "]"}], "]"}]}], "*)"}], 
             RowBox[{
              RowBox[{"highlightrange", "\[NotEqual]", 
               RowBox[{"{", 
                RowBox[{"{", 
                 RowBox[{"0.0", ",", "0.0"}], "}"}], "}"}]}], ",", "\n", 
              "0.005", ",", "\n", "0.0"}], "\n", "]"}]}], ";", "\n", 
           RowBox[{"size", "=", 
            RowBox[{"nohighlightsize", "+", "addsize"}]}]}], ",", "\n", 
          RowBox[{"size", "=", "nohighlightsize"}]}], "\n", "]"}], ";", "\n", 
        "size"}]}], "\n", "]"}]}], ";"}], "\[IndentingNewLine]", 
   "\[IndentingNewLine]", 
   RowBox[{"(*", 
    RowBox[{"set", " ", "color", " ", "scheme"}], "*)"}], "\n", 
   RowBox[{
    RowBox[{
     RowBox[{"getbarseperator", "[", 
      RowBox[{"medianin_", ",", "Nmedianin_"}], "]"}], ":=", "\n", 
     RowBox[{"Module", "[", 
      RowBox[{
       RowBox[{"{", 
        RowBox[{
         RowBox[{"median", "=", "medianin"}], ",", 
         RowBox[{"Nmedian", "=", "Nmedianin"}], ",", "barseperator"}], "}"}], 
       ",", "\n", 
       RowBox[{"(*", 
        RowBox[{"set", " ", "bar", " ", "seperator", " ", "as", " ", 
         RowBox[{"{", 
          RowBox[{
           RowBox[{
            RowBox[{"-", "N"}], "*", "median"}], ",", 
           RowBox[{"...", "-", "median"}], ",", "median", ",", 
           RowBox[{"...", "N", "*", "median"}]}], "}"}]}], " ", "*)"}], "\n", 
       
       RowBox[{
        RowBox[{"barseperator", "=", 
         RowBox[{
          RowBox[{
           RowBox[{"Table", "[", 
            RowBox[{
             RowBox[{"{", 
              RowBox[{
               RowBox[{"i", "*", "median"}], ",", 
               RowBox[{
                RowBox[{"-", "i"}], "*", "median"}]}], "}"}], ",", 
             RowBox[{"{", 
              RowBox[{"i", ",", "1", ",", "Nmedian"}], "}"}]}], "]"}], "//", 
           "Flatten"}], "//", "Sort"}]}], ";", "\n", "barseperator"}]}], "\n",
       "]"}]}], ";"}], "\n", "\n", 
   RowBox[{
    RowBox[{
     RowBox[{"getbarcolor", "[", 
      RowBox[{"medianin_", ",", "Nmedianin_", ",", "colorschemein_"}], "]"}], 
     ":=", "\n", 
     RowBox[{"Module", "[", 
      RowBox[{
       RowBox[{"{", 
        RowBox[{
         RowBox[{"median", "=", "medianin"}], ",", 
         RowBox[{"Nmedian", "=", "Nmedianin"}], ",", 
         RowBox[{"colorscheme", "=", "colorschemein"}], ",", "barseperator", 
         ",", "barcolor", ",", "barmax", ",", "barmin"}], "}"}], ",", "\n", 
       RowBox[{
        RowBox[{"barseperator", "=", 
         RowBox[{"getbarseperator", "[", 
          RowBox[{"median", ",", "Nmedian"}], "]"}]}], ";", "\n", 
        RowBox[{"(*", 
         RowBox[{
          RowBox[{"set", " ", "max"}], ",", " ", 
          RowBox[{"min", " ", "of", " ", "data"}]}], "*)"}], "\n", 
        RowBox[{"barmax", "=", 
         RowBox[{"Max", "[", "barseperator", "]"}]}], ";", "\n", 
        RowBox[{"barmin", "=", 
         RowBox[{"Min", "[", "barseperator", "]"}]}], ";", "\n", 
        RowBox[{"(*", 
         RowBox[{
          RowBox[{
          "set", " ", "color", " ", "between", " ", "every", " ", "bar", " ", 
           "seperator"}], ",", " ", 
          RowBox[{"color", " ", "value", " ", "is", " ", "from", " ", 
           RowBox[{
            RowBox[{"(", 
             RowBox[{
              RowBox[{"seperator", "[", "i", "]"}], "+", 
              RowBox[{"seperator", "[", 
               RowBox[{"i", "+", "1"}], "]"}]}], ")"}], "/", "2"}]}]}], " ", 
         "*)"}], "\n", 
        RowBox[{"barcolor", "=", 
         RowBox[{"Table", "[", 
          RowBox[{
           RowBox[{"ColorData", "[", 
            RowBox[{
             RowBox[{"{", 
              RowBox[{"colorscheme", ",", 
               RowBox[{"{", 
                RowBox[{"barmin", ",", "barmax"}], "}"}]}], "}"}], ",", 
             RowBox[{
              RowBox[{"(", 
               RowBox[{
                RowBox[{"barseperator", "[", 
                 RowBox[{"[", "i", "]"}], "]"}], "+", 
                RowBox[{"barseperator", "[", 
                 RowBox[{"[", 
                  RowBox[{"i", "+", "1"}], "]"}], "]"}]}], ")"}], "/", 
              "2.0"}]}], " ", "]"}], ",", 
           RowBox[{"{", 
            RowBox[{"i", ",", "1", ",", 
             RowBox[{
              RowBox[{"Length", "[", "barseperator", "]"}], "-", "1"}]}], 
            "}"}]}], "]"}]}], ";", "\n", 
        RowBox[{"(*", 
         RowBox[{
         "add", " ", "tail", " ", "color", " ", "for", " ", "outlayer", " ", 
          "data"}], "*)"}], "\n", 
        RowBox[{"barcolor", "=", 
         RowBox[{"Insert", "[", 
          RowBox[{"barcolor", ",", "Blue", ",", "1"}], "]"}]}], ";", "\n", 
        RowBox[{"barcolor", "=", 
         RowBox[{"Insert", "[", 
          RowBox[{"barcolor", ",", "Red", ",", 
           RowBox[{"-", "1"}]}], "]"}]}], ";", "\n", "barcolor"}]}], "\n", 
      "]"}]}], ";"}], "\n", "\n", 
   RowBox[{
    RowBox[{
     RowBox[{"getbarcolor2", "[", 
      RowBox[{"barseperatorin_", ",", "colorschemein_"}], "]"}], ":=", "\n", 
     RowBox[{"Module", "[", 
      RowBox[{
       RowBox[{"{", 
        RowBox[{
         RowBox[{"barseperator", "=", "barseperatorin"}], ",", 
         RowBox[{"colorscheme", "=", "colorschemein"}], ",", "barcolor", ",", 
         "barmax", ",", "barmin"}], "}"}], ",", "\n", "\n", 
       RowBox[{"(*", 
        RowBox[{
         RowBox[{"set", " ", "max"}], ",", " ", 
         RowBox[{"min", " ", "of", " ", "data"}]}], "*)"}], "\n", 
       RowBox[{
        RowBox[{"barmax", "=", 
         RowBox[{"Max", "[", "barseperator", "]"}]}], ";", "\n", 
        RowBox[{"barmin", "=", 
         RowBox[{"Min", "[", "barseperator", "]"}]}], ";", "\n", 
        RowBox[{"(*", 
         RowBox[{
          RowBox[{
          "set", " ", "color", " ", "between", " ", "every", " ", "bar", " ", 
           "seperator"}], ",", " ", 
          RowBox[{"color", " ", "value", " ", "is", " ", "from", " ", 
           RowBox[{
            RowBox[{"(", 
             RowBox[{
              RowBox[{"seperator", "[", "i", "]"}], "+", 
              RowBox[{"seperator", "[", 
               RowBox[{"i", "+", "1"}], "]"}]}], ")"}], "/", "2"}]}]}], " ", 
         "*)"}], "\n", 
        RowBox[{"barcolor", "=", 
         RowBox[{"Table", "[", 
          RowBox[{
           RowBox[{"ColorData", "[", 
            RowBox[{
             RowBox[{"{", 
              RowBox[{"colorscheme", ",", 
               RowBox[{"{", 
                RowBox[{"barmin", ",", "barmax"}], "}"}]}], "}"}], ",", 
             RowBox[{
              RowBox[{"(", 
               RowBox[{
                RowBox[{"barseperator", "[", 
                 RowBox[{"[", "i", "]"}], "]"}], "+", 
                RowBox[{"barseperator", "[", 
                 RowBox[{"[", 
                  RowBox[{"i", "+", "1"}], "]"}], "]"}]}], ")"}], "/", 
              "2.0"}]}], " ", "]"}], ",", 
           RowBox[{"{", 
            RowBox[{"i", ",", "1", ",", 
             RowBox[{
              RowBox[{"Length", "[", "barseperator", "]"}], "-", "1"}]}], 
            "}"}]}], "]"}]}], ";", "\n", 
        RowBox[{"(*", 
         RowBox[{
         "add", " ", "tail", " ", "color", " ", "for", " ", "outlayer", " ", 
          "data"}], "*)"}], "\n", 
        RowBox[{"barcolor", "=", 
         RowBox[{"Insert", "[", 
          RowBox[{"barcolor", ",", "Blue", ",", "1"}], "]"}]}], ";", "\n", 
        RowBox[{"barcolor", "=", 
         RowBox[{"Insert", "[", 
          RowBox[{"barcolor", ",", "Red", ",", 
           RowBox[{"-", "1"}]}], "]"}]}], ";", "\n", "barcolor"}]}], "\n", 
      "]"}]}], ";"}], "\n", 
   RowBox[{"(*", "\n", 
    RowBox[{
     RowBox[{
      RowBox[{"Setbarlegend", "[", 
       RowBox[{"medianin_", ",", "Nmedianin_", ",", "colorschemein_"}], "]"}],
       ":=", "\n", 
      RowBox[{"Module", "[", 
       RowBox[{
        RowBox[{"{", 
         RowBox[{
          RowBox[{"median", "=", "medianin"}], ",", 
          RowBox[{"Nmedian", "=", "Nmedianin"}], ",", 
          RowBox[{"colorscheme", "=", "colorschemein"}], ",", "barseperator", 
          ",", "barmax", ",", "barmin", ",", "barcolor"}], "}"}], ",", "\n", 
        RowBox[{
         RowBox[{"barseperator", "=", 
          RowBox[{"getbarseperator", "[", 
           RowBox[{"median", ",", "Nmedian"}], "]"}]}], ";", "\n", 
         RowBox[{"barcolor", "=", 
          RowBox[{"getbarcolor", "[", 
           RowBox[{"median", ",", "Nmedian", ",", "colorscheme"}], "]"}]}], 
         ";", "\n", "\n", 
         RowBox[{"BarLegend", "[", 
          RowBox[{
           RowBox[{"{", 
            RowBox[{"barcolor", ",", 
             RowBox[{"{", 
              RowBox[{
               RowBox[{"-", "10000"}], ",", "10000"}], "}"}]}], "}"}], ",", 
           RowBox[{"(*", 
            RowBox[{
             RowBox[{"{", 
              RowBox[{
               RowBox[{"2", "*", "barmin"}], ",", "barseperator", ",", 
               RowBox[{"2", "*", "barmax"}]}], "}"}], "//", "Flatten"}], 
            "*)"}], "barseperator"}], "]"}]}]}], "\n", "]"}]}], ";"}], "\n", 
    "*)"}], "\n", 
   RowBox[{
    RowBox[{
     RowBox[{"Setbarlegend", "[", 
      RowBox[{"barseperatorin_", ",", "barcolorin_"}], "]"}], ":=", "\n", 
     RowBox[{"Module", "[", 
      RowBox[{
       RowBox[{"{", 
        RowBox[{
         RowBox[{"barseperator", "=", "barseperatorin"}], ",", 
         RowBox[{"barcolor", "=", "barcolorin"}]}], "}"}], ",", "\n", "\n", 
       RowBox[{
        RowBox[{"If", "[", 
         RowBox[{
          RowBox[{
           RowBox[{"Length", "[", "barcolor", "]"}], "!=", 
           RowBox[{
            RowBox[{"Length", "[", "barseperator", "]"}], "+", "1"}]}], ",", 
          RowBox[{
          "Print", "[", "\"\<error, Ncolor != Nseperator+1\>\"", "]"}]}], " ",
          "]"}], ";", "\n", "\n", 
        RowBox[{"BarLegend", "[", 
         RowBox[{
          RowBox[{"{", 
           RowBox[{"barcolor", ",", 
            RowBox[{"{", 
             RowBox[{
              RowBox[{"-", "10000"}], ",", "10000"}], "}"}]}], "}"}], ",", 
          RowBox[{"(*", 
           RowBox[{
            RowBox[{"{", 
             RowBox[{
              RowBox[{"2", "*", "barmin"}], ",", "barseperator", ",", 
              RowBox[{"2", "*", "barmax"}]}], "}"}], "//", "Flatten"}], 
           "*)"}], "barseperator"}], "]"}]}]}], "\n", "]"}]}], ";"}], "\n", 
   "\n", 
   RowBox[{
    RowBox[{
     RowBox[{"Setbarcolorfunc", "[", 
      RowBox[{"barcolorin_", ",", "barseperatorin_", ",", "valuein_"}], "]"}],
      ":=", "\n", 
     RowBox[{"Module", "[", 
      RowBox[{
       RowBox[{"{", 
        RowBox[{
         RowBox[{"barcolor", "=", "barcolorin"}], ",", 
         RowBox[{"barseperator", "=", "barseperatorin"}], ",", 
         RowBox[{"value", "=", "valuein"}], ",", "output"}], "}"}], ",", "\n", 
       RowBox[{
        RowBox[{"output", "=", 
         RowBox[{"{", "}"}]}], ";", "\n", 
        RowBox[{"(*", 
         RowBox[{"c1", "|", "s1", "|", "c2", "|", "s2", "|", "...", "|", 
          RowBox[{"sN", "-", "1"}], "|", "cN"}], "*)"}], "\n", 
        RowBox[{"Do", "[", "\n", 
         RowBox[{
          RowBox[{"If", "[", 
           RowBox[{
            RowBox[{"value", ">=", 
             RowBox[{"barseperator", "[", 
              RowBox[{"[", "i", "]"}], "]"}]}], ",", 
            RowBox[{"output", "=", 
             RowBox[{"barcolor", "[", 
              RowBox[{"[", 
               RowBox[{"i", "+", "1"}], "]"}], "]"}]}]}], " ", "]"}], ",", 
          "\n", 
          RowBox[{"{", 
           RowBox[{"i", ",", "1", ",", 
            RowBox[{"Length", "[", "barseperator", "]"}]}], "}"}]}], "\n", 
         "]"}], ";", "\n", "\n", 
        RowBox[{"If", "[", 
         RowBox[{
          RowBox[{"value", "<", 
           RowBox[{"barseperator", "[", 
            RowBox[{"[", "1", "]"}], "]"}]}], ",", 
          RowBox[{"output", "=", 
           RowBox[{"barcolor", "[", 
            RowBox[{"[", "1", "]"}], "]"}]}]}], " ", "]"}], ";", "\n", 
        "output"}]}], "\n", "]"}]}], ";"}], "\n", "\n", 
   RowBox[{"(*", 
    RowBox[{"for", " ", "PDFCorrelationplot6"}], "*)"}], "\n", 
   RowBox[{
    RowBox[{
     RowBox[{"Setbarcolorfunc2", "[", 
      RowBox[{"barcolorin_", ",", "barseperatorin_", ",", "valuein_"}], "]"}],
      ":=", "\n", 
     RowBox[{"Module", "[", 
      RowBox[{
       RowBox[{"{", 
        RowBox[{
         RowBox[{"barcolor", "=", "barcolorin"}], ",", 
         RowBox[{"barseperator", "=", "barseperatorin"}], ",", 
         RowBox[{"value", "=", "valuein"}], ",", "output"}], "}"}], ",", "\n", 
       RowBox[{
        RowBox[{"output", "=", 
         RowBox[{"{", "}"}]}], ";", "\n", 
        RowBox[{"(*", 
         RowBox[{"|", "s1", "|", "c1", "|", "s2", "|", "...", "|", 
          RowBox[{"cN", "-", "1"}], "|", "sN", "|"}], "*)"}], "\n", 
        RowBox[{"Do", "[", "\n", 
         RowBox[{
          RowBox[{"If", "[", 
           RowBox[{
            RowBox[{"value", ">=", 
             RowBox[{"barseperator", "[", 
              RowBox[{"[", "i", "]"}], "]"}]}], ",", 
            RowBox[{"output", "=", 
             RowBox[{"barcolor", "[", 
              RowBox[{"[", "i", "]"}], "]"}]}]}], " ", "]"}], ",", "\n", 
          RowBox[{"{", 
           RowBox[{"i", ",", "1", ",", 
            RowBox[{
             RowBox[{"Length", "[", "barseperator", "]"}], "-", "1"}]}], 
           "}"}]}], "\n", "]"}], ";", "\n", 
        RowBox[{"(*", 
         RowBox[{
          RowBox[{
           RowBox[{"value", ">", " ", "max"}], " ", "||", " ", 
           RowBox[{"value", " ", "<", " ", "min"}]}], ",", " ", 
          RowBox[{
          "give", " ", "max", " ", "color", " ", "and", " ", "min", " ", 
           "color"}]}], "*)"}], "\n", 
        RowBox[{"If", "[", 
         RowBox[{
          RowBox[{"value", "<", 
           RowBox[{"barseperator", "[", 
            RowBox[{"[", "1", "]"}], "]"}]}], ",", 
          RowBox[{"output", "=", 
           RowBox[{"barcolor", "[", 
            RowBox[{"[", "1", "]"}], "]"}]}]}], " ", "]"}], ";", "\n", 
        RowBox[{"If", "[", 
         RowBox[{
          RowBox[{"value", ">=", 
           RowBox[{"barseperator", "[", 
            RowBox[{"[", " ", 
             RowBox[{"-", "1"}], " ", "]"}], "]"}]}], ",", 
          RowBox[{"output", "=", 
           RowBox[{"barcolor", "[", 
            RowBox[{"[", 
             RowBox[{"-", "1"}], "]"}], "]"}]}]}], " ", "]"}], ";", "\n", 
        RowBox[{"(*", "test", "*)"}], "\n", "output"}]}], "\n", "]"}]}], 
    ";"}]}]}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{{3.7190698440033712`*^9, 3.719069907632021*^9}, {
   3.719069940184164*^9, 3.719070068056305*^9}, {3.719148437745763*^9, 
   3.7191484404355383`*^9}, 3.719148480048477*^9, {3.71914969092642*^9, 
   3.719149693969574*^9}, {3.7191580349767437`*^9, 3.719158035927339*^9}, {
   3.71915808704643*^9, 3.719158088393729*^9}, {3.7191581208072977`*^9, 
   3.7191581451102743`*^9}, {3.719158198783579*^9, 3.71915819964008*^9}, {
   3.719217389517955*^9, 3.719217419773883*^9}, {3.719217454085292*^9, 
   3.719217709870475*^9}, {3.7192181233459997`*^9, 3.719218269400683*^9}, {
   3.719219467879814*^9, 3.719219553162162*^9}, {3.719221982620034*^9, 
   3.7192219874137907`*^9}, {3.719222286846439*^9, 3.719222292801667*^9}, {
   3.719222558818955*^9, 3.719222641751903*^9}, {3.719230016540209*^9, 
   3.719230076242309*^9}, {3.71923027815257*^9, 3.719230280948921*^9}}],

Cell[BoxData[
 RowBox[{
  RowBox[{"(*", 
   RowBox[{"make", " ", "exptname", " ", "table", " ", "jpg"}], "*)"}], "\n", 
  
  RowBox[{"(*", 
   RowBox[{
    RowBox[{"input", " ", "a", " ", "List", " ", "of", " ", "string", " ", 
     RowBox[{"(", "exptnames", ")"}]}], ",", " ", 
    RowBox[{
    "#row", " ", "for", " ", "every", " ", "column", " ", "and", " ", "title",
      " ", "for", " ", "this", " ", "table"}], ",", " ", 
    RowBox[{
    "output", " ", "a", " ", "Grid", " ", "of", " ", "string", " ", "with", 
     " ", "#row", "*", "#column"}]}], " ", "*)"}], "\[IndentingNewLine]", 
  RowBox[{"(*", 
   RowBox[{
    RowBox[{"20171114", ":", " ", 
     RowBox[{"add", " ", "date", " ", "mode", " ", "for", " ", "track"}]}], 
    ",", " ", 
    RowBox[{
     RowBox[{"if", " ", "datemode"}], " ", "=", " ", "\"\<True\>\""}], ",", 
    " ", 
    RowBox[{"write", " ", "the", " ", "date"}], ",", " ", "False", ",", " ", 
    RowBox[{
     RowBox[{"don", "'"}], "t", " ", "write", " ", "the", " ", "date"}]}], 
   "*)"}], "\n", 
  RowBox[{
   RowBox[{
    RowBox[{"makeGrid2", "[", 
     RowBox[{"strin_", ",", "rowsin_", ",", "titlein_", ",", "datemodein_"}], 
     "]"}], ":=", "\n", 
    RowBox[{"Module", "[", 
     RowBox[{
      RowBox[{"{", 
       RowBox[{
        RowBox[{"str", "=", "strin"}], ",", 
        RowBox[{"rows", "=", "rowsin"}], ",", 
        RowBox[{"title", "=", "titlein"}], ",", 
        RowBox[{"datemode", "=", "datemodein"}], ",", "columns", ",", "\n", 
        "lastcolstr", ",", "strout", ",", "datestring"}], "}"}], ",", "\n", 
      RowBox[{
       RowBox[{"columns", "=", 
        RowBox[{"Quotient", "[", 
         RowBox[{
          RowBox[{"Length", "[", "str", "]"}], ",", "rows"}], "]"}]}], ";", 
       "\n", 
       RowBox[{"strout", "=", 
        RowBox[{"Table", "[", 
         RowBox[{
          RowBox[{"str", "[", 
           RowBox[{"[", 
            RowBox[{
             RowBox[{"ic", "*", "rows"}], "+", "ir"}], "]"}], "]"}], ",", 
          RowBox[{"{", 
           RowBox[{"ic", ",", "0", ",", 
            RowBox[{"columns", "-", "1"}]}], "}"}], ",", 
          RowBox[{"{", 
           RowBox[{"ir", ",", "1", ",", "rows"}], "}"}]}], "]"}]}], ";", "\n", 
       RowBox[{"lastcolstr", "=", 
        RowBox[{"Table", "[", 
         RowBox[{
          RowBox[{"str", "[", 
           RowBox[{"[", "i", "]"}], "]"}], ",", 
          RowBox[{"{", 
           RowBox[{"i", ",", 
            RowBox[{
             RowBox[{"columns", "*", "rows"}], "+", "1"}], ",", 
            RowBox[{"Length", "[", "str", "]"}]}], "}"}]}], "]"}]}], ";", 
       "\n", 
       RowBox[{"strout", "=", 
        RowBox[{"Append", "[", 
         RowBox[{"strout", ",", "lastcolstr"}], "]"}]}], ";", "\n", 
       RowBox[{"strout", "=", 
        RowBox[{"Insert", "[", 
         RowBox[{"strout", ",", 
          RowBox[{"{", 
           RowBox[{
            RowBox[{"Text", "[", 
             RowBox[{"Style", "[", 
              RowBox[{"title", ",", 
               RowBox[{"FontSize", "->", "24"}]}], "]"}], " ", "]"}], ",", 
            "SpanFromLeft"}], "}"}], ",", "1"}], "]"}]}], ";", "\n", 
       RowBox[{"strout", "=", 
        RowBox[{"Insert", "[", 
         RowBox[{"strout", ",", 
          RowBox[{"{", "\"\<Data Sets\>\"", "}"}], ",", "2"}], "]"}]}], ";", 
       "\[IndentingNewLine]", 
       RowBox[{"(*", 
        RowBox[{"20171114", ":", " ", 
         RowBox[{"add", " ", "date", " ", "for", " ", "track"}]}], "*)"}], 
       "\[IndentingNewLine]", 
       RowBox[{"If", "[", "\[IndentingNewLine]", 
        RowBox[{
         RowBox[{"datemode", "\[Equal]", "True"}], ",", "\[IndentingNewLine]", 
         RowBox[{
          RowBox[{"datestring", "=", 
           RowBox[{"DateString", "[", 
            RowBox[{"{", 
             RowBox[{
             "\"\<Month\>\"", ",", "\"\</\>\"", ",", "\"\<Day\>\"", ",", 
              "\"\</\>\"", ",", "\"\<Year\>\"", ",", "\"\< \>\"", ",", 
              "\"\<Hour\>\"", ",", "\"\<:\>\"", ",", "\"\<Minute\>\"", ",", 
              "\"\<:\>\"", ",", "\"\<Second\>\""}], "}"}], "]"}]}], ";", 
          "\[IndentingNewLine]", 
          RowBox[{"strout", "=", 
           RowBox[{"Insert", "[", 
            RowBox[{"strout", ",", 
             RowBox[{"{", 
              RowBox[{
               RowBox[{"Text", "[", 
                RowBox[{"Style", "[", 
                 RowBox[{"datestring", ",", 
                  RowBox[{"FontSize", "\[Rule]", "10"}]}], "]"}], " ", "]"}], 
               ",", "SpanFromLeft"}], "}"}], ",", 
             RowBox[{"-", "1"}]}], "]"}]}]}]}], "\[IndentingNewLine]", "]"}], 
       ";", "\n", 
       RowBox[{"Grid", "[", 
        RowBox[{"strout", ",", 
         RowBox[{"ItemStyle", "->", 
          RowBox[{"Directive", "[", 
           RowBox[{
            RowBox[{"FontSize", "->", "18"}], ",", "Black"}], "]"}]}], ",", 
         RowBox[{"ItemSize", "->", "14"}], ",", 
         RowBox[{"Alignment", "->", "Left"}]}], "]"}]}]}], "\n", "]"}]}], 
   ";"}]}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{
  3.719724132495809*^9, {3.719724164177455*^9, 3.719724243867033*^9}, {
   3.719724295605138*^9, 3.719724331399837*^9}, {3.7197300264358587`*^9, 
   3.719730183201768*^9}}],

Cell[BoxData[
 RowBox[{
  RowBox[{"(*", 
   RowBox[{"20170313", ":"}], "*)"}], "\n", 
  RowBox[{
   RowBox[{
    RowBox[{"PDFCorrelationplot6", "[", 
     RowBox[{
     "datain_", ",", "titlein_", ",", "xtitlein_", ",", "ytitlein_", ",", 
      "plotrangein_", ",", "stretchxin_", ",", "stretchyin_", ",", 
      "barseperatorin_", ",", "legendlabelin_", ",", "epilogtextin_"}], "]"}],
     ":=", "\n", 
    RowBox[{"Module", "[", 
     RowBox[{
      RowBox[{"{", 
       RowBox[{
        RowBox[{"data", "=", "datain"}], ",", 
        RowBox[{"title", "=", "titlein"}], ",", 
        RowBox[{"xtitle", "=", "xtitlein"}], ",", 
        RowBox[{"ytitle", "=", "ytitlein"}], ",", 
        RowBox[{"plotrange", "=", "plotrangein"}], ",", 
        RowBox[{"\[Alpha]x", "=", "stretchxin"}], ",", 
        RowBox[{"\[Alpha]y", "=", "stretchyin"}], ",", 
        RowBox[{"barseperator", "=", "barseperatorin"}], ",", 
        RowBox[{"legendlabel", "=", "legendlabelin"}], ",", 
        RowBox[{"epilogtext", "=", "epilogtextin"}], ",", "plotxQout", ",", 
        "minx", ",", "maxx", ",", "miny", ",", "maxy", ",", "imgsize", ",", 
        "titlesize", ",", "xtitlesize", ",", "ytitlesize", ",", 
        "lgdlabelsize", ",", "ticklablesize", ",", "plotrangetmp", ",", 
        "mycolorscheme", ",", "psizebase", ",", "psizenorm", ",", "p", ",", 
        "datalist", ",", "drange", ",", "barcolor", ",", "mybarlegend", ",", 
        "barmin", ",", "barmax", ",", "textsize", ",", "outlayertext", ",", 
        "\n", "tickslist", ",", "tickslog", ",", "nolable", ",", "Loglable", 
        ",", "xTicks", ",", "yTicks", ",", "p2", ",", "AllPlots"}], "}"}], 
      ",", "\n", "\n", 
      RowBox[{"(*", "default", "*)"}], "\n", 
      RowBox[{
       RowBox[{"minx", "=", "0.00001"}], ";", "\n", 
       RowBox[{"maxx", "=", "1"}], ";", "\n", 
       RowBox[{"miny", "=", "1"}], ";", "\n", 
       RowBox[{"maxy", "=", "1100"}], ";", "\n", 
       RowBox[{"imgsize", "=", 
        RowBox[{"{", 
         RowBox[{
          RowBox[{"{", "600", "}"}], ",", 
          RowBox[{"{", "600", "}"}]}], "}"}]}], ";", "\n", 
       RowBox[{"titlesize", "=", "24"}], ";", "\n", 
       RowBox[{"xtitlesize", "=", "18"}], ";", "\n", 
       RowBox[{"ytitlesize", "=", "18"}], ";", "\n", 
       RowBox[{"lgdlabelsize", "=", "12"}], ";", "\n", 
       RowBox[{"ticklablesize", "=", "18"}], ";", "\n", "\n", 
       RowBox[{"(*", 
        RowBox[{
        "decide", " ", "data", " ", "max", " ", "range", " ", "in", " ", 
         "plot"}], "*)"}], "\n", "\n", 
       RowBox[{"datalist", "=", 
        RowBox[{"datain", "/.", 
         RowBox[{
          RowBox[{"LF1", "[", "a__", "]"}], ":>", 
          RowBox[{"Abs", "[", 
           RowBox[{
            RowBox[{"{", "a", "}"}], "[", 
            RowBox[{"[", "3", "]"}], "]"}], " ", "]"}]}]}]}], ";", "\n", 
       RowBox[{"drange", "=", 
        RowBox[{"0.5", "+", 
         RowBox[{"0.5", "*", 
          RowBox[{"IntegerPart", "[", 
           RowBox[{
            RowBox[{"Max", "[", "datalist", "]"}], "/", "0.5"}], "]"}]}]}]}], 
       ";", "\n", "\n", 
       RowBox[{"(*", 
        RowBox[{"color", " ", "scheme"}], "*)"}], "\n", 
       RowBox[{"(*", "\n", 
        RowBox[{
         RowBox[{"mycolorscheme", "=", "\"\<AlpineColors\>\""}], ";", "\n", 
         RowBox[{"mycolorscheme", "=", "\"\<LightTemperatureMap\>\""}], ";"}],
         "\n", "*)"}], "\n", 
       RowBox[{"mycolorscheme", "=", "\"\<TemperatureMap\>\""}], ";", "\n", 
       "\n", 
       RowBox[{"barseperator", "=", "barseperator"}], ";", "\n", 
       RowBox[{"barmin", "=", 
        RowBox[{"Min", "[", "barseperator", "]"}]}], ";", 
       RowBox[{"barmax", "=", 
        RowBox[{"Max", "[", "barseperator", "]"}]}], ";", "\n", 
       RowBox[{"barcolor", "=", 
        RowBox[{"Table", "[", 
         RowBox[{
          RowBox[{"ColorData", "[", 
           RowBox[{
            RowBox[{"{", 
             RowBox[{"mycolorscheme", ",", 
              RowBox[{"{", 
               RowBox[{"barmin", ",", "barmax"}], "}"}]}], "}"}], ",", " ", 
            RowBox[{"barmin", "+", 
             RowBox[{
              RowBox[{"(", 
               RowBox[{"i", "-", "0.5"}], ")"}], "*", 
              RowBox[{
               RowBox[{"(", 
                RowBox[{"barmax", "-", "barmin"}], ")"}], "/", 
               RowBox[{"(", 
                RowBox[{
                 RowBox[{"Length", "[", "barseperator", "]"}], "-", "1"}], 
                ")"}]}]}]}]}], "]"}], ",", 
          RowBox[{"{", 
           RowBox[{"i", ",", "1", ",", 
            RowBox[{
             RowBox[{"Length", "[", "barseperator", "]"}], "-", "1"}]}], 
           "}"}]}], "]"}]}], ";", "\n", 
       RowBox[{"barcolor", "=", 
        RowBox[{
         RowBox[{
          RowBox[{"Darker", "[", 
           RowBox[{"#", ",", "0.1"}], "]"}], "&"}], "/@", "barcolor"}]}], ";", 
       RowBox[{"(*", 
        RowBox[{"make", " ", "color", " ", "darker"}], "*)"}], "\n", 
       RowBox[{"(*", 
        RowBox[{
        "lowlimit", " ", "color", " ", "is", " ", "at", " ", "the", " ", 
         "middle", " ", "of", " ", "barcolor"}], "*)"}], "\n", 
       RowBox[{
        RowBox[{"barcolor", "[", 
         RowBox[{"[", 
          RowBox[{
           RowBox[{"(", 
            RowBox[{
             RowBox[{"Length", "[", "barcolor", "]"}], "+", "1"}], ")"}], "/",
            "2"}], " ", "]"}], "]"}], "=", 
        RowBox[{"(*", 
         RowBox[{
          RowBox[{
           RowBox[{"ColorData", "[", 
            RowBox[{"\"\<Atoms\>\"", ",", "\"\<ColorList\>\""}], "]"}], "[", 
           RowBox[{"[", "22", "]"}], "]"}], ";"}], "*)"}], 
        RowBox[{"(*", 
         RowBox[{
          RowBox[{
           RowBox[{"ColorData", "[", 
            RowBox[{"34", ",", "\"\<ColorList\>\""}], "]"}], "[", 
           RowBox[{"[", "4", "]"}], "]"}], ";"}], "*)"}], 
        RowBox[{
         RowBox[{"ColorData", "[", 
          RowBox[{"49", ",", "\"\<ColorList\>\""}], "]"}], "[", 
         RowBox[{"[", "4", "]"}], "]"}]}], ";", "\n", 
       RowBox[{"mybarlegend", "=", 
        RowBox[{"BarLegend", "[", 
         RowBox[{
          RowBox[{"{", 
           RowBox[{"barcolor", ",", 
            RowBox[{"{", 
             RowBox[{"barmin", ",", "barmax"}], "}"}]}], "}"}], ",", 
          "barseperator", ",", 
          RowBox[{"LegendLabel", "->", "legendlabel"}]}], "]"}]}], ";", "\n", 
       "\n", 
       RowBox[{"(*", 
        RowBox[{
        "add", " ", "text", " ", "to", " ", "plot", " ", "by", " ", 
         "Epilog"}], "*)"}], "\n", 
       RowBox[{"textsize", "=", "16"}], ";", "\n", 
       RowBox[{"(*", 
        RowBox[{
         RowBox[{"Npttext", "=", 
          RowBox[{"Text", "[", 
           RowBox[{
            RowBox[{"Style", "[", 
             RowBox[{
              RowBox[{"\"\<Npt: \>\"", "<>", 
               RowBox[{"ToString", "[", 
                RowBox[{"Length", "[", 
                 RowBox[{"data", "//", "Flatten"}], "]"}], " ", "]"}]}], ",", 
              "textsize", ",", "Black"}], "]"}], ",", 
            RowBox[{"Scaled", "[", 
             RowBox[{"{", 
              RowBox[{"0.1", ",", "0.9"}], "}"}], "]"}]}], " ", "]"}]}], 
         ";"}], "*)"}], "\n", 
       RowBox[{"outlayertext", "=", 
        RowBox[{"{", "epilogtext", "}"}]}], ";", "\n", "\n", 
       RowBox[{"(*", 
        RowBox[{"point", " ", "size", " ", "normalization"}], "*)"}], "\n", 
       RowBox[{"psizebase", "=", "0.005"}], ";", "\n", 
       RowBox[{"psizenorm", "=", "0.01"}], ";", "\n", 
       RowBox[{"p", "=", "2.0"}], ";", 
       RowBox[{"(*", 
        RowBox[{"20170307", ":", " ", 
         RowBox[{"make", " ", "size", " ", "small"}]}], "*)"}], 
       RowBox[{"p", "=", "1.5"}], ";", "\n", "\n", 
       RowBox[{"(*", 
        RowBox[{
        "if", " ", "want", " ", "to", " ", "customize", " ", "the", " ", 
         "plot", " ", "range"}], "*)"}], "\n", 
       RowBox[{"plotrangetmp", "=", 
        RowBox[{"ToString", "[", "plotrange", "]"}]}], ";", "\n", 
       RowBox[{"If", "[", "\n", 
        RowBox[{
         RowBox[{"plotrangetmp", "!=", "\"\<None\>\""}], ",", "\n", 
         RowBox[{
          RowBox[{"minx", "=", 
           RowBox[{"plotrange", "[", 
            RowBox[{"[", "1", "]"}], "]"}]}], ";", "\n", 
          RowBox[{"maxx", "=", 
           RowBox[{"plotrange", "[", 
            RowBox[{"[", "2", "]"}], "]"}]}], ";", "\n", 
          RowBox[{"miny", "=", 
           RowBox[{"plotrange", "[", 
            RowBox[{"[", "3", "]"}], "]"}]}], ";", "\n", 
          RowBox[{"maxy", "=", 
           RowBox[{"plotrange", "[", 
            RowBox[{"[", "4", "]"}], "]"}]}], ";"}]}], "\n", "]"}], ";", "\n",
        "\n", 
       RowBox[{"tickslist", "=", 
        RowBox[{
         RowBox[{"Table", "[", 
          RowBox[{
           RowBox[{"Table", "[", 
            RowBox[{
             RowBox[{"j", "*", 
              RowBox[{"10.0", "^", "i"}]}], ",", 
             RowBox[{"{", 
              RowBox[{"j", ",", "1", ",", "9"}], "}"}]}], "]"}], ",", 
           RowBox[{"{", 
            RowBox[{"i", ",", 
             RowBox[{"-", "6"}], ",", "6"}], "}"}]}], "]"}], "//", 
         "Flatten"}]}], ";", "\n", 
       RowBox[{"tickslog", "=", 
        RowBox[{"Table", "[", 
         RowBox[{
          RowBox[{"Log", "[", 
           RowBox[{"tickslist", "[", 
            RowBox[{"[", "i", "]"}], "]"}], "  ", "]"}], ",", 
          RowBox[{"{", 
           RowBox[{"i", ",", "1", ",", 
            RowBox[{"11", "*", "9"}]}], "}"}]}], "]"}]}], ";", "\n", 
       RowBox[{"nolable", "=", 
        RowBox[{"{", 
         RowBox[{
         "\"\<\>\"", ",", "\"\<\>\"", ",", "\"\<\>\"", ",", "\"\<\>\"", ",", 
          "\"\<\>\"", ",", "\"\<\>\"", ",", "\"\<\>\"", ",", "\"\<\>\""}], 
         "}"}]}], ";", "\n", 
       RowBox[{"Loglable", "=", 
        RowBox[{
         RowBox[{"{", 
          RowBox[{
          "\"\<\\!\\(\\*SuperscriptBox[\\(10\\), \\(-6\\)]\\)\>\"", ",", 
           "nolable", ",", 
           "\"\<\\!\\(\\*SuperscriptBox[\\(10\\), \\(-5\\)]\\)\>\"", ",", 
           "nolable", ",", 
           "\"\<\\!\\(\\*SuperscriptBox[\\(10\\), \\(-4\\)]\\)\>\"", ",", 
           "nolable", ",", 
           "\"\<\\!\\(\\*SuperscriptBox[\\(10\\), \\(-3\\)]\\)\>\"", ",", 
           "nolable", ",", 
           "\"\<\\!\\(\\*SuperscriptBox[\\(10\\), \\(-2\\)]\\)\>\"", ",", 
           "nolable", ",", 
           "\"\<\\!\\(\\*SuperscriptBox[\\(10\\), \\(-1\\)]\\)\>\"", ",", 
           "nolable", ",", "\"\<1\>\"", ",", "nolable", ",", 
           "\"\<\\!\\(\\*SuperscriptBox[\\(10\\), \\(1\\)]\\)\>\"", ",", 
           "nolable", ",", 
           "\"\<\\!\\(\\*SuperscriptBox[\\(10\\), \\(2\\)]\\)\>\"", ",", 
           "nolable", ",", 
           "\"\<\\!\\(\\*SuperscriptBox[\\(10\\), \\(3\\)]\\)\>\"", ",", 
           "nolable", ",", 
           "\"\<\\!\\(\\*SuperscriptBox[\\(10\\), \\(4\\)]\\)\>\"", ",", 
           "nolable", ",", 
           "\"\<\\!\\(\\*SuperscriptBox[\\(10\\), \\(5\\)]\\)\>\"", ",", 
           "nolable", ",", 
           "\"\<\\!\\(\\*SuperscriptBox[\\(10\\), \\(6\\)]\\)\>\"", ",", 
           "nolable"}], "}"}], "//", "Flatten"}]}], ";", "\n", 
       RowBox[{"xTicks", "=", 
        RowBox[{
         RowBox[{"Table", "[", 
          RowBox[{
           RowBox[{"Table", "[", 
            RowBox[{
             RowBox[{
              RowBox[{"tkl", "=", 
               RowBox[{"If", "[", 
                RowBox[{
                 RowBox[{"j", "==", "1"}], ",", 
                 RowBox[{"{", 
                  RowBox[{"0.02", ",", "0.0"}], "}"}], ",", 
                 RowBox[{"{", 
                  RowBox[{"0.01", ",", "0"}], "}"}]}], "]"}]}], ";", 
              RowBox[{"LF", "[", 
               RowBox[{
                RowBox[{"tickslog", "[", 
                 RowBox[{"[", 
                  RowBox[{
                   RowBox[{
                    RowBox[{"(", 
                    RowBox[{"i", "-", "1"}], ")"}], "*", "9"}], "+", "j"}], 
                  "]"}], "]"}], ",", 
                RowBox[{"Loglable", "[", 
                 RowBox[{"[", 
                  RowBox[{
                   RowBox[{
                    RowBox[{"(", 
                    RowBox[{"i", "-", "1"}], ")"}], "*", "9"}], "+", "j"}], 
                  "]"}], "]"}], " ", ",", "tkl"}], "]"}]}], ",", 
             RowBox[{"{", 
              RowBox[{"j", ",", "1", ",", "9"}], "}"}]}], "]"}], ",", 
           RowBox[{"{", 
            RowBox[{"i", ",", "1", ",", "11"}], "}"}]}], "]"}], "//", 
         "Flatten"}]}], ";", "\n", 
       RowBox[{"yTicks", "=", 
        RowBox[{
         RowBox[{"Table", "[", 
          RowBox[{
           RowBox[{"Table", "[", 
            RowBox[{
             RowBox[{
              RowBox[{"tkl", "=", 
               RowBox[{"If", "[", 
                RowBox[{
                 RowBox[{"j", "==", "1"}], ",", 
                 RowBox[{"{", 
                  RowBox[{"0.02", ",", "0.0"}], "}"}], ",", 
                 RowBox[{"{", 
                  RowBox[{"0.01", ",", "0"}], "}"}]}], "]"}]}], ";", 
              RowBox[{"LF", "[", 
               RowBox[{
                RowBox[{"tickslog", "[", 
                 RowBox[{"[", 
                  RowBox[{
                   RowBox[{
                    RowBox[{"(", 
                    RowBox[{"i", "-", "1"}], ")"}], "*", "9"}], "+", "j"}], 
                  "]"}], "]"}], ",", 
                RowBox[{"Loglable", "[", 
                 RowBox[{"[", 
                  RowBox[{
                   RowBox[{
                    RowBox[{"(", 
                    RowBox[{"i", "-", "1"}], ")"}], "*", "9"}], "+", "j"}], 
                  "]"}], "]"}], " ", ",", "tkl"}], "]"}]}], ",", 
             RowBox[{"{", 
              RowBox[{"j", ",", "1", ",", "9"}], "}"}]}], "]"}], ",", 
           RowBox[{"{", 
            RowBox[{"i", ",", "1", ",", "11"}], "}"}]}], "]"}], "//", 
         "Flatten"}]}], ";", "\n", "\n", 
       RowBox[{"(*", 
        RowBox[{"data", " ", 
         RowBox[{"structure", ":", " ", "\n", 
          RowBox[{
           RowBox[{
            RowBox[{"{", " ", 
             RowBox[{
             "pt1", ",", " ", "pt2", ",", " ", "pt3", ",", " ", "pt4", ",", 
              " ", "..."}], "}"}], "\n", "ptn"}], " ", "==", " ", 
           RowBox[{"LF1", "[", " ", 
            RowBox[{"x1n", ",", " ", "x2n", ",", " ", 
             RowBox[{"corr", 
              RowBox[{"(", " ", 
               RowBox[{
                RowBox[{"obsA", 
                 RowBox[{"(", "x1n", ")"}]}], ",", " ", 
                RowBox[{"obsB", 
                 RowBox[{"(", "x2n", ")"}]}]}], ")"}]}]}], "]"}]}]}]}], "\n", 
        "*)"}], "\n", 
       RowBox[{"p2", "=", 
        RowBox[{"ListPlot", "[", 
         RowBox[{
          RowBox[{"datain", "/.", 
           RowBox[{
            RowBox[{"LF1", "[", "a__", "]"}], ":>", 
            RowBox[{"Style", "[", "\n", 
             RowBox[{
              RowBox[{"{", 
               RowBox[{
                RowBox[{"Log", "[", 
                 RowBox[{
                  RowBox[{"{", "a", "}"}], "[", 
                  RowBox[{"[", "1", "]"}], "]"}], " ", "]"}], ",", 
                RowBox[{"Log", "[", 
                 RowBox[{
                  RowBox[{"{", "a", "}"}], "[", 
                  RowBox[{"[", "2", "]"}], "]"}], " ", "]"}]}], "}"}], ",", 
              "\n", 
              RowBox[{"PointSize", "[", 
               RowBox[{"(*", 
                RowBox[{"psizebase", "+", 
                 RowBox[{"psizenorm", "*", 
                  RowBox[{"(", 
                   RowBox[{
                    RowBox[{"Abs", "[", 
                    RowBox[{
                    RowBox[{"{", "a", "}"}], "[", 
                    RowBox[{"[", "3", "]"}], "]"}], " ", "]"}], "/", 
                    "drange"}], ")"}]}]}], "*)"}], 
               RowBox[{"Setpointsize", "[", 
                RowBox[{
                 RowBox[{
                  RowBox[{"{", "a", "}"}], "[", 
                  RowBox[{"[", "3", "]"}], "]"}], ",", "barmax", ",", "p"}], 
                "]"}], " ", "]"}], ",", 
              RowBox[{"(*", 
               RowBox[{
                RowBox[{"ColorData", "[", 
                 RowBox[{"{", 
                  RowBox[{"mycolorscheme", ",", 
                   RowBox[{"{", 
                    RowBox[{
                    RowBox[{"-", "drange"}], ",", "drange"}], "}"}]}], " ", 
                  "}"}], "]"}], "[", 
                RowBox[{
                 RowBox[{"{", "a", "}"}], "[", 
                 RowBox[{"[", "3", "]"}], "]"}], "]"}], "*)"}], "\n", 
              RowBox[{"If", "[", 
               RowBox[{
                RowBox[{
                 RowBox[{
                  RowBox[{
                   RowBox[{"{", "a", "}"}], "[", 
                   RowBox[{"[", "3", "]"}], "]"}], "<", "barmax"}], "&&", 
                 RowBox[{
                  RowBox[{
                   RowBox[{"{", "a", "}"}], "[", 
                   RowBox[{"[", "3", "]"}], "]"}], ">", "barmin"}]}], ",", 
                RowBox[{"Setbarcolorfunc2", "[", 
                 RowBox[{"barcolor", ",", "barseperator", ",", 
                  RowBox[{
                   RowBox[{"{", "a", "}"}], "[", 
                   RowBox[{"[", "3", "]"}], "]"}]}], " ", "]"}], ",", 
                RowBox[{"If", "[", 
                 RowBox[{
                  RowBox[{
                   RowBox[{
                    RowBox[{"{", "a", "}"}], "[", 
                    RowBox[{"[", "3", "]"}], "]"}], ">=", "barmax"}], ",", 
                  "Red", ",", "Blue"}], "]"}]}], 
               RowBox[{"(*", "outlayer", "*)"}], " ", "]"}]}], " ", "\n", 
             RowBox[{"(*", 
              RowBox[{"If", "[", " ", 
               RowBox[{
                RowBox[{
                 RowBox[{
                  RowBox[{
                   RowBox[{"{", "a", "}"}], "[", 
                   RowBox[{"[", "3", "]"}], "]"}], "<", 
                  RowBox[{"Max", "[", "barseperator", "]"}]}], "&&", 
                 RowBox[{
                  RowBox[{
                   RowBox[{"{", "a", "}"}], "[", 
                   RowBox[{"[", "3", "]"}], "]"}], ">", 
                  RowBox[{"Min", "[", "barseperator", "]"}]}]}], ",", "Red", 
                ",", "Black"}], "]"}], "*)"}], "\n", "]"}]}]}], ",", "\n", 
          RowBox[{"AspectRatio", "->", "1"}], ",", "\n", 
          RowBox[{"PlotRange", "->", 
           RowBox[{"{", 
            RowBox[{
             RowBox[{"{", 
              RowBox[{
               RowBox[{"Log", "[", "minx", "]"}], ",", 
               RowBox[{"Log", "[", "maxx", "]"}]}], "}"}], ",", 
             RowBox[{"{", 
              RowBox[{
               RowBox[{"Log", "[", "miny", "]"}], ",", 
               RowBox[{"Log", "[", "maxy", "]"}]}], "}"}]}], "}"}]}], ",", 
          "\n", 
          RowBox[{"PlotLegends", "->", 
           RowBox[{"(*", 
            RowBox[{"BarLegend", "[", 
             RowBox[{"{", 
              RowBox[{"mycolorscheme", ",", 
               RowBox[{"{", 
                RowBox[{
                 RowBox[{"-", "drange"}], ",", "drange"}], "}"}]}], "}"}], 
             "]"}], "*)"}], "mybarlegend"}], ",", "\n", 
          RowBox[{"PlotStyle", "->", "White"}], ",", 
          RowBox[{"(*", 
           RowBox[{
            RowBox[{"solve", " ", 
             RowBox[{"bug", ":", " ", 
              RowBox[{
              "system", " ", "automatically", " ", "set", " ", "blue", " ", 
               "points", " ", "in", " ", "plot"}]}]}], ",", " ", 
            RowBox[{"\[Rule]", " ", 
             RowBox[{
             "set", " ", "blue", " ", "to", " ", "white", " ", "so", " ", 
              "that", " ", "we", " ", 
              RowBox[{"don", "'"}], "t", " ", "see", " ", "it"}]}]}], "*)"}], 
          "\n", 
          RowBox[{"Epilog", "->", 
           RowBox[{"{", 
            RowBox[{"epilogtext", ",", "outlayertext"}], "}"}]}]}], "\n", " ",
          "]"}]}], ";", "\n", "\n", 
       RowBox[{"AllPlots", "=", 
        RowBox[{"Show", "[", "\n", 
         RowBox[{"p2", ",", "\n", 
          RowBox[{"Frame", "->", "True"}], ",", "\n", 
          RowBox[{"FrameTicks", "->", 
           RowBox[{"{", 
            RowBox[{
             RowBox[{"xTicks", "/.", " ", 
              RowBox[{"LF", "->", "List"}]}], ",", 
             RowBox[{"xTicks", "/.", " ", 
              RowBox[{"LF", "->", "List"}]}], ",", "\n", 
             RowBox[{"xTicks", "/.", " ", 
              RowBox[{
               RowBox[{"LF", "[", "a__", "]"}], ":>", 
               RowBox[{"{", 
                RowBox[{
                 RowBox[{
                  RowBox[{"{", "a", "}"}], "[", 
                  RowBox[{"[", "1", "]"}], "]"}], ",", "\"\<\>\""}], 
                "}"}]}]}], ",", 
             RowBox[{"xTicks", "/.", " ", 
              RowBox[{
               RowBox[{"LF", "[", "a__", "]"}], ":>", 
               RowBox[{"{", 
                RowBox[{
                 RowBox[{
                  RowBox[{"{", "a", "}"}], "[", 
                  RowBox[{"[", "1", "]"}], "]"}], ",", "\"\<\>\""}], 
                "}"}]}]}]}], "}"}]}], ",", "\n", 
          RowBox[{"Axes", "->", "False"}], ",", "\n", 
          RowBox[{"PlotLabel", "->", 
           RowBox[{"Style", "[", 
            RowBox[{"title", ",", "titlesize"}], "]"}]}], ",", "\n", 
          RowBox[{"FrameLabel", "->", 
           RowBox[{"{", 
            RowBox[{
             RowBox[{"Style", "[", 
              RowBox[{"xtitle", ",", "xtitlesize"}], "]"}], ",", 
             RowBox[{"Style", "[", 
              RowBox[{"ytitle", ",", "ytitlesize"}], "]"}]}], "}"}]}], ",", 
          "\n", 
          RowBox[{"ImageSize", "->", "imgsize"}], ",", "\n", 
          RowBox[{"AspectRatio", "->", "1"}]}], "\n", "]"}]}], ";", "\n", 
       "\n", "AllPlots"}]}], "\n", " ", "]"}]}], ";"}]}]], "Input"],

Cell[BoxData[
 RowBox[{
  RowBox[{"(*", 
   RowBox[{"20170309", ":", 
    RowBox[{
    "using", " ", "size", " ", "function", " ", "of", " ", "highlight"}]}], 
   "*)"}], "\n", 
  RowBox[{"(*", "\n", 
   RowBox[{
    RowBox[{
     RowBox[{
     "make", " ", "plot", " ", "of", " ", "the", " ", "data", " ", "on", " ", 
      "x"}], "-", 
     RowBox[{"Q", " ", "plane"}]}], ",", 
    RowBox[{
    "color", " ", "of", " ", "the", " ", "point", " ", "of", " ", "the", " ", 
     "data", " ", "depend", " ", "on", " ", "value", " ", "of", " ", "data", 
     " ", "at", " ", "that", " ", "point"}], ",", 
    RowBox[{"data", " ", "size"}], ",", 
    RowBox[{
    "highlighted", " ", "data", " ", "will", " ", "become", " ", "larger", 
     "\n", "\n", 
     RowBox[{"datain", ":", " ", 
      RowBox[{
       RowBox[{"{", 
        RowBox[{
         RowBox[{"LF1", "[", 
          RowBox[{"x", ",", "Q", ",", "value"}], "]"}], ",", 
         RowBox[{"LF1", "[", 
          RowBox[{"x", ",", "Q", ",", "value"}], "]"}], ",", "..."}], "}"}], 
       "\n", "titlein"}]}]}], ",", " ", "xtitlein", ",", " ", 
    RowBox[{"ytitlein", ":", " ", 
     RowBox[{
     "titles", " ", "of", " ", "the", " ", "figure", "\n", "plotrangein"}], 
     ":", "\n", "stretchxin"}], ",", " ", 
    RowBox[{"stretchyin", ":", " ", 
     RowBox[{"1", " ", "is", " ", "normal"}]}], ",", 
    RowBox[{
    "the", " ", "two", " ", "arguments", " ", "will", " ", "adjust", " ", 
     "the", " ", "scale", " ", "of", " ", "x"}], ",", " ", 
    RowBox[{"y", " ", "axis", " ", 
     RowBox[{"(", 
      RowBox[{
      "stretch", " ", "or", " ", "squeeze", " ", "the", " ", "scale"}], ")"}],
      "\n", 
     RowBox[{"barseperatorin", ":", " ", "List"}]}], ",", " ", 
    RowBox[{
    "seperate", " ", "the", " ", "color", " ", "by", " ", "values", " ", "in",
      " ", "it"}], ",", " ", 
    RowBox[{"ex", ":", " ", 
     RowBox[{
      RowBox[{"{", 
       RowBox[{"0", ",", "0.5", ",", "0.7", ",", "1"}], "}"}], " ", 
      "seperate", " ", "the", " ", 
      RowBox[{"{", 
       RowBox[{"0", ",", "1"}], "}"}], " ", "into", " ", "3", " ", "colors", 
      "  ", "\n", "legendlabelin"}], ":", " ", 
     RowBox[{
     "user", " ", "could", " ", "add", " ", "a", " ", "label", " ", "on", " ",
       "the", " ", "color", " ", "bar"}]}], ",", " ", 
    RowBox[{
     RowBox[{"ex", ":", " ", "legendlabelin"}], "=", 
     RowBox[{"\"\<color by correlation\>\"", "\n", 
      RowBox[{"epilogtextin", ":", " ", 
       RowBox[{
       "this", " ", "argument", " ", "allow", " ", "user", " ", "to", " ", 
        "setup", " ", "epilog", " ", "into", " ", "the", " ", "output", " ", 
        "figure"}]}]}]}], ",", " ", 
    RowBox[{
    "just", " ", "input", " ", "it", " ", "as", " ", "content", " ", "of", 
     " ", "epilog", " ", "in", " ", "ListPlot", "\n", "highlightrangein"}], 
    ",", " ", 
    RowBox[{"unhighlightsizein", ":", " ", 
     RowBox[{
     "set", " ", "size", " ", "of", " ", "point", " ", "by", " ", 
      "unhighlightsizein", " ", "and", " ", "range", " ", "of", " ", 
      "highlighted", " ", "points"}]}], ",", " ", 
    RowBox[{
     RowBox[{
      RowBox[{
      "the", " ", "function", " ", "enlarge", " ", "points", " ", "in", " ", 
       "that", " ", "range", "\n", 
       RowBox[{"ex", ":", " ", "unhighlightsizein"}]}], "=", "Small"}], ";", 
     RowBox[{"highlightrangein", "=", 
      RowBox[{"{", 
       RowBox[{"0.5", ",", "1"}], "}"}]}]}]}], "\n", "*)"}], "\n", 
  RowBox[{"(*", "\n", 
   RowBox[{
    RowBox[{"example", ":", "\n", 
     RowBox[{"PDFCorrelationplot7", "[", 
      RowBox[{
       RowBox[{"pdfcorr", "[", 
        RowBox[{"[", 
         RowBox[{"flavourin", "+", "6"}], "]"}], "]"}], ",", "title", ",", 
       "xtitle", ",", "ytitle", ",", "plotrange", ",", "stretchx", ",", 
       "stretchy", ",", "barseperator", ",", "legendlabel", ",", 
       RowBox[{"(*", 
        RowBox[{"Append", "[", 
         RowBox[{"epilogxQ", ",", "cuttext"}], "]"}], "*)"}], "epilogxQ", ",",
        "highlightrange", ",", "unhighlightsize"}], " ", "]"}]}], ";"}], "\n",
    "*)"}]}]], "Code"],

Cell[BoxData[{
 RowBox[{
  RowBox[{
   RowBox[{
    RowBox[{"PDFCorrelationplot7", "[", 
     RowBox[{
     "datain_", ",", "titlein_", ",", "xtitlein_", ",", "ytitlein_", ",", 
      "plotrangein_", ",", "stretchxin_", ",", "stretchyin_", ",", 
      "barseperatorin_", ",", "legendlabelin_", ",", "epilogtextin_", ",", 
      "highlightrangein_", ",", "unhighlightsizein_"}], "]"}], ":=", "\n", 
    RowBox[{"Module", "[", 
     RowBox[{
      RowBox[{"{", 
       RowBox[{
        RowBox[{"data", "=", "datain"}], ",", 
        RowBox[{"title", "=", "titlein"}], ",", 
        RowBox[{"xtitle", "=", "xtitlein"}], ",", 
        RowBox[{"ytitle", "=", "ytitlein"}], ",", 
        RowBox[{"plotrange", "=", "plotrangein"}], ",", 
        RowBox[{"\[Alpha]x", "=", "stretchxin"}], ",", 
        RowBox[{"\[Alpha]y", "=", "stretchyin"}], ",", 
        RowBox[{"barseperator", "=", "barseperatorin"}], ",", 
        RowBox[{"legendlabel", "=", "legendlabelin"}], ",", 
        RowBox[{"epilogtext", "=", "epilogtextin"}], ",", 
        RowBox[{"highlightrange", "=", "highlightrangein"}], ",", 
        RowBox[{"unhighlightsize", "=", "unhighlightsizein"}], ",", "\n", 
        "plotxQout", ",", "minx", ",", "maxx", ",", "miny", ",", "maxy", ",", 
        "imgsize", ",", "titlesize", ",", "xtitlesize", ",", "ytitlesize", 
        ",", "lgdlabelsize", ",", "ticklablesize", ",", "plotrangetmp", ",", 
        "mycolorscheme", ",", "psizebase", ",", "psizenorm", ",", "p", ",", 
        "datalist", ",", "drange", ",", "barcolor", ",", "mybarlegend", ",", 
        "barmin", ",", "barmax", ",", "textsize", ",", "outlayertext", ",", 
        "\n", "tickslist", ",", "tickslog", ",", "nolable", ",", "Loglable", 
        ",", "xTicks", ",", "yTicks", ",", "p2", ",", "AllPlots"}], "}"}], 
      ",", "\n", "\n", 
      RowBox[{"(*", "default", "*)"}], "\n", 
      RowBox[{
       RowBox[{"minx", "=", "0.00001"}], ";", "\n", 
       RowBox[{"maxx", "=", "1"}], ";", "\n", 
       RowBox[{"miny", "=", "1"}], ";", "\n", 
       RowBox[{"maxy", "=", "1100"}], ";", "\n", 
       RowBox[{"imgsize", "=", 
        RowBox[{"{", 
         RowBox[{
          RowBox[{"{", "600", "}"}], ",", 
          RowBox[{"{", "600", "}"}]}], "}"}]}], ";", "\n", 
       RowBox[{"titlesize", "=", "24"}], ";", "\n", 
       RowBox[{"xtitlesize", "=", "18"}], ";", "\n", 
       RowBox[{"ytitlesize", "=", "18"}], ";", "\n", 
       RowBox[{"lgdlabelsize", "=", "12"}], ";", "\n", 
       RowBox[{"ticklablesize", "=", "18"}], ";", "\n", "\n", 
       RowBox[{"(*", 
        RowBox[{
        "decide", " ", "data", " ", "max", " ", "range", " ", "in", " ", 
         "plot"}], "*)"}], "\n", "\n", 
       RowBox[{"datalist", "=", 
        RowBox[{"datain", "/.", 
         RowBox[{
          RowBox[{"LF1", "[", "a__", "]"}], ":>", 
          RowBox[{"Abs", "[", 
           RowBox[{
            RowBox[{"{", "a", "}"}], "[", 
            RowBox[{"[", "3", "]"}], "]"}], " ", "]"}]}]}]}], ";", "\n", 
       RowBox[{"drange", "=", 
        RowBox[{"0.5", "+", 
         RowBox[{"0.5", "*", 
          RowBox[{"IntegerPart", "[", 
           RowBox[{
            RowBox[{"Max", "[", "datalist", "]"}], "/", "0.5"}], "]"}]}]}]}], 
       ";", "\n", "\n", 
       RowBox[{"(*", 
        RowBox[{"color", " ", "scheme"}], "*)"}], "\n", 
       RowBox[{"(*", "\n", 
        RowBox[{
         RowBox[{"mycolorscheme", "=", "\"\<AlpineColors\>\""}], ";", "\n", 
         RowBox[{"mycolorscheme", "=", "\"\<LightTemperatureMap\>\""}], ";"}],
         "\n", "*)"}], "\n", 
       RowBox[{"mycolorscheme", "=", "\"\<TemperatureMap\>\""}], ";", "\n", 
       "\n", 
       RowBox[{"barseperator", "=", "barseperator"}], ";", "\n", 
       RowBox[{"barmin", "=", 
        RowBox[{"Min", "[", "barseperator", "]"}]}], ";", 
       RowBox[{"barmax", "=", 
        RowBox[{"Max", "[", "barseperator", "]"}]}], ";", "\n", 
       RowBox[{"barcolor", "=", 
        RowBox[{"Table", "[", 
         RowBox[{
          RowBox[{"ColorData", "[", 
           RowBox[{
            RowBox[{"{", 
             RowBox[{"mycolorscheme", ",", 
              RowBox[{"{", 
               RowBox[{"barmin", ",", "barmax"}], "}"}]}], "}"}], ",", " ", 
            RowBox[{"barmin", "+", 
             RowBox[{
              RowBox[{"(", 
               RowBox[{"i", "-", "0.5"}], ")"}], "*", 
              RowBox[{
               RowBox[{"(", 
                RowBox[{"barmax", "-", "barmin"}], ")"}], "/", 
               RowBox[{"(", 
                RowBox[{
                 RowBox[{"Length", "[", "barseperator", "]"}], "-", "1"}], 
                ")"}]}]}]}]}], "]"}], ",", 
          RowBox[{"{", 
           RowBox[{"i", ",", "1", ",", 
            RowBox[{
             RowBox[{"Length", "[", "barseperator", "]"}], "-", "1"}]}], 
           "}"}]}], "]"}]}], ";", "\n", 
       RowBox[{"barcolor", "=", 
        RowBox[{
         RowBox[{
          RowBox[{"Darker", "[", 
           RowBox[{"#", ",", "0.2"}], "]"}], "&"}], "/@", "barcolor"}]}], ";", 
       RowBox[{"(*", 
        RowBox[{"make", " ", "color", " ", "darker"}], "*)"}], "\n", 
       RowBox[{"(*", 
        RowBox[{
        "lowlimit", " ", "color", " ", "is", " ", "at", " ", "the", " ", 
         "middle", " ", "of", " ", "barcolor"}], "*)"}], "\n", 
       RowBox[{
        RowBox[{"barcolor", "[", 
         RowBox[{"[", 
          RowBox[{
           RowBox[{"(", 
            RowBox[{
             RowBox[{"Length", "[", "barcolor", "]"}], "+", "1"}], ")"}], "/",
            "2"}], " ", "]"}], "]"}], "=", 
        RowBox[{"(*", 
         RowBox[{
          RowBox[{
           RowBox[{"ColorData", "[", 
            RowBox[{"\"\<Atoms\>\"", ",", "\"\<ColorList\>\""}], "]"}], "[", 
           RowBox[{"[", "22", "]"}], "]"}], ";"}], "*)"}], 
        RowBox[{"(*", 
         RowBox[{
          RowBox[{
           RowBox[{"ColorData", "[", 
            RowBox[{"34", ",", "\"\<ColorList\>\""}], "]"}], "[", 
           RowBox[{"[", "4", "]"}], "]"}], ";"}], "*)"}], 
        RowBox[{"(*", 
         RowBox[{
          RowBox[{
           RowBox[{"ColorData", "[", 
            RowBox[{"49", ",", "\"\<ColorList\>\""}], "]"}], "[", 
           RowBox[{"[", "4", "]"}], "]"}], ";"}], "*)"}], 
        RowBox[{
         RowBox[{"ColorData", "[", 
          RowBox[{"30", ",", "\"\<ColorList\>\""}], "]"}], "[", 
         RowBox[{"[", "5", "]"}], "]"}]}], ";", "\n", 
       RowBox[{"(*", 
        RowBox[{
        "make", " ", "small", " ", "value", " ", "data", " ", "unvisible"}], 
        "*)"}], "\n", 
       RowBox[{
        RowBox[{"barcolor", "[", 
         RowBox[{"[", 
          RowBox[{
           RowBox[{"(", 
            RowBox[{
             RowBox[{"Length", "[", "barcolor", "]"}], "+", "1"}], ")"}], "/",
            "2"}], " ", "]"}], "]"}], "=", 
        RowBox[{"Lighter", "[", 
         RowBox[{
          RowBox[{"barcolor", "[", 
           RowBox[{"[", 
            RowBox[{
             RowBox[{"(", 
              RowBox[{
               RowBox[{"Length", "[", "barcolor", "]"}], "+", "1"}], ")"}], 
             "/", "2"}], " ", "]"}], "]"}], ",", "0.5"}], "]"}]}], ";", "\n", 
       "\n", 
       RowBox[{"mybarlegend", "=", 
        RowBox[{"BarLegend", "[", 
         RowBox[{
          RowBox[{"{", 
           RowBox[{"barcolor", ",", 
            RowBox[{"{", 
             RowBox[{"barmin", ",", "barmax"}], "}"}]}], "}"}], ",", 
          "barseperator", ",", 
          RowBox[{"LegendLabel", "->", "legendlabel"}], ",", 
          RowBox[{"LabelStyle", "->", 
           RowBox[{"{", 
            RowBox[{
             RowBox[{"FontSize", "->", "14"}], ",", "Black"}], "}"}]}]}], 
         "]"}]}], ";", "\n", "\n", 
       RowBox[{"(*", 
        RowBox[{
        "add", " ", "text", " ", "to", " ", "plot", " ", "by", " ", 
         "Epilog"}], "*)"}], "\n", 
       RowBox[{"textsize", "=", "16"}], ";", "\n", 
       RowBox[{"(*", 
        RowBox[{
         RowBox[{"Npttext", "=", 
          RowBox[{"Text", "[", 
           RowBox[{
            RowBox[{"Style", "[", 
             RowBox[{
              RowBox[{"\"\<Npt: \>\"", "<>", 
               RowBox[{"ToString", "[", 
                RowBox[{"Length", "[", 
                 RowBox[{"data", "//", "Flatten"}], "]"}], " ", "]"}]}], ",", 
              "textsize", ",", "Black"}], "]"}], ",", 
            RowBox[{"Scaled", "[", 
             RowBox[{"{", 
              RowBox[{"0.1", ",", "0.9"}], "}"}], "]"}]}], " ", "]"}]}], 
         ";"}], "*)"}], "\n", 
       RowBox[{"outlayertext", "=", 
        RowBox[{"{", "epilogtext", "}"}]}], ";", "\n", "\n", 
       RowBox[{"(*", 
        RowBox[{"point", " ", "size", " ", "normalization"}], "*)"}], "\n", 
       RowBox[{"psizebase", "=", "0.005"}], ";", "\n", 
       RowBox[{"psizenorm", "=", "0.01"}], ";", "\n", 
       RowBox[{"p", "=", "2.0"}], ";", 
       RowBox[{"(*", 
        RowBox[{"20170307", ":", " ", 
         RowBox[{"make", " ", "size", " ", "small"}]}], "*)"}], 
       RowBox[{"p", "=", "1.5"}], ";", "\n", "\n", 
       RowBox[{"(*", 
        RowBox[{
        "if", " ", "want", " ", "to", " ", "customize", " ", "the", " ", 
         "plot", " ", "range"}], "*)"}], "\n", 
       RowBox[{"plotrangetmp", "=", 
        RowBox[{"ToString", "[", "plotrange", "]"}]}], ";", "\n", 
       RowBox[{"If", "[", "\n", 
        RowBox[{
         RowBox[{"plotrangetmp", "!=", "\"\<None\>\""}], ",", "\n", 
         RowBox[{
          RowBox[{"minx", "=", 
           RowBox[{"plotrange", "[", 
            RowBox[{"[", "1", "]"}], "]"}]}], ";", "\n", 
          RowBox[{"maxx", "=", 
           RowBox[{"plotrange", "[", 
            RowBox[{"[", "2", "]"}], "]"}]}], ";", "\n", 
          RowBox[{"miny", "=", 
           RowBox[{"plotrange", "[", 
            RowBox[{"[", "3", "]"}], "]"}]}], ";", "\n", 
          RowBox[{"maxy", "=", 
           RowBox[{"plotrange", "[", 
            RowBox[{"[", "4", "]"}], "]"}]}], ";"}]}], "\n", "]"}], ";", "\n",
        "\n", "\n", 
       RowBox[{"tickslist", "=", 
        RowBox[{
         RowBox[{"Table", "[", 
          RowBox[{
           RowBox[{"Table", "[", 
            RowBox[{
             RowBox[{"j", "*", 
              RowBox[{"10.0", "^", "i"}]}], ",", 
             RowBox[{"{", 
              RowBox[{"j", ",", "1", ",", "9"}], "}"}]}], "]"}], ",", 
           RowBox[{"{", 
            RowBox[{"i", ",", 
             RowBox[{"-", "6"}], ",", "6"}], "}"}]}], "]"}], "//", 
         "Flatten"}]}], ";", "\n", 
       RowBox[{"tickslog", "=", 
        RowBox[{"Table", "[", 
         RowBox[{
          RowBox[{"Log", "[", 
           RowBox[{"tickslist", "[", 
            RowBox[{"[", "i", "]"}], "]"}], "  ", "]"}], ",", 
          RowBox[{"{", 
           RowBox[{"i", ",", "1", ",", 
            RowBox[{"11", "*", "9"}]}], "}"}]}], "]"}]}], ";", "\n", 
       RowBox[{"nolable", "=", 
        RowBox[{"{", 
         RowBox[{
         "\"\<\>\"", ",", "\"\<\>\"", ",", "\"\<\>\"", ",", "\"\<\>\"", ",", 
          "\"\<\>\"", ",", "\"\<\>\"", ",", "\"\<\>\"", ",", "\"\<\>\""}], 
         "}"}]}], ";", "\n", 
       RowBox[{"Loglable", "=", 
        RowBox[{
         RowBox[{"{", 
          RowBox[{
          "\"\<\\!\\(\\*SuperscriptBox[\\(10\\), \\(-6\\)]\\)\>\"", ",", 
           "nolable", ",", 
           "\"\<\\!\\(\\*SuperscriptBox[\\(10\\), \\(-5\\)]\\)\>\"", ",", 
           "nolable", ",", 
           "\"\<\\!\\(\\*SuperscriptBox[\\(10\\), \\(-4\\)]\\)\>\"", ",", 
           "nolable", ",", 
           "\"\<\\!\\(\\*SuperscriptBox[\\(10\\), \\(-3\\)]\\)\>\"", ",", 
           "nolable", ",", 
           "\"\<\\!\\(\\*SuperscriptBox[\\(10\\), \\(-2\\)]\\)\>\"", ",", 
           "nolable", ",", 
           "\"\<\\!\\(\\*SuperscriptBox[\\(10\\), \\(-1\\)]\\)\>\"", ",", 
           "nolable", ",", "\"\<1\>\"", ",", "nolable", ",", 
           "\"\<\\!\\(\\*SuperscriptBox[\\(10\\), \\(1\\)]\\)\>\"", ",", 
           "nolable", ",", 
           "\"\<\\!\\(\\*SuperscriptBox[\\(10\\), \\(2\\)]\\)\>\"", ",", 
           "nolable", ",", 
           "\"\<\\!\\(\\*SuperscriptBox[\\(10\\), \\(3\\)]\\)\>\"", ",", 
           "nolable", ",", 
           "\"\<\\!\\(\\*SuperscriptBox[\\(10\\), \\(4\\)]\\)\>\"", ",", 
           "nolable", ",", 
           "\"\<\\!\\(\\*SuperscriptBox[\\(10\\), \\(5\\)]\\)\>\"", ",", 
           "nolable", ",", 
           "\"\<\\!\\(\\*SuperscriptBox[\\(10\\), \\(6\\)]\\)\>\"", ",", 
           "nolable"}], "}"}], "//", "Flatten"}]}], ";", "\n", 
       RowBox[{"xTicks", "=", 
        RowBox[{
         RowBox[{"Table", "[", 
          RowBox[{
           RowBox[{"Table", "[", 
            RowBox[{
             RowBox[{
              RowBox[{"tkl", "=", 
               RowBox[{"If", "[", 
                RowBox[{
                 RowBox[{"j", "==", "1"}], ",", 
                 RowBox[{"{", 
                  RowBox[{"0.02", ",", "0.0"}], "}"}], ",", 
                 RowBox[{"{", 
                  RowBox[{"0.01", ",", "0"}], "}"}]}], "]"}]}], ";", 
              RowBox[{"LF", "[", 
               RowBox[{
                RowBox[{"tickslog", "[", 
                 RowBox[{"[", 
                  RowBox[{
                   RowBox[{
                    RowBox[{"(", 
                    RowBox[{"i", "-", "1"}], ")"}], "*", "9"}], "+", "j"}], 
                  "]"}], "]"}], ",", 
                RowBox[{"Loglable", "[", 
                 RowBox[{"[", 
                  RowBox[{
                   RowBox[{
                    RowBox[{"(", 
                    RowBox[{"i", "-", "1"}], ")"}], "*", "9"}], "+", "j"}], 
                  "]"}], "]"}], " ", ",", "tkl"}], "]"}]}], ",", 
             RowBox[{"{", 
              RowBox[{"j", ",", "1", ",", "9"}], "}"}]}], "]"}], ",", 
           RowBox[{"{", 
            RowBox[{"i", ",", "1", ",", "11"}], "}"}]}], "]"}], "//", 
         "Flatten"}]}], ";", "\n", 
       RowBox[{"yTicks", "=", 
        RowBox[{
         RowBox[{"Table", "[", 
          RowBox[{
           RowBox[{"Table", "[", 
            RowBox[{
             RowBox[{
              RowBox[{"tkl", "=", 
               RowBox[{"If", "[", 
                RowBox[{
                 RowBox[{"j", "==", "1"}], ",", 
                 RowBox[{"{", 
                  RowBox[{"0.02", ",", "0.0"}], "}"}], ",", 
                 RowBox[{"{", 
                  RowBox[{"0.01", ",", "0"}], "}"}]}], "]"}]}], ";", 
              RowBox[{"LF", "[", 
               RowBox[{
                RowBox[{"tickslog", "[", 
                 RowBox[{"[", 
                  RowBox[{
                   RowBox[{
                    RowBox[{"(", 
                    RowBox[{"i", "-", "1"}], ")"}], "*", "9"}], "+", "j"}], 
                  "]"}], "]"}], ",", 
                RowBox[{"Loglable", "[", 
                 RowBox[{"[", 
                  RowBox[{
                   RowBox[{
                    RowBox[{"(", 
                    RowBox[{"i", "-", "1"}], ")"}], "*", "9"}], "+", "j"}], 
                  "]"}], "]"}], " ", ",", "tkl"}], "]"}]}], ",", 
             RowBox[{"{", 
              RowBox[{"j", ",", "1", ",", "9"}], "}"}]}], "]"}], ",", 
           RowBox[{"{", 
            RowBox[{"i", ",", "1", ",", "11"}], "}"}]}], "]"}], "//", 
         "Flatten"}]}], ";", "\n", "\n", "\n", 
       RowBox[{"(*", 
        RowBox[{"data", " ", 
         RowBox[{"structure", ":", " ", "\n", 
          RowBox[{
           RowBox[{
            RowBox[{"{", " ", 
             RowBox[{
             "pt1", ",", " ", "pt2", ",", " ", "pt3", ",", " ", "pt4", ",", 
              " ", "..."}], "}"}], "\n", "ptn"}], " ", "==", " ", 
           RowBox[{"LF1", "[", " ", 
            RowBox[{"x1n", ",", " ", "x2n", ",", " ", 
             RowBox[{"corr", 
              RowBox[{"(", " ", 
               RowBox[{
                RowBox[{"obsA", 
                 RowBox[{"(", "x1n", ")"}]}], ",", " ", 
                RowBox[{"obsB", 
                 RowBox[{"(", "x2n", ")"}]}]}], ")"}]}]}], "]"}]}]}]}], "\n", 
        "*)"}], "\n", 
       RowBox[{"p2", "=", 
        RowBox[{"ListPlot", "[", 
         RowBox[{
          RowBox[{"datain", "/.", 
           RowBox[{
            RowBox[{"LF1", "[", "a__", "]"}], ":>", 
            RowBox[{"Style", "[", "\n", 
             RowBox[{
              RowBox[{"{", 
               RowBox[{
                RowBox[{"Log", "[", 
                 RowBox[{
                  RowBox[{"{", "a", "}"}], "[", 
                  RowBox[{"[", "1", "]"}], "]"}], " ", "]"}], ",", 
                RowBox[{"Log", "[", 
                 RowBox[{
                  RowBox[{"{", "a", "}"}], "[", 
                  RowBox[{"[", "2", "]"}], "]"}], " ", "]"}]}], "}"}], ",", 
              "\n", 
              RowBox[{"PointSize", "[", 
               RowBox[{"(*", 
                RowBox[{"psizebase", "+", 
                 RowBox[{"psizenorm", "*", 
                  RowBox[{"(", 
                   RowBox[{
                    RowBox[{"Abs", "[", 
                    RowBox[{
                    RowBox[{"{", "a", "}"}], "[", 
                    RowBox[{"[", "3", "]"}], "]"}], " ", "]"}], "/", 
                    "drange"}], ")"}]}]}], "*)"}], 
               RowBox[{"Setpointsize2", "[", 
                RowBox[{
                 RowBox[{
                  RowBox[{"{", "a", "}"}], "[", 
                  RowBox[{"[", "3", "]"}], "]"}], ",", "highlightrange", ",", 
                 "unhighlightsize"}], "]"}], " ", "]"}], ",", 
              RowBox[{"(*", 
               RowBox[{
                RowBox[{"ColorData", "[", 
                 RowBox[{"{", 
                  RowBox[{"mycolorscheme", ",", 
                   RowBox[{"{", 
                    RowBox[{
                    RowBox[{"-", "drange"}], ",", "drange"}], "}"}]}], " ", 
                  "}"}], "]"}], "[", 
                RowBox[{
                 RowBox[{"{", "a", "}"}], "[", 
                 RowBox[{"[", "3", "]"}], "]"}], "]"}], "*)"}], "\n", 
              RowBox[{"If", "[", 
               RowBox[{
                RowBox[{
                 RowBox[{
                  RowBox[{
                   RowBox[{"{", "a", "}"}], "[", 
                   RowBox[{"[", "3", "]"}], "]"}], "<", "barmax"}], "&&", 
                 RowBox[{
                  RowBox[{
                   RowBox[{"{", "a", "}"}], "[", 
                   RowBox[{"[", "3", "]"}], "]"}], ">", "barmin"}]}], ",", 
                RowBox[{"Setbarcolorfunc2", "[", 
                 RowBox[{"barcolor", ",", "barseperator", ",", 
                  RowBox[{
                   RowBox[{"{", "a", "}"}], "[", 
                   RowBox[{"[", "3", "]"}], "]"}]}], " ", "]"}], ",", 
                RowBox[{"If", "[", 
                 RowBox[{
                  RowBox[{
                   RowBox[{
                    RowBox[{"{", "a", "}"}], "[", 
                    RowBox[{"[", "3", "]"}], "]"}], ">=", "barmax"}], ",", 
                  "Red", ",", "Blue"}], "]"}]}], 
               RowBox[{"(*", "outlayer", "*)"}], " ", "]"}]}], " ", "\n", 
             RowBox[{"(*", 
              RowBox[{"If", "[", " ", 
               RowBox[{
                RowBox[{
                 RowBox[{
                  RowBox[{
                   RowBox[{"{", "a", "}"}], "[", 
                   RowBox[{"[", "3", "]"}], "]"}], "<", 
                  RowBox[{"Max", "[", "barseperator", "]"}]}], "&&", 
                 RowBox[{
                  RowBox[{
                   RowBox[{"{", "a", "}"}], "[", 
                   RowBox[{"[", "3", "]"}], "]"}], ">", 
                  RowBox[{"Min", "[", "barseperator", "]"}]}]}], ",", "Red", 
                ",", "Black"}], "]"}], "*)"}], "\n", "]"}]}]}], ",", "\n", 
          RowBox[{"AspectRatio", "->", "1"}], ",", "\n", 
          RowBox[{"PlotRange", "->", 
           RowBox[{"{", 
            RowBox[{
             RowBox[{"{", 
              RowBox[{
               RowBox[{"Log", "[", "minx", "]"}], ",", 
               RowBox[{"Log", "[", "maxx", "]"}]}], "}"}], ",", 
             RowBox[{"{", 
              RowBox[{
               RowBox[{"Log", "[", "miny", "]"}], ",", 
               RowBox[{"Log", "[", "maxy", "]"}]}], "}"}]}], "}"}]}], ",", 
          "\n", 
          RowBox[{"PlotLegends", "->", 
           RowBox[{"(*", 
            RowBox[{"BarLegend", "[", 
             RowBox[{"{", 
              RowBox[{"mycolorscheme", ",", 
               RowBox[{"{", 
                RowBox[{
                 RowBox[{"-", "drange"}], ",", "drange"}], "}"}]}], "}"}], 
             "]"}], "*)"}], 
           RowBox[{"Placed", "[", 
            RowBox[{"mybarlegend", ",", 
             RowBox[{"{", 
              RowBox[{"1.0", ",", "0.5"}], "}"}]}], "]"}]}], ",", "\n", 
          RowBox[{"PlotStyle", "->", "White"}], ",", 
          RowBox[{"(*", 
           RowBox[{
            RowBox[{"solve", " ", 
             RowBox[{"bug", ":", " ", 
              RowBox[{
              "system", " ", "automatically", " ", "set", " ", "blue", " ", 
               "points", " ", "in", " ", "plot"}]}]}], ",", " ", 
            RowBox[{"\[Rule]", " ", 
             RowBox[{
             "set", " ", "blue", " ", "to", " ", "white", " ", "so", " ", 
              "that", " ", "we", " ", 
              RowBox[{"don", "'"}], "t", " ", "see", " ", "it"}]}]}], "*)"}], 
          "\n", 
          RowBox[{"Epilog", "->", 
           RowBox[{"{", 
            RowBox[{"epilogtext", ",", "outlayertext"}], "}"}]}]}], "\n", " ",
          "]"}]}], ";", "\n", "\n", 
       RowBox[{"AllPlots", "=", 
        RowBox[{"Show", "[", "\n", 
         RowBox[{"p2", ",", "\n", 
          RowBox[{"Frame", "->", "True"}], ",", "\n", 
          RowBox[{"FrameTicks", "->", 
           RowBox[{"{", 
            RowBox[{
             RowBox[{"xTicks", "/.", " ", 
              RowBox[{"LF", "->", "List"}]}], ",", 
             RowBox[{"xTicks", "/.", " ", 
              RowBox[{"LF", "->", "List"}]}], ",", "\n", 
             RowBox[{"xTicks", "/.", " ", 
              RowBox[{
               RowBox[{"LF", "[", "a__", "]"}], ":>", 
               RowBox[{"{", 
                RowBox[{
                 RowBox[{
                  RowBox[{"{", "a", "}"}], "[", 
                  RowBox[{"[", "1", "]"}], "]"}], ",", "\"\<\>\""}], 
                "}"}]}]}], ",", 
             RowBox[{"xTicks", "/.", " ", 
              RowBox[{
               RowBox[{"LF", "[", "a__", "]"}], ":>", 
               RowBox[{"{", 
                RowBox[{
                 RowBox[{
                  RowBox[{"{", "a", "}"}], "[", 
                  RowBox[{"[", "1", "]"}], "]"}], ",", "\"\<\>\""}], 
                "}"}]}]}]}], "}"}]}], ",", "\n", 
          RowBox[{"Axes", "->", "False"}], ",", "\n", 
          RowBox[{"PlotLabel", "->", 
           RowBox[{"Style", "[", 
            RowBox[{"title", ",", "titlesize"}], "]"}]}], ",", "\n", 
          RowBox[{"FrameLabel", "->", 
           RowBox[{"{", 
            RowBox[{
             RowBox[{"Style", "[", 
              RowBox[{"xtitle", ",", "xtitlesize"}], "]"}], ",", 
             RowBox[{"Style", "[", 
              RowBox[{"ytitle", ",", "ytitlesize"}], "]"}]}], "}"}]}], ",", 
          "\n", 
          RowBox[{"ImageSize", "->", "imgsize"}], ",", "\n", 
          RowBox[{"AspectRatio", "->", "1"}]}], "\n", "]"}]}], ";", "\n", 
       "\n", "AllPlots"}]}], "\n", " ", "]"}]}], ";"}], "\n", " ", "\n", " ", 
  "\n", " "}], "\n", 
 RowBox[{" "}]}], "Code",
 CellChangeTimes->{{3.719068551067596*^9, 3.7190686367866783`*^9}}],

Cell[BoxData[
 RowBox[{
  RowBox[{"(*", 
   RowBox[{"20171105", ":", " ", 
    RowBox[{"functionize", " ", "barlegend", " ", "generating"}]}], "*)"}], 
  "\n", 
  RowBox[{"(*", 
   RowBox[{
    RowBox[{
    "input", " ", "seperator", " ", "should", " ", "be", " ", "a", " ", "8", 
     " ", "element", " ", "List", " ", "and", " ", "elements", " ", "order", 
     " ", "from", " ", "small", " ", "to", " ", "large"}], ",", " ", 
    RowBox[{"e", ".", 
     RowBox[{"g", ":", " ", 
      RowBox[{"{", 
       RowBox[{
        RowBox[{"-", "1"}], ",", 
        RowBox[{"-", "0.85"}], ",", 
        RowBox[{"-", "0.7"}], ",", 
        RowBox[{"-", "0.5"}], ",", "0.5", ",", "0.7", ",", "0.85", ",", "1"}],
        "}"}]}]}]}], "*)"}], "\n", 
  RowBox[{"(*", 
   RowBox[{"output", " ", "a", " ", "7", " ", "colors", " ", "palette", " ", 
    RowBox[{"(", 
     RowBox[{"blue", " ", "to", " ", "red"}], ")"}]}], "*)"}], "\n", 
  RowBox[{
   RowBox[{
    RowBox[{
     RowBox[{"Set2DxqBarLegend", "[", 
      RowBox[{"barseperatorin_", ",", "legendlabelin_"}], 
      RowBox[{"(*", 
       RowBox[{",", "highlightrangein_"}], "*)"}], "]"}], ":=", "\n", 
     RowBox[{"Module", "[", 
      RowBox[{
       RowBox[{"{", 
        RowBox[{
         RowBox[{"barseperator", "=", "barseperatorin"}], ",", 
         RowBox[{"legendlabel", "=", "legendlabelin"}], ",", 
         RowBox[{"(*", 
          RowBox[{
           RowBox[{"highlightrange", "=", "highlightrangein"}], ","}], "*)"}],
          "\n", "mycolorscheme", ",", "barmin", ",", "barmax", ",", 
         "barcolor", ",", "mybarlegend", ",", "greycolor"}], "}"}], ",", "\n",
        "\n", 
       RowBox[{"(*", 
        RowBox[{"20171108", ":", " ", 
         RowBox[{
         "check", " ", "#seperator", " ", "elements", " ", "is", " ", 
          "correct"}]}], "*)"}], "\n", 
       RowBox[{
        RowBox[{"If", "[", 
         RowBox[{
          RowBox[{
           RowBox[{"Length", "[", "barseperator", "]"}], "\[NotEqual]", "8"}],
           ",", 
          RowBox[{"Print", "[", 
           RowBox[{
           "\"\<error, the input color discrete list should include 8 \
elements, yours: \>\"", ",", "barseperator"}], "]"}]}], " ", "]"}], ";", "\n",
         "\n", 
        RowBox[{"mycolorscheme", "=", "\"\<TemperatureMap\>\""}], ";", "\n", 
        RowBox[{"greycolor", "=", 
         RowBox[{"Lighter", "[", 
          RowBox[{
           RowBox[{
            RowBox[{"ColorData", "[", 
             RowBox[{"30", ",", "\"\<ColorList\>\""}], "]"}], "[", 
            RowBox[{"[", "5", "]"}], "]"}], ",", "0.5"}], "]"}]}], ";", "\n", 
        "\n", 
        RowBox[{"barmin", "=", 
         RowBox[{"Min", "[", "barseperator", "]"}]}], ";", 
        RowBox[{"barmax", "=", 
         RowBox[{"Max", "[", "barseperator", "]"}]}], ";", "\n", 
        RowBox[{"(*", "\n", 
         RowBox[{
          RowBox[{"barcolor", "=", 
           RowBox[{"Table", "[", 
            RowBox[{
             RowBox[{"ColorData", "[", 
              RowBox[{
               RowBox[{"{", 
                RowBox[{"mycolorscheme", ",", 
                 RowBox[{"{", 
                  RowBox[{"barmin", ",", "barmax"}], "}"}]}], "}"}], ",", " ", 
               RowBox[{"barmin", "+", 
                RowBox[{
                 RowBox[{"(", 
                  RowBox[{"i", "-", "0.5"}], ")"}], "*", 
                 RowBox[{
                  RowBox[{"(", 
                   RowBox[{"barmax", "-", "barmin"}], ")"}], "/", 
                  RowBox[{"(", 
                   RowBox[{
                    RowBox[{"Length", "[", "barseperator", "]"}], "-", "1"}], 
                   ")"}]}]}]}]}], "]"}], ",", 
             RowBox[{"{", 
              RowBox[{"i", ",", "1", ",", 
               RowBox[{
                RowBox[{"Length", "[", "barseperator", "]"}], "-", "1"}]}], 
              "}"}]}], "]"}]}], ";", "\n", 
          RowBox[{"barcolor", "=", 
           RowBox[{
            RowBox[{
             RowBox[{"Darker", "[", 
              RowBox[{"#", ",", "0.2"}], "]"}], "&"}], "/@", "barcolor"}]}], 
          ";", 
          RowBox[{"(*", 
           RowBox[{"make", " ", "color", " ", "darker"}], "*)"}], "\n", 
          RowBox[{"(*", 
           RowBox[{
           "lowlimit", " ", "color", " ", "is", " ", "at", " ", "the", " ", 
            "middle", " ", "of", " ", "barcolor"}], "*)"}], "\n", 
          RowBox[{
           RowBox[{"barcolor", "[", 
            RowBox[{"[", 
             RowBox[{
              RowBox[{"(", 
               RowBox[{
                RowBox[{"Length", "[", "barcolor", "]"}], "+", "1"}], ")"}], 
              "/", "2"}], " ", "]"}], "]"}], "=", 
           RowBox[{"(*", 
            RowBox[{
             RowBox[{
              RowBox[{"ColorData", "[", 
               RowBox[{"\"\<Atoms\>\"", ",", "\"\<ColorList\>\""}], "]"}], 
              "[", 
              RowBox[{"[", "22", "]"}], "]"}], ";"}], "*)"}], 
           RowBox[{"(*", 
            RowBox[{
             RowBox[{
              RowBox[{"ColorData", "[", 
               RowBox[{"34", ",", "\"\<ColorList\>\""}], "]"}], "[", 
              RowBox[{"[", "4", "]"}], "]"}], ";"}], "*)"}], 
           RowBox[{"(*", 
            RowBox[{
             RowBox[{
              RowBox[{"ColorData", "[", 
               RowBox[{"49", ",", "\"\<ColorList\>\""}], "]"}], "[", 
              RowBox[{"[", "4", "]"}], "]"}], ";"}], "*)"}], 
           RowBox[{
            RowBox[{"ColorData", "[", 
             RowBox[{"30", ",", "\"\<ColorList\>\""}], "]"}], "[", 
            RowBox[{"[", "5", "]"}], "]"}]}], ";", "\n", 
          RowBox[{"(*", 
           RowBox[{
           "make", " ", "small", " ", "value", " ", "data", " ", 
            "unvisible"}], "*)"}], "\n", 
          RowBox[{
           RowBox[{"barcolor", "[", 
            RowBox[{"[", 
             RowBox[{
              RowBox[{"(", 
               RowBox[{
                RowBox[{"Length", "[", "barcolor", "]"}], "+", "1"}], ")"}], 
              "/", "2"}], " ", "]"}], "]"}], "=", 
           RowBox[{"Lighter", "[", 
            RowBox[{
             RowBox[{"barcolor", "[", 
              RowBox[{"[", 
               RowBox[{
                RowBox[{"(", 
                 RowBox[{
                  RowBox[{"Length", "[", "barcolor", "]"}], "+", "1"}], ")"}],
                 "/", "2"}], " ", "]"}], "]"}], ",", "0.5"}], "]"}]}], ";", 
          "\n", 
          RowBox[{"(*", 
           RowBox[{"20170528", ":", " ", 
            RowBox[{"customize", " ", "my", " ", "color", " ", "scheme"}]}], 
           "*)"}], "\n", 
          RowBox[{"barcolor", "=", 
           RowBox[{"{", 
            RowBox[{
             RowBox[{"RGBColor", "[", 
              RowBox[{"0.", ",", "0.", ",", "1.0"}], "]"}], ",", 
             RowBox[{"RGBColor", "[", 
              RowBox[{"0.", ",", "0.5", ",", "1."}], "]"}], ",", 
             RowBox[{"RGBColor", "[", 
              RowBox[{"0.0", ",", "1.", ",", "1."}], "]"}], ",", 
             RowBox[{"RGBColor", "[", 
              RowBox[{"1.", ",", "1.", ",", "1."}], "]"}], ",", 
             RowBox[{"RGBColor", "[", 
              RowBox[{"1.", ",", "0.8", ",", "0."}], "]"}], ",", 
             RowBox[{"RGBColor", "[", 
              RowBox[{"1.0", ",", "0.4", ",", "0."}], "]"}], ",", 
             RowBox[{"RGBColor", "[", 
              RowBox[{"1.0", ",", "0.", ",", "0."}], "]"}]}], "}"}]}], ";", 
          "\n", 
          RowBox[{"barcolor", "=", 
           RowBox[{"Darker", "[", 
            RowBox[{"barcolor", ",", "0.3"}], "]"}]}], ";"}], "\n", "*)"}], 
        "\n", 
        RowBox[{"(*", 
         RowBox[{"20170606", ":", " ", 
          RowBox[{"brighter", " ", "ogrange", " ", "and", " ", "yellow"}]}], 
         "*)"}], 
        RowBox[{"(*", 
         RowBox[{
          RowBox[{"20171108", " ", "in", " ", "the", " ", "middle"}], " ", 
          "=", " ", "Green"}], "*)"}], "\n", 
        RowBox[{"barcolor", "=", 
         RowBox[{"{", 
          RowBox[{
           RowBox[{"RGBColor", "[", 
            RowBox[{"0.", ",", "0.", ",", "0.7"}], "]"}], ",", 
           RowBox[{"RGBColor", "[", 
            RowBox[{"0.", ",", "0.5", ",", "0.75"}], "]"}], ",", 
           RowBox[{"RGBColor", "[", 
            RowBox[{"0.0", ",", "0.75", ",", "0.75"}], "]"}], ",", 
           RowBox[{"RGBColor", "[", 
            RowBox[{"0", ",", "0.7", ",", "0"}], "]"}], ",", 
           RowBox[{"RGBColor", "[", 
            RowBox[{"0.75", ",", "0.75", ",", "0."}], "]"}], ",", 
           RowBox[{"RGBColor", "[", 
            RowBox[{"0.75", ",", "0.55", ",", "0."}], "]"}], ",", 
           RowBox[{"RGBColor", "[", 
            RowBox[{"0.7", ",", "0.", ",", "0."}], "]"}]}], "}"}]}], ";", 
        "\n", 
        RowBox[{"(*", "\n", 
         RowBox[{
          RowBox[{
           RowBox[{"barcolor", "[", 
            RowBox[{"[", 
             RowBox[{
              RowBox[{"(", 
               RowBox[{
                RowBox[{"Length", "[", "barcolor", "]"}], "+", "1"}], ")"}], 
              "/", "2"}], " ", "]"}], "]"}], "=", "greycolor"}], ";"}], "\n", 
         "*)"}], "\n", "\n", 
        RowBox[{"mybarlegend", "=", 
         RowBox[{"BarLegend", "[", 
          RowBox[{
           RowBox[{"{", 
            RowBox[{"barcolor", ",", 
             RowBox[{"{", 
              RowBox[{"barmin", ",", "barmax"}], "}"}]}], "}"}], ",", 
           "barseperator", ",", 
           RowBox[{"LegendLabel", "->", "legendlabel"}], ",", 
           RowBox[{"LabelStyle", "->", 
            RowBox[{"{", 
             RowBox[{
              RowBox[{"FontSize", "->", "14"}], ",", "Black"}], "}"}]}]}], 
          "]"}]}], ";", "\n", "mybarlegend"}]}], "\n", "\n", "]"}]}], ";"}], 
   "\n", 
   RowBox[{"(*", 
    RowBox[{"20171108", ":", " ", 
     RowBox[{
     "set", " ", "an", " ", "only", " ", "red", " ", "spectrum", " ", "color",
       " ", "palette"}]}], "*)"}], "\n", 
   RowBox[{"(*", 
    RowBox[{
     RowBox[{
     "input", " ", "seperator", " ", "should", " ", "be", " ", "a", " ", "5", 
      " ", "element", " ", "List", " ", "and", " ", "elements", " ", "order", 
      " ", "from", " ", "small", " ", "to", " ", "large"}], ",", " ", 
     RowBox[{"e", ".", 
      RowBox[{"g", ":", " ", 
       RowBox[{"{", 
        RowBox[{"0", ",", "0.5", ",", "0.7", ",", "0.85", ",", "1"}], 
        "}"}]}]}]}], "*)"}], "\n", 
   RowBox[{"(*", 
    RowBox[{
    "output", " ", "a", " ", "4", " ", "colors", " ", "palette", " ", 
     RowBox[{"(", 
      RowBox[{"green", " ", "to", " ", "red"}], ")"}]}], "*)"}], "\n", 
   RowBox[{
    RowBox[{
     RowBox[{"Set2DxqRedBarLegend", "[", 
      RowBox[{"barseperatorin_", ",", "legendlabelin_"}], 
      RowBox[{"(*", 
       RowBox[{",", "highlightrangein_"}], "*)"}], "]"}], ":=", "\n", 
     RowBox[{"Module", "[", 
      RowBox[{
       RowBox[{"{", 
        RowBox[{
         RowBox[{"barseperator", "=", "barseperatorin"}], ",", 
         RowBox[{"legendlabel", "=", "legendlabelin"}], ",", 
         RowBox[{"(*", 
          RowBox[{
           RowBox[{"highlightrange", "=", "highlightrangein"}], ","}], "*)"}],
          "\n", "mycolorscheme", ",", "barmin", ",", "barmax", ",", 
         "barcolor", ",", "mybarlegend", ",", "greycolor"}], "}"}], ",", "\n",
        "\n", 
       RowBox[{"(*", 
        RowBox[{"20171108", ":", " ", 
         RowBox[{
         "check", " ", "#seperator", " ", "elements", " ", "is", " ", 
          "correct"}]}], "*)"}], "\n", 
       RowBox[{
        RowBox[{"If", "[", 
         RowBox[{
          RowBox[{
           RowBox[{"Length", "[", "barseperator", "]"}], "\[NotEqual]", "5"}],
           ",", 
          RowBox[{"Print", "[", 
           RowBox[{
           "\"\<error, the input color discrete list should include 5 \
elements, yours: \>\"", ",", "barseperator"}], "]"}]}], " ", "]"}], ";", "\n",
         "\n", 
        RowBox[{"mycolorscheme", "=", "\"\<TemperatureMap\>\""}], ";", "\n", 
        RowBox[{"greycolor", "=", 
         RowBox[{"Lighter", "[", 
          RowBox[{
           RowBox[{
            RowBox[{"ColorData", "[", 
             RowBox[{"30", ",", "\"\<ColorList\>\""}], "]"}], "[", 
            RowBox[{"[", "5", "]"}], "]"}], ",", "0.5"}], "]"}]}], ";", "\n", 
        "\n", 
        RowBox[{"barmin", "=", 
         RowBox[{"Min", "[", "barseperator", "]"}]}], ";", 
        RowBox[{"barmax", "=", 
         RowBox[{"Max", "[", "barseperator", "]"}]}], ";", "\n", 
        RowBox[{"(*", "\n", 
         RowBox[{
          RowBox[{"barcolor", "=", 
           RowBox[{"Table", "[", 
            RowBox[{
             RowBox[{"ColorData", "[", 
              RowBox[{
               RowBox[{"{", 
                RowBox[{"mycolorscheme", ",", 
                 RowBox[{"{", 
                  RowBox[{"barmin", ",", "barmax"}], "}"}]}], "}"}], ",", " ", 
               RowBox[{"barmin", "+", 
                RowBox[{
                 RowBox[{"(", 
                  RowBox[{"i", "-", "0.5"}], ")"}], "*", 
                 RowBox[{
                  RowBox[{"(", 
                   RowBox[{"barmax", "-", "barmin"}], ")"}], "/", 
                  RowBox[{"(", 
                   RowBox[{
                    RowBox[{"Length", "[", "barseperator", "]"}], "-", "1"}], 
                   ")"}]}]}]}]}], "]"}], ",", 
             RowBox[{"{", 
              RowBox[{"i", ",", "1", ",", 
               RowBox[{
                RowBox[{"Length", "[", "barseperator", "]"}], "-", "1"}]}], 
              "}"}]}], "]"}]}], ";", "\n", 
          RowBox[{"barcolor", "=", 
           RowBox[{
            RowBox[{
             RowBox[{"Darker", "[", 
              RowBox[{"#", ",", "0.2"}], "]"}], "&"}], "/@", "barcolor"}]}], 
          ";", 
          RowBox[{"(*", 
           RowBox[{"make", " ", "color", " ", "darker"}], "*)"}], "\n", 
          RowBox[{"(*", 
           RowBox[{
           "lowlimit", " ", "color", " ", "is", " ", "at", " ", "the", " ", 
            "middle", " ", "of", " ", "barcolor"}], "*)"}], "\n", 
          RowBox[{
           RowBox[{"barcolor", "[", 
            RowBox[{"[", 
             RowBox[{
              RowBox[{"(", 
               RowBox[{
                RowBox[{"Length", "[", "barcolor", "]"}], "+", "1"}], ")"}], 
              "/", "2"}], " ", "]"}], "]"}], "=", 
           RowBox[{"(*", 
            RowBox[{
             RowBox[{
              RowBox[{"ColorData", "[", 
               RowBox[{"\"\<Atoms\>\"", ",", "\"\<ColorList\>\""}], "]"}], 
              "[", 
              RowBox[{"[", "22", "]"}], "]"}], ";"}], "*)"}], 
           RowBox[{"(*", 
            RowBox[{
             RowBox[{
              RowBox[{"ColorData", "[", 
               RowBox[{"34", ",", "\"\<ColorList\>\""}], "]"}], "[", 
              RowBox[{"[", "4", "]"}], "]"}], ";"}], "*)"}], 
           RowBox[{"(*", 
            RowBox[{
             RowBox[{
              RowBox[{"ColorData", "[", 
               RowBox[{"49", ",", "\"\<ColorList\>\""}], "]"}], "[", 
              RowBox[{"[", "4", "]"}], "]"}], ";"}], "*)"}], 
           RowBox[{
            RowBox[{"ColorData", "[", 
             RowBox[{"30", ",", "\"\<ColorList\>\""}], "]"}], "[", 
            RowBox[{"[", "5", "]"}], "]"}]}], ";", "\n", 
          RowBox[{"(*", 
           RowBox[{
           "make", " ", "small", " ", "value", " ", "data", " ", 
            "unvisible"}], "*)"}], "\n", 
          RowBox[{
           RowBox[{"barcolor", "[", 
            RowBox[{"[", 
             RowBox[{
              RowBox[{"(", 
               RowBox[{
                RowBox[{"Length", "[", "barcolor", "]"}], "+", "1"}], ")"}], 
              "/", "2"}], " ", "]"}], "]"}], "=", 
           RowBox[{"Lighter", "[", 
            RowBox[{
             RowBox[{"barcolor", "[", 
              RowBox[{"[", 
               RowBox[{
                RowBox[{"(", 
                 RowBox[{
                  RowBox[{"Length", "[", "barcolor", "]"}], "+", "1"}], ")"}],
                 "/", "2"}], " ", "]"}], "]"}], ",", "0.5"}], "]"}]}], ";", 
          "\n", 
          RowBox[{"(*", 
           RowBox[{"20170528", ":", " ", 
            RowBox[{"customize", " ", "my", " ", "color", " ", "scheme"}]}], 
           "*)"}], "\n", 
          RowBox[{"barcolor", "=", 
           RowBox[{"{", 
            RowBox[{
             RowBox[{"RGBColor", "[", 
              RowBox[{"0.", ",", "0.", ",", "1.0"}], "]"}], ",", 
             RowBox[{"RGBColor", "[", 
              RowBox[{"0.", ",", "0.5", ",", "1."}], "]"}], ",", 
             RowBox[{"RGBColor", "[", 
              RowBox[{"0.0", ",", "1.", ",", "1."}], "]"}], ",", 
             RowBox[{"RGBColor", "[", 
              RowBox[{"1.", ",", "1.", ",", "1."}], "]"}], ",", 
             RowBox[{"RGBColor", "[", 
              RowBox[{"1.", ",", "0.8", ",", "0."}], "]"}], ",", 
             RowBox[{"RGBColor", "[", 
              RowBox[{"1.0", ",", "0.4", ",", "0."}], "]"}], ",", 
             RowBox[{"RGBColor", "[", 
              RowBox[{"1.0", ",", "0.", ",", "0."}], "]"}]}], "}"}]}], ";", 
          "\n", 
          RowBox[{"barcolor", "=", 
           RowBox[{"Darker", "[", 
            RowBox[{"barcolor", ",", "0.3"}], "]"}]}], ";"}], "\n", "*)"}], 
        "\n", 
        RowBox[{"(*", 
         RowBox[{"20170606", ":", " ", 
          RowBox[{"brighter", " ", "ogrange", " ", "and", " ", "yellow"}]}], 
         "*)"}], 
        RowBox[{"(*", 
         RowBox[{
          RowBox[{"20171108", " ", "in", " ", "the", " ", "middle"}], " ", 
          "=", " ", "Green"}], "*)"}], "\n", 
        RowBox[{"barcolor", "=", 
         RowBox[{"{", 
          RowBox[{
           RowBox[{"RGBColor", "[", 
            RowBox[{"0", ",", "0.7", ",", "0"}], "]"}], ",", 
           RowBox[{"RGBColor", "[", 
            RowBox[{"0.75", ",", "0.75", ",", "0."}], "]"}], ",", 
           RowBox[{"RGBColor", "[", 
            RowBox[{"0.75", ",", "0.55", ",", "0."}], "]"}], ",", 
           RowBox[{"RGBColor", "[", 
            RowBox[{"0.7", ",", "0.", ",", "0."}], "]"}]}], "}"}]}], ";", 
        "\n", 
        RowBox[{"(*", "\n", 
         RowBox[{
          RowBox[{
           RowBox[{"barcolor", "[", 
            RowBox[{"[", 
             RowBox[{
              RowBox[{"(", 
               RowBox[{
                RowBox[{"Length", "[", "barcolor", "]"}], "+", "1"}], ")"}], 
              "/", "2"}], " ", "]"}], "]"}], "=", "greycolor"}], ";"}], "\n", 
         "*)"}], "\n", "\n", 
        RowBox[{"mybarlegend", "=", 
         RowBox[{"BarLegend", "[", 
          RowBox[{
           RowBox[{"{", 
            RowBox[{"barcolor", ",", 
             RowBox[{"{", 
              RowBox[{"barmin", ",", "barmax"}], "}"}]}], "}"}], ",", 
           "barseperator", ",", 
           RowBox[{"LegendLabel", "->", "legendlabel"}], ",", 
           RowBox[{"LabelStyle", "->", 
            RowBox[{"{", 
             RowBox[{
              RowBox[{"FontSize", "->", "14"}], ",", "Black"}], "}"}]}]}], 
          "]"}]}], ";", "\n", "mybarlegend"}]}], "\n", "\n", "]"}]}], ";"}], 
   "\n", "\n", 
   RowBox[{
    RowBox[{"Set2DxqHighlightBarLegend", "[", 
     RowBox[{"legendlabelin_", ",", "highlightrangein_"}], "]"}], ":=", "\n", 
    
    RowBox[{"Module", "[", 
     RowBox[{
      RowBox[{"{", 
       RowBox[{"barseperator", ",", 
        RowBox[{"legendlabel", "=", "legendlabelin"}], ",", 
        RowBox[{"highlightrange", "=", "highlightrangein"}], ",", "\n", 
        "mycolorscheme", ",", "barmin", ",", "barmax", ",", "barcolor", ",", 
        "mybarlegend", ",", "greycolor", ",", "\n", "positivedivid", ",", 
        "negativedivid"}], "}"}], ",", "\n", "\n", 
      RowBox[{
       RowBox[{"greycolor", "=", 
        RowBox[{"Lighter", "[", 
         RowBox[{
          RowBox[{
           RowBox[{"ColorData", "[", 
            RowBox[{"30", ",", "\"\<ColorList\>\""}], "]"}], "[", 
           RowBox[{"[", "5", "]"}], "]"}], ",", "0.5"}], "]"}]}], ";", "\n", 
       "\n", 
       RowBox[{"If", "[", 
        RowBox[{
         RowBox[{
          RowBox[{
           RowBox[{"highlightrange", "[", 
            RowBox[{"[", "1", "]"}], "]"}], "<", "0.0"}], " ", "||", " ", 
          RowBox[{
           RowBox[{"highlightrange", "[", 
            RowBox[{"[", "2", "]"}], "]"}], "<", 
           RowBox[{"highlightrange", "[", 
            RowBox[{"[", "1", "]"}], "]"}]}]}], ",", 
         RowBox[{
          RowBox[{
          "Print", "[", 
           "\"\<error, highlight range should be {min, max} and min should >= \
0\>\"", "]"}], ";", 
          RowBox[{"Quit", "[", "]"}]}]}], " ", "]"}], ";", "\n", 
       RowBox[{"(*", 
        RowBox[{
         RowBox[{"barseperator", "=", 
          RowBox[{"{", 
           RowBox[{
            RowBox[{"highlightrange", "[", 
             RowBox[{"[", "1", "]"}], "]"}], ",", ",", ",", 
            RowBox[{"highlightrange", "[", 
             RowBox[{"[", "2", "]"}], "]"}]}], "}"}]}], ";"}], "*)"}], 
       RowBox[{"(*", 
        RowBox[{"20171114", ":", " ", 
         RowBox[{"for", " ", "warning", " ", "message"}]}], "*)"}], "\n", 
       RowBox[{"(*", 
        RowBox[{
        "set", " ", "bar", " ", "the", " ", "seperator", " ", "in", " ", 
         "highlight", " ", "range"}], "*)"}], "\n", 
       RowBox[{"positivedivid", "=", 
        RowBox[{"Table", "[", 
         RowBox[{
          RowBox[{
           RowBox[{"highlightrange", "[", 
            RowBox[{"[", "1", "]"}], "]"}], "+", 
           RowBox[{
            RowBox[{"(", 
             RowBox[{"i", "-", "1"}], ")"}], "*", 
            RowBox[{
             RowBox[{"(", 
              RowBox[{
               RowBox[{"highlightrange", "[", 
                RowBox[{"[", "2", "]"}], "]"}], "-", 
               RowBox[{"highlightrange", "[", 
                RowBox[{"[", "1", "]"}], "]"}]}], ")"}], "/", "3"}]}]}], ",", 
          
          RowBox[{"{", 
           RowBox[{"i", ",", "1", ",", "4"}], "}"}]}], "]"}]}], ";", "\n", 
       RowBox[{"negativedivid", "=", 
        RowBox[{"(", 
         RowBox[{"-", "positivedivid"}], ")"}]}], ";", "\n", 
       RowBox[{"negativedivid", "=", 
        RowBox[{"Reverse", "[", "negativedivid", "]"}]}], ";", "\n", 
       RowBox[{"barseperator", "=", 
        RowBox[{"Join", "[", 
         RowBox[{
          RowBox[{"{", 
           RowBox[{"-", 
            SuperscriptBox["10", "6"]}], "}"}], ",", "negativedivid", ",", 
          "positivedivid", ",", 
          RowBox[{"{", 
           SuperscriptBox["10", "6"], "}"}]}], "]"}]}], ";", "\n", 
       RowBox[{"(*", 
        RowBox[{
         RowBox[{"set", " ", "bar", " ", "color"}], ",", " ", 
         RowBox[{
         "outside", " ", "of", " ", "highlight", " ", "range", " ", "should", 
          " ", "be", " ", "grey"}]}], "*)"}], "\n", 
       RowBox[{"barcolor", "=", 
        RowBox[{"{", 
         RowBox[{"greycolor", ",", 
          RowBox[{"RGBColor", "[", 
           RowBox[{"0.", ",", "0.", ",", "0.7"}], "]"}], ",", 
          RowBox[{"RGBColor", "[", 
           RowBox[{"0.", ",", "0.5", ",", "0.75"}], "]"}], ",", 
          RowBox[{"RGBColor", "[", 
           RowBox[{"0.0", ",", "0.75", ",", "0.75"}], "]"}], ",", "greycolor",
           ",", 
          RowBox[{"RGBColor", "[", 
           RowBox[{"0.75", ",", "0.75", ",", "0."}], "]"}], ",", 
          RowBox[{"RGBColor", "[", 
           RowBox[{"0.75", ",", "0.55", ",", "0."}], "]"}], ",", 
          RowBox[{"RGBColor", "[", 
           RowBox[{"0.7", ",", "0.", ",", "0."}], "]"}], ",", "greycolor"}], 
         "}"}]}], ";", "\n", 
       RowBox[{"(*", 
        RowBox[{"set", " ", "barlegend"}], "*)"}], "\n", 
       RowBox[{"barmin", "=", 
        RowBox[{"Min", "[", "barseperator", "]"}]}], ";", 
       RowBox[{"barmax", "=", 
        RowBox[{"Max", "[", "barseperator", "]"}]}], ";", "\n", 
       RowBox[{"mybarlegend", "=", 
        RowBox[{"BarLegend", "[", 
         RowBox[{
          RowBox[{"{", 
           RowBox[{"barcolor", ",", 
            RowBox[{"{", 
             RowBox[{"barmin", ",", "barmax"}], "}"}]}], "}"}], ",", 
          "barseperator", ",", 
          RowBox[{"LegendLabel", "->", "legendlabel"}], ",", 
          RowBox[{"LabelStyle", "->", 
           RowBox[{"{", 
            RowBox[{
             RowBox[{"FontSize", "->", "14"}], ",", "Black"}], "}"}]}]}], 
         "]"}]}], ";", "\n", "\n", "mybarlegend"}]}], "\n", "]"}]}], "\n", 
   "\n", 
   RowBox[{"(*", 
    RowBox[{"20170514", ":", " ", 
     RowBox[{
     "test", " ", "new", " ", "version", " ", "with", " ", "shape", " ", "of",
       " ", "point", " ", "could", " ", "be", " ", "choosed"}]}], "*)"}], 
   "\n", 
   RowBox[{"(*", 
    RowBox[{"20171105", ":", " ", 
     RowBox[{"add", " ", "barcolor"}]}], "*)"}], "\n", " ", 
   RowBox[{
    RowBox[{
     RowBox[{"PDFCorrelationplot8", "[", 
      RowBox[{
      "datain_", ",", "titlein_", ",", "xtitlein_", ",", "ytitlein_", ",", 
       "plotrangein_", ",", "stretchxin_", ",", "stretchyin_", ",", 
       "barlegendin_", ",", 
       RowBox[{"(*", 
        RowBox[{
        "barseperatorin_", ",", "barcolorin_", ",", "legendlabelin_", ","}], 
        "*)"}], "epilogtextin_", ",", "highlightrangein_", ",", 
       "unhighlightsizein_"}], "]"}], ":=", "\n", 
     RowBox[{"Module", "[", 
      RowBox[{
       RowBox[{"{", 
        RowBox[{
         RowBox[{"data", "=", "datain"}], ",", 
         RowBox[{"title", "=", "titlein"}], ",", 
         RowBox[{"xtitle", "=", "xtitlein"}], ",", 
         RowBox[{"ytitle", "=", "ytitlein"}], ",", 
         RowBox[{"plotrange", "=", "plotrangein"}], ",", 
         RowBox[{"\[Alpha]x", "=", "stretchxin"}], ",", 
         RowBox[{"\[Alpha]y", "=", "stretchyin"}], ",", 
         RowBox[{"barlegend", "=", "barlegendin"}], 
         RowBox[{"(*", 
          RowBox[{
           RowBox[{"barseperator", "=", "barseperatorin"}], ",", 
           RowBox[{"legendlabel", "=", "legendlabelin"}]}], "*)"}], ",", 
         RowBox[{"epilogtext", "=", "epilogtextin"}], ",", 
         RowBox[{"highlightrange", "=", "highlightrangein"}], ",", 
         RowBox[{"unhighlightsize", "=", "unhighlightsizein"}], ",", "\n", 
         "plotxQout", ",", "minx", ",", "maxx", ",", "miny", ",", "maxy", ",",
          "imgsize", ",", "titlesize", ",", "xtitlesize", ",", "ytitlesize", 
         ",", "lgdlabelsize", ",", "ticklablesize", ",", "plotrangetmp", ",", 
         "mycolorscheme", ",", "psizebase", ",", "psizenorm", ",", "p", ",", 
         "datalist", ",", "drange", ",", "barcolor", ",", "mybarlegend", ",", 
         "barmin", ",", "barmax", ",", "textsize", ",", "outlayertext", ",", 
         "\n", "tickslist", ",", "tickslog", ",", "nolable", ",", "Loglable", 
         ",", "xTicks", ",", "yTicks", ",", "p2", ",", "AllPlots", ",", "\n", 
         "ptshape", ",", "ptshaperescale", ",", "\n", "barseperatordefault", 
         ",", "barcolordefault", ",", "barseperator", ",", "\n", 
         "dataordering"}], "}"}], ",", "\n", "\n", 
       RowBox[{"(*", "default", "*)"}], "\n", 
       RowBox[{
        RowBox[{"minx", "=", "0.00001"}], ";", "\n", 
        RowBox[{"maxx", "=", "1"}], ";", "\n", 
        RowBox[{"miny", "=", "1"}], ";", "\n", 
        RowBox[{"maxy", "=", "1100"}], ";", "\n", 
        RowBox[{"imgsize", "=", 
         RowBox[{"{", 
          RowBox[{
           RowBox[{"{", "600", "}"}], ",", 
           RowBox[{"{", "600", "}"}]}], "}"}]}], ";", "\n", 
        RowBox[{"titlesize", "=", "24"}], ";", "\n", 
        RowBox[{"xtitlesize", "=", "18"}], ";", "\n", 
        RowBox[{"ytitlesize", "=", "18"}], ";", "\n", 
        RowBox[{"lgdlabelsize", "=", "12"}], ";", "\n", 
        RowBox[{"ticklablesize", "=", "18"}], ";", "\n", 
        RowBox[{"(*", 
         RowBox[{"20171105", " ", "set", " ", "default", " ", "barlegend"}], 
         "*)"}], "\n", 
        RowBox[{"barseperatordefault", "=", 
         RowBox[{"{", 
          RowBox[{
           RowBox[{"-", "1"}], ",", 
           RowBox[{"-", "0.85"}], ",", 
           RowBox[{"-", "0.7"}], ",", 
           RowBox[{"-", "0.5"}], ",", "0.5", ",", "0.7", ",", "0.85", ",", 
           "1"}], "}"}]}], ";", "\n", 
        RowBox[{"barcolordefault", "=", 
         RowBox[{"{", 
          RowBox[{
           RowBox[{"RGBColor", "[", 
            RowBox[{"0.", ",", "0.", ",", "0.7"}], "]"}], ",", 
           RowBox[{"RGBColor", "[", 
            RowBox[{"0.", ",", "0.5", ",", "0.75"}], "]"}], ",", 
           RowBox[{"RGBColor", "[", 
            RowBox[{"0.0", ",", "0.75", ",", "0.75"}], "]"}], ",", 
           RowBox[{"RGBColor", "[", 
            RowBox[{"0.7", ",", "0.7", ",", "0.7"}], "]"}], ",", 
           RowBox[{"RGBColor", "[", 
            RowBox[{"0.75", ",", "0.75", ",", "0."}], "]"}], ",", 
           RowBox[{"RGBColor", "[", 
            RowBox[{"0.75", ",", "0.55", ",", "0."}], "]"}], ",", 
           RowBox[{"RGBColor", "[", 
            RowBox[{"0.7", ",", "0.", ",", "0."}], "]"}]}], "}"}]}], ";", 
        "\n", "\n", 
        RowBox[{"(*", 
         RowBox[{
         "decide", " ", "data", " ", "max", " ", "range", " ", "in", " ", 
          "plot"}], "*)"}], "\n", "\n", 
        RowBox[{"datalist", "=", 
         RowBox[{"datain", "/.", 
          RowBox[{
           RowBox[{"LF1", "[", "a__", "]"}], ":>", 
           RowBox[{"Abs", "[", 
            RowBox[{
             RowBox[{"{", "a", "}"}], "[", 
             RowBox[{"[", "3", "]"}], "]"}], " ", "]"}]}]}]}], ";", "\n", 
        RowBox[{"drange", "=", 
         RowBox[{"0.5", "+", 
          RowBox[{"0.5", "*", 
           RowBox[{"IntegerPart", "[", 
            RowBox[{
             RowBox[{"Max", "[", "datalist", "]"}], "/", "0.5"}], "]"}]}]}]}],
         ";", "\n", "\n", 
        RowBox[{"(*", 
         RowBox[{"color", " ", "scheme"}], "*)"}], "\n", 
        RowBox[{"(*", "\n", 
         RowBox[{
          RowBox[{"mycolorscheme", "=", "\"\<AlpineColors\>\""}], ";", "\n", 
          RowBox[{"mycolorscheme", "=", "\"\<LightTemperatureMap\>\""}], 
          ";"}], "\n", "*)"}], "\n", "\n", "\n", 
        RowBox[{"(*", "\n", 
         RowBox[{
          RowBox[{"mycolorscheme", "=", "\"\<TemperatureMap\>\""}], ";", "\n",
           "\n", 
          RowBox[{"barseperator", "=", "barseperator"}], ";", "\n", 
          RowBox[{"barmin", "=", 
           RowBox[{"Min", "[", "barseperator", "]"}]}], ";", 
          RowBox[{"barmax", "=", 
           RowBox[{"Max", "[", "barseperator", "]"}]}], ";", "\n", 
          RowBox[{"barcolor", "=", 
           RowBox[{"Table", "[", 
            RowBox[{
             RowBox[{"ColorData", "[", 
              RowBox[{
               RowBox[{"{", 
                RowBox[{"mycolorscheme", ",", 
                 RowBox[{"{", 
                  RowBox[{"barmin", ",", "barmax"}], "}"}]}], "}"}], ",", " ", 
               RowBox[{"barmin", "+", 
                RowBox[{
                 RowBox[{"(", 
                  RowBox[{"i", "-", "0.5"}], ")"}], "*", 
                 RowBox[{
                  RowBox[{"(", 
                   RowBox[{"barmax", "-", "barmin"}], ")"}], "/", 
                  RowBox[{"(", 
                   RowBox[{
                    RowBox[{"Length", "[", "barseperator", "]"}], "-", "1"}], 
                   ")"}]}]}]}]}], "]"}], ",", 
             RowBox[{"{", 
              RowBox[{"i", ",", "1", ",", 
               RowBox[{
                RowBox[{"Length", "[", "barseperator", "]"}], "-", "1"}]}], 
              "}"}]}], "]"}]}], ";", "\n", 
          RowBox[{"barcolor", "=", 
           RowBox[{
            RowBox[{
             RowBox[{"Darker", "[", 
              RowBox[{"#", ",", "0.2"}], "]"}], "&"}], "/@", "barcolor"}]}], 
          ";", 
          RowBox[{"(*", 
           RowBox[{"make", " ", "color", " ", "darker"}], "*)"}], "\n", 
          RowBox[{"(*", 
           RowBox[{
           "lowlimit", " ", "color", " ", "is", " ", "at", " ", "the", " ", 
            "middle", " ", "of", " ", "barcolor"}], "*)"}], "\n", 
          RowBox[{
           RowBox[{"barcolor", "[", 
            RowBox[{"[", 
             RowBox[{
              RowBox[{"(", 
               RowBox[{
                RowBox[{"Length", "[", "barcolor", "]"}], "+", "1"}], ")"}], 
              "/", "2"}], " ", "]"}], "]"}], "=", 
           RowBox[{"(*", 
            RowBox[{
             RowBox[{
              RowBox[{"ColorData", "[", 
               RowBox[{"\"\<Atoms\>\"", ",", "\"\<ColorList\>\""}], "]"}], 
              "[", 
              RowBox[{"[", "22", "]"}], "]"}], ";"}], "*)"}], 
           RowBox[{"(*", 
            RowBox[{
             RowBox[{
              RowBox[{"ColorData", "[", 
               RowBox[{"34", ",", "\"\<ColorList\>\""}], "]"}], "[", 
              RowBox[{"[", "4", "]"}], "]"}], ";"}], "*)"}], 
           RowBox[{"(*", 
            RowBox[{
             RowBox[{
              RowBox[{"ColorData", "[", 
               RowBox[{"49", ",", "\"\<ColorList\>\""}], "]"}], "[", 
              RowBox[{"[", "4", "]"}], "]"}], ";"}], "*)"}], 
           RowBox[{
            RowBox[{"ColorData", "[", 
             RowBox[{"30", ",", "\"\<ColorList\>\""}], "]"}], "[", 
            RowBox[{"[", "5", "]"}], "]"}]}], ";", "\n", 
          RowBox[{"(*", 
           RowBox[{
           "make", " ", "small", " ", "value", " ", "data", " ", 
            "unvisible"}], "*)"}], "\n", 
          RowBox[{
           RowBox[{"barcolor", "[", 
            RowBox[{"[", 
             RowBox[{
              RowBox[{"(", 
               RowBox[{
                RowBox[{"Length", "[", "barcolor", "]"}], "+", "1"}], ")"}], 
              "/", "2"}], " ", "]"}], "]"}], "=", 
           RowBox[{"Lighter", "[", 
            RowBox[{
             RowBox[{"barcolor", "[", 
              RowBox[{"[", 
               RowBox[{
                RowBox[{"(", 
                 RowBox[{
                  RowBox[{"Length", "[", "barcolor", "]"}], "+", "1"}], ")"}],
                 "/", "2"}], " ", "]"}], "]"}], ",", "0.5"}], "]"}]}], ";", 
          "\n", 
          RowBox[{"(*", 
           RowBox[{"20170528", ":", " ", 
            RowBox[{"customize", " ", "my", " ", "color", " ", "scheme"}]}], 
           "*)"}], "\n", 
          RowBox[{"barcolor", "=", 
           RowBox[{"{", 
            RowBox[{
             RowBox[{"RGBColor", "[", 
              RowBox[{"0.", ",", "0.", ",", "1.0"}], "]"}], ",", 
             RowBox[{"RGBColor", "[", 
              RowBox[{"0.", ",", "0.5", ",", "1."}], "]"}], ",", 
             RowBox[{"RGBColor", "[", 
              RowBox[{"0.0", ",", "1.", ",", "1."}], "]"}], ",", 
             RowBox[{"RGBColor", "[", 
              RowBox[{"1.", ",", "1.", ",", "1."}], "]"}], ",", 
             RowBox[{"RGBColor", "[", 
              RowBox[{"1.", ",", "0.8", ",", "0."}], "]"}], ",", 
             RowBox[{"RGBColor", "[", 
              RowBox[{"1.0", ",", "0.4", ",", "0."}], "]"}], ",", 
             RowBox[{"RGBColor", "[", 
              RowBox[{"1.0", ",", "0.", ",", "0."}], "]"}]}], "}"}]}], ";", 
          "\n", 
          RowBox[{"barcolor", "=", 
           RowBox[{"Darker", "[", 
            RowBox[{"barcolor", ",", "0.3"}], "]"}]}], ";"}], "\n", "*)"}], 
        "\n", 
        RowBox[{"(*", 
         RowBox[{"20170606", ":", " ", 
          RowBox[{"brighter", " ", "ogrange", " ", "and", " ", "yellow"}]}], 
         "*)"}], "\n", 
        RowBox[{"(*", "\n", 
         RowBox[{
          RowBox[{"barcolor", "=", 
           RowBox[{"{", 
            RowBox[{
             RowBox[{"RGBColor", "[", 
              RowBox[{"0.", ",", "0.", ",", "0.7"}], "]"}], ",", 
             RowBox[{"RGBColor", "[", 
              RowBox[{"0.", ",", "0.5", ",", "0.75"}], "]"}], ",", 
             RowBox[{"RGBColor", "[", 
              RowBox[{"0.0", ",", "0.75", ",", "0.75"}], "]"}], ",", 
             RowBox[{"RGBColor", "[", 
              RowBox[{"0.7", ",", "0.7", ",", "0.7"}], "]"}], ",", 
             RowBox[{"RGBColor", "[", 
              RowBox[{"0.75", ",", "0.75", ",", "0."}], "]"}], ",", 
             RowBox[{"RGBColor", "[", 
              RowBox[{"0.75", ",", "0.55", ",", "0."}], "]"}], ",", 
             RowBox[{"RGBColor", "[", 
              RowBox[{"0.7", ",", "0.", ",", "0."}], "]"}]}], "}"}]}], ";", 
          "\n", 
          RowBox[{
           RowBox[{"barcolor", "[", 
            RowBox[{"[", 
             RowBox[{
              RowBox[{"(", 
               RowBox[{
                RowBox[{"Length", "[", "barcolor", "]"}], "+", "1"}], ")"}], 
              "/", "2"}], " ", "]"}], "]"}], "=", 
           RowBox[{"Lighter", "[", 
            RowBox[{
             RowBox[{
              RowBox[{"ColorData", "[", 
               RowBox[{"30", ",", "\"\<ColorList\>\""}], "]"}], "[", 
              RowBox[{"[", "5", "]"}], "]"}], ",", "0.5"}], "]"}]}], ";"}], 
         "\n", "*)"}], "\n", "\n", 
        RowBox[{"(*", 
         RowBox[{"20171105", ":", " ", 
          RowBox[{
          "set", " ", "bar", " ", "default", " ", "color", " ", "and", " ", 
           "seperator"}]}], "*)"}], "\n", 
        RowBox[{"(*", "\n", 
         RowBox[{
          RowBox[{"If", "[", 
           RowBox[{
            RowBox[{"barseperator", "\[Equal]", "\"\<default\>\""}], ",", 
            RowBox[{"barseperator", "=", "barseperatordefault"}]}], "]"}], 
          ";", "\n", 
          RowBox[{"If", "[", 
           RowBox[{
            RowBox[{"barcolor", "\[Equal]", "\"\<default\>\""}], ",", 
            RowBox[{"barcolor", "=", "barcolordefault"}]}], "]"}], ";", "\n", 
          
          RowBox[{"If", "[", 
           RowBox[{
            RowBox[{
             RowBox[{"Length", "[", "barseperator", "]"}], "\[NotEqual]", 
             RowBox[{"(", 
              RowBox[{
               RowBox[{"Length", "[", "barcolor", "]"}], "+", "1"}], ")"}]}], 
            ",", 
            RowBox[{
             RowBox[{"Print", "[", 
              RowBox[{
              "\"\<error, # of colors is not # of spaces -1,: {#color, \
#space}\>\"", ",", 
               RowBox[{"Length", "[", "barcolor", "]"}], ",", "\"\< \>\"", 
               ",", 
               RowBox[{"Length", "[", "barseperator", "]"}]}], " ", "]"}], 
             ";", 
             RowBox[{"Quit", "[", "]"}]}]}], " ", "]"}], ";"}], "\n", "*)"}], 
        "\n", 
        RowBox[{"If", "[", "\n", 
         RowBox[{
          RowBox[{
           RowBox[{"(", 
            RowBox[{
             RowBox[{"Head", "[", "barlegend", "]"}], "\[NotEqual]", 
             "BarLegend"}], ")"}], " ", "&&", " ", 
           RowBox[{"barlegend", "!=", "\"\<default\>\""}]}], ",", "\n", 
          RowBox[{
           RowBox[{
           "Print", "[", 
            "\"\<error, barlegend input should be a BarLegend or \
\\\"default\\\"\>\"", "]"}], ";", 
           RowBox[{"Quit", "[", "]"}]}]}], "\n", "]"}], ";", "\n", 
        RowBox[{"If", "[", "\n", 
         RowBox[{
          RowBox[{"barlegend", "\[Equal]", "\"\<default\>\""}], ",", "\n", 
          RowBox[{
           RowBox[{"barseperator", "=", "barseperatordefault"}], ";", "\n", 
           RowBox[{"barcolor", "=", "barcolordefault"}], ";", "\n", 
           RowBox[{"barmin", "=", 
            RowBox[{"Min", "[", "barseperator", "]"}]}], ";", 
           RowBox[{"barmax", "=", 
            RowBox[{"Max", "[", "barseperator", "]"}]}], ";", "\n", 
           RowBox[{"mybarlegend", "=", 
            RowBox[{"BarLegend", "[", 
             RowBox[{
              RowBox[{"{", 
               RowBox[{"barcolordefault", ",", 
                RowBox[{"{", 
                 RowBox[{"barmin", ",", "barmax"}], "}"}]}], "}"}], ",", 
              "barseperatordefault", ",", 
              RowBox[{"LegendLabel", "\[Rule]", "\"\<\>\""}], ",", 
              RowBox[{"LabelStyle", "->", 
               RowBox[{"{", 
                RowBox[{
                 RowBox[{"FontSize", "->", "14"}], ",", "Black"}], "}"}]}]}], 
             "]"}]}], ";"}]}], "\n", "]"}], ";", "\n", 
        RowBox[{"If", "[", "\n", 
         RowBox[{
          RowBox[{"(", 
           RowBox[{
            RowBox[{"Head", "[", "barlegend", "]"}], "==", "BarLegend"}], 
           ")"}], ",", "\n", 
          RowBox[{
           RowBox[{"mybarlegend", "=", "barlegend"}], ";", "\n", 
           RowBox[{"(*", 
            RowBox[{
             RowBox[{"for", " ", "determining", " ", "color"}], ",", " ", 
             RowBox[{
             "we", " ", "need", " ", "to", " ", "set", " ", "up", " ", 
              "barmax"}], ",", " ", "barmin"}], "*)"}], "\n", 
           RowBox[{"barseperator", "=", 
            RowBox[{"barlegend", "[", 
             RowBox[{"[", "2", "]"}], "]"}]}], ";", "\n", 
           RowBox[{"barcolor", "=", 
            RowBox[{"barlegend", "[", 
             RowBox[{"[", 
              RowBox[{"1", ",", "1"}], "]"}], "]"}]}], ";", "\n", 
           RowBox[{"barmin", "=", 
            RowBox[{"Min", "[", "barseperator", "]"}]}], ";", 
           RowBox[{"barmax", "=", 
            RowBox[{"Max", "[", "barseperator", "]"}]}]}]}], "\n", "]"}], ";",
         "\n", 
        RowBox[{"(*", "\n", 
         RowBox[{
          RowBox[{"Print", "[", "\"\<output of barlegend:\>\"", "]"}], ";", 
          "\n", 
          RowBox[{"Print", "[", 
           RowBox[{"InputForm", "[", "barlegend", "]"}], "]"}], ";", "\n", 
          RowBox[{"Print", "[", 
           RowBox[{"\"\<seperator \>\"", ",", "barseperator"}], "]"}], ";", 
          "\n", 
          RowBox[{"Print", "[", 
           RowBox[{"\"\<color \>\"", ",", "barcolor"}], "]"}], ";"}], "\n", 
         "*)"}], "\n", "\n", 
        RowBox[{"(*", 
         RowBox[{
         "add", " ", "text", " ", "to", " ", "plot", " ", "by", " ", 
          "Epilog"}], "*)"}], "\n", 
        RowBox[{"textsize", "=", "16"}], ";", "\n", 
        RowBox[{"(*", 
         RowBox[{
          RowBox[{"Npttext", "=", 
           RowBox[{"Text", "[", 
            RowBox[{
             RowBox[{"Style", "[", 
              RowBox[{
               RowBox[{"\"\<Npt: \>\"", "<>", 
                RowBox[{"ToString", "[", 
                 RowBox[{"Length", "[", 
                  RowBox[{"data", "//", "Flatten"}], "]"}], " ", "]"}]}], ",",
                "textsize", ",", "Black"}], "]"}], ",", 
             RowBox[{"Scaled", "[", 
              RowBox[{"{", 
               RowBox[{"0.1", ",", "0.9"}], "}"}], "]"}]}], " ", "]"}]}], 
          ";"}], "*)"}], "\n", 
        RowBox[{"outlayertext", "=", 
         RowBox[{"{", "epilogtext", "}"}]}], ";", "\n", "\n", 
        RowBox[{"(*", 
         RowBox[{"point", " ", "size", " ", "normalization"}], "*)"}], "\n", 
        RowBox[{"psizebase", "=", "0.005"}], ";", "\n", 
        RowBox[{"psizenorm", "=", "0.01"}], ";", "\n", 
        RowBox[{"p", "=", "2.0"}], ";", 
        RowBox[{"(*", 
         RowBox[{"20170307", ":", " ", 
          RowBox[{"make", " ", "size", " ", "small"}]}], "*)"}], 
        RowBox[{"p", "=", "1.5"}], ";", "\n", "\n", 
        RowBox[{"(*", 
         RowBox[{
         "if", " ", "want", " ", "to", " ", "customize", " ", "the", " ", 
          "plot", " ", "range"}], "*)"}], "\n", 
        RowBox[{"plotrangetmp", "=", 
         RowBox[{"ToString", "[", "plotrange", "]"}]}], ";", "\n", 
        RowBox[{"If", "[", "\n", 
         RowBox[{
          RowBox[{"plotrangetmp", "!=", "\"\<None\>\""}], ",", "\n", 
          RowBox[{
           RowBox[{"minx", "=", 
            RowBox[{"plotrange", "[", 
             RowBox[{"[", "1", "]"}], "]"}]}], ";", "\n", 
           RowBox[{"maxx", "=", 
            RowBox[{"plotrange", "[", 
             RowBox[{"[", "2", "]"}], "]"}]}], ";", "\n", 
           RowBox[{"miny", "=", 
            RowBox[{"plotrange", "[", 
             RowBox[{"[", "3", "]"}], "]"}]}], ";", "\n", 
           RowBox[{"maxy", "=", 
            RowBox[{"plotrange", "[", 
             RowBox[{"[", "4", "]"}], "]"}]}], ";"}]}], "\n", "]"}], ";", 
        "\n", "\n", "\n", 
        RowBox[{"tickslist", "=", 
         RowBox[{
          RowBox[{"Table", "[", 
           RowBox[{
            RowBox[{"Table", "[", 
             RowBox[{
              RowBox[{"j", "*", 
               RowBox[{"10.0", "^", "i"}]}], ",", 
              RowBox[{"{", 
               RowBox[{"j", ",", "1", ",", "9"}], "}"}]}], "]"}], ",", 
            RowBox[{"{", 
             RowBox[{"i", ",", 
              RowBox[{"-", "6"}], ",", "6"}], "}"}]}], "]"}], "//", 
          "Flatten"}]}], ";", "\n", 
        RowBox[{"tickslog", "=", 
         RowBox[{"Table", "[", 
          RowBox[{
           RowBox[{"Log", "[", 
            RowBox[{"tickslist", "[", 
             RowBox[{"[", "i", "]"}], "]"}], "  ", "]"}], ",", 
           RowBox[{"{", 
            RowBox[{"i", ",", "1", ",", 
             RowBox[{"11", "*", "9"}]}], "}"}]}], "]"}]}], ";", "\n", 
        RowBox[{"nolable", "=", 
         RowBox[{"{", 
          RowBox[{
          "\"\<\>\"", ",", "\"\<\>\"", ",", "\"\<\>\"", ",", "\"\<\>\"", ",", 
           "\"\<\>\"", ",", "\"\<\>\"", ",", "\"\<\>\"", ",", "\"\<\>\""}], 
          "}"}]}], ";", "\n", 
        RowBox[{"Loglable", "=", 
         RowBox[{
          RowBox[{"{", 
           RowBox[{
           "\"\<\\!\\(\\*SuperscriptBox[\\(10\\), \\(-6\\)]\\)\>\"", ",", 
            "nolable", ",", 
            "\"\<\\!\\(\\*SuperscriptBox[\\(10\\), \\(-5\\)]\\)\>\"", ",", 
            "nolable", ",", 
            "\"\<\\!\\(\\*SuperscriptBox[\\(10\\), \\(-4\\)]\\)\>\"", ",", 
            "nolable", ",", 
            "\"\<\\!\\(\\*SuperscriptBox[\\(10\\), \\(-3\\)]\\)\>\"", ",", 
            "nolable", ",", 
            "\"\<\\!\\(\\*SuperscriptBox[\\(10\\), \\(-2\\)]\\)\>\"", ",", 
            "nolable", ",", 
            "\"\<\\!\\(\\*SuperscriptBox[\\(10\\), \\(-1\\)]\\)\>\"", ",", 
            "nolable", ",", "\"\<1\>\"", ",", "nolable", ",", 
            "\"\<\\!\\(\\*SuperscriptBox[\\(10\\), \\(1\\)]\\)\>\"", ",", 
            "nolable", ",", 
            "\"\<\\!\\(\\*SuperscriptBox[\\(10\\), \\(2\\)]\\)\>\"", ",", 
            "nolable", ",", 
            "\"\<\\!\\(\\*SuperscriptBox[\\(10\\), \\(3\\)]\\)\>\"", ",", 
            "nolable", ",", 
            "\"\<\\!\\(\\*SuperscriptBox[\\(10\\), \\(4\\)]\\)\>\"", ",", 
            "nolable", ",", 
            "\"\<\\!\\(\\*SuperscriptBox[\\(10\\), \\(5\\)]\\)\>\"", ",", 
            "nolable", ",", 
            "\"\<\\!\\(\\*SuperscriptBox[\\(10\\), \\(6\\)]\\)\>\"", ",", 
            "nolable"}], "}"}], "//", "Flatten"}]}], ";", "\n", 
        RowBox[{"xTicks", "=", 
         RowBox[{
          RowBox[{"Table", "[", 
           RowBox[{
            RowBox[{"Table", "[", 
             RowBox[{
              RowBox[{
               RowBox[{"tkl", "=", 
                RowBox[{"If", "[", 
                 RowBox[{
                  RowBox[{"j", "==", "1"}], ",", 
                  RowBox[{"{", 
                   RowBox[{"0.02", ",", "0.0"}], "}"}], ",", 
                  RowBox[{"{", 
                   RowBox[{"0.01", ",", "0"}], "}"}]}], "]"}]}], ";", 
               RowBox[{"LF", "[", 
                RowBox[{
                 RowBox[{"tickslog", "[", 
                  RowBox[{"[", 
                   RowBox[{
                    RowBox[{
                    RowBox[{"(", 
                    RowBox[{"i", "-", "1"}], ")"}], "*", "9"}], "+", "j"}], 
                   "]"}], "]"}], ",", 
                 RowBox[{"Loglable", "[", 
                  RowBox[{"[", 
                   RowBox[{
                    RowBox[{
                    RowBox[{"(", 
                    RowBox[{"i", "-", "1"}], ")"}], "*", "9"}], "+", "j"}], 
                   "]"}], "]"}], " ", ",", "tkl"}], "]"}]}], ",", 
              RowBox[{"{", 
               RowBox[{"j", ",", "1", ",", "9"}], "}"}]}], "]"}], ",", 
            RowBox[{"{", 
             RowBox[{"i", ",", "1", ",", "11"}], "}"}]}], "]"}], "//", 
          "Flatten"}]}], ";", "\n", 
        RowBox[{"yTicks", "=", 
         RowBox[{
          RowBox[{"Table", "[", 
           RowBox[{
            RowBox[{"Table", "[", 
             RowBox[{
              RowBox[{
               RowBox[{"tkl", "=", 
                RowBox[{"If", "[", 
                 RowBox[{
                  RowBox[{"j", "==", "1"}], ",", 
                  RowBox[{"{", 
                   RowBox[{"0.02", ",", "0.0"}], "}"}], ",", 
                  RowBox[{"{", 
                   RowBox[{"0.01", ",", "0"}], "}"}]}], "]"}]}], ";", 
               RowBox[{"LF", "[", 
                RowBox[{
                 RowBox[{"tickslog", "[", 
                  RowBox[{"[", 
                   RowBox[{
                    RowBox[{
                    RowBox[{"(", 
                    RowBox[{"i", "-", "1"}], ")"}], "*", "9"}], "+", "j"}], 
                   "]"}], "]"}], ",", 
                 RowBox[{"Loglable", "[", 
                  RowBox[{"[", 
                   RowBox[{
                    RowBox[{
                    RowBox[{"(", 
                    RowBox[{"i", "-", "1"}], ")"}], "*", "9"}], "+", "j"}], 
                   "]"}], "]"}], " ", ",", "tkl"}], "]"}]}], ",", 
              RowBox[{"{", 
               RowBox[{"j", ",", "1", ",", "9"}], "}"}]}], "]"}], ",", 
            RowBox[{"{", 
             RowBox[{"i", ",", "1", ",", "11"}], "}"}]}], "]"}], "//", 
          "Flatten"}]}], ";", "\n", "\n", 
        RowBox[{"(*", 
         RowBox[{"test", " ", "print"}], "*)"}], "\n", 
        RowBox[{"(*", "\n", 
         RowBox[{
          RowBox[{"Print", "[", 
           RowBox[{"(", 
            RowBox[{"datain", "/.", 
             RowBox[{
              RowBox[{"LF1", "[", "a__", "]"}], "\[RuleDelayed]", 
              RowBox[{
               RowBox[{"ToString", "[", 
                RowBox[{"{", "\n", 
                 RowBox[{
                  RowBox[{"Setpointsize2", "[", 
                   RowBox[{
                    RowBox[{
                    RowBox[{"{", "a", "}"}], "[", 
                    RowBox[{"[", "3", "]"}], "]"}], ",", "highlightrange", 
                    ",", "unhighlightsize"}], "]"}], ",", "\n", 
                  RowBox[{"If", "[", 
                   RowBox[{
                    RowBox[{
                    RowBox[{
                    RowBox[{
                    RowBox[{"{", "a", "}"}], "[", 
                    RowBox[{"[", "3", "]"}], "]"}], "<", "barmax"}], "&&", 
                    RowBox[{
                    RowBox[{
                    RowBox[{"{", "a", "}"}], "[", 
                    RowBox[{"[", "3", "]"}], "]"}], ">", "barmin"}]}], ",", 
                    RowBox[{"Setbarcolorfunc2", "[", 
                    RowBox[{"barcolor", ",", "barseperator", ",", 
                    RowBox[{
                    RowBox[{"{", "a", "}"}], "[", 
                    RowBox[{"[", "3", "]"}], "]"}]}], " ", "]"}], ",", 
                    RowBox[{"If", "[", 
                    RowBox[{
                    RowBox[{
                    RowBox[{
                    RowBox[{"{", "a", "}"}], "[", 
                    RowBox[{"[", "3", "]"}], "]"}], ">=", "barmax"}], ",", 
                    "Red", ",", "Blue"}], "]"}]}], 
                   RowBox[{"(*", "outlayer", "*)"}], " ", "]"}], ",", "\n", 
                  RowBox[{
                   RowBox[{"{", "a", "}"}], "[", 
                   RowBox[{"[", "3", "]"}], "]"}], ",", "\n", 
                  "highlightrange"}], "}"}], "]"}], "<>", "\"\<\\n\>\""}]}]}],
             ")"}], " ", "]"}], ";"}], "\n", "*)"}], "\n", "\n", 
        RowBox[{"(*", 
         RowBox[{"data", " ", 
          RowBox[{"structure", ":", " ", "\n", 
           RowBox[{
            RowBox[{
             RowBox[{"{", " ", 
              RowBox[{
              "pt1", ",", " ", "pt2", ",", " ", "pt3", ",", " ", "pt4", ",", 
               " ", "..."}], "}"}], "\n", "ptn"}], " ", "==", " ", 
            RowBox[{"LF1", "[", " ", 
             RowBox[{"x1n", ",", " ", "x2n", ",", " ", 
              RowBox[{"corr", 
               RowBox[{"(", " ", 
                RowBox[{
                 RowBox[{"obsA", 
                  RowBox[{"(", "x1n", ")"}]}], ",", " ", 
                 RowBox[{"obsB", 
                  RowBox[{"(", "x2n", ")"}]}]}], ")"}]}]}], "]"}]}]}]}], "\n",
          "*)"}], "\n", 
        RowBox[{"p2", "=", 
         RowBox[{"ListPlot", "[", "\n", 
          RowBox[{
           RowBox[{"{", 
            RowBox[{
             RowBox[{"{", 
              RowBox[{"0.00001", ",", "2"}], "}"}], ",", 
             RowBox[{"{", 
              RowBox[{"0.99", ",", "1200.0"}], "}"}]}], "}"}], "\n", 
           RowBox[{"(*", "\n", 
            RowBox[{"datain", "/.", 
             RowBox[{
              RowBox[{"LF1", "[", "a__", "]"}], ":>", 
              RowBox[{"Style", "[", "\n", 
               RowBox[{
                RowBox[{"{", 
                 RowBox[{
                  RowBox[{"Log", "[", 
                   RowBox[{
                    RowBox[{"{", "a", "}"}], "[", 
                    RowBox[{"[", "1", "]"}], "]"}], " ", "]"}], ",", 
                  RowBox[{"Log", "[", 
                   RowBox[{
                    RowBox[{"{", "a", "}"}], "[", 
                    RowBox[{"[", "2", "]"}], "]"}], " ", "]"}]}], "}"}], ",", 
                "\n", 
                RowBox[{"PointSize", "[", 
                 RowBox[{"(*", 
                  RowBox[{"psizebase", "+", 
                   RowBox[{"psizenorm", "*", 
                    RowBox[{"(", 
                    RowBox[{
                    RowBox[{"Abs", "[", 
                    RowBox[{
                    RowBox[{"{", "a", "}"}], "[", 
                    RowBox[{"[", "3", "]"}], "]"}], " ", "]"}], "/", 
                    "drange"}], ")"}]}]}], "*)"}], 
                 RowBox[{"Setpointsize2", "[", 
                  RowBox[{
                   RowBox[{
                    RowBox[{"{", "a", "}"}], "[", 
                    RowBox[{"[", "3", "]"}], "]"}], ",", "highlightrange", 
                   ",", "unhighlightsize"}], "]"}], " ", "]"}], ",", 
                RowBox[{"(*", 
                 RowBox[{
                  RowBox[{"ColorData", "[", 
                   RowBox[{"{", 
                    RowBox[{"mycolorscheme", ",", 
                    RowBox[{"{", 
                    RowBox[{
                    RowBox[{"-", "drange"}], ",", "drange"}], "}"}]}], " ", 
                    "}"}], "]"}], "[", 
                  RowBox[{
                   RowBox[{"{", "a", "}"}], "[", 
                   RowBox[{"[", "3", "]"}], "]"}], "]"}], "*)"}], "\n", 
                RowBox[{"If", "[", 
                 RowBox[{
                  RowBox[{
                   RowBox[{
                    RowBox[{
                    RowBox[{"{", "a", "}"}], "[", 
                    RowBox[{"[", "3", "]"}], "]"}], "<", "barmax"}], "&&", 
                   RowBox[{
                    RowBox[{
                    RowBox[{"{", "a", "}"}], "[", 
                    RowBox[{"[", "3", "]"}], "]"}], ">", "barmin"}]}], ",", 
                  RowBox[{"Setbarcolorfunc2", "[", 
                   RowBox[{"barcolor", ",", "barseperator", ",", 
                    RowBox[{
                    RowBox[{"{", "a", "}"}], "[", 
                    RowBox[{"[", "3", "]"}], "]"}]}], " ", "]"}], ",", 
                  RowBox[{"If", "[", 
                   RowBox[{
                    RowBox[{
                    RowBox[{
                    RowBox[{"{", "a", "}"}], "[", 
                    RowBox[{"[", "3", "]"}], "]"}], ">=", "barmax"}], ",", 
                    "Red", ",", "Blue"}], "]"}]}], 
                 RowBox[{"(*", "outlayer", "*)"}], " ", "]"}]}], " ", "\n", 
               RowBox[{"(*", 
                RowBox[{"If", "[", " ", 
                 RowBox[{
                  RowBox[{
                   RowBox[{
                    RowBox[{
                    RowBox[{"{", "a", "}"}], "[", 
                    RowBox[{"[", "3", "]"}], "]"}], "<", 
                    RowBox[{"Max", "[", "barseperator", "]"}]}], "&&", 
                   RowBox[{
                    RowBox[{
                    RowBox[{"{", "a", "}"}], "[", 
                    RowBox[{"[", "3", "]"}], "]"}], ">", 
                    RowBox[{"Min", "[", "barseperator", "]"}]}]}], ",", "Red",
                   ",", "Black"}], "]"}], "*)"}], "\n", "]"}]}]}], "*)"}], 
           ",", "\n", 
           RowBox[{"AspectRatio", "->", "1"}], ",", "\n", 
           RowBox[{"PlotRange", "->", 
            RowBox[{"{", 
             RowBox[{
              RowBox[{"{", 
               RowBox[{
                RowBox[{"Log", "[", "minx", "]"}], ",", 
                RowBox[{"Log", "[", "maxx", "]"}]}], "}"}], ",", 
              RowBox[{"{", 
               RowBox[{
                RowBox[{"Log", "[", "miny", "]"}], ",", 
                RowBox[{"Log", "[", "maxy", "]"}]}], "}"}]}], "}"}]}], ",", 
           "\n", 
           RowBox[{"PlotLegends", "->", 
            RowBox[{"(*", 
             RowBox[{"BarLegend", "[", 
              RowBox[{"{", 
               RowBox[{"mycolorscheme", ",", 
                RowBox[{"{", 
                 RowBox[{
                  RowBox[{"-", "drange"}], ",", "drange"}], "}"}]}], "}"}], 
              "]"}], "*)"}], 
            RowBox[{"Placed", "[", 
             RowBox[{"mybarlegend", ",", 
              RowBox[{"{", 
               RowBox[{"1.0", ",", "0.5"}], "}"}]}], "]"}]}], ",", "\n", 
           RowBox[{"PlotStyle", "->", "White"}], ",", 
           RowBox[{"(*", 
            RowBox[{
             RowBox[{"solve", " ", 
              RowBox[{"bug", ":", " ", 
               RowBox[{
               "system", " ", "automatically", " ", "set", " ", "blue", " ", 
                "points", " ", "in", " ", "plot"}]}]}], ",", " ", 
             RowBox[{"\[Rule]", " ", 
              RowBox[{
              "set", " ", "blue", " ", "to", " ", "white", " ", "so", " ", 
               "that", " ", "we", " ", 
               RowBox[{"don", "'"}], "t", " ", "see", " ", "it"}]}]}], "*)"}],
            "\n", 
           RowBox[{"Epilog", "->", 
            RowBox[{"{", 
             RowBox[{"epilogtext", ",", "outlayertext"}], "}"}]}]}], "\n", 
          " ", "]"}]}], ";", "\n", "\n", 
        RowBox[{"ptshape", "=", 
         RowBox[{"{", 
          RowBox[{"\"\<\[FilledCircle]\>\"", ",", 
           RowBox[{"(*", "\"\<*\>\"", "*)"}], 
           RowBox[{"(*", "\"\<x\>\"", "*)"}], "\"\<\[EmptySquare]\>\"", ",", 
           "\"\<\[FilledUpTriangle]\>\"", ",", 
           "\"\<\[FilledDownTriangle]\>\"", ",", "\"\<\[EmptyUpTriangle]\>\"",
            ",", "\"\<\[EmptyDownTriangle]\>\"", ",", 
           "\"\<\[EmptyCircle]\>\""}], "}"}]}], ";", "\n", 
        RowBox[{"ptshaperescale", "=", 
         RowBox[{"{", 
          RowBox[{
          "750.0", ",", "2000.0", ",", "850.0", ",", "800.0", ",", "750.0"}], 
          "}"}]}], ";", "\n", 
        RowBox[{"{", 
         RowBox[{
          RowBox[{"{", 
           RowBox[{"\"\<\[FilledCircle]\>\"", ",", "8.96`"}], "}"}], ",", 
          RowBox[{"{", 
           RowBox[{"\"\<\[FilledSquare]\>\"", ",", "8.96`"}], "}"}], ",", 
          RowBox[{"{", 
           RowBox[{"\"\<\[FilledDiamond]\>\"", ",", "10.88`"}], "}"}], ",", 
          RowBox[{"{", 
           RowBox[{"\"\<\[FilledUpTriangle]\>\"", ",", "10.24`"}], "}"}], ",", 
          RowBox[{"{", 
           RowBox[{"\"\<\[FilledDownTriangle]\>\"", ",", "10.24`"}], "}"}], 
          ",", 
          RowBox[{"{", 
           RowBox[{"\"\<\[EmptyCircle]\>\"", ",", "10.24`"}], "}"}], ",", 
          RowBox[{"{", 
           RowBox[{"\"\<\[EmptySquare]\>\"", ",", "10.24`"}], "}"}], ",", 
          RowBox[{"{", 
           RowBox[{"\"\<\[EmptyDiamond]\>\"", ",", "10.24`"}], "}"}], ",", 
          RowBox[{"{", 
           RowBox[{"\"\<\[EmptyUpTriangle]\>\"", ",", "11.136`"}], "}"}], ",", 
          RowBox[{"{", 
           RowBox[{"\"\<\[EmptyDownTriangle]\>\"", ",", "11.136`"}], "}"}]}], 
         "}"}], ";", "\n", "\n", 
        RowBox[{"(*", 
         RowBox[{"20171126", ":", " ", 
          RowBox[{"use", " ", "marker", " ", "list"}]}], "*)"}], 
        "\[IndentingNewLine]", 
        RowBox[{
         RowBox[{"{", 
          RowBox[{"ptshape", ",", "ptshaperescale"}], "}"}], "=", 
         RowBox[{"PlotMarkerList", "[", "]"}]}], ";", "\[IndentingNewLine]", 
        RowBox[{"(*", 
         RowBox[{
          RowBox[{"ptshaperescale", "=", 
           RowBox[{"0.0075", "*", "ptshaperescale"}]}], ";"}], "*)"}], "\n", 
        "\n", 
        RowBox[{"(*", 
         RowBox[{
          RowBox[{"20171126", ":", " ", 
           RowBox[{"for", " ", "multi", " ", "shape", " ", "plotting"}]}], 
          ",", " ", 
          RowBox[{
          "we", " ", "need", " ", "to", " ", "sort", " ", "data", " ", "in", 
           " ", "all", " ", "groups", " ", "togather"}], ",", " ", 
          RowBox[{
          "otherwise", " ", "the", " ", "last", " ", "group", " ", "members", 
           " ", "with", " ", "small", " ", "values", " ", "still", " ", 
           "cover", " ", "the", " ", "large", " ", "values"}]}], "*)"}], "\n", 
        RowBox[{"dataordering", "=", 
         RowBox[{"Ordering", "[", 
          RowBox[{
           RowBox[{"Flatten", "[", "datain", "]"}], "/.", 
           RowBox[{
            RowBox[{"LF1", "[", "a__", "]"}], "\[RuleDelayed]", 
            RowBox[{"Abs", "[", 
             RowBox[{
              RowBox[{"{", "a", "}"}], "[", 
              RowBox[{"[", "3", "]"}], "]"}], " ", "]"}]}]}], " ", "]"}]}], 
        ";", "\n", "\n", 
        RowBox[{"AllPlots", "=", 
         RowBox[{"Show", "[", "\n", 
          RowBox[{
           RowBox[{"{", "\n", 
            RowBox[{"p2", ",", "\n", 
             RowBox[{"Graphics", "[", "\n", 
              RowBox[{"(*", 
               RowBox[{"20171126", ":", " ", 
                RowBox[{
                "sort", " ", "all", " ", "group", " ", "members", " ", "by", 
                 " ", "ordering", " ", "of", " ", 
                 RowBox[{"Abs", "[", "values", "]"}], " ", 
                 RowBox[{"(", 
                  RowBox[{"using", " ", "dataordering"}], ")"}]}]}], "*)"}], 
              "\n", 
              RowBox[{
               RowBox[{"(", "\n", 
                RowBox[{
                 RowBox[{"Table", "[", "\n", 
                  RowBox[{"(*", 
                   RowBox[{
                    RowBox[{"20170530", ":", " ", 
                    RowBox[{"datain", "[", 
                    RowBox[{"[", "igroup", "]"}], "]"}]}], " ", "\[Rule]", 
                    " ", 
                    RowBox[{
                    "sort", " ", "from", " ", "small", " ", "value", " ", 
                    "to", " ", "large", " ", "value", " ", "so", " ", "that", 
                    " ", "deep", " ", "color", " ", "points", " ", "would", 
                    " ", "not", " ", "be", " ", "covered", " ", "by", " ", 
                    "light", " ", "color", " ", "points"}]}], "*)"}], "\n", 
                  RowBox[{"(*", 
                   RowBox[{"Sort", "[", 
                    RowBox[{
                    RowBox[{"datain", "[", 
                    RowBox[{"[", "igroup", "]"}], "]"}], ",", 
                    RowBox[{
                    RowBox[{
                    RowBox[{"Abs", "[", 
                    RowBox[{"#2", "[", 
                    RowBox[{"[", "3", "]"}], "]"}], " ", "]"}], ">", 
                    RowBox[{"Abs", "[", 
                    RowBox[{"#1", "[", 
                    RowBox[{"[", "3", "]"}], "]"}], " ", "]"}]}], "&"}]}], 
                    "]"}], "*)"}], 
                  RowBox[{
                   RowBox[{
                    RowBox[{"datain", "[", 
                    RowBox[{"[", "igroup", "]"}], "]"}], "/.", 
                    RowBox[{
                    RowBox[{"LF1", "[", "a__", "]"}], ":>", 
                    RowBox[{"Style", "[", "\n", 
                    RowBox[{
                    RowBox[{"Text", "[", 
                    RowBox[{
                    RowBox[{"ptshape", "[", 
                    RowBox[{"[", "igroup", "]"}], "]"}], ",", 
                    RowBox[{"{", 
                    RowBox[{
                    RowBox[{"Log", "[", 
                    RowBox[{
                    RowBox[{"{", "a", "}"}], "[", 
                    RowBox[{"[", "1", "]"}], "]"}], " ", "]"}], ",", 
                    RowBox[{"Log", "[", 
                    RowBox[{
                    RowBox[{"{", "a", "}"}], "[", 
                    RowBox[{"[", "2", "]"}], "]"}], " ", "]"}]}], "}"}]}], 
                    "]"}], ",", "\n", 
                    RowBox[{"(*", 
                    RowBox[{
                    RowBox[{"20171108", ":", " ", 
                    RowBox[{"if", " ", "highlighted"}]}], ",", " ", "medium", 
                    ",", " ", "unhighlighted", ",", " ", 
                    RowBox[{"small", "\n", 
                    RowBox[{"(*", 
                    RowBox[{"PointSize", "["}], "*)"}], 
                    RowBox[{"(*", 
                    RowBox[{"psizebase", "+", 
                    RowBox[{"psizenorm", "*", 
                    RowBox[{"(", 
                    RowBox[{
                    RowBox[{"Abs", "[", 
                    RowBox[{
                    RowBox[{"{", "a", "}"}], "[", 
                    RowBox[{"[", "3", "]"}], "]"}], " ", "]"}], "/", 
                    "drange"}], ")"}]}]}], "*)"}], 
                    RowBox[{"ptshaperescale", "[", 
                    RowBox[{"[", "igroup", "]"}], "]"}], "*", 
                    RowBox[{"Setpointsize2", "[", 
                    RowBox[{
                    RowBox[{
                    RowBox[{"{", "a", "}"}], "[", 
                    RowBox[{"[", "3", "]"}], "]"}], ",", "highlightrange", 
                    ",", "unhighlightsize"}], "]"}]}], " ", 
                    RowBox[{"(*", "]", "*)"}], ","}], 
                    RowBox[{"(*", 
                    RowBox[{
                    RowBox[{"ColorData", "[", 
                    RowBox[{"{", 
                    RowBox[{"mycolorscheme", ",", 
                    RowBox[{"{", 
                    RowBox[{
                    RowBox[{"-", "drange"}], ",", "drange"}], "}"}]}], " ", 
                    "}"}], "]"}], "[", 
                    RowBox[{
                    RowBox[{"{", "a", "}"}], "[", 
                    RowBox[{"[", "3", "]"}], "]"}], "]"}], "*)"}], "\n", 
                    "*)"}], "\n", 
                    RowBox[{"(*", 
                    RowBox[{"20171109", ":", " ", 
                    RowBox[{
                    "use", " ", "Setpointsize4", " ", "to", " ", "satisfy", 
                    " ", "the", " ", "format", " ", "of", " ", "new", " ", 
                    "highlight", " ", "range"}]}], "*)"}], "\n", 
                    RowBox[{
                    RowBox[{"ptshaperescale", "[", 
                    RowBox[{"[", "igroup", "]"}], "]"}], "*", 
                    RowBox[{"(*", "Setpointsize3", "*)"}], 
                    RowBox[{"Setpointsize4", "[", 
                    RowBox[{
                    RowBox[{
                    RowBox[{"{", "a", "}"}], "[", 
                    RowBox[{"[", "3", "]"}], "]"}], ",", "highlightrange", 
                    ",", "unhighlightsize"}], "]"}]}], ",", "\n", 
                    RowBox[{"(*", 
                    RowBox[{
                    RowBox[{"20171108", " ", "if", " ", "highllighted"}], ",",
                     " ", 
                    RowBox[{"grey", " ", "out"}], ",", " ", 
                    RowBox[{
                    "otherwise", " ", "use", " ", "colors", " ", "in", " ", 
                    "the", " ", "palette"}]}], "*)"}], "\n", 
                    RowBox[{"If", "\n", "[", "\n", 
                    RowBox[{"(*", "\n", 
                    RowBox[{
                    RowBox[{"(", 
                    RowBox[{
                    RowBox[{
                    RowBox[{
                    RowBox[{"{", "a", "}"}], "[", 
                    RowBox[{"[", "3", "]"}], "]"}], ">=", 
                    RowBox[{"highlightrange", "[", 
                    RowBox[{"[", "1", "]"}], "]"}]}], " ", "&&", " ", 
                    RowBox[{
                    RowBox[{
                    RowBox[{"{", "a", "}"}], "[", 
                    RowBox[{"[", "3", "]"}], "]"}], "<", 
                    RowBox[{"highlightrange", "[", 
                    RowBox[{"[", "2", "]"}], "]"}]}]}], ")"}], " ", "||", " ", 
                    RowBox[{"(", 
                    RowBox[{
                    RowBox[{
                    RowBox[{
                    RowBox[{"{", "a", "}"}], "[", 
                    RowBox[{"[", "3", "]"}], "]"}], "\[GreaterEqual]", 
                    RowBox[{"(", 
                    RowBox[{"-", 
                    RowBox[{"highlightrange", "[", 
                    RowBox[{"[", "2", "]"}], "]"}]}], ")"}]}], " ", "&&", " ", 
                    RowBox[{
                    RowBox[{
                    RowBox[{"{", "a", "}"}], "[", 
                    RowBox[{"[", "3", "]"}], "]"}], "<", 
                    RowBox[{"(", 
                    RowBox[{"-", 
                    RowBox[{"highlightrange", "[", 
                    RowBox[{"[", "1", "]"}], "]"}]}], ")"}]}]}], " ", ")"}]}],
                     "\n", "*)"}], "\n", 
                    RowBox[{"(*", 
                    RowBox[{
                    RowBox[{"20171109", ":", " ", 
                    RowBox[{
                    "for", " ", "new", " ", "convention", " ", "of", " ", 
                    "highlight", " ", "range"}], ":", " ", 
                    RowBox[{
                    "if", " ", "a", " ", "point", " ", "is", " ", "in", " ", 
                    "any", " ", "highlight", " ", "range"}]}], ",", " ", 
                    RowBox[{
                    "give", " ", "color", " ", "on", " ", "the", " ", 
                    "palette", " ", "to", " ", "it"}], ",", " ", 
                    RowBox[{
                    "otherwise", " ", "give", " ", "gray", " ", "color"}]}], 
                    "*)"}], " ", "\n", 
                    RowBox[{"(*", 
                    RowBox[{
                    RowBox[{
                    RowBox[{"20171114", ":", " ", 
                    RowBox[{"fix", " ", "the", " ", "bug"}], ":", " ", 
                    RowBox[{"when", " ", "highlight", " ", "mode"}]}], " ", 
                    "=", " ", 
                    RowBox[{"0", " ", 
                    RowBox[{"(", 
                    RowBox[{"no", " ", "highlight"}], ")"}]}]}], ",", " ", 
                    RowBox[{
                    "also", " ", "give", " ", "points", " ", "color", " ", 
                    "by", " ", "their", " ", "color", " ", "palette"}]}], 
                    "*)"}], "         ", "\n", 
                    RowBox[{
                    RowBox[{
                    RowBox[{
                    RowBox[{"Intersection", "[", 
                    RowBox[{
                    RowBox[{
                    RowBox[{
                    RowBox[{"(", 
                    RowBox[{
                    RowBox[{
                    RowBox[{
                    RowBox[{"{", "a", "}"}], "[", 
                    RowBox[{"[", "3", "]"}], "]"}], ">=", 
                    RowBox[{"#", "[", 
                    RowBox[{"[", "1", "]"}], "]"}]}], " ", "&&", " ", 
                    RowBox[{
                    RowBox[{
                    RowBox[{"{", "a", "}"}], "[", 
                    RowBox[{"[", "3", "]"}], "]"}], "<", 
                    RowBox[{"#", "[", 
                    RowBox[{"[", "2", "]"}], "]"}]}]}], ")"}], "&"}], "/@", 
                    "highlightrange"}], ",", 
                    RowBox[{"{", "True", "}"}]}], "]"}], "==", 
                    RowBox[{"{", "True", "}"}]}], " ", "||", " ", 
                    RowBox[{"highlightrange", "==", 
                    RowBox[{"{", 
                    RowBox[{"{", 
                    RowBox[{"0.0", ",", "0.0"}], "}"}], "}"}]}]}], ",", "\n", 
                    
                    RowBox[{"(*", 
                    RowBox[{"If", "[", " ", 
                    RowBox[{
                    RowBox[{
                    RowBox[{
                    RowBox[{
                    RowBox[{"{", "a", "}"}], "[", 
                    RowBox[{"[", "3", "]"}], "]"}], "<", 
                    RowBox[{"Max", "[", "barseperator", "]"}]}], "&&", 
                    RowBox[{
                    RowBox[{
                    RowBox[{"{", "a", "}"}], "[", 
                    RowBox[{"[", "3", "]"}], "]"}], ">", 
                    RowBox[{"Min", "[", "barseperator", "]"}]}]}], ",", "Red",
                     ",", "Black"}], "]"}], "*)"}], "\n", 
                    RowBox[{"If", "[", 
                    RowBox[{
                    RowBox[{
                    RowBox[{
                    RowBox[{
                    RowBox[{"{", "a", "}"}], "[", 
                    RowBox[{"[", "3", "]"}], "]"}], "<", "barmax"}], "&&", 
                    RowBox[{
                    RowBox[{
                    RowBox[{"{", "a", "}"}], "[", 
                    RowBox[{"[", "3", "]"}], "]"}], ">", "barmin"}]}], ",", 
                    RowBox[{"Setbarcolorfunc2", "[", 
                    RowBox[{"barcolor", ",", "barseperator", ",", 
                    RowBox[{
                    RowBox[{"{", "a", "}"}], "[", 
                    RowBox[{"[", "3", "]"}], "]"}]}], " ", "]"}], ",", 
                    RowBox[{"If", "[", 
                    RowBox[{
                    RowBox[{
                    RowBox[{
                    RowBox[{"{", "a", "}"}], "[", 
                    RowBox[{"[", "3", "]"}], "]"}], ">=", "barmax"}], ",", 
                    "Red", ",", "Blue"}], "]"}]}], 
                    RowBox[{"(*", "outlayer", "*)"}], " ", "]"}], ",", "\n", 
                    RowBox[{"(*", "Gray", "*)"}], 
                    RowBox[{"RGBColor", "[", 
                    RowBox[{"0.6", ",", "0.6", ",", "0.6"}], "]"}]}], "\n", 
                    "]"}]}], "\n", "]"}]}]}], ",", "\n", 
                   RowBox[{"{", 
                    RowBox[{"igroup", ",", "1", ",", 
                    RowBox[{"Length", "[", "datain", "]"}]}], "}"}]}], "]"}], 
                 "//", "Flatten"}], "\n", ")"}], "[", 
               RowBox[{"[", "dataordering", "]"}], "]"}], "\n", "]"}]}], "\n",
             "}"}], ",", "\n", 
           RowBox[{"Frame", "->", "True"}], ",", "\n", 
           RowBox[{"FrameTicks", "->", 
            RowBox[{"{", 
             RowBox[{
              RowBox[{"xTicks", "/.", " ", 
               RowBox[{"LF", "->", "List"}]}], ",", 
              RowBox[{"xTicks", "/.", " ", 
               RowBox[{"LF", "->", "List"}]}], ",", "\n", 
              RowBox[{"xTicks", "/.", " ", 
               RowBox[{
                RowBox[{"LF", "[", "a__", "]"}], ":>", 
                RowBox[{"{", 
                 RowBox[{
                  RowBox[{
                   RowBox[{"{", "a", "}"}], "[", 
                   RowBox[{"[", "1", "]"}], "]"}], ",", "\"\<\>\""}], 
                 "}"}]}]}], ",", 
              RowBox[{"xTicks", "/.", " ", 
               RowBox[{
                RowBox[{"LF", "[", "a__", "]"}], ":>", 
                RowBox[{"{", 
                 RowBox[{
                  RowBox[{
                   RowBox[{"{", "a", "}"}], "[", 
                   RowBox[{"[", "1", "]"}], "]"}], ",", "\"\<\>\""}], 
                 "}"}]}]}]}], "}"}]}], ",", "\n", 
           RowBox[{"Axes", "->", "False"}], ",", "\n", 
           RowBox[{"PlotLabel", "->", 
            RowBox[{"Style", "[", 
             RowBox[{"title", ",", "titlesize", ",", "Black"}], "]"}]}], ",", 
           "\n", 
           RowBox[{"FrameLabel", "->", 
            RowBox[{"{", 
             RowBox[{
              RowBox[{"Style", "[", 
               RowBox[{"xtitle", ",", "xtitlesize", ",", "Black"}], "]"}], 
              ",", 
              RowBox[{"Style", "[", 
               RowBox[{"ytitle", ",", "ytitlesize", ",", "Black"}], "]"}]}], 
             "}"}]}], ",", "\n", 
           RowBox[{"FrameTicksStyle", "\[Rule]", "Black"}], ",", "\n", 
           RowBox[{"ImageSize", "->", "imgsize"}], ",", "\n", 
           RowBox[{"AspectRatio", "->", "1.0"}], ",", "\n", 
           RowBox[{"(*", 
            RowBox[{"20171125", ":", " ", 
             RowBox[{"add", " ", "grid", " ", "lines"}]}], "*)"}], "\n", 
           RowBox[{"GridLines", "\[Rule]", 
            RowBox[{"Log", "[", 
             RowBox[{"{", 
              RowBox[{
               RowBox[{"{", 
                RowBox[{
                "0.0000001", ",", "0.000001", ",", "0.00001", ",", "0.0001", 
                 ",", "0.001", ",", "0.01", ",", "0.1"}], "}"}], ",", 
               RowBox[{"{", 
                RowBox[{
                "10", ",", "50", ",", "100", ",", "500", ",", "1000", ",", 
                 "5000", ",", "10000"}], "}"}]}], "}"}], "]"}]}], ",", "\n", 
           RowBox[{"GridLinesStyle", "->", 
            RowBox[{"Directive", "[", "Dashed", "]"}]}]}], "\n", "]"}]}], ";",
         "\n", "\n", "AllPlots"}]}], "\n", " ", "]"}]}], ";"}], "\n", 
   " "}]}]], "Code",
 CellChangeTimes->{{3.718944595768218*^9, 3.71894473865633*^9}, {
   3.71894654738997*^9, 3.7189467689547*^9}, {3.718946820819645*^9, 
   3.718946821057271*^9}, {3.718946883414134*^9, 3.7189469410919247`*^9}, {
   3.718946983787396*^9, 3.7189469956913977`*^9}, {3.718947035298238*^9, 
   3.718947124708476*^9}, {3.7190265019072437`*^9, 3.719026503872611*^9}, {
   3.719027920479232*^9, 3.719027951927959*^9}, {3.719028068179401*^9, 
   3.719028096365972*^9}, {3.71902819927229*^9, 3.719028418600198*^9}, {
   3.719028459080885*^9, 3.719028515825341*^9}, {3.71902863245535*^9, 
   3.719028657264673*^9}, {3.719028692823503*^9, 3.719028787380789*^9}, {
   3.719028880379191*^9, 3.71902907494368*^9}, {3.719052318445991*^9, 
   3.719052319197516*^9}, {3.719052529725668*^9, 3.719052609581871*^9}, {
   3.719052649038526*^9, 3.7190526577000093`*^9}, {3.719052695428321*^9, 
   3.719052904261984*^9}, {3.719052967777761*^9, 3.7190530072007427`*^9}, {
   3.719053124337179*^9, 3.719053155564782*^9}, {3.719053201016388*^9, 
   3.719053264703574*^9}, {3.719053327511813*^9, 3.719053468936849*^9}, {
   3.7190535090145617`*^9, 3.7190535191598597`*^9}, {3.7190537021833973`*^9, 
   3.719053727892902*^9}, {3.719053761223259*^9, 3.719053768978384*^9}, {
   3.719053825639894*^9, 3.719053916151112*^9}, {3.7190539623700953`*^9, 
   3.719053983972278*^9}, {3.719054017212516*^9, 3.719054033062592*^9}, {
   3.719058987329566*^9, 3.719059211696488*^9}, {3.719059358642198*^9, 
   3.719059489228016*^9}, {3.719059528764344*^9, 3.719059553168247*^9}, 
   3.719059671877645*^9, {3.719060200722024*^9, 3.7190602093348083`*^9}, {
   3.719061738315998*^9, 3.719061757380669*^9}, 3.7190620386718473`*^9, {
   3.719062465918476*^9, 3.719062483766029*^9}, {3.719062566573143*^9, 
   3.719062705498699*^9}, {3.719063009479269*^9, 3.719063116830621*^9}, {
   3.7190631546480618`*^9, 3.719063157747142*^9}, {3.719063217620678*^9, 
   3.719063221781148*^9}, {3.7190635336694613`*^9, 3.719063533886786*^9}, {
   3.719064169995172*^9, 3.719064247920216*^9}, {3.719064548941779*^9, 
   3.7190645490784063`*^9}, {3.7190663050074253`*^9, 3.719066307754593*^9}, {
   3.719068659023603*^9, 3.7190686596833773`*^9}, {3.7190687112558823`*^9, 
   3.719068736747242*^9}, {3.719068869931007*^9, 3.719068877993348*^9}, {
   3.719068936699396*^9, 3.7190689731869917`*^9}, 3.7190691201220703`*^9, {
   3.719069189264022*^9, 3.719069234952368*^9}, {3.719069283223641*^9, 
   3.719069332113865*^9}, {3.719089721917692*^9, 3.7190897282982283`*^9}, {
   3.719145727400488*^9, 3.719145747364132*^9}, {3.719145825484741*^9, 
   3.719145944723694*^9}, {3.719146063000332*^9, 3.719146089783737*^9}, {
   3.719146149219233*^9, 3.71914617167933*^9}, {3.719147559302034*^9, 
   3.719147589149601*^9}, {3.719147663013172*^9, 3.719147715395446*^9}, {
   3.7191479012258463`*^9, 3.719147902444758*^9}, {3.719148144592663*^9, 
   3.71914817439572*^9}, {3.719148292072307*^9, 3.719148332259069*^9}, {
   3.7191483983347063`*^9, 3.719148409562236*^9}, {3.719148628800827*^9, 
   3.719148628860978*^9}, 3.719148723094474*^9, {3.7191489485915833`*^9, 
   3.719148951889861*^9}, {3.719150107317521*^9, 3.71915013569977*^9}, {
   3.719150196356287*^9, 3.7191502004331923`*^9}, {3.7191597435288773`*^9, 
   3.719159811833576*^9}, {3.7191599097229967`*^9, 3.719160062073574*^9}, 
   3.719160139058332*^9, {3.7191601866209507`*^9, 3.719160340087596*^9}, {
   3.719219656497944*^9, 3.7192196968412933`*^9}, {3.719219774676899*^9, 
   3.7192197949489193`*^9}, {3.719219835354855*^9, 3.719219907760682*^9}, {
   3.719220184080977*^9, 3.71922022419131*^9}, {3.719220263457391*^9, 
   3.719220361524164*^9}, {3.719718701069426*^9, 3.719718786496984*^9}, {
   3.719719320441229*^9, 3.719719335885663*^9}, {3.719730864506414*^9, 
   3.7197308999924097`*^9}, 3.7197547839119577`*^9, {3.720628157807827*^9, 
   3.720628174331727*^9}, 3.72062853576134*^9, {3.720628685000901*^9, 
   3.720628690223555*^9}, {3.72062878002674*^9, 3.720628780698207*^9}, {
   3.7206288506326437`*^9, 3.720628862711894*^9}, {3.720628896629437*^9, 
   3.7206289016167803`*^9}, {3.7206290464720297`*^9, 3.72062905448774*^9}, {
   3.720629131318255*^9, 3.720629188842908*^9}, {3.720629237255023*^9, 
   3.7206292600471487`*^9}, {3.720711976352951*^9, 3.7207120356541443`*^9}, {
   3.7207121593458853`*^9, 3.7207121626251717`*^9}, {3.720717259467432*^9, 
   3.720717610037236*^9}, {3.720717750715724*^9, 3.720717764725205*^9}}]
}, Open  ]],

Cell[CellGroupData[{

Cell["histogram: histsetting class", "Subsection"],

Cell[BoxData[
 RowBox[{
  RowBox[{"(*", 
   RowBox[{
    RowBox[{"input", ":", " ", "lineelement"}], "=", 
    RowBox[{"{", 
     RowBox[{
      RowBox[{"{", 
       RowBox[{"xvalue", ",", "text", ",", "color"}], "}"}], ",", "..."}], 
     "}"}]}], " ", "*)"}], "\n", 
  RowBox[{
   RowBox[{"setxlineinplot2", "[", 
    RowBox[{"datain_", ",", "lineelementin_", ",", "yrangein_"}], "]"}], ":=",
    "\n", 
   RowBox[{"Module", "[", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{
       RowBox[{"data", "=", "datain"}], ",", 
       RowBox[{"lineelement", "=", "lineelementin"}], ",", 
       RowBox[{"yrange", "=", "yrangein"}], ",", "x", ",", "text", ",", 
       "color", ",", "textsize", ",", "lineout", ",", "textout", ",", "ymin", 
       ",", "ymax", ",", "output"}], "}"}], ",", "\n", 
     RowBox[{
      RowBox[{"ymin", "=", 
       RowBox[{"yrange", "[", 
        RowBox[{"[", "1", "]"}], "]"}]}], ";", "\n", 
      RowBox[{"ymax", "=", 
       RowBox[{"yrange", "[", 
        RowBox[{"[", "2", "]"}], "]"}]}], ";", "\n", "\n", 
      RowBox[{"output", "=", "\n", 
       RowBox[{"Table", "[", "\n", 
        RowBox[{
         RowBox[{
          RowBox[{"x", "=", 
           RowBox[{"lineelementin", "[", 
            RowBox[{"[", 
             RowBox[{"i", ",", "1"}], "]"}], "]"}]}], ";", "\n", 
          RowBox[{"text", "=", 
           RowBox[{"lineelementin", "[", 
            RowBox[{"[", 
             RowBox[{"i", ",", "2"}], "]"}], "]"}]}], ";", "\n", 
          RowBox[{"color", "=", 
           RowBox[{"lineelementin", "[", 
            RowBox[{"[", 
             RowBox[{"i", ",", "3"}], "]"}], "]"}]}], ";", "\n", 
          RowBox[{"textsize", "=", "16"}], ";", "\n", 
          RowBox[{"lineout", "=", 
           RowBox[{"Style", "[", 
            RowBox[{
             RowBox[{"Line", "[", 
              RowBox[{"{", 
               RowBox[{
                RowBox[{"{", 
                 RowBox[{"x", ",", "ymin"}], "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{"x", ",", 
                  RowBox[{"0.95", "*", "ymax"}]}], "}"}]}], " ", "}"}], "]"}],
              ",", "color"}], "]"}]}], ";", "\n", 
          RowBox[{"textout", "=", 
           RowBox[{"Text", "[", 
            RowBox[{
             RowBox[{"Style", "[", 
              RowBox[{"text", ",", "textsize", ",", "color"}], "]"}], ",", 
             RowBox[{"{", 
              RowBox[{"x", ",", 
               RowBox[{
                RowBox[{"1.025", "*", "ymax"}], "-", 
                RowBox[{"(*", 
                 RowBox[{"20170306", ",", " ", 
                  RowBox[{"solve", " ", "overlap", " ", "of", " ", "text"}]}],
                  "*)"}], 
                RowBox[{"0.04", "*", "i", "*", "ymax"}]}]}], "}"}]}], " ", 
            "]"}]}], ";", "\n", 
          RowBox[{"{", 
           RowBox[{"textout", ",", "lineout"}], "}"}]}], "\n", ",", 
         RowBox[{"{", 
          RowBox[{"i", ",", "1", ",", 
           RowBox[{"Length", "[", "lineelement", "]"}]}], "}"}]}], "]"}]}], 
      ";", "\n", 
      RowBox[{"(*", "\n", 
       RowBox[{"output", "=", 
        RowBox[{"{", 
         RowBox[{
          RowBox[{"Style", "[", 
           RowBox[{
            RowBox[{"Line", "[", 
             RowBox[{"{", 
              RowBox[{
               RowBox[{"{", 
                RowBox[{"1", ",", "1"}], "}"}], ",", 
               RowBox[{"{", 
                RowBox[{"1", ",", "4"}], "}"}]}], "}"}], "]"}], ",", 
            "Green"}], "]"}], ",", 
          RowBox[{"Style", "[", 
           RowBox[{"\"\<a2\>\"", ",", "Green"}], "]"}]}], "}"}]}], "\n", 
       "*)"}], "\n", "output"}]}], "\n", "]"}]}]}]], "Input",
 InitializationCell->True],

Cell[BoxData[
 RowBox[{
  RowBox[{"(*", 
   RowBox[{
    RowBox[{"input", ":", " ", "lineelement"}], "=", 
    RowBox[{"{", 
     RowBox[{
      RowBox[{"{", 
       RowBox[{"xvalue", ",", "text", ",", "color"}], "}"}], ",", "..."}], 
     "}"}]}], " ", "*)"}], "\n", 
  RowBox[{
   RowBox[{"setxlineinplot3", "[", 
    RowBox[{"lineelementin_", ",", "yrangein_"}], "]"}], ":=", "\n", 
   RowBox[{"Module", "[", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{
       RowBox[{"lineelement", "=", "lineelementin"}], ",", 
       RowBox[{"yrange", "=", "yrangein"}], ",", "x", ",", "text", ",", 
       "color", ",", "textsize", ",", "lineout", ",", "textout", ",", "ymin", 
       ",", "ymax", ",", "output"}], "}"}], ",", "\n", 
     RowBox[{
      RowBox[{"ymin", "=", 
       RowBox[{"yrange", "[", 
        RowBox[{"[", "1", "]"}], "]"}]}], ";", "\n", 
      RowBox[{"ymax", "=", 
       RowBox[{"yrange", "[", 
        RowBox[{"[", "2", "]"}], "]"}]}], ";", "\n", "\n", 
      RowBox[{"output", "=", "\n", 
       RowBox[{"Table", "[", "\n", 
        RowBox[{
         RowBox[{
          RowBox[{"x", "=", 
           RowBox[{"lineelementin", "[", 
            RowBox[{"[", 
             RowBox[{"i", ",", "1"}], "]"}], "]"}]}], ";", "\n", 
          RowBox[{"text", "=", 
           RowBox[{"lineelementin", "[", 
            RowBox[{"[", 
             RowBox[{"i", ",", "2"}], "]"}], "]"}]}], ";", "\n", 
          RowBox[{"color", "=", 
           RowBox[{"lineelementin", "[", 
            RowBox[{"[", 
             RowBox[{"i", ",", "3"}], "]"}], "]"}]}], ";", "\n", 
          RowBox[{"textsize", "=", "16"}], ";", "\n", 
          RowBox[{"lineout", "=", 
           RowBox[{"Style", "[", 
            RowBox[{
             RowBox[{"Line", "[", 
              RowBox[{"{", 
               RowBox[{
                RowBox[{"{", 
                 RowBox[{"x", ",", "ymin"}], "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{"x", ",", 
                  RowBox[{"0.95", "*", "ymax"}]}], "}"}]}], " ", "}"}], "]"}],
              ",", "color"}], "]"}]}], ";", "\n", 
          RowBox[{"textout", "=", 
           RowBox[{"Text", "[", 
            RowBox[{
             RowBox[{"Style", "[", 
              RowBox[{"text", ",", "textsize", ",", "color"}], "]"}], ",", 
             RowBox[{"{", 
              RowBox[{"x", ",", 
               RowBox[{
                RowBox[{"1.025", "*", "ymax"}], "-", 
                RowBox[{"(*", 
                 RowBox[{"20170306", ",", " ", 
                  RowBox[{"solve", " ", "overlap", " ", "of", " ", "text"}]}],
                  "*)"}], 
                RowBox[{"0.04", "*", "i", "*", "ymax"}]}]}], "}"}]}], " ", 
            "]"}]}], ";", "\n", 
          RowBox[{"{", 
           RowBox[{"textout", ",", "lineout"}], "}"}]}], "\n", ",", 
         RowBox[{"{", 
          RowBox[{"i", ",", "1", ",", 
           RowBox[{"Length", "[", "lineelement", "]"}]}], "}"}]}], "]"}]}], 
      ";", "\n", 
      RowBox[{"(*", "\n", 
       RowBox[{"output", "=", 
        RowBox[{"{", 
         RowBox[{
          RowBox[{"Style", "[", 
           RowBox[{
            RowBox[{"Line", "[", 
             RowBox[{"{", 
              RowBox[{
               RowBox[{"{", 
                RowBox[{"1", ",", "1"}], "}"}], ",", 
               RowBox[{"{", 
                RowBox[{"1", ",", "4"}], "}"}]}], "}"}], "]"}], ",", 
            "Green"}], "]"}], ",", 
          RowBox[{"Style", "[", 
           RowBox[{"\"\<a2\>\"", ",", "Green"}], "]"}]}], "}"}]}], "\n", 
       "*)"}], "\n", "output"}]}], "\n", "]"}]}]}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{{3.719372575298244*^9, 3.719372582395236*^9}}],

Cell[BoxData[
 RowBox[{
  RowBox[{"(*", 
   RowBox[{
   "plot", " ", "statistics", " ", "of", " ", "correlation", " ", "data", " ",
     "line"}], "*)"}], "\n", 
  RowBox[{"(*", 
   RowBox[{
    RowBox[{"input", "\n", 
     RowBox[{"histlistin", ":", " ", "data"}]}], ",", " ", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{
       RowBox[{"LF1", "[", 
        RowBox[{"x", ",", "Q", ",", "corr"}], "]"}], ",", "...", ",", "..."}],
       "}"}], "\n", "titlein"}], ",", "xtitlein", ",", 
    RowBox[{"ytitlein", ":", " ", 
     RowBox[{"title", " ", "of", " ", "plot", "\n", "binsetin"}], ":", " ", 
     RowBox[{"bin", " ", "of", " ", "histogram"}]}], ",", " ", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{"tick1", ",", " ", "tick2", ",", " ", "tick3", ",", "..."}], 
      "}"}], "\n", 
     RowBox[{"lineelementin", ":", " ", 
      RowBox[{
      "text", " ", "with", " ", "line", " ", "you", " ", "want", " ", "to", 
       " ", "add", " ", "in", " ", "plot"}], ":", " ", 
      RowBox[{
       RowBox[{"{", 
        RowBox[{
         RowBox[{"{", 
          RowBox[{"xvalue", ",", "\"\<text\>\"", ",", "color"}], "}"}], ",", 
         RowBox[{"{", "...", "}"}], ",", "..."}], "}"}], "\n", 
       RowBox[{"plotrangexin", ":", " ", 
        RowBox[{"{", 
         RowBox[{"xmin", ",", "xmax"}], "}"}]}]}]}]}]}], "\n", "*)"}], "\n", 
  RowBox[{
   RowBox[{
    RowBox[{
     RowBox[{"histplot3", "[", 
      RowBox[{
      "histlistin_", ",", "titlein_", ",", "xtitlein_", ",", "ytitlein_", ",",
        "binsetin_", ",", "lineelementin_", ",", "plotrangexin_", ",", 
       "Nbinin_"}], "]"}], ":=", "\n", 
     RowBox[{"Module", "[", 
      RowBox[{
       RowBox[{"{", 
        RowBox[{
         RowBox[{"histlist", "=", "histlistin"}], ",", 
         RowBox[{"title", "=", "titlein"}], ",", 
         RowBox[{"xtitle", "=", "xtitlein"}], ",", 
         RowBox[{"ytitle", "=", "ytitlein"}], ",", 
         RowBox[{"binset", "=", "binsetin"}], ",", 
         RowBox[{"lineelement", "=", "lineelementin"}], ",", "\n", 
         RowBox[{"plotrangex", "=", "plotrangexin"}], ",", 
         RowBox[{"Nbin", "=", "Nbinin"}], ",", "\n", "xmin", ",", "xmax", ",",
          "ymin", ",", "ymax", ",", "binset2", ",", "textsize", ",", 
         "Npttext", ",", "imgsize", ",", "titlesize", ",", "xtitlesize", ",", 
         "ytitlesize", ",", "lgdlabelsize", ",", "ticklablesize", ",", "avgw",
          ",", "p2", ",", "AllPlots"}], "}"}], ",", "\n", "\n", 
       RowBox[{"(*", "default", "*)"}], "\n", 
       RowBox[{
        RowBox[{"imgsize", "=", 
         RowBox[{"{", 
          RowBox[{
           RowBox[{"{", "600", "}"}], ",", 
           RowBox[{"{", "600", "}"}]}], "}"}]}], ";", "\n", 
        RowBox[{"titlesize", "=", "24"}], ";", "\n", 
        RowBox[{"xtitlesize", "=", "18"}], ";", "\n", 
        RowBox[{"ytitlesize", "=", "18"}], ";", "\n", 
        RowBox[{"lgdlabelsize", "=", "12"}], ";", "\n", 
        RowBox[{"ticklablesize", "=", "18"}], ";", "\n", "\n", 
        RowBox[{"(*", 
         RowBox[{
          RowBox[{"subNbin", "=", "5"}], ";"}], "*)"}], "\n", 
        RowBox[{"binset2", "=", 
         RowBox[{"{", 
          RowBox[{
           RowBox[{"Table", "[", 
            RowBox[{
             RowBox[{
              RowBox[{"binset", "[", 
               RowBox[{"[", 
                RowBox[{"i", "-", "1"}], "]"}], "]"}], "+", 
              RowBox[{
               RowBox[{"(", 
                RowBox[{"j", "/", "5"}], ")"}], "*", 
               RowBox[{"(", 
                RowBox[{
                 RowBox[{"binset", "[", 
                  RowBox[{"[", "i", "]"}], "]"}], "-", 
                 RowBox[{"binset", "[", 
                  RowBox[{"[", 
                   RowBox[{"i", "-", "1"}], "]"}], "]"}]}], ")"}]}]}], ",", 
             RowBox[{"{", 
              RowBox[{"i", ",", "2", ",", 
               RowBox[{"Length", "[", "binset", "]"}]}], "}"}], ",", 
             RowBox[{"{", 
              RowBox[{"j", ",", "0", ",", 
               RowBox[{"5", "-", "1"}]}], "}"}]}], "]"}], "//", "Flatten"}], 
          "}"}]}], ";", "\n", 
        RowBox[{
         RowBox[{"binset2", "[", 
          RowBox[{"[", "1", "]"}], "]"}], "=", 
         RowBox[{"Append", "[", 
          RowBox[{
           RowBox[{"binset2", "[", 
            RowBox[{"[", "1", "]"}], "]"}], ",", 
           RowBox[{"binset", "[", 
            RowBox[{"[", 
             RowBox[{"-", "1"}], "]"}], "]"}]}], " ", "]"}]}], ";", "\n", 
        RowBox[{"(*", 
         RowBox[{
         "add", " ", "some", " ", "bins", " ", "on", " ", "the", " ", "head", 
          " ", "and", " ", "tail"}], "*)"}], "\n", 
        RowBox[{"avgw", "=", 
         RowBox[{
          RowBox[{"(", 
           RowBox[{
            RowBox[{"binset", "[", 
             RowBox[{"[", 
              RowBox[{"-", "1"}], "]"}], "]"}], "-", 
            RowBox[{"binset", "[", 
             RowBox[{"[", "1", "]"}], "]"}]}], ")"}], "/", 
          RowBox[{"(", 
           RowBox[{"5", "*", 
            RowBox[{"(", 
             RowBox[{
              RowBox[{"Length", "[", "binset", "]"}], "-", "1"}], ")"}]}], 
           ")"}]}]}], ";", "\n", 
        RowBox[{
         RowBox[{"binset2", "[", 
          RowBox[{"[", "1", "]"}], "]"}], "=", 
         RowBox[{"Join", "[", 
          RowBox[{
           RowBox[{"binset2", "[", 
            RowBox[{"[", "1", "]"}], "]"}], ",", 
           RowBox[{"Table", "[", 
            RowBox[{
             RowBox[{
              RowBox[{"binset", "[", 
               RowBox[{"[", 
                RowBox[{"-", "1"}], "]"}], "]"}], "+", 
              RowBox[{"i", "*", "avgw"}]}], ",", 
             RowBox[{"{", 
              RowBox[{"i", ",", "1", ",", "30"}], "}"}]}], "]"}]}], " ", 
          "]"}]}], ";", "\n", 
        RowBox[{
         RowBox[{"binset2", "[", 
          RowBox[{"[", "1", "]"}], "]"}], "=", 
         RowBox[{"Join", "[", 
          RowBox[{
           RowBox[{"Table", "[", 
            RowBox[{
             RowBox[{
              RowBox[{"binset", "[", 
               RowBox[{"[", "1", "]"}], "]"}], "-", 
              RowBox[{"i", "*", "avgw"}]}], ",", 
             RowBox[{"{", 
              RowBox[{"i", ",", "30", ",", "1", ",", 
               RowBox[{"-", "1"}]}], "}"}]}], "]"}], ",", 
           RowBox[{"binset2", "[", 
            RowBox[{"[", "1", "]"}], "]"}]}], " ", "]"}]}], ";", "\n", 
        RowBox[{"(*", 
         RowBox[{
          RowBox[{"Print", "[", 
           RowBox[{"\"\<bin set: \>\"", ",", "binset2"}], "]"}], ";"}], 
         "*)"}], "\n", 
        RowBox[{"(*", 
         RowBox[{
          RowBox[{"binset2", "=", 
           RowBox[{"Append", "[", 
            RowBox[{
             RowBox[{"binset2", "[", 
              RowBox[{"[", "1", "]"}], "]"}], ",", "1000"}], "]"}]}], ";"}], 
         "*)"}], 
        RowBox[{"(*", 
         RowBox[{"add", " ", "a", " ", "very", " ", "large", " ", "number"}], 
         "*)"}], "\n", "\n", 
        RowBox[{"(*", 
         RowBox[{"set", " ", "xy", " ", "range", " ", "by", " ", 
          RowBox[{"max", "[", "data", "]"}], " ", "and", " ", "the", " ", 
          "most", " ", "high", " ", "bin", " ", "data"}], "*)"}], "\n", 
        RowBox[{"xmin", "=", 
         RowBox[{"Min", "[", 
          RowBox[{"histlist", ",", "0.0"}], "]"}]}], ";", 
        RowBox[{"xmax", "=", 
         RowBox[{"Max", "[", "histlist", "]"}]}], ";", "\n", 
        RowBox[{"xmax", "=", 
         RowBox[{"xmax", "+", 
          RowBox[{"0.1", "*", 
           RowBox[{"(", 
            RowBox[{"xmax", "-", "xmin"}], ")"}]}]}]}], ";", "\n", 
        RowBox[{"(*", "test", "*)"}], 
        RowBox[{"(*", 
         RowBox[{
          RowBox[{"Print", "[", 
           RowBox[{"\"\<binset2: \>\"", ",", "binset2"}], "]"}], ";"}], 
         "*)"}], "\n", 
        RowBox[{"ymin", "=", "0.0"}], ";", 
        RowBox[{"ymax", "=", 
         RowBox[{"Max", "[", 
          RowBox[{
           RowBox[{"HistogramList", "[", 
            RowBox[{"histlist", ",", "binset2"}], "]"}], "[", 
           RowBox[{"[", "2", "]"}], "]"}], " ", "]"}]}], ";", "\n", "\n", 
        RowBox[{"(*", 
         RowBox[{
          RowBox[{
          "set", " ", "line", " ", "of", " ", "median", " ", "and", " ", 
           "mean"}], ",", " ", 
          RowBox[{"and", " ", "texts"}]}], "*)"}], "\n", 
        RowBox[{"textsize", "=", "16"}], ";", "\n", "\n", 
        RowBox[{"Npttext", "=", 
         RowBox[{"Text", "[", 
          RowBox[{
           RowBox[{"Style", "[", 
            RowBox[{
             RowBox[{"\"\<Npt: \>\"", "<>", 
              RowBox[{"ToString", "[", 
               RowBox[{"Length", "[", 
                RowBox[{"histlist", "//", "Flatten"}], "]"}], " ", "]"}]}], 
             ",", "textsize", ",", "Black"}], "]"}], ",", 
           RowBox[{"Scaled", "[", 
            RowBox[{"{", 
             RowBox[{"0.1", ",", "0.9"}], "}"}], "]"}]}], " ", "]"}]}], ";", 
        "\n", 
        RowBox[{"(*", "\n", 
         RowBox[{
          RowBox[{"Print", "[", 
           RowBox[{"setxlineinplot2", "[", 
            RowBox[{"histlist", ",", "lineelement", ",", 
             RowBox[{"{", 
              RowBox[{"ymin", ",", "ymax"}], "}"}]}], "]"}], " ", "]"}], ";", 
          "\n", 
          RowBox[{"testeplog", "=", 
           RowBox[{"Style", "[", 
            RowBox[{
             RowBox[{"Line", "[", 
              RowBox[{"{", 
               RowBox[{
                RowBox[{"{", 
                 RowBox[{"3", ",", "3"}], "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{"3", ",", "5"}], "}"}]}], "}"}], "]"}], ",", 
             "Blue"}], "]"}]}], ";"}], "\n", "*)"}], "\n", "\n", 
        RowBox[{"(*", 
         RowBox[{"output", " ", "histogram"}], "*)"}], "\n", 
        RowBox[{"p2", "=", "\n", 
         RowBox[{"Histogram", "[", 
          RowBox[{"histlist", ",", 
           RowBox[{"(*", 
            RowBox[{"{", 
             RowBox[{"xmin", ",", "xmax", ",", "w"}], "}"}], "*)"}], 
           "binset2", ",", "\n", 
           RowBox[{"Epilog", "->", 
            RowBox[{"{", 
             RowBox[{
              RowBox[{"setxlineinplot2", "[", 
               RowBox[{"histlist", ",", "lineelement", ",", 
                RowBox[{"{", 
                 RowBox[{"ymin", ",", "ymax"}], "}"}]}], "]"}], ",", 
              "Npttext"}], "}"}]}], ",", "\n", 
           RowBox[{"PlotRange", "->", 
            RowBox[{"{", 
             RowBox[{
              RowBox[{"{", 
               RowBox[{
                RowBox[{"plotrangex", "[", 
                 RowBox[{"[", "1", "]"}], "]"}], ",", 
                RowBox[{"plotrangex", "[", 
                 RowBox[{"[", "2", "]"}], "]"}]}], "}"}], ",", 
              RowBox[{"{", 
               RowBox[{"ymin", ",", "ymax"}], "}"}]}], "}"}]}]}], "\n", 
          "]"}]}], ";", "\n", "\n", 
        RowBox[{"(*", 
         RowBox[{
         "20170307", " ", "set", " ", "Nbin", " ", "by", " ", "argument", " ",
           "if", " ", "not", " ", "auto", " ", "mode"}], "*)"}], "\n", 
        RowBox[{"If", "[", 
         RowBox[{
          RowBox[{"Nbin", "!=", "\"\<auto\>\""}], ",", "\n", 
          RowBox[{
           RowBox[{"p2", "=", "\n", 
            RowBox[{"Histogram", "[", 
             RowBox[{"histlist", ",", 
              RowBox[{"(*", 
               RowBox[{"{", 
                RowBox[{"xmin", ",", "xmax", ",", "w"}], "}"}], "*)"}], 
              "Nbin", ",", "\n", 
              RowBox[{"Epilog", "->", 
               RowBox[{"{", 
                RowBox[{
                 RowBox[{"setxlineinplot2", "[", 
                  RowBox[{"histlist", ",", "lineelement", ",", 
                   RowBox[{"{", 
                    RowBox[{"ymin", ",", "ymax"}], "}"}]}], "]"}], ",", 
                 "Npttext"}], "}"}]}], ",", "\n", 
              RowBox[{"PlotRange", "->", 
               RowBox[{"{", 
                RowBox[{
                 RowBox[{"{", 
                  RowBox[{
                   RowBox[{"plotrangex", "[", 
                    RowBox[{"[", "1", "]"}], "]"}], ",", 
                   RowBox[{"plotrangex", "[", 
                    RowBox[{"[", "2", "]"}], "]"}]}], "}"}], ",", 
                 RowBox[{"{", 
                  RowBox[{"ymin", ",", "ymax"}], "}"}]}], "}"}]}]}], "\n", 
             "]"}]}], ";", "\n", 
           RowBox[{"Print", "[", 
            RowBox[{"\"\<Nbin is \>\"", ",", "Nbin"}], "]"}]}]}], "\n", "]"}],
         ";", "\n", "\n", 
        RowBox[{"(*", "\n", 
         RowBox[{
          RowBox[{"titlesize", "=", "16"}], ";", "\n", 
          RowBox[{"xtitlesize", "=", "16"}], ";", "\n", 
          RowBox[{"ytitlesize", "=", "16"}], ";", "\n", 
          RowBox[{"imgsize", "=", 
           RowBox[{"{", 
            RowBox[{
             RowBox[{"{", "450", "}"}], ",", 
             RowBox[{"{", "450", "}"}]}], "}"}]}], ";", "\n", 
          RowBox[{"title", "=", "\"\<title\>\""}], ";", 
          RowBox[{"xtitle", "=", "\"\<x\>\""}], ";", 
          RowBox[{"ytitle", "=", "\"\<y\>\""}], ";"}], "\n", "*)"}], "\n", 
        RowBox[{"AllPlots", "=", 
         RowBox[{"Show", "[", "\n", 
          RowBox[{"p2", ",", "\n", 
           RowBox[{"BaseStyle", "->", 
            RowBox[{"{", 
             RowBox[{"FontSize", "->", "16"}], "}"}]}], ",", "\n", 
           RowBox[{"Frame", "->", "True"}], ",", "\n", 
           RowBox[{"(*", "\n", 
            RowBox[{
             RowBox[{"FrameTicks", "\[Rule]", 
              RowBox[{"{", 
               RowBox[{
                RowBox[{"xTicks", "/.", 
                 RowBox[{"LF", "\[Rule]", "List"}]}], ",", 
                RowBox[{"xTicks", "/.", 
                 RowBox[{"LF", "\[Rule]", "List"}]}], ",", "\n", 
                RowBox[{"xTicks", "/.", 
                 RowBox[{
                  RowBox[{"LF", "[", "a__", "]"}], "\[RuleDelayed]", 
                  RowBox[{"{", 
                   RowBox[{
                    RowBox[{
                    RowBox[{"{", "a", "}"}], "\[LeftDoubleBracket]", "1", 
                    "\[RightDoubleBracket]"}], ",", "\"\<\>\""}], "}"}]}]}], 
                ",", 
                RowBox[{"xTicks", "/.", 
                 RowBox[{
                  RowBox[{"LF", "[", "a__", "]"}], "\[RuleDelayed]", 
                  RowBox[{"{", 
                   RowBox[{
                    RowBox[{
                    RowBox[{"{", "a", "}"}], "\[LeftDoubleBracket]", "1", 
                    "\[RightDoubleBracket]"}], ",", "\"\<\>\""}], "}"}]}]}]}],
                "}"}]}], ","}], "\n", "*)"}], "\n", 
           RowBox[{"Axes", "->", "False"}], ",", "\n", 
           RowBox[{"PlotLabel", "->", 
            RowBox[{"Style", "[", 
             RowBox[{"title", ",", "titlesize"}], "]"}]}], ",", "\n", 
           RowBox[{"FrameLabel", "->", 
            RowBox[{"{", 
             RowBox[{
              RowBox[{"Style", "[", 
               RowBox[{"xtitle", ",", "xtitlesize"}], "]"}], ",", 
              RowBox[{"Style", "[", 
               RowBox[{"ytitle", ",", "ytitlesize"}], "]"}]}], "}"}]}], ",", 
           "\n", 
           RowBox[{"ImageSize", "->", "imgsize"}], ",", "\n", 
           RowBox[{"AspectRatio", "->", "1"}]}], "\n", "]"}]}], ";", "\n", 
        "\n", "AllPlots"}]}], "\n", 
      RowBox[{"(*", "\n", 
       RowBox[{"{", 
        RowBox[{"median", ",", "binset2", ",", "ymax", ",", "xmax"}], "}"}], 
       "\n", "*)"}], "\n", "]"}]}], ";"}], "\n", "\n"}]}]], "Input"],

Cell[BoxData[
 RowBox[{
  RowBox[{"(*", 
   RowBox[{
   "plot", " ", "statistics", " ", "of", " ", "correlation", " ", "data", " ",
     "line"}], "*)"}], "\n", 
  RowBox[{"(*", 
   RowBox[{
    RowBox[{"input", "\n", 
     RowBox[{"histlistin", ":", " ", "data"}]}], ",", " ", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{"value1", ",", " ", "value2", ",", "...", ",", "..."}], "}"}], 
     "\n", "titlein"}], ",", "xtitlein", ",", 
    RowBox[{"ytitlein", ":", " ", 
     RowBox[{"title", " ", "of", " ", "plot", "\n", "Nbinin"}], ":", " ", 
     RowBox[{"#", " ", "of", " ", "bins", " ", "in", " ", "figure"}]}], ",", 
    " ", 
    RowBox[{"when", " ", "is", " ", "set", " ", "as", " ", "\"\<auto\>\""}], 
    ",", " ", 
    RowBox[{
    "the", " ", "bin", " ", "is", " ", "defined", " ", "by", " ", "binsetin", 
     "\n", 
     RowBox[{"binsetin", ":", " ", 
      RowBox[{"bin", " ", "of", " ", "histogram"}]}]}], ",", " ", 
    RowBox[{"{", 
     RowBox[{"tick1", ",", " ", "tick2", ",", " ", "tick3", ",", "..."}], 
     "}"}], ",", " ", 
    RowBox[{
     RowBox[{"used", " ", "when", " ", "Nbin"}], "=", 
     RowBox[{"\"\<auto\>\"", "\n", 
      RowBox[{"lineelementin", ":", " ", 
       RowBox[{
       "text", " ", "with", " ", "line", " ", "you", " ", "want", " ", "to", 
        " ", "add", " ", "in", " ", "plot"}], ":", " ", 
       RowBox[{
        RowBox[{"{", 
         RowBox[{
          RowBox[{"{", 
           RowBox[{"xvalue", ",", "\"\<text\>\"", ",", "color"}], "}"}], ",", 
          
          RowBox[{"{", "...", "}"}], ",", "..."}], "}"}], "\n", 
        RowBox[{"plotrangexin", ":", " ", 
         RowBox[{"{", 
          RowBox[{"xmin", ",", "xmax"}], "}"}]}]}]}]}]}]}], "\n", "*)"}], 
  "\n", 
  RowBox[{"(*", "example", "*)"}], "\n", 
  RowBox[{"(*", 
   RowBox[{
    RowBox[{
     RowBox[{"histplot4", "[", 
      RowBox[{
       RowBox[{"{", 
        RowBox[{"1", ",", "2", ",", "3", ",", "4", ",", "2", ",", "3"}], 
        "}"}], ",", "\"\<title\>\"", ",", "\"\<corr\>\"", ",", 
       "\"\<#counts\>\"", ",", 
       RowBox[{"{", 
        RowBox[{"0", ",", "0.5", ",", "1.0", ",", "2", ",", "3"}], "}"}], ",", 
       RowBox[{"{", 
        RowBox[{
         RowBox[{"{", 
          RowBox[{"0.75", ",", "\"\<red line\>\"", ",", "Red"}], "}"}], ",", 
         RowBox[{"{", 
          RowBox[{"0", ",", "3.0"}], "}"}], ",", "\"\<auto\>\""}]}]}]}], 
     "]"}], ";"}], "*)"}], "\n", 
  RowBox[{
   RowBox[{
    RowBox[{"histplot4", "[", 
     RowBox[{
     "histlistin_", ",", "titlein_", ",", "xtitlein_", ",", "ytitlein_", ",", 
      "binsetin_", ",", "lineelementin_", ",", "plotrangexin_", ",", 
      "Nbinin_"}], "]"}], ":=", "\n", 
    RowBox[{"Module", "[", 
     RowBox[{
      RowBox[{"{", 
       RowBox[{
        RowBox[{"histlist", "=", "histlistin"}], ",", 
        RowBox[{"title", "=", "titlein"}], ",", 
        RowBox[{"xtitle", "=", "xtitlein"}], ",", 
        RowBox[{"ytitle", "=", "ytitlein"}], ",", 
        RowBox[{"binset", "=", "binsetin"}], ",", 
        RowBox[{"lineelement", "=", "lineelementin"}], ",", "\n", 
        RowBox[{"plotrangex", "=", "plotrangexin"}], ",", 
        RowBox[{"Nbin", "=", "Nbinin"}], ",", "\n", "xmin", ",", "xmax", ",", 
        "ymin", ",", "ymax", ",", "binset2", ",", "textsize", ",", "Npttext", 
        ",", "imgsize", ",", "titlesize", ",", "xtitlesize", ",", 
        "ytitlesize", ",", "lgdlabelsize", ",", "ticklablesize", ",", "avgw", 
        ",", "p2", ",", "AllPlots"}], "}"}], ",", "\n", "\n", 
      RowBox[{"(*", "default", "*)"}], "\n", 
      RowBox[{
       RowBox[{"imgsize", "=", 
        RowBox[{"{", 
         RowBox[{
          RowBox[{"{", "600", "}"}], ",", 
          RowBox[{"{", "600", "}"}]}], "}"}]}], ";", "\n", 
       RowBox[{"titlesize", "=", "24"}], ";", "\n", 
       RowBox[{"xtitlesize", "=", "18"}], ";", "\n", 
       RowBox[{"ytitlesize", "=", "18"}], ";", "\n", 
       RowBox[{"lgdlabelsize", "=", "12"}], ";", "\n", 
       RowBox[{"ticklablesize", "=", "18"}], ";", "\n", "\n", 
       RowBox[{"(*", 
        RowBox[{
         RowBox[{"subNbin", "=", "5"}], ";"}], "*)"}], "\n", 
       RowBox[{"(*", "\n", 
        RowBox[{
         RowBox[{"binset2", "=", 
          RowBox[{"{", 
           RowBox[{
            RowBox[{"Table", "[", 
             RowBox[{
              RowBox[{
               RowBox[{"binset", "[", 
                RowBox[{"[", 
                 RowBox[{"i", "-", "1"}], "]"}], "]"}], "+", 
               RowBox[{
                RowBox[{"(", 
                 RowBox[{"j", "/", "5"}], ")"}], "*", 
                RowBox[{"(", 
                 RowBox[{
                  RowBox[{"binset", "[", 
                   RowBox[{"[", "i", "]"}], "]"}], "-", 
                  RowBox[{"binset", "[", 
                   RowBox[{"[", 
                    RowBox[{"i", "-", "1"}], "]"}], "]"}]}], ")"}]}]}], ",", 
              RowBox[{"{", 
               RowBox[{"i", ",", "2", ",", 
                RowBox[{"Length", "[", "binset", "]"}]}], "}"}], ",", 
              RowBox[{"{", 
               RowBox[{"j", ",", "0", ",", 
                RowBox[{"5", "-", "1"}]}], "}"}]}], "]"}], "//", "Flatten"}], 
           "}"}]}], ";", "\n", 
         RowBox[{
          RowBox[{"binset2", "[", 
           RowBox[{"[", "1", "]"}], "]"}], "=", 
          RowBox[{"Append", "[", 
           RowBox[{
            RowBox[{"binset2", "[", 
             RowBox[{"[", "1", "]"}], "]"}], ",", 
            RowBox[{"binset", "[", 
             RowBox[{"[", 
              RowBox[{"-", "1"}], "]"}], "]"}]}], " ", "]"}]}], ";", "\n", 
         RowBox[{"(*", 
          RowBox[{
          "add", " ", "some", " ", "bins", " ", "on", " ", "the", " ", "head",
            " ", "and", " ", "tail"}], "*)"}], "\n", 
         RowBox[{"avgw", "=", 
          RowBox[{
           RowBox[{"(", 
            RowBox[{
             RowBox[{"binset", "[", 
              RowBox[{"[", 
               RowBox[{"-", "1"}], "]"}], "]"}], "-", 
             RowBox[{"binset", "[", 
              RowBox[{"[", "1", "]"}], "]"}]}], ")"}], "/", 
           RowBox[{"(", 
            RowBox[{"5", "*", 
             RowBox[{"(", 
              RowBox[{
               RowBox[{"Length", "[", "binset", "]"}], "-", "1"}], ")"}]}], 
            ")"}]}]}], ";", "\n", 
         RowBox[{
          RowBox[{"binset2", "[", 
           RowBox[{"[", "1", "]"}], "]"}], "=", 
          RowBox[{"Join", "[", 
           RowBox[{
            RowBox[{"binset2", "[", 
             RowBox[{"[", "1", "]"}], "]"}], ",", 
            RowBox[{"Table", "[", 
             RowBox[{
              RowBox[{
               RowBox[{"binset", "[", 
                RowBox[{"[", 
                 RowBox[{"-", "1"}], "]"}], "]"}], "+", 
               RowBox[{"i", "*", "avgw"}]}], ",", 
              RowBox[{"{", 
               RowBox[{"i", ",", "1", ",", "30"}], "}"}]}], "]"}]}], " ", 
           "]"}]}], ";", "\n", 
         RowBox[{
          RowBox[{"binset2", "[", 
           RowBox[{"[", "1", "]"}], "]"}], "=", 
          RowBox[{"Join", "[", 
           RowBox[{
            RowBox[{"Table", "[", 
             RowBox[{
              RowBox[{
               RowBox[{"binset", "[", 
                RowBox[{"[", "1", "]"}], "]"}], "-", 
               RowBox[{"i", "*", "avgw"}]}], ",", 
              RowBox[{"{", 
               RowBox[{"i", ",", "30", ",", "1", ",", 
                RowBox[{"-", "1"}]}], "}"}]}], "]"}], ",", 
            RowBox[{"binset2", "[", 
             RowBox[{"[", "1", "]"}], "]"}]}], " ", "]"}]}], ";"}], "\n", 
        "*)"}], "\n", "\n", 
       RowBox[{"(*", 
        RowBox[{
         RowBox[{"if", " ", "set", " ", "Nbin"}], ",", " ", 
         RowBox[{"then", " ", "use", " ", "Nbin", " ", "setting"}]}], "*)"}], 
       "\n", 
       RowBox[{"If", "[", 
        RowBox[{
         RowBox[{"Nbin", "==", "\"\<auto\>\""}], ",", 
         RowBox[{"binset2", "=", "binset"}]}], " ", "]"}], ";", "\n", 
       RowBox[{"If", "[", 
        RowBox[{
         RowBox[{"Nbin", "!=", "\"\<auto\>\""}], ",", 
         RowBox[{"binset2", "=", 
          RowBox[{"{", 
           RowBox[{"Table", "[", 
            RowBox[{
             RowBox[{
              RowBox[{"plotrangex", "[", 
               RowBox[{"[", "1", "]"}], "]"}], "+", 
              RowBox[{"i", "*", 
               RowBox[{"(", 
                RowBox[{
                 RowBox[{"(", 
                  RowBox[{
                   RowBox[{"plotrangex", "[", 
                    RowBox[{"[", "2", "]"}], "]"}], "-", 
                   RowBox[{"plotrangex", "[", 
                    RowBox[{"[", "1", "]"}], "]"}]}], ")"}], "/", "Nbin"}], 
                ")"}]}]}], ",", 
             RowBox[{"{", 
              RowBox[{"i", ",", "0", ",", "Nbin"}], "}"}]}], "]"}], "}"}]}]}],
         " ", "]"}], ";", "\n", 
       RowBox[{"(*", 
        RowBox[{
         RowBox[{"Print", "[", 
          RowBox[{"plotrangex", ",", "binset2"}], "]"}], ";"}], "*)"}], "\n", 
       
       RowBox[{"(*", 
        RowBox[{
         RowBox[{"Print", "[", 
          RowBox[{"\"\<bin set: \>\"", ",", "binset2"}], "]"}], ";"}], "*)"}],
        "\n", 
       RowBox[{"(*", 
        RowBox[{
         RowBox[{"binset2", "=", 
          RowBox[{"Append", "[", 
           RowBox[{
            RowBox[{"binset2", "[", 
             RowBox[{"[", "1", "]"}], "]"}], ",", "1000"}], "]"}]}], ";"}], 
        "*)"}], 
       RowBox[{"(*", 
        RowBox[{"add", " ", "a", " ", "very", " ", "large", " ", "number"}], 
        "*)"}], "\n", "\n", 
       RowBox[{"(*", 
        RowBox[{"set", " ", "xy", " ", "range", " ", "by", " ", 
         RowBox[{"max", "[", "data", "]"}], " ", "and", " ", "the", " ", 
         "most", " ", "high", " ", "bin", " ", "data"}], "*)"}], "\n", 
       RowBox[{"xmin", "=", 
        RowBox[{"Min", "[", 
         RowBox[{"histlist", ",", "0.0"}], "]"}]}], ";", 
       RowBox[{"xmax", "=", 
        RowBox[{"Max", "[", "histlist", "]"}]}], ";", "\n", 
       RowBox[{"xmax", "=", 
        RowBox[{"xmax", "+", 
         RowBox[{"0.1", "*", 
          RowBox[{"(", 
           RowBox[{"xmax", "-", "xmin"}], ")"}]}]}]}], ";", "\n", "\n", 
       RowBox[{"(*", "test", "*)"}], 
       RowBox[{"(*", 
        RowBox[{
         RowBox[{"Print", "[", 
          RowBox[{"\"\<binset2: \>\"", ",", "binset2"}], "]"}], ";"}], "*)"}],
        "\n", 
       RowBox[{"ymin", "=", "0.0"}], ";", 
       RowBox[{"ymax", "=", 
        RowBox[{"Max", "[", 
         RowBox[{
          RowBox[{"HistogramList", "[", 
           RowBox[{"histlist", ",", "binset2"}], "]"}], "[", 
          RowBox[{"[", "2", "]"}], "]"}], " ", "]"}]}], ";", "\n", 
       RowBox[{"(*", 
        RowBox[{
         RowBox[{"Print", "[", 
          RowBox[{"HistogramList", "[", 
           RowBox[{"histlist", ",", "binset2", ",", "xmin", ",", "xmax"}], 
           "]"}], " ", "]"}], ";"}], "*)"}], "\n", "\n", 
       RowBox[{"(*", 
        RowBox[{
         RowBox[{
         "set", " ", "line", " ", "of", " ", "median", " ", "and", " ", 
          "mean"}], ",", " ", 
         RowBox[{"and", " ", "texts"}]}], "*)"}], "\n", 
       RowBox[{"textsize", "=", "16"}], ";", "\n", "\n", 
       RowBox[{"Npttext", "=", 
        RowBox[{"Text", "[", 
         RowBox[{
          RowBox[{"Style", "[", 
           RowBox[{
            RowBox[{"\"\<Npt: \>\"", "<>", 
             RowBox[{"ToString", "[", 
              RowBox[{"Length", "[", 
               RowBox[{"histlist", "//", "Flatten"}], "]"}], " ", "]"}]}], 
            ",", "textsize", ",", "Black"}], "]"}], ",", 
          RowBox[{"Scaled", "[", 
           RowBox[{"{", 
            RowBox[{"0.1", ",", "0.9"}], "}"}], "]"}]}], " ", "]"}]}], ";", 
       "\n", 
       RowBox[{"(*", "\n", 
        RowBox[{
         RowBox[{"Print", "[", 
          RowBox[{"setxlineinplot2", "[", 
           RowBox[{"histlist", ",", "lineelement", ",", 
            RowBox[{"{", 
             RowBox[{"ymin", ",", "ymax"}], "}"}]}], "]"}], " ", "]"}], ";", 
         "\n", 
         RowBox[{"testeplog", "=", 
          RowBox[{"Style", "[", 
           RowBox[{
            RowBox[{"Line", "[", 
             RowBox[{"{", 
              RowBox[{
               RowBox[{"{", 
                RowBox[{"3", ",", "3"}], "}"}], ",", 
               RowBox[{"{", 
                RowBox[{"3", ",", "5"}], "}"}]}], "}"}], "]"}], ",", "Blue"}],
            "]"}]}], ";"}], "\n", "*)"}], "\n", "\n", 
       RowBox[{"(*", 
        RowBox[{"output", " ", "histogram"}], "*)"}], "\n", 
       RowBox[{"p2", "=", "\n", 
        RowBox[{"Histogram", "[", 
         RowBox[{"histlist", ",", 
          RowBox[{"(*", 
           RowBox[{"{", 
            RowBox[{"xmin", ",", "xmax", ",", "w"}], "}"}], "*)"}], "binset2",
           ",", "\n", 
          RowBox[{"Epilog", "->", 
           RowBox[{"{", 
            RowBox[{
             RowBox[{"setxlineinplot2", "[", 
              RowBox[{"histlist", ",", "lineelement", ",", 
               RowBox[{"{", 
                RowBox[{"ymin", ",", "ymax"}], "}"}]}], "]"}], ",", 
             "Npttext"}], "}"}]}], ",", "\n", 
          RowBox[{"PlotRange", "->", 
           RowBox[{"{", 
            RowBox[{
             RowBox[{"{", 
              RowBox[{
               RowBox[{"plotrangex", "[", 
                RowBox[{"[", "1", "]"}], "]"}], ",", 
               RowBox[{"plotrangex", "[", 
                RowBox[{"[", "2", "]"}], "]"}]}], "}"}], ",", 
             RowBox[{"{", 
              RowBox[{"ymin", ",", "ymax"}], "}"}]}], "}"}]}]}], "\n", 
         "]"}]}], ";", "\n", "\n", 
       RowBox[{"(*", 
        RowBox[{
        "20170307", " ", "set", " ", "Nbin", " ", "by", " ", "argument", " ", 
         "if", " ", "not", " ", "auto", " ", "mode"}], "*)"}], "\n", 
       RowBox[{"(*", "\n", 
        RowBox[{
         RowBox[{"If", "[", 
          RowBox[{
           RowBox[{"Nbin", "\[NotEqual]", "\"\<auto\>\""}], ",", "\n", 
           RowBox[{
            RowBox[{"p2", "=", "\n", 
             RowBox[{"Histogram", "[", 
              RowBox[{"histlist", ",", 
               RowBox[{"(*", 
                RowBox[{"{", 
                 RowBox[{"xmin", ",", "xmax", ",", "w"}], "}"}], "*)"}], 
               "Nbin", ",", "\n", 
               RowBox[{"Epilog", "\[Rule]", 
                RowBox[{"{", 
                 RowBox[{
                  RowBox[{"setxlineinplot2", "[", 
                   RowBox[{"histlist", ",", "lineelement", ",", 
                    RowBox[{"{", 
                    RowBox[{"ymin", ",", "ymax"}], "}"}]}], "]"}], ",", 
                  "Npttext"}], "}"}]}], ",", "\n", 
               RowBox[{"PlotRange", "\[Rule]", 
                RowBox[{"{", 
                 RowBox[{
                  RowBox[{"{", 
                   RowBox[{
                    RowBox[{"plotrangex", "[", 
                    RowBox[{"[", "1", "]"}], "]"}], ",", 
                    RowBox[{"plotrangex", "[", 
                    RowBox[{"[", "2", "]"}], "]"}]}], "}"}], ",", 
                  RowBox[{"{", 
                   RowBox[{"ymin", ",", "ymax"}], "}"}]}], "}"}]}]}], "\n", 
              "]"}]}], ";", "\n", 
            RowBox[{"Print", "[", 
             RowBox[{"\"\<Nbin is \>\"", ",", "Nbin"}], "]"}]}]}], "\n", 
          "]"}], ";"}], "\n", "*)"}], "\n", "\n", 
       RowBox[{"(*", "\n", 
        RowBox[{
         RowBox[{"titlesize", "=", "16"}], ";", "\n", 
         RowBox[{"xtitlesize", "=", "16"}], ";", "\n", 
         RowBox[{"ytitlesize", "=", "16"}], ";", "\n", 
         RowBox[{"imgsize", "=", 
          RowBox[{"{", 
           RowBox[{
            RowBox[{"{", "450", "}"}], ",", 
            RowBox[{"{", "450", "}"}]}], "}"}]}], ";", "\n", 
         RowBox[{"title", "=", "\"\<title\>\""}], ";", 
         RowBox[{"xtitle", "=", "\"\<x\>\""}], ";", 
         RowBox[{"ytitle", "=", "\"\<y\>\""}], ";"}], "\n", "*)"}], "\n", 
       RowBox[{"AllPlots", "=", 
        RowBox[{"Show", "[", "\n", 
         RowBox[{"p2", ",", "\n", 
          RowBox[{"BaseStyle", "->", 
           RowBox[{"{", 
            RowBox[{"FontSize", "->", "16"}], "}"}]}], ",", "\n", 
          RowBox[{"Frame", "->", "True"}], ",", "\n", 
          RowBox[{"(*", "\n", 
           RowBox[{
            RowBox[{"FrameTicks", "\[Rule]", 
             RowBox[{"{", 
              RowBox[{
               RowBox[{"xTicks", "/.", 
                RowBox[{"LF", "\[Rule]", "List"}]}], ",", 
               RowBox[{"xTicks", "/.", 
                RowBox[{"LF", "\[Rule]", "List"}]}], ",", "\n", 
               RowBox[{"xTicks", "/.", 
                RowBox[{
                 RowBox[{"LF", "[", "a__", "]"}], "\[RuleDelayed]", 
                 RowBox[{"{", 
                  RowBox[{
                   RowBox[{
                    RowBox[{"{", "a", "}"}], "\[LeftDoubleBracket]", "1", 
                    "\[RightDoubleBracket]"}], ",", "\"\<\>\""}], "}"}]}]}], 
               ",", 
               RowBox[{"xTicks", "/.", 
                RowBox[{
                 RowBox[{"LF", "[", "a__", "]"}], "\[RuleDelayed]", 
                 RowBox[{"{", 
                  RowBox[{
                   RowBox[{
                    RowBox[{"{", "a", "}"}], "\[LeftDoubleBracket]", "1", 
                    "\[RightDoubleBracket]"}], ",", "\"\<\>\""}], "}"}]}]}]}],
               "}"}]}], ","}], "\n", "*)"}], "\n", 
          RowBox[{"Axes", "->", "False"}], ",", "\n", 
          RowBox[{"PlotLabel", "->", 
           RowBox[{"Style", "[", 
            RowBox[{"title", ",", "titlesize", ",", "Black"}], "]"}]}], ",", 
          "\n", 
          RowBox[{"FrameLabel", "->", 
           RowBox[{"{", 
            RowBox[{
             RowBox[{"Style", "[", 
              RowBox[{"xtitle", ",", "xtitlesize", ",", "Black"}], "]"}], ",", 
             RowBox[{"Style", "[", 
              RowBox[{"ytitle", ",", "ytitlesize", ",", "Black"}], "]"}]}], 
            "}"}]}], ",", "\n", 
          RowBox[{"ImageSize", "->", "imgsize"}], ",", "\n", 
          RowBox[{"AspectRatio", "->", "1"}]}], "\n", "]"}]}], ";", "\n", 
       "\n", "AllPlots"}]}], "\n", 
     RowBox[{"(*", "\n", 
      RowBox[{"{", 
       RowBox[{"median", ",", "binset2", ",", "ymax", ",", "xmax"}], "}"}], 
      "\n", "*)"}], "\n", "]"}]}], ";"}]}]], "Code"],

Cell[BoxData[
 RowBox[{
  RowBox[{"(*", "20171111", "*)"}], "\[IndentingNewLine]", 
  RowBox[{"(*", 
   RowBox[{
   "plot", " ", "statistics", " ", "of", " ", "correlation", " ", "data", " ",
     "line"}], "*)"}], "\n", 
  RowBox[{"(*", 
   RowBox[{
    RowBox[{"input", "\n", 
     RowBox[{"histlistin", ":", " ", "data"}]}], ",", " ", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{"value1", ",", " ", "value2", ",", "...", ",", "..."}], "}"}], 
     "\n", "titlein"}], ",", "xtitlein", ",", 
    RowBox[{"ytitlein", ":", " ", 
     RowBox[{"title", " ", "of", " ", "plot", "\n", "BinWidth"}], ":", " ", 
     RowBox[{
     "the", " ", "bin", " ", "width", " ", "of", " ", "the", " ", "histogram",
       "\n", 
      RowBox[{"epilogtext", ":", " ", 
       RowBox[{
       "the", " ", "epilog", " ", "of", " ", "the", " ", "histogram", "\n", 
        "lineelementin"}], ":", " ", 
       RowBox[{
       "text", " ", "with", " ", "line", " ", "you", " ", "want", " ", "to", 
        " ", "add", " ", "in", " ", "plot"}], ":", " ", 
       RowBox[{
        RowBox[{"{", 
         RowBox[{
          RowBox[{"{", 
           RowBox[{"xvalue", ",", "\"\<text\>\"", ",", "color"}], "}"}], ",", 
          
          RowBox[{"{", "...", "}"}], ",", "..."}], "}"}], "\n", 
        RowBox[{"plotrangexin", ":", " ", 
         RowBox[{"{", 
          RowBox[{"xmin", ",", "xmax"}], "}"}]}]}]}]}]}]}], "\n", "*)"}], 
  "\[IndentingNewLine]", 
  RowBox[{
   RowBox[{
    RowBox[{"histplot5", "[", 
     RowBox[{
     "histlistin_", ",", "titlein_", ",", "xtitlein_", ",", "ytitlein_", ",", 
      "plotrangein_", ",", "BinWidthin_", ",", "epilogtextin_"}], "]"}], ":=",
     "\n", 
    RowBox[{"Module", "[", 
     RowBox[{
      RowBox[{"{", 
       RowBox[{
        RowBox[{"histlist", "=", "histlistin"}], ",", 
        RowBox[{"title", "=", "titlein"}], ",", 
        RowBox[{"xtitle", "=", "xtitlein"}], ",", 
        RowBox[{"ytitle", "=", "ytitlein"}], ",", 
        RowBox[{"plotrange", "=", "plotrangein"}], ",", 
        RowBox[{"BinWidth", "=", "BinWidthin"}], ",", 
        RowBox[{"epilogtext", "=", "epilogtextin"}], ",", 
        "\[IndentingNewLine]", "Nbin", ",", "\n", "xmin", ",", "xmax", ",", 
        "ymin", ",", "ymax", ",", "binset2", ",", "textsize", ",", "Npttext", 
        ",", "imgsize", ",", "titlesize", ",", "xtitlesize", ",", 
        "ytitlesize", ",", "lgdlabelsize", ",", "ticklablesize", ",", "avgw", 
        ",", "p2", ",", "AllPlots"}], "}"}], ",", "\n", "\[IndentingNewLine]",
       "\n", 
      RowBox[{"(*", "default", "*)"}], "\n", 
      RowBox[{
       RowBox[{"imgsize", "=", 
        RowBox[{"{", 
         RowBox[{
          RowBox[{"{", "600", "}"}], ",", 
          RowBox[{"{", "600", "}"}]}], "}"}]}], ";", "\n", 
       RowBox[{"titlesize", "=", "24"}], ";", "\n", 
       RowBox[{"xtitlesize", "=", "18"}], ";", "\n", 
       RowBox[{"ytitlesize", "=", "18"}], ";", "\n", 
       RowBox[{"lgdlabelsize", "=", "12"}], ";", "\n", 
       RowBox[{"ticklablesize", "=", "18"}], ";", "\[IndentingNewLine]", 
       "\[IndentingNewLine]", 
       RowBox[{"(*", 
        RowBox[{
        "set", " ", "the", " ", "bins", " ", "and", " ", "xy", " ", "range", 
         " ", "of", " ", "the", " ", "histogram"}], "*)"}], 
       "\[IndentingNewLine]", 
       RowBox[{"xmin", "=", 
        RowBox[{"plotrange", "[", 
         RowBox[{"[", "1", "]"}], "]"}]}], ";", "\[IndentingNewLine]", 
       RowBox[{"xmax", "=", 
        RowBox[{"plotrange", "[", 
         RowBox[{"[", "2", "]"}], "]"}]}], ";", "\[IndentingNewLine]", 
       RowBox[{"ymin", "=", 
        RowBox[{"plotrange", "[", 
         RowBox[{"[", "3", "]"}], "]"}]}], ";", "\[IndentingNewLine]", 
       RowBox[{"ymax", "=", 
        RowBox[{"plotrange", "[", 
         RowBox[{"[", "4", "]"}], "]"}]}], ";", "\[IndentingNewLine]", 
       "\[IndentingNewLine]", 
       RowBox[{"If", "[", 
        RowBox[{
         RowBox[{"xmin", "\[Equal]", "\"\<default\>\""}], ",", 
         RowBox[{"xmin", "=", 
          RowBox[{"Min", "[", 
           RowBox[{"histlist", ",", "0.0"}], "]"}]}]}], " ", "]"}], ";", 
       "\[IndentingNewLine]", 
       RowBox[{"If", "[", 
        RowBox[{
         RowBox[{"xmax", "\[Equal]", "\"\<default\>\""}], ",", 
         RowBox[{
          RowBox[{"xmax", "=", 
           RowBox[{"Max", "[", "histlist", "]"}]}], ";", 
          RowBox[{"xmax", "=", 
           RowBox[{"xmax", "+", 
            RowBox[{"0.05", "*", 
             RowBox[{"(", 
              RowBox[{"xmax", "-", "xmin"}], ")"}]}]}]}], ";", 
          RowBox[{"If", "[", 
           RowBox[{
            RowBox[{"xmin", "<", "0"}], ",", 
            RowBox[{"xmin", "=", 
             RowBox[{"xmin", "-", 
              RowBox[{"0.05", "*", 
               RowBox[{"(", 
                RowBox[{"xmax", "-", "xmin"}], ")"}]}]}]}]}], "]"}]}]}], " ", 
        "]"}], ";", "\[IndentingNewLine]", "\[IndentingNewLine]", 
       RowBox[{"(*", 
        RowBox[{"set", " ", "bins", " ", "of", " ", "the", " ", "histogram"}],
         "*)"}], "\[IndentingNewLine]", 
       RowBox[{"If", "[", 
        RowBox[{
         RowBox[{"BinWidth", "\[Equal]", "\"\<default\>\""}], ",", 
         RowBox[{"BinWidth", "=", 
          RowBox[{
           RowBox[{"(", 
            RowBox[{"xmax", "-", "xmin"}], ")"}], "/", "20"}]}]}], "]"}], ";",
        "\[IndentingNewLine]", 
       RowBox[{"(*", 
        RowBox[{
        "set", " ", "default", " ", "y", " ", "max", " ", "by", " ", "the", 
         " ", "max", " ", "value", " ", "of", " ", "of", " ", "the", " ", 
         "histogram"}], "*)"}], "\[IndentingNewLine]", 
       RowBox[{"If", "[", 
        RowBox[{
         RowBox[{"ymin", "\[Equal]", "\"\<default\>\""}], ",", 
         RowBox[{"ymin", "=", "0.0"}]}], " ", "]"}], ";", 
       "\[IndentingNewLine]", 
       RowBox[{"If", "[", 
        RowBox[{
         RowBox[{"ymax", "\[Equal]", "\"\<default\>\""}], ",", 
         RowBox[{"ymax", "=", 
          RowBox[{"Max", "[", 
           RowBox[{
            RowBox[{"HistogramList", "[", 
             RowBox[{"histlist", ",", 
              RowBox[{"{", "BinWidth", "}"}]}], "]"}], "[", 
            RowBox[{"[", "2", "]"}], "]"}], " ", "]"}]}]}], " ", "]"}], ";", 
       "\[IndentingNewLine]", "\n", "\n", "\[IndentingNewLine]", 
       RowBox[{"(*", 
        RowBox[{
         RowBox[{"if", " ", "set", " ", "Nbin"}], ",", " ", 
         RowBox[{"then", " ", "use", " ", "Nbin", " ", "setting"}]}], "*)"}], 
       "\n", 
       RowBox[{"(*", "\n", 
        RowBox[{
         RowBox[{"If", "[", 
          RowBox[{
           RowBox[{"Nbin", "==", "\"\<auto\>\""}], ",", 
           RowBox[{"binset2", "=", "binset"}]}], " ", "]"}], ";", "\n", 
         RowBox[{"If", "[", 
          RowBox[{
           RowBox[{"Nbin", "!=", "\"\<auto\>\""}], ",", 
           RowBox[{"binset2", "=", 
            RowBox[{"{", 
             RowBox[{"Table", "[", 
              RowBox[{
               RowBox[{
                RowBox[{"plotrangex", "[", 
                 RowBox[{"[", "1", "]"}], "]"}], "+", 
                RowBox[{"i", "*", 
                 RowBox[{"(", 
                  RowBox[{
                   RowBox[{"(", 
                    RowBox[{
                    RowBox[{"plotrangex", "[", 
                    RowBox[{"[", "2", "]"}], "]"}], "-", 
                    RowBox[{"plotrangex", "[", 
                    RowBox[{"[", "1", "]"}], "]"}]}], ")"}], "/", "Nbin"}], 
                  ")"}]}]}], ",", 
               RowBox[{"{", 
                RowBox[{"i", ",", "0", ",", "Nbin"}], "}"}]}], "]"}], 
             "}"}]}]}], " ", "]"}], ";"}], "\n", "*)"}], "\n", 
       RowBox[{"(*", 
        RowBox[{
         RowBox[{
         "set", " ", "line", " ", "of", " ", "median", " ", "and", " ", 
          "mean"}], ",", " ", 
         RowBox[{"and", " ", "texts"}]}], "*)"}], "\n", 
       RowBox[{"(*", "\n", 
        RowBox[{
         RowBox[{"textsize", "=", "16"}], ";", "\n", 
         RowBox[{"Npttext", "=", 
          RowBox[{"Text", "[", 
           RowBox[{
            RowBox[{"Style", "[", 
             RowBox[{
              RowBox[{"\"\<Npt: \>\"", "<>", 
               RowBox[{"ToString", "[", 
                RowBox[{"Length", "[", 
                 RowBox[{"histlist", "//", "Flatten"}], "]"}], " ", "]"}]}], 
              ",", "textsize", ",", "Black"}], "]"}], ",", 
            RowBox[{"Scaled", "[", 
             RowBox[{"{", 
              RowBox[{"0.1", ",", "0.9"}], "}"}], "]"}]}], " ", "]"}]}], 
         ";"}], "\n", "*)"}], "\n", "\[IndentingNewLine]", 
       RowBox[{"(*", 
        RowBox[{"output", " ", "histogram"}], "*)"}], "\[IndentingNewLine]", 
       RowBox[{"p2", "=", "\n", 
        RowBox[{"Histogram", "[", 
         RowBox[{"histlist", ",", 
          RowBox[{"(*", 
           RowBox[{"{", 
            RowBox[{"xmin", ",", "xmax", ",", "w"}], "}"}], "*)"}], 
          RowBox[{"{", "BinWidth", "}"}], ",", "\n", 
          RowBox[{"Epilog", "->", "epilogtext"}], ",", "\n", 
          RowBox[{"PlotRange", "->", 
           RowBox[{"{", 
            RowBox[{
             RowBox[{"{", 
              RowBox[{"xmin", ",", "xmax"}], "}"}], ",", 
             RowBox[{"{", 
              RowBox[{"ymin", ",", "ymax"}], "}"}]}], "}"}]}]}], "\n", 
         "]"}]}], ";", "\n", "\n", 
       RowBox[{"AllPlots", "=", 
        RowBox[{"Show", "[", "\n", 
         RowBox[{"p2", ",", "\n", 
          RowBox[{"BaseStyle", "->", 
           RowBox[{"{", 
            RowBox[{"FontSize", "->", "16"}], "}"}]}], ",", "\n", 
          RowBox[{"Frame", "->", "True"}], ",", "\n", 
          RowBox[{"(*", "\n", 
           RowBox[{
            RowBox[{"FrameTicks", "\[Rule]", 
             RowBox[{"{", 
              RowBox[{
               RowBox[{"xTicks", "/.", 
                RowBox[{"LF", "\[Rule]", "List"}]}], ",", 
               RowBox[{"xTicks", "/.", 
                RowBox[{"LF", "\[Rule]", "List"}]}], ",", "\n", 
               RowBox[{"xTicks", "/.", 
                RowBox[{
                 RowBox[{"LF", "[", "a__", "]"}], "\[RuleDelayed]", 
                 RowBox[{"{", 
                  RowBox[{
                   RowBox[{
                    RowBox[{"{", "a", "}"}], "\[LeftDoubleBracket]", "1", 
                    "\[RightDoubleBracket]"}], ",", "\"\<\>\""}], "}"}]}]}], 
               ",", 
               RowBox[{"xTicks", "/.", 
                RowBox[{
                 RowBox[{"LF", "[", "a__", "]"}], "\[RuleDelayed]", 
                 RowBox[{"{", 
                  RowBox[{
                   RowBox[{
                    RowBox[{"{", "a", "}"}], "\[LeftDoubleBracket]", "1", 
                    "\[RightDoubleBracket]"}], ",", "\"\<\>\""}], "}"}]}]}]}],
               "}"}]}], ","}], "\n", "*)"}], "\n", 
          RowBox[{"Axes", "->", "False"}], ",", "\n", 
          RowBox[{"PlotLabel", "->", 
           RowBox[{"Style", "[", 
            RowBox[{"title", ",", "titlesize", ",", "Black"}], "]"}]}], ",", 
          "\n", 
          RowBox[{"FrameLabel", "->", 
           RowBox[{"{", 
            RowBox[{
             RowBox[{"Style", "[", 
              RowBox[{"xtitle", ",", "xtitlesize", ",", "Black"}], "]"}], ",", 
             RowBox[{"Style", "[", 
              RowBox[{"ytitle", ",", "ytitlesize", ",", "Black"}], "]"}]}], 
            "}"}]}], ",", "\n", 
          RowBox[{"ImageSize", "->", "imgsize"}], ",", "\n", 
          RowBox[{"AspectRatio", "->", "1"}]}], "\n", "]"}]}], ";", "\n", 
       "\n", "AllPlots"}]}], "\n", 
     RowBox[{"(*", "\n", 
      RowBox[{"{", 
       RowBox[{"median", ",", "binset2", ",", "ymax", ",", "xmax"}], "}"}], 
      "\n", "*)"}], "\n", "]"}]}], ";"}]}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{{3.719362692573449*^9, 3.719362710097843*^9}, {
   3.71936275991719*^9, 3.719362761016706*^9}, {3.719364219320971*^9, 
   3.7193642384332933`*^9}, {3.719364277426137*^9, 3.7193642909921637`*^9}, {
   3.719364332351177*^9, 3.7193644143214483`*^9}, {3.719364467186965*^9, 
   3.719364479442663*^9}, {3.7193657986355267`*^9, 3.719365831705464*^9}, {
   3.719365869182184*^9, 3.719365875798799*^9}, {3.719365926639658*^9, 
   3.719366019590419*^9}, {3.719366126160418*^9, 3.719366127651661*^9}, {
   3.719366190045932*^9, 3.719366199824971*^9}, {3.7193663746052923`*^9, 
   3.719366413436926*^9}, {3.719366766246101*^9, 3.719366910141972*^9}, {
   3.719366960578383*^9, 3.719366960712386*^9}, {3.7193671958603277`*^9, 
   3.719367264861142*^9}, {3.719367390200982*^9, 3.719367392347584*^9}, 
   3.7193676477882957`*^9, 3.7193677434198008`*^9, 3.719367815511675*^9, {
   3.719367954254094*^9, 3.7193680279430513`*^9}, 3.7193680626477003`*^9, {
   3.719368180962489*^9, 3.719368207419601*^9}, {3.71936826938745*^9, 
   3.719368309739233*^9}, {3.719370023962975*^9, 3.719370053782784*^9}, {
   3.719370191527419*^9, 3.719370220205138*^9}, {3.719370426124138*^9, 
   3.719370505231124*^9}, {3.7193705353435993`*^9, 3.719370559611046*^9}, {
   3.719370631020216*^9, 3.719370633722578*^9}, {3.7193706728168993`*^9, 
   3.7193707500841293`*^9}, {3.719375980488949*^9, 3.719376147652277*^9}, {
   3.7193762683834667`*^9, 3.719376269051441*^9}, {3.719429797758503*^9, 
   3.719429822747439*^9}, {3.7194299887766314`*^9, 3.71942999645234*^9}, 
   3.7194318533285313`*^9, {3.719451779764359*^9, 3.719451803971897*^9}, {
   3.7194519495541286`*^9, 3.719451949743598*^9}}]
}, Open  ]]
}, Open  ]],

Cell[CellGroupData[{

Cell["make plot (general use)", "Section"],

Cell["make {x,Q} plot", "Subsection"],

Cell["make {x,Q} plot for size by value", "Subsection"],

Cell["make histogram", "Subsection"],

Cell["save plot into file (pdf, eps, jpg)", "Subsection"]
}, Open  ]],

Cell[CellGroupData[{

Cell["\<\
make plot (specific for correlation and .etc plots in our project)\
\>", "Section"],

Cell["make {x,Q} plot ", "Subsection"],

Cell["make {x,Q} plot for size by value (corr, dr*corr, dr)", "Subsection"],

Cell["make histogram (corr, dr*corr, dr)", "Subsection"]
}, Open  ]],

Cell[CellGroupData[{

Cell["make all kinds plots ", "Section"],

Cell["read all kinds data from files", "Subsection"],

Cell[CellGroupData[{

Cell["\<\
do something on the data 
(Mb, Mc cut for PDF data (cut value = 0 data), merge data of experiments into \
one)\
\>", "Subsection"],

Cell[BoxData[
 RowBox[{
  RowBox[{"deletezerovalue", "[", "pdfdatain_", "]"}], ":=", "\n", 
  RowBox[{"Module", "[", 
   RowBox[{
    RowBox[{"{", 
     RowBox[{
     "pdfcorr", " ", ",", "pdfcorrdr", ",", "deltaR", ",", "deletelist", ",", 
      "fmax", ",", "fmax2", ",", "fmax3"}], "}"}], ",", "\n", "\n", 
    RowBox[{
     RowBox[{
      RowBox[{"{", 
       RowBox[{"pdfcorr", " ", ",", "pdfcorrdr", ",", "deltaR"}], "}"}], "=", 
      
      RowBox[{"{", 
       RowBox[{
        RowBox[{"pdfdatain", "[", 
         RowBox[{"[", "1", "]"}], "]"}], ",", 
        RowBox[{"pdfdatain", "[", 
         RowBox[{"[", "2", "]"}], "]"}], ",", 
        RowBox[{"pdfdatain", "[", 
         RowBox[{"[", "3", "]"}], "]"}]}], "}"}]}], ";", "\n", 
     RowBox[{"(*", 
      RowBox[{"get", " ", "#flavour"}], "*)"}], "\n", 
     RowBox[{"fmax", "=", 
      RowBox[{"Length", "[", "pdfcorr", "]"}]}], ";", "\n", 
     RowBox[{"fmax2", "=", 
      RowBox[{"Length", "[", "pdfcorrdr", "]"}]}], ";", "\n", 
     RowBox[{"fmax3", "=", 
      RowBox[{"Length", "[", "deltaR", "]"}]}], ";", "\n", 
     RowBox[{"If", "[", 
      RowBox[{
       RowBox[{"fmax", "!=", "fmax2"}], ",", 
       RowBox[{
        RowBox[{"Print", "[", 
         RowBox[{
         "\"\<error, fmax of corr& dr*corr are different\>\"", ",", "fmax", 
          ",", "\"\< \>\"", ",", "fmax2"}], "]"}], ";", 
        RowBox[{"Return", "[", "1", "]"}]}]}], " ", "]"}], ";", "\n", 
     RowBox[{"If", "[", 
      RowBox[{
       RowBox[{"fmax", "!=", "fmax3"}], ",", 
       RowBox[{
        RowBox[{"Print", "[", 
         RowBox[{
         "\"\<error, fmax of corr& dr*corr are different\>\"", ",", "fmax", 
          ",", "\"\< \>\"", ",", "fmax3"}], "]"}], ";", 
        RowBox[{"Return", "[", "1", "]"}]}]}], " ", "]"}], ";", "\n", "\n", 
     RowBox[{"(*", 
      RowBox[{
       RowBox[{
        RowBox[{
        "delete", " ", "data", " ", "with", " ", "corr", " ", "or", " ", "dr",
          "*", "corr"}], " ", "\[Equal]", "0"}], ",", " ", 
       RowBox[{
       "those", " ", "points", " ", "mostly", " ", "because", " ", "of", " ", 
        "Mb", " ", "or", " ", "Mc", " ", "cut"}]}], "*)"}], "\n", 
     RowBox[{"(*", 
      RowBox[{
       RowBox[{"for", " ", "usage", " ", "of", " ", 
        RowBox[{"deltaR", ":", " ", 
         RowBox[{
          RowBox[{"set", " ", "index", " ", "of", " ", "f", 
           RowBox[{"(", 
            RowBox[{"x", ",", "Q"}], ")"}]}], "\[Equal]", 
          RowBox[{"0", " ", "as", " ", "positive"}]}]}]}], ",", " ", 
       RowBox[{
       "and", " ", "selete", " ", "them", " ", "by", " ", "criteria", " ", 
        "positive"}], ",", " ", 
       RowBox[{"then", " ", "delete", " ", "them"}]}], "*)"}], "\n", 
     RowBox[{"deletelist", "=", 
      RowBox[{"Table", "[", 
       RowBox[{
        RowBox[{"Select", "[", 
         RowBox[{
          RowBox[{"Table", "[", 
           RowBox[{
            RowBox[{"If", "[", 
             RowBox[{
              RowBox[{
               RowBox[{"pdfcorr", "[", 
                RowBox[{"[", 
                 RowBox[{
                  RowBox[{"f", "+", "6"}], ",", "ix", ",", "3"}], "]"}], 
                "]"}], "==", "0"}], ",", 
              RowBox[{"{", "ix", "}"}], ",", 
              RowBox[{"{", 
               RowBox[{"-", "ix"}], "}"}]}], "]"}], ",", 
            RowBox[{"{", 
             RowBox[{"ix", ",", "1", ",", 
              RowBox[{"Length", "[", 
               RowBox[{"pdfcorr", "[", 
                RowBox[{"[", 
                 RowBox[{"f", "+", "6"}], "]"}], "]"}], " ", "]"}]}], "}"}]}],
            "]"}], ",", 
          RowBox[{
           RowBox[{
            RowBox[{"#", "[", 
             RowBox[{"[", "1", "]"}], "]"}], ">", "0"}], "&"}]}], "]"}], ",", 
        
        RowBox[{"{", 
         RowBox[{"f", ",", 
          RowBox[{"-", "5"}], ",", 
          RowBox[{
           RowBox[{"-", "5"}], "+", "fmax", "-", "1"}]}], "}"}]}], "]"}]}], 
     ";", "\n", 
     RowBox[{"pdfcorr", "=", 
      RowBox[{"Table", "[", 
       RowBox[{
        RowBox[{"Select", "[", 
         RowBox[{
          RowBox[{"pdfcorr", "[", 
           RowBox[{"[", 
            RowBox[{"f", "+", "6"}], "]"}], "]"}], ",", 
          RowBox[{
           RowBox[{
            RowBox[{"#", "[", 
             RowBox[{"[", "3", "]"}], "]"}], "!=", "0"}], "&"}]}], "]"}], " ",
         ",", 
        RowBox[{"{", 
         RowBox[{"f", ",", 
          RowBox[{"-", "5"}], ",", 
          RowBox[{
           RowBox[{"-", "5"}], "+", "fmax", "-", "1"}]}], "}"}]}], "]"}]}], 
     ";", "\n", 
     RowBox[{"pdfcorrdr", "=", 
      RowBox[{"Table", "[", 
       RowBox[{
        RowBox[{"Select", "[", 
         RowBox[{
          RowBox[{"pdfcorrdr", "[", 
           RowBox[{"[", 
            RowBox[{"f", "+", "6"}], "]"}], "]"}], ",", 
          RowBox[{
           RowBox[{
            RowBox[{"#", "[", 
             RowBox[{"[", "3", "]"}], "]"}], "!=", "0"}], "&"}]}], "]"}], " ",
         ",", 
        RowBox[{"{", 
         RowBox[{"f", ",", 
          RowBox[{"-", "5"}], ",", 
          RowBox[{
           RowBox[{"-", "5"}], "+", "fmax", "-", "1"}]}], "}"}]}], "]"}]}], 
     ";", "\n", 
     RowBox[{"deltaR", "=", 
      RowBox[{"Table", "[", 
       RowBox[{
        RowBox[{"Delete", "[", 
         RowBox[{
          RowBox[{"deltaR", "[", 
           RowBox[{"[", 
            RowBox[{"f", "+", "6"}], "]"}], "]"}], ",", 
          RowBox[{"deletelist", "[", 
           RowBox[{"[", 
            RowBox[{"f", "+", "6"}], "]"}], "]"}]}], " ", "]"}], ",", 
        RowBox[{"{", 
         RowBox[{"f", ",", 
          RowBox[{"-", "5"}], ",", 
          RowBox[{
           RowBox[{"-", "5"}], "+", "fmax", "-", "1"}]}], "}"}]}], "]"}]}], 
     ";", 
     RowBox[{"(*", 
      RowBox[{"2017.01", ".21", " ", "deltaR", " ", 
       RowBox[{"has", " ", "[", 
        RowBox[{"[", "flavour", "]"}], "]"}], " ", "elements"}], "*)"}], "\n",
      "\n", 
     RowBox[{"(*", 
      RowBox[{
       RowBox[{"if", " ", "after", " ", "delete", " ", "some", " ", "data"}], 
       ",", " ", 
       RowBox[{"#points", " ", "of", " ", 
        RowBox[{"{", 
         RowBox[{"pdfcorr", " ", ",", "pdfcorrdr", ",", "deltaR"}], "}"}], 
        " ", "are", " ", "diff"}], ",", " ", 
       RowBox[{
       "then", " ", "skip", " ", "out", " ", "the", " ", "function"}]}], 
      "*)"}], "\n", 
     RowBox[{"Table", "[", "\n", 
      RowBox[{
       RowBox[{
        RowBox[{"If", "[", 
         RowBox[{
          RowBox[{
           RowBox[{"Length", "[", 
            RowBox[{"pdfcorr", "[", 
             RowBox[{"[", 
              RowBox[{"f", "+", "6"}], "]"}], "]"}], " ", "]"}], "!=", 
           RowBox[{"Length", "[", 
            RowBox[{"pdfcorrdr", "[", 
             RowBox[{"[", 
              RowBox[{"f", "+", "6"}], "]"}], "]"}], " ", "]"}]}], ",", 
          RowBox[{
           RowBox[{"Print", "[", 
            RowBox[{
            "\"\<error, Npt of corr& dr*corr are different\>\"", ",", 
             "\"\<,f=\>\"", ",", "f"}], "]"}], ";", 
           RowBox[{"Return", "[", "1", "]"}]}]}], " ", "]"}], ";", "\n", 
        RowBox[{"If", "[", 
         RowBox[{
          RowBox[{
           RowBox[{"Length", "[", 
            RowBox[{"pdfcorr", "[", 
             RowBox[{"[", 
              RowBox[{"f", "+", "6"}], "]"}], "]"}], " ", "]"}], "!=", 
           RowBox[{"Length", "[", 
            RowBox[{"deltaR", "[", 
             RowBox[{"[", 
              RowBox[{"f", "+", "6"}], "]"}], "]"}], " ", "]"}]}], ",", 
          RowBox[{
           RowBox[{"Print", "[", 
            RowBox[{
            "\"\<error, Npt of corr& dr are different\>\"", ",", 
             "\"\<,f=\>\"", ",", "f"}], "]"}], ";", 
           RowBox[{"Print", "[", 
            RowBox[{"\"\<(#pt corr, #pt dr) =\>\"", ",", 
             RowBox[{"Length", "[", 
              RowBox[{"pdfcorr", "[", 
               RowBox[{"[", 
                RowBox[{"f", "+", "6"}], "]"}], "]"}], " ", "]"}], ",", 
             "\"\< \>\"", ",", 
             RowBox[{"Length", "[", 
              RowBox[{"deltaR", "[", 
               RowBox[{"[", 
                RowBox[{"f", "+", "6"}], "]"}], "]"}], " ", "]"}]}], "]"}], 
           ";", 
           RowBox[{"Return", "[", "1", "]"}]}]}], " ", "]"}], ";"}], "\n", 
       ",", 
       RowBox[{"{", 
        RowBox[{"f", ",", 
         RowBox[{"-", "5"}], ",", 
         RowBox[{
          RowBox[{"-", "5"}], "+", "fmax", "-", "1"}]}], "}"}]}], "\n", "]"}],
      ";", "\n", "\n", 
     RowBox[{"{", 
      RowBox[{"pdfcorr", " ", ",", "pdfcorrdr", ",", "deltaR"}], "}"}]}]}], 
   "\n", "]"}]}]], "Input"],

Cell[BoxData[""], "Input"],

Cell[BoxData[
 RowBox[{
  RowBox[{"(*", 
   RowBox[{
    RowBox[{"input", " ", "data", " ", 
     RowBox[{"format", ":", " ", 
      RowBox[{
       RowBox[{
        RowBox[{"{", 
         RowBox[{"pdfcorr", " ", ",", "pdfcorrdr", ",", "deltaR"}], "}"}], 
        "[", 
        RowBox[{"[", 
         RowBox[{"iexpt", ",", "flavour", ",", "Npt"}], "]"}], "]"}], "\n", 
       "merge", " ", "data", " ", "of", " ", "all", " ", "experiments"}]}]}], 
    ",", "\n", 
    RowBox[{"output", ":", " ", 
     RowBox[{
      RowBox[{"{", 
       RowBox[{"pdfcorr", " ", ",", "pdfcorrdr", ",", "deltaR"}], "}"}], "[", 
      
      RowBox[{"[", 
       RowBox[{"flavour", ",", "Npt"}], "]"}], "]"}]}]}], "\n", "*)"}], "\n", 
  
  RowBox[{
   RowBox[{
    RowBox[{"mergeplotdata", "[", "pdfdatain_", "]"}], ":=", "\n", 
    RowBox[{"Module", "[", 
     RowBox[{
      RowBox[{"{", 
       RowBox[{"pdfcorr", " ", ",", "pdfcorrdr", ",", "deltaR"}], "}"}], ",", 
      "\n", "\n", 
      RowBox[{
       RowBox[{
        RowBox[{"{", 
         RowBox[{"pdfcorr", " ", ",", "pdfcorrdr", ",", "deltaR"}], "}"}], 
        "=", 
        RowBox[{"{", 
         RowBox[{
          RowBox[{"pdfdatain", "[", 
           RowBox[{"[", "1", "]"}], "]"}], ",", 
          RowBox[{"pdfdatain", "[", 
           RowBox[{"[", "2", "]"}], "]"}], ",", 
          RowBox[{"pdfdatain", "[", 
           RowBox[{"[", "3", "]"}], "]"}]}], "}"}]}], ";", "\n", 
       RowBox[{"(*", 
        RowBox[{"combine", " ", "data"}], "*)"}], "\n", 
       RowBox[{"(*", 
        RowBox[{
         RowBox[{"transpose", " ", "pdfcorr"}], ",", " ", 
         RowBox[{"pdfcorrdr", " ", 
          RowBox[{"to", " ", "[", 
           RowBox[{"[", 
            RowBox[{"flavour", ",", "expids"}], "]"}], "]"}]}], ",", " ", 
         RowBox[{
         "then", " ", "flatten", " ", "for", " ", "all", " ", "flavours"}]}], 
        "*)"}], "\n", 
       RowBox[{"deltaR", "=", 
        RowBox[{
         RowBox[{
          RowBox[{"Flatten", "[", "#", "]"}], "&"}], "/@", 
         RowBox[{"Transpose", "[", 
          RowBox[{"deltaR", ",", 
           RowBox[{"{", 
            RowBox[{"2", ",", "1"}], "}"}]}], " ", "]"}]}]}], ";", "\n", 
       RowBox[{"pdfcorr", "=", 
        RowBox[{
         RowBox[{
          RowBox[{"Flatten", "[", "#", "]"}], "&"}], "/@", 
         RowBox[{"Transpose", "[", 
          RowBox[{"pdfcorr", ",", 
           RowBox[{"{", 
            RowBox[{"2", ",", "1"}], "}"}]}], " ", "]"}]}]}], ";", "\n", 
       RowBox[{"pdfcorrdr", "=", 
        RowBox[{
         RowBox[{
          RowBox[{"Flatten", "[", "#", "]"}], "&"}], "/@", 
         RowBox[{"Transpose", "[", 
          RowBox[{"pdfcorrdr", " ", ",", 
           RowBox[{"{", 
            RowBox[{"2", ",", "1"}], "}"}]}], "]"}]}]}], ";", "\n", "\n", 
       RowBox[{"{", 
        RowBox[{"pdfcorr", ",", "pdfcorrdr", ",", "deltaR"}], "}"}]}]}], "\n",
      "]"}]}], "\n"}]}]], "Code",
 InitializationCell->False]
}, Open  ]],

Cell[CellGroupData[{

Cell["make all kinds plots by data (corr, dr*corr, dr)", "Subsection"],

Cell[BoxData[
 RowBox[{
  RowBox[{"(*", 
   RowBox[{"transf", " ", "from", " ", "expid", " ", 
    RowBox[{"(", 
     RowBox[{"processes", "[", 
      RowBox[{"[", 
       RowBox[{"proc", ",", "expid"}], "]"}], "]"}], ")"}], " ", "to", " ", 
    RowBox[{"{", 
     RowBox[{"proc", ",", "expid"}], "}"}]}], "*)"}], "\n", 
  RowBox[{
   RowBox[{
    RowBox[{
     RowBox[{"toprocexptid", "[", "exptidin_", "]"}], ":=", "\n", 
     RowBox[{"Module", "[", 
      RowBox[{
       RowBox[{"{", 
        RowBox[{
         RowBox[{"exptid", "=", "exptidin"}], ",", "processes", ",", 
         "output"}], "}"}], ",", "\n", 
       RowBox[{
        RowBox[{"processes", "=", 
         RowBox[{"{", 
          RowBox[{
          "PDISNC", ",", "NDISCC", ",", "PDISNCCC", ",", "PVBPZ", ",", 
           "PVBPW", ",", "PJP", ",", "hDISNC", ",", "hDISCC", ",", "hVBPZ"}], 
          "}"}]}], ";", "\n", 
        RowBox[{"output", "=", "False"}], ";", "\n", 
        RowBox[{"Do", "[", "\n", 
         RowBox[{
          RowBox[{"If", "[", "\n", 
           RowBox[{
            RowBox[{"exptid", "==", 
             RowBox[{"processes", "[", 
              RowBox[{"[", 
               RowBox[{"iproc", ",", "iexpid"}], "]"}], "]"}]}], ",", "\n", 
            RowBox[{"output", "=", 
             RowBox[{"{", 
              RowBox[{"iproc", ",", "iexpid"}], "}"}]}]}], "\n", "]"}], ",", 
          "\n", 
          RowBox[{"{", 
           RowBox[{"iproc", ",", "1", ",", 
            RowBox[{"Length", "[", "processes", "]"}]}], "}"}], ",", 
          RowBox[{"{", 
           RowBox[{"iexpid", ",", "1", ",", 
            RowBox[{"Length", "[", 
             RowBox[{"processes", "[", 
              RowBox[{"[", "iproc", "]"}], "]"}], " ", "]"}]}], "}"}]}], "\n",
          "]"}], ";", "\n", "output"}]}], "\n", "]"}]}], ";"}], "\n", 
   RowBox[{"(*", 
    RowBox[{
     RowBox[{"input", " ", "exptlist"}], ",", " ", 
     RowBox[{"output", " ", 
      RowBox[{"{", 
       RowBox[{
        RowBox[{"{", "procs", "}"}], ",", 
        RowBox[{"{", "expids", "}"}]}], "}"}]}]}], "*)"}], "\n", 
   RowBox[{
    RowBox[{"toprocexptidlist", "[", "exptidlistin_", "]"}], ":=", "\n", 
    RowBox[{"Module", "[", 
     RowBox[{
      RowBox[{"{", 
       RowBox[{
        RowBox[{"exptidlist", "=", "exptidlistin"}], ",", "output"}], "}"}], 
      ",", "\n", 
      RowBox[{"(*", 
       RowBox[{"transf", " ", "exptid", " ", "to", " ", 
        RowBox[{"{", 
         RowBox[{
          RowBox[{"{", 
           RowBox[{"procs1", ",", "expids1"}], "}"}], ",", 
          RowBox[{"{", "}"}], ",", "..."}], "}"}]}], "*)"}], "\n", 
      RowBox[{
       RowBox[{"output", "=", 
        RowBox[{"Table", "[", 
         RowBox[{
          RowBox[{"toprocexptid", "[", 
           RowBox[{"exptidlist", "[", 
            RowBox[{"[", "i", "]"}], "]"}], " ", "]"}], ",", 
          RowBox[{"{", 
           RowBox[{"i", ",", "1", ",", 
            RowBox[{"Length", "[", "exptidlist", "]"}]}], "}"}]}], "]"}]}], 
       ";", "\n", 
       RowBox[{"(*", 
        RowBox[{
         RowBox[{"only", " ", "select", " ", "match", " ", "exptid"}], ",", 
         " ", 
         RowBox[{"if", " ", "function", " ", "return", " ", "False"}], ",", 
         " ", 
         RowBox[{"delete", " ", "it"}]}], "*)"}], "\n", 
       RowBox[{"output", "=", 
        RowBox[{"Select", "[", 
         RowBox[{"output", ",", 
          RowBox[{
           RowBox[{
            RowBox[{"SameQ", "[", 
             RowBox[{"#", ",", "False"}], "]"}], "==", "False"}], "&"}]}], 
         "]"}]}], ";", "\n", 
       RowBox[{"(*", 
        RowBox[{"transf", " ", "to", " ", 
         RowBox[{"{", 
          RowBox[{
           RowBox[{"{", "procs", "}"}], ",", 
           RowBox[{"{", "expids", "}"}]}], "}"}]}], "*)"}], "\n", 
       RowBox[{"output", "=", 
        RowBox[{"Transpose", "[", 
         RowBox[{"output", ",", 
          RowBox[{"{", 
           RowBox[{"2", ",", "1"}], "}"}]}], "]"}]}], ";", "\n", "output"}]}],
      "\n", "]"}]}], "\n"}]}]], "Input"],

Cell[BoxData[
 RowBox[{
  RowBox[{"(*", "processdataplotsmultiexp", "*)"}], "\n", 
  RowBox[{"(*", 
   RowBox[{
    RowBox[{"for", " ", "some", " ", "reason"}], ",", " ", 
    RowBox[{
    "the", " ", "function", " ", "need", " ", "to", " ", "be", " ", "deleted",
      " ", "to", " ", "keep", " ", "the", " ", "code"}]}], "*)"}]}]], "Input",\

 InitializationCell->True],

Cell[BoxData[
 RowBox[{
  RowBox[{"(*", "processdataplotsmultiexp2percentage", "*)"}], "\n", 
  RowBox[{"(*", 
   RowBox[{
    RowBox[{"for", " ", "some", " ", "reason"}], ",", " ", 
    RowBox[{
    "the", " ", "function", " ", "need", " ", "to", " ", "be", " ", "deleted",
      " ", "to", " ", "keep", " ", "the", " ", "code"}]}], "*)"}]}]], "Input",\

 InitializationCell->True],

Cell[BoxData[
 RowBox[{
  RowBox[{"(*", 
   RowBox[{"20170306", ":", " ", 
    RowBox[{
    "use", " ", "percentage", " ", "as", " ", "bar", " ", "seperator"}]}], 
   "*)"}], "\n", 
  RowBox[{"(*", 
   RowBox[{
   "function", " ", "to", " ", "get", " ", "value", " ", "of", " ", "choose", 
    " ", "percentage", " ", "of", " ", "data"}], "*)"}], 
  "\[IndentingNewLine]", 
  RowBox[{"(*", "20171111", "*)"}], "\[IndentingNewLine]", 
  RowBox[{"(*", "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{
     RowBox[{"input", ":", "\[IndentingNewLine]", "data", ":", " ", 
      RowBox[{
      "a", " ", "List", " ", "of", " ", "number", "\[IndentingNewLine]", 
       RowBox[{"percentage", ":", " ", "format"}]}]}], " ", "=", " ", 
     RowBox[{"{", 
      RowBox[{"per1", ",", "per2", ",", "..."}], "}"}]}], ",", " ", 
    RowBox[{"ex", ":", " ", 
     RowBox[{
      RowBox[{"{", 
       RowBox[{"50", ",", " ", "75"}], "}"}], " ", "means", " ", "the", " ", 
      "value", " ", "that", " ", "larger", " ", "than", " ", "50", "%", " ", 
      "and", " ", "70", "%", " ", "of", " ", "data", "\[IndentingNewLine]", 
      "order", " ", "data", " ", "from", " ", "small", " ", "to", " ", 
      "large"}]}], ",", " ", 
    RowBox[{
    "specifying", " ", "the", " ", "value", " ", "that", " ", "larger", " ", 
     "than", " ", "percentage", " ", "of", " ", "data", "\[IndentingNewLine]", 
     RowBox[{"ex", ":", " ", 
      RowBox[{
      "median", " ", "is", " ", "the", " ", "value", " ", "that", " ", 
       "larger", " ", "than", " ", "50", "%", " ", "of", " ", "data"}]}]}]}], 
   "\[IndentingNewLine]", "*)"}], "\[IndentingNewLine]", 
  RowBox[{"(*", "\[IndentingNewLine]", 
   RowBox[{"output", ":", "\[IndentingNewLine]", 
    RowBox[{
    "get", " ", "the", " ", "value", " ", "that", " ", "larger", " ", "than", 
     " ", "percentage", " ", "of", " ", "data"}]}], "\[IndentingNewLine]", 
   "*)"}], "\n", 
  RowBox[{
   RowBox[{
    RowBox[{"GetDataPercentage", "[", 
     RowBox[{"datain_", ",", "percentagesin_"}], "]"}], ":=", "\n", 
    RowBox[{"Module", "[", 
     RowBox[{
      RowBox[{"{", 
       RowBox[{
        RowBox[{"data", "=", "datain"}], ",", 
        RowBox[{"percentages", "=", "percentagesin"}], ",", "\n", "Ndata", 
        ",", "output"}], "}"}], ",", "\[IndentingNewLine]", 
      RowBox[{"(*", 
       RowBox[{"20171111", ":", " ", 
        RowBox[{"check", " ", "inputs", " ", "are", " ", "correct"}]}], 
       "*)"}], "\[IndentingNewLine]", 
      RowBox[{
       RowBox[{"If", "[", 
        RowBox[{
         RowBox[{
          RowBox[{"Head", "[", "data", "]"}], "\[NotEqual]", "List"}], ",", 
         RowBox[{
          RowBox[{
          "Print", "[", 
           "\"\<error, input data should be a List of number\>\"", "]"}], ";", 
          RowBox[{"Quit", "[", "]"}]}]}], " ", "]"}], ";", 
       "\[IndentingNewLine]", 
       RowBox[{
        RowBox[{
         RowBox[{"If", "[", 
          RowBox[{
           RowBox[{
            RowBox[{"#", "<", "0"}], " ", "||", " ", 
            RowBox[{"#", ">", "100"}]}], ",", 
           RowBox[{
            RowBox[{
            "Print", "[", 
             "\"\<error, percentage should be numbers in the range of {0,100}\
\>\"", "]"}], ";", 
            RowBox[{"Quit", "[", "]"}]}]}], " ", "]"}], "&"}], "/@", 
        "percentages"}], ";", "\n", 
       RowBox[{"Ndata", "=", 
        RowBox[{"Length", "[", "data", "]"}]}], ";", "\n", "\n", 
       RowBox[{"data", "=", 
        RowBox[{"Sort", "[", "data", "]"}]}], ";", "\n", "\n", 
       RowBox[{"output", "=", "\n", 
        RowBox[{"Table", "[", "\[IndentingNewLine]", 
         RowBox[{"(*", 
          RowBox[{
           RowBox[{"20171111", ":", " ", 
            RowBox[{
            "avoid", " ", "the", " ", "data", " ", "index", " ", 
             "representing", " ", "the", " ", "percentage", " ", "is", " ", 
             "0"}]}], ",", " ", 
           RowBox[{
           "which", " ", "means", " ", "the", " ", "data", " ", "index", " ", 
            "should", " ", "be", " ", "at", " ", "least", " ", "1"}]}], 
          "*)"}], "\n", 
         RowBox[{
          RowBox[{"data", "[", 
           RowBox[{"[", 
            RowBox[{"Max", "[", 
             RowBox[{
              RowBox[{"Round", "[", 
               RowBox[{"Ndata", "*", 
                RowBox[{
                 RowBox[{"percentages", "[", 
                  RowBox[{"[", "i", "]"}], "]"}], "/", "100.0"}]}], "]"}], 
              ",", "1"}], "]"}], " ", "]"}], "]"}], ",", "\n", 
          RowBox[{"{", 
           RowBox[{"i", ",", "1", ",", 
            RowBox[{"Length", "[", "percentages", "]"}]}], "}"}]}], "\n", 
         "]"}]}], ";", "\n", "\n", "output"}]}], "\n", "]"}]}], 
   ";"}]}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{{3.7194306252028627`*^9, 3.719430941264802*^9}, {
  3.71943102641855*^9, 3.7194311634711227`*^9}, {3.719431400287427*^9, 
  3.719431415058207*^9}, {3.719431455644603*^9, 3.7194316374312057`*^9}}],

Cell[BoxData[
 RowBox[{
  RowBox[{"(*", 
   RowBox[{
    RowBox[{
    "input", " ", "class", " ", "and", " ", "configure", " ", "arguments", 
     " ", "then", " ", "get", " ", "output", " ", "plots"}], ",", " ", 
    RowBox[{
     RowBox[{"data", " ", 
      RowBox[{"struture", ":", " ", "plottype"}]}], " ", "=", " ", "5"}], ",", 
    RowBox[{"6", " ", "[", 
     RowBox[{"[", 
      RowBox[{"iexpt", ",", "iflavour"}], "]"}], "]"}], ",", " ", 
    RowBox[{"plottype", " ", "=", " ", "2"}], ",", "3", ",", 
    RowBox[{"4", " ", "[", 
     RowBox[{"[", "iexpt", "]"}], "]"}]}], "*)"}], "\n", 
  RowBox[{
   RowBox[{"processdataplotsmultiexp3percentage", "[", 
    RowBox[{
    "corrfxQdtaobsclassin_", ",", "configargumentsin_", ",", "plottypein_", 
     ",", "flavourin_"}], "]"}], ":=", "\n", 
   RowBox[{"Module", "[", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{
       RowBox[{"corrfxQdtaobsclass", "=", "corrfxQdtaobsclassin"}], ",", 
       RowBox[{"configarguments", "=", "configargumentsin"}], ",", "\n", 
       RowBox[{"plottype", "=", "plottypein"}], ",", 
       RowBox[{"(*", 
        RowBox[{
         RowBox[{"flavour", "=", "flavourin"}], ","}], "*)"}], "flavour", ",",
        "\n", "Jobid", ",", "PDFname", ",", "FigureType", ",", "FigureFlag", 
       ",", "ExptidType", ",", "ExptidFlag", ",", "CorrelationArgType", ",", 
       "CorrelationArgFlag", ",", "UserArgName", ",", "UserArgValue", ",", 
       "\n", "XQfigureXrange", ",", "XQfigureYrange", ",", "Hist1figureNbin", 
       ",", "Hist1figureXrange", ",", "Hist1figureYrange", ",", "\n", 
       "ColorSeperator", ",", "\n", "Size", ",", "HighlightType", ",", 
       "HighlightMode", ",", "HighlightMode1", ",", "HighlightMode2", ",", 
       "\n", "processes", ",", "ExptList1", ",", "pdfsetexps", ",", 
       "processestitle", ",", "PDISNCtitle", ",", "NDISCCtitle", ",", 
       "PDISNCCCtitle", ",", "PVBPZtitle", ",", "PVBPWtitle", ",", "PJPtitle",
        ",", "hDISNCtitle", ",", "hDISCCtitle", ",", "hVBPZtitle", ",", 
       "pdfnamelable", ",", "PDFsetlabel", ",", "pdffile", ",", "corrfile", 
       ",", "pdfcorr", ",", "pdfcorrdr", ",", "deltaR", ",", "textsize", ",", 
       "Npttext", ",", "maxtext", ",", "maxmarker", ",", "mintext", ",", 
       "minmarker", ",", "cuttext", ",", "epilogxQ", ",", "epilogxQcorr", ",",
        "corrtitle1", ",", "corrdrtitle1", ",", "deltaRtitle1", ",", "title2",
        ",", "obsname", ",", "title3", ",", "title4", ",", "title", ",", 
       "xtitle", ",", "ytitle", ",", "xhisttitle", ",", "xhistabstitle", ",", 
       "yhisttitle", ",", "plotrange", ",", "stretchx", ",", "stretchy", ",", 
       "legendlabel", ",", "barseperator", ",", "binset", ",", "lineelement", 
       ",", "plotrangex", ",", "SM", ",", "SM1", ",", "SM2", ",", "SM3", ",", 
       "xQplotcorr", " ", ",", "histplotcorr1", ",", "histplotcorr2", ",", 
       "xQplotcorrdr", ",", "histplotcorrdr1", ",", "histplotcorrdr2", ",", 
       "xQplotdr", ",", "histplotdr2", ",", "myexpids", ",", "fmax", ",", 
       "fmax2", ",", "\n", "imgsize", ",", 
       RowBox[{"(*", 
        RowBox[{"title", ",", "xtitle", ",", "ytitle", ","}], "*)"}], 
       "lgdlabel", ",", "xrange", ",", "yrange", ",", "epilog", ",", 
       "titlesize", ",", "xtitlesize", ",", "ytitlesize", ",", "lgdlabelsize",
        ",", "ticklablesize", ",", "\n", "myplotstyle", ",", "myMarker", ",", 
       "\n", "lgdpos", ",", "xyrangeplot1", ",", "\n", "myplotsetting", ",", 
       "plot1data", ",", "plot1", ",", "processesplot1order", ",", "\n", 
       "dummy1", ",", "dummy2", ",", "percentagetext", ",", "hist1plotrangex",
        ",", "histautoxrange", ",", "hist2plotrangex", ",", "unhighlightsize",
        ",", "highlightrange", ",", "highlighttext"}], "}"}], ",", "\n", 
     RowBox[{"(*", 
      RowBox[{
      "read", " ", "arguments", " ", "in", " ", "config", " ", "file"}], 
      "*)"}], "\n", 
     RowBox[{"(*", 
      RowBox[{
      "===", "===", "===", "===", "===", "===", "===", "===", "===", "==="}], 
      "*)"}], "\n", 
     RowBox[{
      RowBox[{
       RowBox[{"{", 
        RowBox[{
        "Jobid", ",", "PDFname", ",", "FigureType", ",", "FigureFlag", ",", 
         "ExptidType", ",", "ExptidFlag", ",", "CorrelationArgType", ",", 
         "CorrelationArgFlag", ",", "UserArgName", ",", "UserArgValue", ",", 
         "\n", "XQfigureXrange", ",", "XQfigureYrange", ",", 
         "Hist1figureNbin", ",", "Hist1figureXrange", ",", 
         "Hist1figureYrange", ",", "\n", "ColorSeperator", ",", "\n", "Size", 
         ",", "HighlightType", ",", "HighlightMode", ",", "HighlightMode1", 
         ",", "HighlightMode2"}], "}"}], "=", "configarguments"}], ";", "\n", 
      "\n", 
      RowBox[{"(*", 
       RowBox[{
        RowBox[{"base", " ", "on", " ", "FigureFlag"}], ",", " ", 
        RowBox[{
        "decide", " ", "the", " ", "plot", " ", "type", " ", "of", " ", 
         "output", " ", "plots", " ", 
         RowBox[{"(", 
          RowBox[{
          "which", " ", "data", " ", "is", " ", "used", " ", "to", " ", 
           "plot"}], ")"}]}], ",", " ", "\n", 
        RowBox[{
         RowBox[{"ex", ":", " ", 
          RowBox[{"if", " ", "correlation", " ", "flag"}]}], " ", "=", " ", 
         "1"}], ",", " ", 
        RowBox[{"use", " ", "correlation", " ", "data"}]}], "*)"}], "\n", 
      RowBox[{"(*", 
       RowBox[{
       "===", "===", "===", "===", "===", "===", "===", "===", "===", "==="}],
        "*)"}], "\n", "\n", 
      RowBox[{"(*", 
       RowBox[{
        RowBox[{"decide", " ", "title", " ", "by", " ", "PDFname"}], ",", " ",
         "FigureFlag", ",", " ", "CorrelationArgFlag", ",", " ", 
        RowBox[{"ex", ":", " ", 
         RowBox[{"Corr", 
          RowBox[{
           RowBox[{"(", 
            RowBox[{
             RowBox[{"f_j", 
              RowBox[{"(", 
               RowBox[{"x", ",", "Q"}], ")"}]}], ",", 
             RowBox[{"r_i", 
              RowBox[{"(", 
               RowBox[{"x", ",", "Q"}], ")"}]}]}], ")"}], ".", "\n", "if"}], 
          " ", "user", " ", "of", " ", "CorrelationArgFlag", " ", "is", " ", 
          "on"}]}], ",", " ", 
        RowBox[{"Corr", 
         RowBox[{"(", " ", 
          RowBox[{"user_input", ",", 
           RowBox[{"r_i", 
            RowBox[{"(", 
             RowBox[{"x", ",", "Q"}], ")"}]}]}], ")"}]}]}], "*)"}], "\n", 
      RowBox[{"(*", 
       RowBox[{
       "===", "===", "===", "===", "===", "===", "===", "===", "===", "==="}],
        "*)"}], "\n", 
      RowBox[{"corrtitle1", "=", "\"\<Corr( \>\""}], ";", "\n", 
      RowBox[{"corrdrtitle1", "=", "\"\<\[Delta]r*Corr( \>\""}], ";", "\n", 
      RowBox[{"deltaRtitle1", "=", "\"\<\[Delta]r \>\""}], ";", "\n", 
      RowBox[{"title2", "=", "\"\<, r(x,\[Mu]))\>\""}], ";", "\n", 
      RowBox[{"obsname", "=", "\"\<\>\""}], ";", 
      RowBox[{"(*", "initialize", "*)"}], "\n", 
      RowBox[{"pdfnamelable", "=", 
       RowBox[{"{", 
        RowBox[{
        "\"\<\\!\\(\\*OverscriptBox[\\(b\\), \\(_\\)]\\)(x,\[Mu])\>\"", ",", 
         "\"\<\\!\\(\\*OverscriptBox[\\(c\\), \\(_\\)]\\)(x,\[Mu])\>\"", ",", 
         "\"\<\\!\\(\\*OverscriptBox[\\(s\\), \\(_\\)]\\)(x,\[Mu])\>\"", ",", 
         "\"\<\\!\\(\\*OverscriptBox[\\(d\\), \\(_\\)]\\)(x,\[Mu])\>\"", ",", 
         "\"\<\\!\\(\\*OverscriptBox[\\(u\\), \\(_\\)]\\)(x,\[Mu])\>\"", ",", 
         "\"\<g(x,\[Mu])\>\"", ",", "\"\<u(x,\[Mu])\>\"", ",", 
         "\"\<d(x,\[Mu])\>\"", ",", "\"\<s(x,\[Mu])\>\"", ",", 
         "\"\<c(x,\[Mu])\>\"", ",", "\"\<b(x,\[Mu])\>\"", ",", 
         "\"\<\\!\\(\\*FractionBox[\\(\\*OverscriptBox[\\(d\\), \\(_\\)] \
\\((x, \[Mu])\\)\\), \\(\\*OverscriptBox[\\(u\\), \\(_\\)] \\((x, \
\[Mu])\\)\\)]\\)\>\"", ",", 
         "\"\<\\!\\(\\*FractionBox[\\(d \\((x, \[Mu])\\)\\), \\(u \\((x, \
\[Mu])\\)\\)]\\)\>\"", ",", 
         "\"\<\\!\\(\\*FractionBox[\\(s \\((x, \[Mu])\\) + \
\\*OverscriptBox[\\(s\\), \\(_\\)] \\((x, \[Mu])\\)\\), \
\\(\\*OverscriptBox[\\(u\\), \\(_\\)] \\((x, \[Mu])\\) + \
\\*OverscriptBox[\\(d\\), \\(_\\)] \\((x, \[Mu])\\)\\)]\\)\>\"", ",", 
         "UserArgName"}], "}"}]}], ";", "\n", "\n", 
      RowBox[{"If", "[", "\n", 
       RowBox[{
        RowBox[{
         RowBox[{"plottype", ">=", "1"}], " ", "&&", " ", 
         RowBox[{"plottype", "<=", "6"}]}], ",", "\n", 
        RowBox[{
         RowBox[{"If", "[", "\n", 
          RowBox[{
           RowBox[{"plottype", "==", "1"}], " ", ",", "\n", 
           RowBox[{
            RowBox[{"obsname", "=", "\"\<\>\""}], ";"}]}], "\n", "]"}], ";", 
         "\n", 
         RowBox[{"If", "[", "\n", 
          RowBox[{
           RowBox[{"plottype", "==", "2"}], " ", ",", "\n", 
           RowBox[{
            RowBox[{"obsname", "=", "\"\<Expt Uncertainty Ratio\>\""}], 
            ";"}]}], "\n", "]"}], ";", "\n", 
         RowBox[{"If", "[", "\n", 
          RowBox[{
           RowBox[{"plottype", "==", "3"}], " ", ",", "\n", 
           RowBox[{
            RowBox[{"obsname", "=", "\"\<Residual(central value)\>\""}], 
            ";"}]}], "\n", "]"}], ";", "\n", 
         RowBox[{"If", "[", "\n", 
          RowBox[{
           RowBox[{"plottype", "==", "4"}], " ", ",", "\n", 
           RowBox[{
            RowBox[{"obsname", "=", "deltaRtitle1"}], ";"}]}], "\n", "]"}], 
         ";", "\n", 
         RowBox[{"If", "[", "\n", 
          RowBox[{
           RowBox[{"plottype", "==", "5"}], " ", ",", "\n", 
           RowBox[{
            RowBox[{"obsname", "=", 
             RowBox[{"corrdrtitle1", "<>", 
              RowBox[{"pdfnamelable", "[", 
               RowBox[{"[", 
                RowBox[{"flavourin", "+", "6"}], "]"}], "]"}], "<>", 
              "title2"}]}], ";"}]}], "\n", "]"}], ";", "\n", 
         RowBox[{"If", "[", "\n", 
          RowBox[{
           RowBox[{"plottype", "==", "6"}], " ", ",", "\n", 
           RowBox[{
            RowBox[{"obsname", "=", 
             RowBox[{"corrtitle1", "<>", 
              RowBox[{"pdfnamelable", "[", 
               RowBox[{"[", 
                RowBox[{"flavourin", "+", "6"}], "]"}], "]"}], "<>", 
              "title2"}]}], ";"}]}], "\n", "]"}], ";"}]}], "\n", "\n", "]"}], 
      ";", "\n", "\n", 
      RowBox[{"title3", "=", 
       RowBox[{"\"\< for dataset of \>\"", "<>", "PDFname"}]}], ";", "\n", 
      RowBox[{"title", "=", 
       RowBox[{"obsname", "<>", "title3"}]}], ";", "\n", "\n", 
      RowBox[{"xtitle", "=", "\"\<x\>\""}], ";", "\n", 
      RowBox[{"ytitle", "=", "\"\<\[Mu] [GeV]\>\""}], ";", "\n", 
      RowBox[{"xhisttitle", "=", "obsname"}], ";", "\n", 
      RowBox[{"xhistabstitle", "=", 
       RowBox[{"\"\<| \>\"", "<>", "obsname", "<>", "\"\< |\>\""}]}], ";", 
      "\n", 
      RowBox[{"yhisttitle", "=", "\"\<#points\>\""}], ";", "\n", "\n", 
      RowBox[{"(*", 
       RowBox[{
       "decide", " ", "the", " ", "data", " ", "include", " ", "by", " ", 
        "ExptidFlag", " ", 
        RowBox[{"<<", " ", "perhaps"}], " ", "could", " ", "be", " ", "done", 
        " ", "before", " ", "function"}], "*)"}], "\n", 
      RowBox[{"(*", 
       RowBox[{
       "===", "===", "===", "===", "===", "===", "===", "===", "===", "==="}],
        "*)"}], "\n", 
      RowBox[{"(*", 
       RowBox[{
       "make", " ", "text", " ", "for", " ", "Npt", " ", "of", " ", "data"}], 
       "*)"}], "\n", 
      RowBox[{"(*", "********************************)"}], "\n", 
      RowBox[{"(*", 
       RowBox[{
       "prepare", " ", "for", " ", "data", " ", "input", " ", "to", " ", 
        "processdataplotsmultiexp"}], "*)"}], "\n", 
      RowBox[{"(*", "********************************)"}], "\n", 
      RowBox[{"(*", 
       RowBox[{
        RowBox[{
        "transf", " ", "format", " ", "from", " ", "LF", " ", "to", " ", 
         "LF1"}], ",", " ", 
        RowBox[{
        "since", " ", "plot", " ", "functions", " ", "use", " ", "LF1"}]}], 
       "*)"}], "\n", "\n", 
      RowBox[{"(*", 
       RowBox[{
        RowBox[{"if", " ", "dr", "*", "corr", " ", "or", " ", "corr"}], ",", 
        " ", 
        RowBox[{"data", " ", 
         RowBox[{"is", " ", "[", 
          RowBox[{"[", 
           RowBox[{"iexpt", ",", "flavour"}], "]"}], "]"}]}]}], "*)"}], "\n", 
      
      RowBox[{"If", "[", "\n", 
       RowBox[{
        RowBox[{
         RowBox[{"plottype", "==", "5"}], "  ", "||", " ", 
         RowBox[{"plottype", "==", "6"}]}], ",", "\n", 
        RowBox[{
         RowBox[{"fmax", "=", 
          RowBox[{"Length", "[", 
           RowBox[{"corrfxQdtaobsclass", "[", 
            RowBox[{"[", "1", "]"}], "]"}], " ", "]"}]}], ";", "\n", 
         RowBox[{"Table", "[", "\n", 
          RowBox[{
           RowBox[{
            RowBox[{
             RowBox[{
              RowBox[{"corrfxQdtaobsclass", "[", 
               RowBox[{"[", 
                RowBox[{"i", ",", 
                 RowBox[{"flavour", "+", "6"}]}], "]"}], "]"}], "[", 
              RowBox[{"[", "\"\<data\>\"", "]"}], "]"}], "=", 
             RowBox[{
              RowBox[{
               RowBox[{"corrfxQdtaobsclass", "[", 
                RowBox[{"[", 
                 RowBox[{"i", ",", 
                  RowBox[{"flavour", "+", "6"}]}], "]"}], "]"}], "[", 
               RowBox[{"[", "\"\<data\>\"", "]"}], "]"}], "/.", 
              RowBox[{"LF", "->", "LF1"}]}]}], ";", "\n", 
            RowBox[{"(*", 
             RowBox[{
              RowBox[{
               RowBox[{
                RowBox[{"deltaR", "[", 
                 RowBox[{"[", 
                  RowBox[{"i", ",", 
                   RowBox[{"flavour", "+", "6"}]}], "]"}], "]"}], "[", 
                RowBox[{"[", "\"\<data\>\"", "]"}], "]"}], "=", 
               RowBox[{
                RowBox[{
                 RowBox[{"deltaR", "[", 
                  RowBox[{"[", 
                   RowBox[{"i", ",", 
                    RowBox[{"flavour", "+", "6"}]}], "]"}], "]"}], "[", 
                 RowBox[{"[", "\"\<data\>\"", "]"}], "]"}], "/.", 
                RowBox[{"LF", "\[Rule]", "LF1"}]}]}], ";"}], "*)"}], "\n", 
            "\"\<dummy\>\""}], ",", "\n", 
           RowBox[{"{", 
            RowBox[{"i", ",", "1", ",", 
             RowBox[{"Length", "[", "corrfxQdtaobsclass", "]"}]}], "}"}], ",", 
           RowBox[{"{", 
            RowBox[{"flavour", ",", 
             RowBox[{"-", "5"}], ",", 
             RowBox[{
              RowBox[{"-", "5"}], "+", "fmax", "-", "1"}]}], "}"}]}], "\n", 
          "]"}], ";", "\n", "\n", 
         RowBox[{"(*", 
          RowBox[{"set", " ", 
           RowBox[{"{", 
            RowBox[{
             RowBox[{"corr", "[", 
              RowBox[{"[", "flavour", "]"}], "]"}], ",", 
             RowBox[{"drcorr", "[", 
              RowBox[{"[", "flavour", "]"}], "]"}], ",", 
             RowBox[{"dr", "[", 
              RowBox[{"[", "flavour", "]"}], "]"}]}], "}"}]}], "*)"}], "\n", 
         RowBox[{"(*", 
          RowBox[{
          "they", " ", "are", " ", "used", " ", "to", "  ", "input", " ", 
           "into", " ", "processdataplotsmultiexp"}], "*)"}], "\n", 
         RowBox[{"(*", 
          RowBox[{
           RowBox[{"data", " ", "format"}], " ", "\[Equal]", " ", 
           RowBox[{"{", 
            RowBox[{
             RowBox[{"LF", "[", 
              RowBox[{"x", ",", "Q", ",", "obs"}], "]"}], ",", "...", ",", 
             "..."}], "}"}]}], "*)"}], "\n", 
         RowBox[{"pdfcorr", "=", 
          RowBox[{"Table", "[", 
           RowBox[{
            RowBox[{
             RowBox[{"corrfxQdtaobsclass", "[", 
              RowBox[{"[", 
               RowBox[{"iexpt", ",", 
                RowBox[{"flavour", "+", "6"}]}], "]"}], "]"}], "[", 
             RowBox[{"[", "\"\<data\>\"", "]"}], "]"}], ",", 
            RowBox[{"{", 
             RowBox[{"iexpt", ",", "1", ",", 
              RowBox[{"Length", "[", "corrfxQdtaobsclass", "]"}]}], "}"}], 
            ",", 
            RowBox[{"{", 
             RowBox[{"flavour", ",", 
              RowBox[{"-", "5"}], ",", 
              RowBox[{
               RowBox[{"-", "5"}], "+", "fmax", "-", "1"}]}], "}"}]}], 
           "]"}]}], ";", "\n", "\n", 
         RowBox[{"(*", 
          RowBox[{
           RowBox[{
           "merge", " ", "all", " ", "experimental", " ", "data", " ", "into",
             " ", "one"}], ",", " ", 
           RowBox[{"for", " ", "all", " ", "flavours"}]}], "*)"}], "\n", 
         RowBox[{"(*", 
          RowBox[{
           RowBox[{"ex", ":", " ", 
            RowBox[{"corrdataforplot", "[", 
             RowBox[{"[", 
              RowBox[{"iexpt", ",", "flavour", ",", "Npt"}], "]"}], "]"}]}], 
           " ", "\[Rule]", " ", 
           RowBox[{"orrdataforplot", "[", 
            RowBox[{"[", 
             RowBox[{"flavour", ",", "Npt"}], "]"}], "]"}]}], "*)"}], "\n", 
         RowBox[{
          RowBox[{"{", 
           RowBox[{"pdfcorr", " ", ",", "dummy1", ",", "dummy2"}], "}"}], "=", 
          RowBox[{"mergeplotdata", "[", 
           RowBox[{"{", 
            RowBox[{"pdfcorr", " ", ",", "pdfcorr", ",", "pdfcorr"}], "}"}], 
           "]"}]}], ";", "\n", "\n", 
         RowBox[{"(*", " ", 
          RowBox[{"deletezerovalue", ":", " ", 
           RowBox[{
           "delete", " ", "data", " ", "with", " ", "0", " ", "value", " ", 
            RowBox[{"(", 
             RowBox[{
              RowBox[{
              "0", " ", "value", " ", "usually", " ", "from", " ", "mb"}], 
              ",", " ", 
              RowBox[{"mc", " ", "cut"}]}], ")"}]}]}], "*)"}], "\n", 
         RowBox[{
          RowBox[{"{", 
           RowBox[{"pdfcorr", " ", ",", "dummy1", ",", "dummy2"}], "}"}], "=", 
          RowBox[{"deletezerovalue", "[", 
           RowBox[{"{", 
            RowBox[{"pdfcorr", " ", ",", "pdfcorr", ",", "pdfcorr"}], "}"}], 
           "]"}]}], ";"}]}], "\n", "]"}], ";", "\n", "\n", 
      RowBox[{"(*", 
       RowBox[{"data", " ", 
        RowBox[{"of", " ", "[", 
         RowBox[{"[", "iexpt", "]"}], "]"}]}], "*)"}], "\n", 
      RowBox[{"If", "[", "\n", 
       RowBox[{
        RowBox[{
         RowBox[{"plottype", "==", "2"}], " ", "||", " ", 
         RowBox[{"plottype", "==", "3"}], " ", "||", " ", 
         RowBox[{"plottype", "==", "4"}]}], ",", "\n", 
        RowBox[{
         RowBox[{"Table", "[", "\n", 
          RowBox[{
           RowBox[{
            RowBox[{
             RowBox[{
              RowBox[{"corrfxQdtaobsclass", "[", 
               RowBox[{"[", "i", "]"}], "]"}], "[", 
              RowBox[{"[", "\"\<data\>\"", "]"}], "]"}], "=", 
             RowBox[{
              RowBox[{
               RowBox[{"corrfxQdtaobsclass", "[", 
                RowBox[{"[", "i", "]"}], "]"}], "[", 
               RowBox[{"[", "\"\<data\>\"", "]"}], "]"}], "/.", 
              RowBox[{"LF", "->", "LF1"}]}]}], ";", "\n", 
            RowBox[{"(*", 
             RowBox[{
              RowBox[{
               RowBox[{
                RowBox[{"deltaR", "[", 
                 RowBox[{"[", 
                  RowBox[{"i", ",", 
                   RowBox[{"flavour", "+", "6"}]}], "]"}], "]"}], "[", 
                RowBox[{"[", "\"\<data\>\"", "]"}], "]"}], "=", 
               RowBox[{
                RowBox[{
                 RowBox[{"deltaR", "[", 
                  RowBox[{"[", 
                   RowBox[{"i", ",", 
                    RowBox[{"flavour", "+", "6"}]}], "]"}], "]"}], "[", 
                 RowBox[{"[", "\"\<data\>\"", "]"}], "]"}], "/.", 
                RowBox[{"LF", "\[Rule]", "LF1"}]}]}], ";"}], "*)"}], "\n", 
            "\"\<dummy\>\""}], ",", "\n", 
           RowBox[{"{", 
            RowBox[{"i", ",", "1", ",", 
             RowBox[{"Length", "[", "corrfxQdtaobsclass", "]"}]}], "}"}]}], 
          "\n", "]"}], ";", "\n", "\n", 
         RowBox[{"pdfcorr", "=", 
          RowBox[{"Table", "[", 
           RowBox[{
            RowBox[{
             RowBox[{"corrfxQdtaobsclass", "[", 
              RowBox[{"[", "iexpt", "]"}], "]"}], "[", 
             RowBox[{"[", "\"\<data\>\"", "]"}], "]"}], ",", 
            RowBox[{"{", 
             RowBox[{"iexpt", ",", "1", ",", 
              RowBox[{"Length", "[", "corrfxQdtaobsclass", "]"}]}], "}"}]}], 
           "]"}]}], ";", "\n", "\n", 
         RowBox[{"(*", 
          RowBox[{"merge", " ", "all", " ", "data", " ", "into", " ", "one"}],
           "*)"}], "\n", 
         RowBox[{"pdfcorr", "=", 
          RowBox[{"Flatten", "[", 
           RowBox[{"pdfcorr", ",", "1"}], "]"}]}], ";"}]}], "\n", "]"}], ";", 
      "\n", "\n", 
      RowBox[{"(*", 
       RowBox[{
        RowBox[{
        "decide", " ", "xy", " ", "range", " ", "of", " ", "xQ", " ", 
         "plot"}], ",", " ", 
        RowBox[{"Nbin", " ", "of", " ", "histogram"}], ",", " ", 
        RowBox[{
        "xy", " ", "range", " ", "of", " ", "histogram", " ", "by", "\n", 
         "XQfigureXrange"}], ",", "XQfigureYrange", ",", "Hist1figureNbin", 
        ",", "Hist1figureXrange", ",", "Hist1figureYrange"}], "*)"}], "\n", 
      RowBox[{"(*", 
       RowBox[{
       "===", "===", "===", "===", "===", "===", "===", "===", "===", "==="}],
        "*)"}], "\n", 
      RowBox[{"plotrange", "=", 
       RowBox[{
        RowBox[{"{", 
         RowBox[{"XQfigureXrange", ",", "XQfigureYrange"}], "}"}], "//", 
        "Flatten"}]}], ";", "\n", "\n", 
      RowBox[{"(*", 
       RowBox[{
        RowBox[{"plotrangex", "=", "Hist1figureXrange"}], ";"}], "*)"}], 
      RowBox[{"(*", 
       RowBox[{
        RowBox[{"for", " ", "histogram"}], ",", " ", 
        RowBox[{"how", " ", "to", " ", "deal", " ", "with", " ", 
         RowBox[{"auto", "?"}]}]}], "*)"}], "\n", 
      RowBox[{"hist1plotrangex", "=", "Hist1figureXrange"}], ";", "\n", 
      RowBox[{"If", "[", "\n", 
       RowBox[{
        RowBox[{
         RowBox[{"plottype", "==", "5"}], "  ", "||", " ", 
         RowBox[{"plottype", "==", "6"}]}], ",", "\n", 
        RowBox[{
         RowBox[{"histautoxrange", "=", 
          RowBox[{"3", "*", 
           RowBox[{"Median", "[", 
            RowBox[{
             RowBox[{"pdfcorr", "[", 
              RowBox[{"[", 
               RowBox[{"flavourin", "+", "6"}], "]"}], "]"}], "/.", 
             RowBox[{
              RowBox[{"LF1", "[", "a__", "]"}], ":>", 
              RowBox[{"Abs", "[", 
               RowBox[{
                RowBox[{"{", "a", "}"}], "[", 
                RowBox[{"[", "3", "]"}], "]"}], " ", "]"}]}]}], " ", 
            "]"}]}]}], ";"}]}], "\n", "]"}], ";", "\n", 
      RowBox[{"If", "[", "\n", 
       RowBox[{
        RowBox[{
         RowBox[{"plottype", "==", "2"}], " ", "||", " ", 
         RowBox[{"plottype", "==", "3"}], " ", "||", " ", 
         RowBox[{"plottype", "==", "4"}]}], ",", "\n", 
        RowBox[{
         RowBox[{"histautoxrange", "=", 
          RowBox[{"3", "*", 
           RowBox[{"Median", "[", 
            RowBox[{"pdfcorr", "/.", 
             RowBox[{
              RowBox[{"LF1", "[", "a__", "]"}], ":>", 
              RowBox[{"Abs", "[", 
               RowBox[{
                RowBox[{"{", "a", "}"}], "[", 
                RowBox[{"[", "3", "]"}], "]"}], " ", "]"}]}]}], " ", 
            "]"}]}]}], ";"}]}], "\n", "]"}], ";", "\n", 
      RowBox[{"If", "[", 
       RowBox[{
        RowBox[{
         RowBox[{"hist1plotrangex", "[", 
          RowBox[{"[", "1", "]"}], "]"}], "==", "\"\<auto\>\""}], ",", 
        RowBox[{
         RowBox[{"hist1plotrangex", "[", 
          RowBox[{"[", "1", "]"}], "]"}], "=", 
         RowBox[{"-", "histautoxrange"}]}]}], "]"}], ";", "\n", 
      RowBox[{"If", "[", 
       RowBox[{
        RowBox[{
         RowBox[{"hist1plotrangex", "[", 
          RowBox[{"[", "2", "]"}], "]"}], "==", "\"\<auto\>\""}], ",", 
        RowBox[{
         RowBox[{"hist1plotrangex", "[", 
          RowBox[{"[", "2", "]"}], "]"}], "=", "histautoxrange"}]}], "]"}], 
      ";", "\n", 
      RowBox[{"Print", "[", 
       RowBox[{"histautoxrange", ",", "hist1plotrangex"}], "]"}], ";", "\n", 
      "\n", 
      RowBox[{"hist2plotrangex", "=", "hist1plotrangex"}], ";", 
      RowBox[{"If", "[", 
       RowBox[{
        RowBox[{
         RowBox[{"hist2plotrangex", "[", 
          RowBox[{"[", "1", "]"}], "]"}], "<", "0.0"}], ",", 
        RowBox[{
         RowBox[{"hist2plotrangex", "[", 
          RowBox[{"[", "1", "]"}], "]"}], "=", "0.0"}]}], "]"}], ";", "\n", 
      RowBox[{"(*", 
       RowBox[{
        RowBox[{"for", " ", "correlation", " ", "histogram"}], ",", " ", 
        RowBox[{"set", " ", "range", " ", 
         RowBox[{"(", 
          RowBox[{
           RowBox[{"-", "1"}], ",", "1"}], ")"}]}]}], "*)"}], "\n", 
      RowBox[{"If", "[", 
       RowBox[{
        RowBox[{"plottype", "==", "6"}], ",", 
        RowBox[{
         RowBox[{"hist1plotrangex", "=", 
          RowBox[{"{", 
           RowBox[{
            RowBox[{"-", "1"}], ",", "1"}], "}"}]}], ";", 
         RowBox[{"hist2plotrangex", "=", 
          RowBox[{"{", 
           RowBox[{"0", ",", "1"}], "}"}]}], ";"}]}], "]"}], ";", "\n", 
      RowBox[{"stretchx", "=", "1"}], ";", 
      RowBox[{"stretchy", "=", "1"}], ";", "\n", 
      RowBox[{"Hist1figureNbin", "=", "Hist1figureNbin"}], ";", "\n", "\n", 
      RowBox[{"(*", 
       RowBox[{
       "setup", " ", "texts", " ", "and", " ", "lines", " ", "in", " ", 
        "plots"}], "*)"}], "\n", 
      RowBox[{"(*", 
       RowBox[{
       "===", "===", "===", "===", "===", "===", "===", "===", "===", "==="}],
        "*)"}], "\n", 
      RowBox[{"(*", 
       RowBox[{
       "set", " ", "outlayer", " ", "points", " ", "label", " ", "in", " ", 
        "plot"}], "*)"}], "\n", 
      RowBox[{"textsize", "=", "16"}], ";", "\n", 
      RowBox[{"Npttext", "=", 
       RowBox[{"Text", "[", 
        RowBox[{
         RowBox[{"Style", "[", 
          RowBox[{
           RowBox[{"\"\<Npt: \>\"", "<>", 
            RowBox[{"ToString", "[", 
             RowBox[{"Length", "[", 
              RowBox[{
               RowBox[{"pdfcorr", "[", 
                RowBox[{"[", 
                 RowBox[{"flavourin", "+", "6"}], "]"}], "]"}], "//", 
               "Flatten"}], "]"}], " ", "]"}]}], ",", "textsize", ",", 
           "Black"}], "]"}], ",", 
         RowBox[{"Scaled", "[", 
          RowBox[{"{", 
           RowBox[{"0.1", ",", "0.9"}], "}"}], "]"}]}], " ", "]"}]}], ";", 
      "\n", 
      RowBox[{"maxtext", "=", 
       RowBox[{"Text", "[", 
        RowBox[{
         RowBox[{"Style", "[", 
          RowBox[{
           RowBox[{
            RowBox[{"ToString", "[", 
             RowBox[{"ColorSeperator", "[", 
              RowBox[{"[", "3", "]"}], "]"}], " ", "]"}], "<>", "\"\<%\>\""}],
            ",", "textsize", ",", "Black"}], "]"}], ",", 
         RowBox[{"Scaled", "[", 
          RowBox[{"{", 
           RowBox[{"0.1", ",", "0.8"}], "}"}], "]"}]}], " ", "]"}]}], ";", 
      "\n", 
      RowBox[{"maxmarker", "=", 
       RowBox[{"{", 
        RowBox[{"Red", ",", 
         RowBox[{"PointSize", "->", "0.02"}], ",", 
         RowBox[{"Point", "[", 
          RowBox[{"Scaled", "[", 
           RowBox[{"{", 
            RowBox[{"0.175", ",", "0.8"}], "}"}], "]"}], " ", "]"}]}], 
        "}"}]}], ";", "\n", 
      RowBox[{"mintext", "=", 
       RowBox[{"Text", "[", 
        RowBox[{
         RowBox[{"Style", "[", 
          RowBox[{
           RowBox[{
            RowBox[{"ToString", "[", 
             RowBox[{"ColorSeperator", "[", 
              RowBox[{"[", "3", "]"}], "]"}], " ", "]"}], "<>", 
            "\"\<%(-)\>\""}], ",", "textsize", ",", "Black"}], "]"}], ",", 
         RowBox[{"Scaled", "[", 
          RowBox[{"{", 
           RowBox[{"0.1", ",", "0.7"}], "}"}], "]"}]}], " ", "]"}]}], ";", 
      "\n", 
      RowBox[{"minmarker", "=", 
       RowBox[{"{", 
        RowBox[{"Blue", ",", 
         RowBox[{"PointSize", "->", "0.02"}], ",", 
         RowBox[{"Point", "[", 
          RowBox[{"Scaled", "[", 
           RowBox[{"{", 
            RowBox[{"0.175", ",", "0.7"}], "}"}], "]"}], " ", "]"}]}], 
        "}"}]}], ";", "\n", 
      RowBox[{"cuttext", "=", 
       RowBox[{"Text", "[", 
        RowBox[{
         RowBox[{"Style", "[", 
          RowBox[{"\"\<cut: |data|<0.5\>\"", ",", "textsize", ",", "Black"}], 
          "]"}], ",", 
         RowBox[{"Scaled", "[", 
          RowBox[{"{", 
           RowBox[{"0.15", ",", "0.6"}], "}"}], "]"}]}], " ", "]"}]}], ";", 
      "\n", 
      RowBox[{"percentagetext", "=", 
       RowBox[{"Text", "[", 
        RowBox[{
         RowBox[{"Style", "[", 
          RowBox[{
           RowBox[{"\"\<percentage of colors:\\n\>\"", "<>", 
            RowBox[{"ToString", "[", 
             RowBox[{"ColorSeperator", "[", 
              RowBox[{"[", "1", "]"}], "]"}], " ", "]"}], "<>", "\"\<%\>\"", "<>", 
            RowBox[{"ToString", "[", 
             RowBox[{"ColorSeperator", "[", 
              RowBox[{"[", "2", "]"}], "]"}], " ", "]"}], "<>", "\"\<%\>\"", "<>", 
            RowBox[{"ToString", "[", 
             RowBox[{"ColorSeperator", "[", 
              RowBox[{"[", "3", "]"}], "]"}], " ", "]"}], "<>", "\"\<%\>\""}],
            ",", "textsize", ",", "Black"}], "]"}], ",", 
         RowBox[{"Scaled", "[", 
          RowBox[{"{", 
           RowBox[{"0.2", ",", "0.8"}], "}"}], "]"}]}], " ", "]"}]}], ";", 
      "\n", "\n", 
      RowBox[{"(*", 
       RowBox[{
        RowBox[{"for", " ", "correlation"}], ",", " ", 
        RowBox[{
        "set", " ", "color", " ", "seperator", " ", "by", " ", "0.5"}], ",", 
        " ", "0.7", ",", " ", "0.85", ",", " ", "1"}], "*)"}], "\n", 
      RowBox[{"(*", 
       RowBox[{
        RowBox[{"for", " ", "uncertainty", " ", "of", " ", "theory"}], ",", 
        " ", "experiment", ",", " ", 
        RowBox[{"also", " ", "0.5"}], ",", " ", "0.7", ",", " ", "0.85", ",", 
        " ", "1"}], "*)"}], "\n", 
      RowBox[{"(*", 
       RowBox[{
        RowBox[{"for", " ", "residual", " ", "central", " ", "value"}], ",", 
        " ", "deltaR", ",", " ", 
        RowBox[{"dr", "*", "corr"}], ",", " ", 
        RowBox[{
         RowBox[{"since", " ", "value", " ", "could", " ", "be"}], " ", ">", 
         " ", 
         RowBox[{
         "1", " ", "and", " ", "even", " ", "very", " ", "large", "\n", 
          "color", " ", "seperator", " ", "decided", " ", "by", " ", 
          "ColorSeperator"}]}]}], "*)"}], "\n", 
      RowBox[{"(*", 
       RowBox[{
       "===", "===", "===", "===", "===", "===", "===", "===", "===", "==="}],
        "*)"}], "\n", 
      RowBox[{"If", "[", "\n", 
       RowBox[{
        RowBox[{"plottype", "==", "5"}], ",", "\n", 
        RowBox[{
         RowBox[{"legendlabel", "=", "\"\<\>\""}], ";", "\n", 
         RowBox[{"barseperator", "=", 
          RowBox[{"GetDataPercentage", "[", 
           RowBox[{
            RowBox[{
             RowBox[{"pdfcorr", "[", 
              RowBox[{"[", 
               RowBox[{"flavourin", "+", "6"}], "]"}], "]"}], "/.", 
             RowBox[{
              RowBox[{"LF1", "[", "a__", "]"}], ":>", 
              RowBox[{"Abs", "[", 
               RowBox[{
                RowBox[{"{", "a", "}"}], "[", 
                RowBox[{"[", "3", "]"}], "]"}], " ", "]"}]}]}], " ", ",", 
            RowBox[{"Join", "[", 
             RowBox[{"ColorSeperator", ",", 
              RowBox[{"{", "100", "}"}]}], "]"}]}], " ", "]"}]}], ";", "\n", 
         RowBox[{"barseperator", "=", 
          RowBox[{"{", 
           RowBox[{
            RowBox[{"-", 
             RowBox[{"barseperator", "[", 
              RowBox[{"[", "4", "]"}], "]"}]}], ",", 
            RowBox[{"-", 
             RowBox[{"barseperator", "[", 
              RowBox[{"[", "3", "]"}], "]"}]}], ",", 
            RowBox[{"-", 
             RowBox[{"barseperator", "[", 
              RowBox[{"[", "2", "]"}], "]"}]}], ",", 
            RowBox[{"-", 
             RowBox[{"barseperator", "[", 
              RowBox[{"[", "1", "]"}], "]"}]}], ",", 
            RowBox[{"barseperator", "[", 
             RowBox[{"[", "1", "]"}], "]"}], ",", 
            RowBox[{"barseperator", "[", 
             RowBox[{"[", "2", "]"}], "]"}], ",", 
            RowBox[{"barseperator", "[", 
             RowBox[{"[", "3", "]"}], "]"}], ",", 
            RowBox[{"barseperator", "[", 
             RowBox[{"[", "4", "]"}], "]"}]}], "}"}]}], ";", "\n", 
         RowBox[{"epilogxQ", "=", 
          RowBox[{"{", 
           RowBox[{"Npttext", ",", 
            RowBox[{"(*", 
             RowBox[{
             "maxtext", ",", "maxmarker", ",", "mintext", ",", "minmarker"}], 
             "*)"}], "percentagetext"}], "}"}]}], ";", "\n", "\n", 
         "\"\<dummy\>\""}]}], "\n", 
       RowBox[{"(*", 
        RowBox[{
         RowBox[{"corr", " ", "plot", " ", "cut", " ", "by"}], " ", "|", 
         "data", "|", 
         RowBox[{"<", "0.5"}]}], "*)"}], "\n", "]"}], ";", "\n", 
      RowBox[{"(*", 
       RowBox[{
        RowBox[{
         RowBox[{"same", " ", "as", " ", "plottype"}], "=", "5"}], ",", " ", 
        RowBox[{
        "but", " ", "data", " ", "strucure", " ", "pdfcorr", " ", "is", " ", 
         "different"}]}], "*)"}], "\n", 
      RowBox[{"If", "[", "\n", " ", 
       RowBox[{
        RowBox[{
         RowBox[{"plottype", "==", "2"}], " ", "||", " ", 
         RowBox[{"plottype", "==", "3"}], " ", "||", " ", 
         RowBox[{"plottype", "==", "4"}]}], ",", "\n", 
        RowBox[{
         RowBox[{"legendlabel", "=", "\"\<\>\""}], ";", "\n", 
         RowBox[{"barseperator", "=", 
          RowBox[{"GetDataPercentage", "[", 
           RowBox[{
            RowBox[{"pdfcorr", "/.", 
             RowBox[{
              RowBox[{"LF1", "[", "a__", "]"}], ":>", 
              RowBox[{"Abs", "[", 
               RowBox[{
                RowBox[{"{", "a", "}"}], "[", 
                RowBox[{"[", "3", "]"}], "]"}], " ", "]"}]}]}], " ", ",", 
            RowBox[{"Join", "[", 
             RowBox[{"ColorSeperator", ",", 
              RowBox[{"{", "100", "}"}]}], "]"}]}], " ", "]"}]}], ";", "\n", 
         RowBox[{"barseperator", "=", 
          RowBox[{"{", 
           RowBox[{
            RowBox[{"-", 
             RowBox[{"barseperator", "[", 
              RowBox[{"[", "4", "]"}], "]"}]}], ",", 
            RowBox[{"-", 
             RowBox[{"barseperator", "[", 
              RowBox[{"[", "3", "]"}], "]"}]}], ",", 
            RowBox[{"-", 
             RowBox[{"barseperator", "[", 
              RowBox[{"[", "2", "]"}], "]"}]}], ",", 
            RowBox[{"-", 
             RowBox[{"barseperator", "[", 
              RowBox[{"[", "1", "]"}], "]"}]}], ",", 
            RowBox[{"barseperator", "[", 
             RowBox[{"[", "1", "]"}], "]"}], ",", 
            RowBox[{"barseperator", "[", 
             RowBox[{"[", "2", "]"}], "]"}], ",", 
            RowBox[{"barseperator", "[", 
             RowBox[{"[", "3", "]"}], "]"}], ",", 
            RowBox[{"barseperator", "[", 
             RowBox[{"[", "4", "]"}], "]"}]}], "}"}]}], ";", "\n", 
         RowBox[{"epilogxQ", "=", 
          RowBox[{"{", 
           RowBox[{"Npttext", ",", 
            RowBox[{"(*", 
             RowBox[{
             "maxtext", ",", "maxmarker", ",", "mintext", ",", "minmarker"}], 
             "*)"}], "percentagetext"}], "}"}]}], ";", "\n", "\n", 
         "\"\<dummy\>\""}]}], "\n", 
       RowBox[{"(*", 
        RowBox[{
         RowBox[{"corr", " ", "plot", " ", "cut", " ", "by"}], " ", "|", 
         "data", "|", 
         RowBox[{"<", "0.5"}]}], "*)"}], "\n", "]"}], ";", "\n", "\n", 
      RowBox[{"If", "[", "\n", 
       RowBox[{
        RowBox[{"plottype", "==", "6"}], ",", "\n", 
        RowBox[{
         RowBox[{"legendlabel", "=", "\"\<\>\""}], ";", "\n", 
         RowBox[{"barseperator", "=", 
          RowBox[{"{", 
           RowBox[{
            RowBox[{"-", "1"}], ",", 
            RowBox[{"-", "0.85"}], ",", 
            RowBox[{"-", "0.7"}], ",", 
            RowBox[{"-", "0.5"}], ",", "0.5", ",", "0.7", ",", "0.85", ",", 
            "1"}], "}"}]}], ";", "\n", 
         RowBox[{"epilogxQ", "=", 
          RowBox[{"{", "Npttext", "}"}]}], ";", "\n", "\n", 
         "\"\<dummy\>\""}]}], "\n", 
       RowBox[{"(*", 
        RowBox[{
         RowBox[{"corr", " ", "plot", " ", "cut", " ", "by"}], " ", "|", 
         "data", "|", 
         RowBox[{"<", "0.5"}]}], "*)"}], "\n", "]"}], ";", "\n", "\n", 
      RowBox[{"(*", 
       RowBox[{
        RowBox[{"for", " ", "no", " ", "highlight", " ", "mode"}], ",", " ", 
        RowBox[{
        "choose", " ", "size", " ", "of", " ", "data", " ", "point", " ", 
         "in", " ", "plot", " ", "by", " ", "Size", "\n", "for", " ", 
         "highlight", " ", "mode"}], ",", " ", 
        RowBox[{
        "set", " ", "size", " ", "of", " ", "unhighlighted", " ", "data", " ",
          "as", " ", "Size"}], ",", " ", 
        RowBox[{
        "size", " ", "of", " ", "highlighted", " ", "data", " ", "is", " ", 
         "larger", " ", "than", " ", "Size"}]}], "*)"}], "\n", 
      RowBox[{"(*", 
       RowBox[{
       "===", "===", "===", "===", "===", "===", "===", "===", "===", "==="}],
        "*)"}], "\n", 
      RowBox[{"Print", "[", "HighlightMode", "]"}], ";", "\n", "\n", 
      RowBox[{"unhighlightsize", "=", "\n", 
       RowBox[{"Switch", "[", 
        RowBox[{
        "Size", ",", "\"\<tiny\>\"", ",", "0.005", ",", "\"\<small\>\"", ",", 
         "0.0075", ",", "\"\<medium\>\"", ",", "0.01", ",", "\"\<large\>\"", 
         ",", "0.0125", ",", "_", ",", 
         RowBox[{
          RowBox[{
          "Print", "[", "\"\<error,size type is not correct\>\"", "]"}], ";", 
          
          RowBox[{"Abort", "[", "]"}]}]}], " ", "]"}]}], ";", "\n", 
      RowBox[{"highlightrange", "=", "\n", 
       RowBox[{"Switch", "[", "\n", 
        RowBox[{
         RowBox[{"HighlightMode", "[", 
          RowBox[{"[", "plottype", "]"}], "]"}], ",", "\n", "0", ",", 
         RowBox[{"{", 
          RowBox[{"0.0", ",", "0.0"}], "}"}], ",", "\n", "1", ",", 
         RowBox[{"{", 
          RowBox[{
           RowBox[{"HighlightMode1", "[", 
            RowBox[{"[", 
             RowBox[{
              RowBox[{"2", "*", "plottype"}], "-", "1"}], "]"}], "]"}], ",", 
           RowBox[{"HighlightMode1", "[", 
            RowBox[{"[", 
             RowBox[{"2", "*", "plottype"}], "]"}], "]"}]}], "}"}], ",", "\n",
          "2", ",", "\n", 
         RowBox[{"Which", "[", "\n", 
          RowBox[{
           RowBox[{
            RowBox[{"plottype", "==", "5"}], "  ", "||", " ", 
            RowBox[{"plottype", "==", "6"}]}], ",", "\n", 
           RowBox[{"GetDataPercentage", "[", 
            RowBox[{
             RowBox[{
              RowBox[{"pdfcorr", "[", 
               RowBox[{"[", 
                RowBox[{"flavourin", "+", "6"}], "]"}], "]"}], "/.", 
              RowBox[{
               RowBox[{"LF1", "[", "a__", "]"}], ":>", 
               RowBox[{"Abs", "[", 
                RowBox[{
                 RowBox[{"{", "a", "}"}], "[", 
                 RowBox[{"[", "3", "]"}], "]"}], " ", "]"}]}]}], " ", ",", 
             RowBox[{"{", 
              RowBox[{
               RowBox[{"HighlightMode2", "[", 
                RowBox[{"[", 
                 RowBox[{
                  RowBox[{"2", "*", "plottype"}], "-", "1"}], "]"}], "]"}], 
               ",", 
               RowBox[{"HighlightMode2", "[", 
                RowBox[{"[", 
                 RowBox[{"2", "*", "plottype"}], "]"}], "]"}]}], "}"}]}], 
            "]"}], ",", "\n", " ", 
           RowBox[{
            RowBox[{"plottype", "==", "2"}], " ", "||", " ", 
            RowBox[{"plottype", "==", "3"}], " ", "||", " ", 
            RowBox[{"plottype", "==", "4"}]}], ",", "\n", 
           RowBox[{"GetDataPercentage", "[", 
            RowBox[{
             RowBox[{"pdfcorr", "/.", 
              RowBox[{
               RowBox[{"LF1", "[", "a__", "]"}], ":>", 
               RowBox[{"Abs", "[", 
                RowBox[{
                 RowBox[{"{", "a", "}"}], "[", 
                 RowBox[{"[", "3", "]"}], "]"}], " ", "]"}]}]}], " ", ",", 
             RowBox[{"{", 
              RowBox[{
               RowBox[{"HighlightMode2", "[", 
                RowBox[{"[", 
                 RowBox[{
                  RowBox[{"2", "*", "plottype"}], "-", "1"}], "]"}], "]"}], 
               ",", 
               RowBox[{"HighlightMode2", "[", 
                RowBox[{"[", 
                 RowBox[{"2", "*", "plottype"}], "]"}], "]"}]}], "}"}]}], 
            "]"}], ",", "\n", "True", ",", 
           RowBox[{
            RowBox[{
            "Print", "[", "\"\<presently plottype is only 2~6 \>\"", "]"}], 
            ";", 
            RowBox[{"Abort", "[", "]"}]}]}], "\n", "]"}], ",", "\n", "_", ",", 
         RowBox[{
          RowBox[{
          "Print", "[", "\"\<error, highlight mode should be 0, 1, 2\>\"", 
           "]"}], ";", 
          RowBox[{"Abort", "[", "]"}]}]}], "\n", "]"}]}], ";", "\n", "\n", 
      RowBox[{"highlighttext", "=", 
       RowBox[{"Text", "[", 
        RowBox[{
         RowBox[{"Style", "[", 
          RowBox[{
           RowBox[{"\"\<highlight range:\\n\>\"", "<>", 
            RowBox[{"ToString", "[", "highlightrange", "]"}]}], ",", 
           "textsize", ",", "Black"}], "]"}], ",", 
         RowBox[{"Scaled", "[", 
          RowBox[{"{", 
           RowBox[{"0.2", ",", "0.7"}], "}"}], "]"}]}], " ", "]"}]}], ";", 
      "\n", 
      RowBox[{"If", "[", 
       RowBox[{
        RowBox[{
         RowBox[{"HighlightMode", "[", 
          RowBox[{"[", "plottype", "]"}], "]"}], "!=", "0"}], ",", 
        RowBox[{"epilogxQ", "=", 
         RowBox[{"Append", "[", 
          RowBox[{"epilogxQ", ",", "highlighttext"}], "]"}]}]}], " ", "]"}], 
      ";", "\n", "\n", 
      RowBox[{"Print", "[", 
       RowBox[{"\"\<highlight range: \>\"", ",", "highlightrange"}], "]"}], 
      ";", "\n", "\n", 
      RowBox[{"(*", 
       RowBox[{
        RowBox[{"for", " ", "histogram"}], ",", " ", 
        RowBox[{
        "setup", " ", "highlighted", " ", "value", " ", "range", " ", "by", 
         " ", "red", " ", "line", " ", "and", " ", "color", " ", "seperator", 
         " ", "value", " ", "by", " ", "blue", " ", "line"}]}], "*)"}], "\n", 
      
      RowBox[{"(*", 
       RowBox[{
        RowBox[{
        "make", " ", "histogram", " ", "of", " ", "data", " ", "and"}], " ", 
        "|", "data", "|"}], "*)"}], "\n", 
      RowBox[{"(*", 
       RowBox[{
       "===", "===", "===", "===", "===", "===", "===", "===", "===", "==="}],
        "*)"}], "\n", "\n", 
      RowBox[{"(*", 
       RowBox[{
        RowBox[{
        "set", " ", "xtitle", " ", "by", " ", "observable", " ", "part", " ", 
         "of", " ", "title"}], ",", " ", 
        RowBox[{"ex", ":", " ", 
         RowBox[{"|", 
          RowBox[{"Corr", 
           RowBox[{"(", 
            RowBox[{
             RowBox[{"f_j", 
              RowBox[{"(", 
               RowBox[{"x", ",", "Q"}], ")"}]}], ",", 
             RowBox[{"r_i", 
              RowBox[{"(", 
               RowBox[{"x", ",", "Q"}], ")"}]}]}], ")"}]}], "|"}]}]}], "*)"}],
       "\n", 
      RowBox[{"(*", 
       RowBox[{
       "===", "===", "===", "===", "===", "===", "===", "===", "===", "==="}],
        "*)"}], "\n", "\n", "\n", 
      RowBox[{"(*", 
       RowBox[{
        RowBox[{"plot", " ", "x"}], ",", 
        RowBox[{
        "Q", " ", "data", " ", "by", " ", "size", " ", "for", " ", "all", " ",
          "quarks", 
         RowBox[{"(", "CorrelationArgFlag", ")"}]}], ",", " ", 
        RowBox[{
        "and", " ", "plot", " ", "corresponding", " ", "histogram"}]}], 
       "*)"}], "\n", 
      RowBox[{"(*", 
       RowBox[{
        RowBox[{"GridGraphic", " ", "x"}], ",", 
        RowBox[{
        "Q", " ", "data", " ", "by", " ", "size", " ", "and", " ", 
         "histograms"}]}], "*)"}], "\n", 
      RowBox[{"(*", 
       RowBox[{
       "===", "===", "===", "===", "===", "===", "===", "===", "===", "==="}],
        "*)"}], "\n", "\n", "\n", 
      RowBox[{"(*", 
       RowBox[{"correlation", " ", "plot"}], "*)"}], "\n", 
      RowBox[{"If", "[", "\n", 
       RowBox[{
        RowBox[{
         RowBox[{"plottype", "==", "5"}], "  ", "||", " ", 
         RowBox[{"plottype", "==", "6"}]}], ",", "\n", 
        RowBox[{
         RowBox[{"xQplotcorr", "=", 
          RowBox[{"PDFCorrelationplot7", "[", 
           RowBox[{
            RowBox[{"pdfcorr", "[", 
             RowBox[{"[", 
              RowBox[{"flavourin", "+", "6"}], "]"}], "]"}], ",", "title", 
            ",", "xtitle", ",", "ytitle", ",", "plotrange", ",", "stretchx", 
            ",", "stretchy", ",", "barseperator", ",", "legendlabel", ",", 
            RowBox[{"(*", 
             RowBox[{"Append", "[", 
              RowBox[{"epilogxQ", ",", "cuttext"}], "]"}], "*)"}], "epilogxQ",
             ",", "highlightrange", ",", "unhighlightsize"}], " ", "]"}]}], 
         ";", "\n", "\"\<dummy\>\""}]}], "\n", "]"}], ";", "\n", 
      RowBox[{"If", "[", "\n", " ", 
       RowBox[{
        RowBox[{
         RowBox[{"plottype", "==", "2"}], " ", "||", " ", 
         RowBox[{"plottype", "==", "3"}], " ", "||", " ", 
         RowBox[{"plottype", "==", "4"}]}], ",", "\n", 
        RowBox[{
         RowBox[{"xQplotcorr", "=", 
          RowBox[{"PDFCorrelationplot7", "[", 
           RowBox[{
           "pdfcorr", ",", "title", ",", "xtitle", ",", "ytitle", ",", 
            "plotrange", ",", "stretchx", ",", "stretchy", ",", 
            "barseperator", ",", "legendlabel", ",", 
            RowBox[{"(*", 
             RowBox[{"Append", "[", 
              RowBox[{"epilogxQ", ",", "cuttext"}], "]"}], "*)"}], "epilogxQ",
             ",", "highlightrange", ",", "unhighlightsize"}], " ", "]"}]}], 
         ";", "\n", "\"\<dummy\>\""}]}], "\n", "]"}], ";", "\n", 
      RowBox[{"(*", 
       RowBox[{"correlation", " ", "histogram"}], "*)"}], "\n", "\n", 
      RowBox[{"(*", 
       RowBox[{
        RowBox[{"binset", ":", " ", 
         RowBox[{
          RowBox[{"for", " ", "Nbin"}], "\[Equal]", "\"\<auto\>\""}]}], ",", 
        " ", 
        RowBox[{"define", " ", "auto", " ", "binset"}]}], "*)"}], "\n", 
      RowBox[{"(*", 
       RowBox[{
       "set", " ", "auto", " ", "bin", " ", "as", " ", "5", " ", "bins", " ", 
        "in", " ", "first", " ", "color", " ", "bar", " ", "seperator"}], " ",
        "*)"}], "\n", 
      RowBox[{"binset", "=", 
       RowBox[{"{", 
        RowBox[{"Table", "[", 
         RowBox[{
          RowBox[{"i", "*", 
           RowBox[{
            RowBox[{"barseperator", "[", 
             RowBox[{"[", 
              RowBox[{
               RowBox[{
                RowBox[{"Length", "[", "barseperator", "]"}], "/", "2"}], "+",
                "1"}], "]"}], "]"}], "/", "5.0"}]}], ",", 
          RowBox[{"{", 
           RowBox[{"i", ",", 
            RowBox[{"-", "100"}], ",", "100"}], "}"}]}], "]"}], "}"}]}], ";", 
      "\n", "\n", 
      RowBox[{"(*", 
       RowBox[{
        RowBox[{"lineelement", "=", 
         RowBox[{"{", 
          RowBox[{
           RowBox[{"{", 
            RowBox[{
             RowBox[{"barseperator", "[", 
              RowBox[{"[", "2", "]"}], "]"}], ",", "\"\<\>\"", ",", "Blue"}], 
            "}"}], ",", 
           RowBox[{"{", 
            RowBox[{
             RowBox[{"barseperator", "[", 
              RowBox[{"[", "3", "]"}], "]"}], ",", "\"\<\>\"", ",", "Blue"}], 
            "}"}], ",", 
           RowBox[{"{", 
            RowBox[{
             RowBox[{"barseperator", "[", 
              RowBox[{"[", "4", "]"}], "]"}], ",", "\"\<\>\"", ",", "Blue"}], 
            "}"}], ",", 
           RowBox[{"{", 
            RowBox[{
             RowBox[{"barseperator", "[", 
              RowBox[{"[", "5", "]"}], "]"}], ",", "\"\<\>\"", ",", "Blue"}], 
            "}"}], ",", 
           RowBox[{"{", 
            RowBox[{
             RowBox[{"barseperator", "[", 
              RowBox[{"[", "6", "]"}], "]"}], ",", "\"\<\>\"", ",", "Blue"}], 
            "}"}], ",", 
           RowBox[{"{", 
            RowBox[{
             RowBox[{"barseperator", "[", 
              RowBox[{"[", "7", "]"}], "]"}], ",", "\"\<\>\"", ",", "Blue"}], 
            "}"}]}], "}"}]}], ";"}], "*)"}], "\n", 
      RowBox[{"lineelement", "=", 
       RowBox[{"{", 
        RowBox[{
         RowBox[{"{", 
          RowBox[{
           RowBox[{"barseperator", "[", 
            RowBox[{"[", "2", "]"}], "]"}], ",", 
           RowBox[{
            RowBox[{"ToString", "[", 
             RowBox[{"ColorSeperator", "[", 
              RowBox[{"[", "3", "]"}], "]"}], " ", "]"}], "<>", "\"\<%\>\""}],
            ",", "Blue"}], "}"}], ",", 
         RowBox[{"{", 
          RowBox[{
           RowBox[{"barseperator", "[", 
            RowBox[{"[", "3", "]"}], "]"}], ",", 
           RowBox[{
            RowBox[{"ToString", "[", 
             RowBox[{"ColorSeperator", "[", 
              RowBox[{"[", "2", "]"}], "]"}], " ", "]"}], "<>", "\"\<%\>\""}],
            ",", "Blue"}], "}"}], ",", 
         RowBox[{"{", 
          RowBox[{
           RowBox[{"barseperator", "[", 
            RowBox[{"[", "4", "]"}], "]"}], ",", 
           RowBox[{
            RowBox[{"ToString", "[", 
             RowBox[{"ColorSeperator", "[", 
              RowBox[{"[", "1", "]"}], "]"}], " ", "]"}], "<>", "\"\<%\>\""}],
            ",", "Blue"}], "}"}], ",", 
         RowBox[{"{", 
          RowBox[{
           RowBox[{"barseperator", "[", 
            RowBox[{"[", "5", "]"}], "]"}], ",", 
           RowBox[{
            RowBox[{"ToString", "[", 
             RowBox[{"ColorSeperator", "[", 
              RowBox[{"[", "1", "]"}], "]"}], " ", "]"}], "<>", "\"\<%\>\""}],
            ",", "Blue"}], "}"}], ",", 
         RowBox[{"{", 
          RowBox[{
           RowBox[{"barseperator", "[", 
            RowBox[{"[", "6", "]"}], "]"}], ",", 
           RowBox[{
            RowBox[{"ToString", "[", 
             RowBox[{"ColorSeperator", "[", 
              RowBox[{"[", "2", "]"}], "]"}], " ", "]"}], "<>", "\"\<%\>\""}],
            ",", "Blue"}], "}"}], ",", 
         RowBox[{"{", 
          RowBox[{
           RowBox[{"barseperator", "[", 
            RowBox[{"[", "7", "]"}], "]"}], ",", 
           RowBox[{
            RowBox[{"ToString", "[", 
             RowBox[{"ColorSeperator", "[", 
              RowBox[{"[", "3", "]"}], "]"}], " ", "]"}], "<>", "\"\<%\>\""}],
            ",", "Blue"}], "}"}]}], "}"}]}], ";", "\n", 
      RowBox[{"(*", 
       RowBox[{"20170307", ":", " ", 
        RowBox[{"bin", " ", "from", " ", "argument"}]}], "*)"}], "\n", 
      RowBox[{"(*", "\n", 
       RowBox[{
        RowBox[{"If", "[", "\n", 
         RowBox[{
          RowBox[{"Hist1figureNbin", "==", "\"\<auto\>\""}], ",", "\n", 
          RowBox[{
           RowBox[{"binset", "=", "barseperator"}], ";", "\n", 
           RowBox[{"binset", "=", 
            RowBox[{"Insert", "[", 
             RowBox[{"binset", ",", "0.0", ",", "5"}], "]"}]}]}]}], "\n", 
         "]"}], ";"}], "\n", "*)"}], "\n", 
      RowBox[{"If", "[", "\n", 
       RowBox[{
        RowBox[{
         RowBox[{"plottype", "==", "5"}], "  ", "||", " ", 
         RowBox[{"plottype", "==", "6"}]}], ",", "\n", 
        RowBox[{"(*", 
         RowBox[{"hist1", ":", " ", 
          RowBox[{"data", " ", "with", " ", "no", " ", "absolute"}]}], "*)"}],
         "\n", 
        RowBox[{
         RowBox[{"histplotcorr1", "=", 
          RowBox[{"histplot4", "[", 
           RowBox[{
            RowBox[{
             RowBox[{"pdfcorr", "[", 
              RowBox[{"[", 
               RowBox[{"flavourin", "+", "6"}], "]"}], "]"}], "/.", 
             RowBox[{
              RowBox[{"LF1", "[", "a__", "]"}], ":>", 
              RowBox[{
               RowBox[{"{", "a", "}"}], "[", 
               RowBox[{"[", "3", "]"}], "]"}]}]}], ",", "title", ",", 
            "xhisttitle", ",", "yhisttitle", ",", "binset", ",", 
            "lineelement", ",", "hist1plotrangex", ",", "Hist1figureNbin"}], 
           "]"}]}], ";", "\n", 
         RowBox[{"(*", 
          RowBox[{"hist1", ":", " ", 
           RowBox[{"data", " ", "with", " ", "absolute", 
            RowBox[{"(", 
             RowBox[{"|", "data", "|"}], ")"}]}]}], "*)"}], "\n", 
         RowBox[{"histplotcorr2", "=", 
          RowBox[{"histplot4", "[", 
           RowBox[{
            RowBox[{
             RowBox[{"pdfcorr", "[", 
              RowBox[{"[", 
               RowBox[{"flavourin", "+", "6"}], "]"}], "]"}], "/.", 
             RowBox[{
              RowBox[{"LF1", "[", "a__", "]"}], ":>", 
              RowBox[{"Abs", "[", 
               RowBox[{
                RowBox[{"{", "a", "}"}], "[", 
                RowBox[{"[", "3", "]"}], "]"}], " ", "]"}]}]}], ",", "title", 
            ",", "xhistabstitle", ",", "yhisttitle", ",", "binset", ",", 
            RowBox[{"Take", "[", 
             RowBox[{"lineelement", ",", 
              RowBox[{"-", "3"}]}], "]"}], ",", "hist2plotrangex", ",", 
            "Hist1figureNbin"}], "]"}]}], ";", "\n", "\"\<dummy\>\""}]}], 
       "\n", "]"}], ";", "\n", 
      RowBox[{"If", "[", "\n", " ", 
       RowBox[{
        RowBox[{
         RowBox[{"plottype", "==", "2"}], " ", "||", " ", 
         RowBox[{"plottype", "==", "3"}], " ", "||", " ", 
         RowBox[{"plottype", "==", "4"}]}], ",", "\n", 
        RowBox[{"(*", 
         RowBox[{"hist1", ":", " ", 
          RowBox[{"data", " ", "with", " ", "no", " ", "absolute"}]}], "*)"}],
         "\n", 
        RowBox[{
         RowBox[{"histplotcorr1", "=", 
          RowBox[{"histplot4", "[", 
           RowBox[{
            RowBox[{"pdfcorr", "/.", 
             RowBox[{
              RowBox[{"LF1", "[", "a__", "]"}], ":>", 
              RowBox[{
               RowBox[{"{", "a", "}"}], "[", 
               RowBox[{"[", "3", "]"}], "]"}]}]}], ",", "title", ",", 
            "xhisttitle", ",", "yhisttitle", ",", "binset", ",", 
            "lineelement", ",", "hist1plotrangex", ",", "Hist1figureNbin"}], 
           "]"}]}], ";", "\n", 
         RowBox[{"(*", 
          RowBox[{"hist1", ":", " ", 
           RowBox[{"data", " ", "with", " ", "absolute", 
            RowBox[{"(", 
             RowBox[{"|", "data", "|"}], ")"}]}]}], "*)"}], "\n", 
         RowBox[{"histplotcorr2", "=", 
          RowBox[{"histplot4", "[", 
           RowBox[{
            RowBox[{"pdfcorr", "/.", 
             RowBox[{
              RowBox[{"LF1", "[", "a__", "]"}], ":>", 
              RowBox[{"Abs", "[", 
               RowBox[{
                RowBox[{"{", "a", "}"}], "[", 
                RowBox[{"[", "3", "]"}], "]"}], " ", "]"}]}]}], ",", "title", 
            ",", "xhistabstitle", ",", "yhisttitle", ",", "binset", ",", 
            RowBox[{"Take", "[", 
             RowBox[{"lineelement", ",", 
              RowBox[{"-", "3"}]}], "]"}], ",", "hist2plotrangex", ",", 
            "Hist1figureNbin"}], "]"}]}], ";", "\n", "\"\<dummy\>\""}]}], 
       "\n", "]"}], ";", "\n", "\n", "\n", 
      RowBox[{"(*", 
       RowBox[{
        RowBox[{
         RowBox[{"make", " ", "expt", " ", "name"}], " ", "&"}], " ", "ID", 
        " ", "table"}], "*)"}], "\n", 
      RowBox[{"(*", 
       RowBox[{
       "===", "===", "===", "===", "===", "===", "===", "===", "===", "==="}],
        "*)"}], "\n", "\n", 
      RowBox[{"(*", "output", "*)"}], "\n", 
      RowBox[{"(*", 
       RowBox[{
       "===", "===", "===", "===", "===", "===", "===", "===", "===", "==="}],
        "*)"}], "\n", "title", ";", "\n", 
      RowBox[{"GraphicsGrid", "[", 
       RowBox[{"{", 
        RowBox[{
         RowBox[{"{", "xQplotcorr", "}"}], ",", 
         RowBox[{"{", 
          RowBox[{"histplotcorr1", ",", "histplotcorr2"}], "}"}]}], "}"}], 
       "]"}]}]}], "\n", "\n", "\n", "]"}]}]}]], "Input",
 CellChangeTimes->{{3.718338570262692*^9, 3.7183385837733393`*^9}}],

Cell[BoxData[
 RowBox[{
  RowBox[{"(*", 
   RowBox[{
    RowBox[{
     RowBox[{
      RowBox[{"modify", " ", "of", " ", "3"}], ":", " ", 
      RowBox[{"when", " ", "plottype"}]}], " ", "=", " ", "5"}], ",", " ", 
    "6", ",", " ", 
    RowBox[{
    "extract", " ", "data", " ", "of", " ", "that", " ", "flavour"}]}], 
   "*)"}], "\n", 
  RowBox[{
   RowBox[{"processdataplotsmultiexp4percentage", "[", 
    RowBox[{
    "corrfxQdtaobsclassin_", ",", "configargumentsin_", ",", "plottypein_", 
     ",", "flavourin_"}], "]"}], ":=", "\n", 
   RowBox[{"Module", "[", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{
       RowBox[{"corrfxQdtaobsclass", "=", "corrfxQdtaobsclassin"}], ",", 
       RowBox[{"configarguments", "=", "configargumentsin"}], ",", "\n", 
       RowBox[{"plottype", "=", "plottypein"}], ",", 
       RowBox[{"(*", 
        RowBox[{
         RowBox[{"flavour", "=", "flavourin"}], ","}], "*)"}], "flavour", ",",
        "\n", "Jobid", ",", "PDFname", ",", "FigureType", ",", "FigureFlag", 
       ",", "ExptidType", ",", "ExptidFlag", ",", "CorrelationArgType", ",", 
       "CorrelationArgFlag", ",", "UserArgName", ",", "UserArgValue", ",", 
       "\n", "XQfigureXrange", ",", "XQfigureYrange", ",", "Hist1figureNbin", 
       ",", "Hist1figureXrange", ",", "Hist1figureYrange", ",", "\n", 
       "ColorSeperator", ",", "\n", "Size", ",", "HighlightType", ",", 
       "HighlightMode", ",", "HighlightMode1", ",", "HighlightMode2", ",", 
       "\n", "processes", ",", "ExptList1", ",", "pdfsetexps", ",", 
       "processestitle", ",", "PDISNCtitle", ",", "NDISCCtitle", ",", 
       "PDISNCCCtitle", ",", "PVBPZtitle", ",", "PVBPWtitle", ",", "PJPtitle",
        ",", "hDISNCtitle", ",", "hDISCCtitle", ",", "hVBPZtitle", ",", 
       "pdfnamelable", ",", "PDFsetlabel", ",", "pdffile", ",", "corrfile", 
       ",", "pdfcorr", ",", "pdfcorrdr", ",", "deltaR", ",", "textsize", ",", 
       "Npttext", ",", "maxtext", ",", "maxmarker", ",", "mintext", ",", 
       "minmarker", ",", "cuttext", ",", "epilogxQ", ",", "epilogxQcorr", ",",
        "corrtitle1", ",", "corrdrtitle1", ",", "deltaRtitle1", ",", "title2",
        ",", "obsname", ",", "title3", ",", "title4", ",", "title", ",", 
       "xtitle", ",", "ytitle", ",", "xhisttitle", ",", "xhistabstitle", ",", 
       "yhisttitle", ",", "plotrange", ",", "stretchx", ",", "stretchy", ",", 
       "legendlabel", ",", "barseperator", ",", "binset", ",", "lineelement", 
       ",", "plotrangex", ",", "SM", ",", "SM1", ",", "SM2", ",", "SM3", ",", 
       "xQplotcorr", " ", ",", "histplotcorr1", ",", "histplotcorr2", ",", 
       "xQplotcorrdr", ",", "histplotcorrdr1", ",", "histplotcorrdr2", ",", 
       "xQplotdr", ",", "histplotdr2", ",", "myexpids", ",", "fmax", ",", 
       "fmax2", ",", "\n", "imgsize", ",", 
       RowBox[{"(*", 
        RowBox[{"title", ",", "xtitle", ",", "ytitle", ","}], "*)"}], 
       "lgdlabel", ",", "xrange", ",", "yrange", ",", "epilog", ",", 
       "titlesize", ",", "xtitlesize", ",", "ytitlesize", ",", "lgdlabelsize",
        ",", "ticklablesize", ",", "\n", "myplotstyle", ",", "myMarker", ",", 
       "\n", "lgdpos", ",", "xyrangeplot1", ",", "\n", "myplotsetting", ",", 
       "plot1data", ",", "plot1", ",", "processesplot1order", ",", "\n", 
       "dummy1", ",", "dummy2", ",", "percentagetext", ",", "hist1plotrangex",
        ",", "histautoxrange", ",", "hist2plotrangex", ",", "unhighlightsize",
        ",", "highlightrange", ",", "highlighttext", ",", "\n", "rows", ",", 
       "exptnames", ",", "exptnamestable"}], "}"}], ",", "\n", 
     RowBox[{"(*", 
      RowBox[{
      "read", " ", "arguments", " ", "in", " ", "config", " ", "file"}], 
      "*)"}], "\n", 
     RowBox[{"(*", 
      RowBox[{
      "===", "===", "===", "===", "===", "===", "===", "===", "===", "==="}], 
      "*)"}], "\n", 
     RowBox[{
      RowBox[{
       RowBox[{"{", 
        RowBox[{
        "Jobid", ",", "PDFname", ",", "FigureType", ",", "FigureFlag", ",", 
         "ExptidType", ",", "ExptidFlag", ",", "CorrelationArgType", ",", 
         "CorrelationArgFlag", ",", "UserArgName", ",", "UserArgValue", ",", 
         "\n", "XQfigureXrange", ",", "XQfigureYrange", ",", 
         "Hist1figureNbin", ",", "Hist1figureXrange", ",", 
         "Hist1figureYrange", ",", "\n", "ColorSeperator", ",", "\n", "Size", 
         ",", "HighlightType", ",", "HighlightMode", ",", "HighlightMode1", 
         ",", "HighlightMode2"}], "}"}], "=", "configarguments"}], ";", "\n", 
      "\n", 
      RowBox[{"(*", 
       RowBox[{
        RowBox[{"base", " ", "on", " ", "FigureFlag"}], ",", " ", 
        RowBox[{
        "decide", " ", "the", " ", "plot", " ", "type", " ", "of", " ", 
         "output", " ", "plots", " ", 
         RowBox[{"(", 
          RowBox[{
          "which", " ", "data", " ", "is", " ", "used", " ", "to", " ", 
           "plot"}], ")"}]}], ",", " ", "\n", 
        RowBox[{
         RowBox[{"ex", ":", " ", 
          RowBox[{"if", " ", "correlation", " ", "flag"}]}], " ", "=", " ", 
         "1"}], ",", " ", 
        RowBox[{"use", " ", "correlation", " ", "data"}]}], "*)"}], "\n", 
      RowBox[{"(*", 
       RowBox[{
       "===", "===", "===", "===", "===", "===", "===", "===", "===", "==="}],
        "*)"}], "\n", "\n", 
      RowBox[{"(*", 
       RowBox[{
        RowBox[{"decide", " ", "title", " ", "by", " ", "PDFname"}], ",", " ",
         "FigureFlag", ",", " ", "CorrelationArgFlag", ",", " ", 
        RowBox[{"ex", ":", " ", 
         RowBox[{"Corr", 
          RowBox[{
           RowBox[{"(", 
            RowBox[{
             RowBox[{"f_j", 
              RowBox[{"(", 
               RowBox[{"x", ",", "Q"}], ")"}]}], ",", 
             RowBox[{"r_i", 
              RowBox[{"(", 
               RowBox[{"x", ",", "Q"}], ")"}]}]}], ")"}], ".", "\n", "if"}], 
          " ", "user", " ", "of", " ", "CorrelationArgFlag", " ", "is", " ", 
          "on"}]}], ",", " ", 
        RowBox[{"Corr", 
         RowBox[{"(", " ", 
          RowBox[{"user_input", ",", 
           RowBox[{"r_i", 
            RowBox[{"(", 
             RowBox[{"x", ",", "Q"}], ")"}]}]}], ")"}]}]}], "*)"}], "\n", 
      RowBox[{"(*", 
       RowBox[{
       "===", "===", "===", "===", "===", "===", "===", "===", "===", "==="}],
        "*)"}], "\n", 
      RowBox[{"corrtitle1", "=", "\"\<Corr( \>\""}], ";", "\n", 
      RowBox[{"corrdrtitle1", "=", "\"\<\[Delta]r*Corr( \>\""}], ";", "\n", 
      RowBox[{"deltaRtitle1", "=", "\"\<\[Delta]r \>\""}], ";", "\n", 
      RowBox[{"title2", "=", "\"\<, r(x,\[Mu]))\>\""}], ";", "\n", 
      RowBox[{"obsname", "=", "\"\<\>\""}], ";", 
      RowBox[{"(*", "initialize", "*)"}], "\n", 
      RowBox[{"pdfnamelable", "=", 
       RowBox[{"{", 
        RowBox[{
        "\"\<\\!\\(\\*OverscriptBox[\\(b\\), \\(_\\)]\\)(x,\[Mu])\>\"", ",", 
         "\"\<\\!\\(\\*OverscriptBox[\\(c\\), \\(_\\)]\\)(x,\[Mu])\>\"", ",", 
         "\"\<\\!\\(\\*OverscriptBox[\\(s\\), \\(_\\)]\\)(x,\[Mu])\>\"", ",", 
         "\"\<\\!\\(\\*OverscriptBox[\\(d\\), \\(_\\)]\\)(x,\[Mu])\>\"", ",", 
         "\"\<\\!\\(\\*OverscriptBox[\\(u\\), \\(_\\)]\\)(x,\[Mu])\>\"", ",", 
         "\"\<g(x,\[Mu])\>\"", ",", "\"\<u(x,\[Mu])\>\"", ",", 
         "\"\<d(x,\[Mu])\>\"", ",", "\"\<s(x,\[Mu])\>\"", ",", 
         "\"\<c(x,\[Mu])\>\"", ",", "\"\<b(x,\[Mu])\>\"", ",", 
         "\"\<\\!\\(\\*FractionBox[\\(\\*OverscriptBox[\\(d\\), \\(_\\)] \
\\((x, \[Mu])\\)\\), \\(\\*OverscriptBox[\\(u\\), \\(_\\)] \\((x, \
\[Mu])\\)\\)]\\)\>\"", ",", 
         "\"\<\\!\\(\\*FractionBox[\\(d \\((x, \[Mu])\\)\\), \\(u \\((x, \
\[Mu])\\)\\)]\\)\>\"", ",", 
         "\"\<\\!\\(\\*FractionBox[\\(s \\((x, \[Mu])\\) + \
\\*OverscriptBox[\\(s\\), \\(_\\)] \\((x, \[Mu])\\)\\), \
\\(\\*OverscriptBox[\\(u\\), \\(_\\)] \\((x, \[Mu])\\) + \
\\*OverscriptBox[\\(d\\), \\(_\\)] \\((x, \[Mu])\\)\\)]\\)\>\"", ",", 
         "UserArgName"}], "}"}]}], ";", "\n", "\n", 
      RowBox[{"If", "[", "\n", 
       RowBox[{
        RowBox[{
         RowBox[{"plottype", ">=", "1"}], " ", "&&", " ", 
         RowBox[{"plottype", "<=", "6"}]}], ",", "\n", 
        RowBox[{
         RowBox[{"If", "[", "\n", 
          RowBox[{
           RowBox[{"plottype", "==", "1"}], " ", ",", "\n", 
           RowBox[{
            RowBox[{"obsname", "=", "\"\<\>\""}], ";"}]}], "\n", "]"}], ";", 
         "\n", 
         RowBox[{"If", "[", "\n", 
          RowBox[{
           RowBox[{"plottype", "==", "2"}], " ", ",", "\n", 
           RowBox[{
            RowBox[{"obsname", "=", "\"\<Expt Uncertainty Ratio\>\""}], 
            ";"}]}], "\n", "]"}], ";", "\n", 
         RowBox[{"If", "[", "\n", 
          RowBox[{
           RowBox[{"plottype", "==", "3"}], " ", ",", "\n", 
           RowBox[{
            RowBox[{"obsname", "=", "\"\<Residual(central value)\>\""}], 
            ";"}]}], "\n", "]"}], ";", "\n", 
         RowBox[{"If", "[", "\n", 
          RowBox[{
           RowBox[{"plottype", "==", "4"}], " ", ",", "\n", 
           RowBox[{
            RowBox[{"obsname", "=", "deltaRtitle1"}], ";"}]}], "\n", "]"}], 
         ";", "\n", 
         RowBox[{"If", "[", "\n", 
          RowBox[{
           RowBox[{"plottype", "==", "5"}], " ", ",", "\n", 
           RowBox[{
            RowBox[{"obsname", "=", 
             RowBox[{"corrdrtitle1", "<>", 
              RowBox[{"pdfnamelable", "[", 
               RowBox[{"[", 
                RowBox[{"flavourin", "+", "6"}], "]"}], "]"}], "<>", 
              "title2"}]}], ";"}]}], "\n", "]"}], ";", "\n", 
         RowBox[{"If", "[", "\n", 
          RowBox[{
           RowBox[{"plottype", "==", "6"}], " ", ",", "\n", 
           RowBox[{
            RowBox[{"obsname", "=", 
             RowBox[{"corrtitle1", "<>", 
              RowBox[{"pdfnamelable", "[", 
               RowBox[{"[", 
                RowBox[{"flavourin", "+", "6"}], "]"}], "]"}], "<>", 
              "title2"}]}], ";"}]}], "\n", "]"}], ";"}]}], "\n", "\n", "]"}], 
      ";", "\n", "\n", 
      RowBox[{"title3", "=", 
       RowBox[{"\"\< for dataset of \>\"", "<>", "PDFname"}]}], ";", "\n", 
      RowBox[{"title", "=", 
       RowBox[{"obsname", "<>", "title3"}]}], ";", "\n", "\n", 
      RowBox[{"xtitle", "=", "\"\<x\>\""}], ";", "\n", 
      RowBox[{"ytitle", "=", "\"\<\[Mu] [GeV]\>\""}], ";", "\n", 
      RowBox[{"xhisttitle", "=", "obsname"}], ";", "\n", 
      RowBox[{"xhistabstitle", "=", 
       RowBox[{"\"\<| \>\"", "<>", "obsname", "<>", "\"\< |\>\""}]}], ";", 
      "\n", 
      RowBox[{"yhisttitle", "=", "\"\<#points\>\""}], ";", "\n", "\n", 
      RowBox[{"(*", 
       RowBox[{"btw", " ", "test"}], "*)"}], 
      RowBox[{"Print", "[", 
       RowBox[{"\"\<test: \>\"", ",", "plottype"}], "]"}], ";", "\n", "\n", 
      RowBox[{"(*", 
       RowBox[{
       "decide", " ", "the", " ", "data", " ", "include", " ", "by", " ", 
        "ExptidFlag", " ", 
        RowBox[{"<<", " ", "perhaps"}], " ", "could", " ", "be", " ", "done", 
        " ", "before", " ", "function"}], "*)"}], "\n", 
      RowBox[{"(*", 
       RowBox[{
       "===", "===", "===", "===", "===", "===", "===", "===", "===", "==="}],
        "*)"}], "\n", 
      RowBox[{"(*", 
       RowBox[{
       "make", " ", "text", " ", "for", " ", "Npt", " ", "of", " ", "data"}], 
       "*)"}], "\n", 
      RowBox[{"(*", "********************************)"}], "\n", 
      RowBox[{"(*", 
       RowBox[{
       "prepare", " ", "for", " ", "data", " ", "input", " ", "to", " ", 
        "processdataplotsmultiexp"}], "*)"}], "\n", 
      RowBox[{"(*", "********************************)"}], "\n", 
      RowBox[{"(*", 
       RowBox[{
        RowBox[{
        "transf", " ", "format", " ", "from", " ", "LF", " ", "to", " ", 
         "LF1"}], ",", " ", 
        RowBox[{
        "since", " ", "plot", " ", "functions", " ", "use", " ", "LF1"}]}], 
       "*)"}], "\n", "\n", 
      RowBox[{"(*", 
       RowBox[{
        RowBox[{"if", " ", "dr", "*", "corr", " ", "or", " ", "corr"}], ",", 
        " ", 
        RowBox[{"data", " ", 
         RowBox[{"is", " ", "[", 
          RowBox[{"[", 
           RowBox[{"iexpt", ",", "flavour"}], "]"}], "]"}]}]}], "*)"}], "\n", 
      
      RowBox[{"If", "[", "\n", 
       RowBox[{
        RowBox[{
         RowBox[{"plottype", "==", "5"}], "  ", "||", " ", 
         RowBox[{"plottype", "==", "6"}]}], ",", "\n", 
        RowBox[{
         RowBox[{"fmax", "=", 
          RowBox[{"Length", "[", 
           RowBox[{"corrfxQdtaobsclass", "[", 
            RowBox[{"[", "1", "]"}], "]"}], " ", "]"}]}], ";", "\n", 
         RowBox[{"Table", "[", "\n", 
          RowBox[{
           RowBox[{
            RowBox[{
             RowBox[{
              RowBox[{"corrfxQdtaobsclass", "[", 
               RowBox[{"[", 
                RowBox[{"i", ",", 
                 RowBox[{"flavour", "+", "6"}]}], "]"}], "]"}], "[", 
              RowBox[{"[", "\"\<data\>\"", "]"}], "]"}], "=", 
             RowBox[{
              RowBox[{
               RowBox[{"corrfxQdtaobsclass", "[", 
                RowBox[{"[", 
                 RowBox[{"i", ",", 
                  RowBox[{"flavour", "+", "6"}]}], "]"}], "]"}], "[", 
               RowBox[{"[", "\"\<data\>\"", "]"}], "]"}], "/.", 
              RowBox[{"LF", "->", "LF1"}]}]}], ";", "\n", 
            RowBox[{"(*", 
             RowBox[{
              RowBox[{
               RowBox[{
                RowBox[{"deltaR", "[", 
                 RowBox[{"[", 
                  RowBox[{"i", ",", 
                   RowBox[{"flavour", "+", "6"}]}], "]"}], "]"}], "[", 
                RowBox[{"[", "\"\<data\>\"", "]"}], "]"}], "=", 
               RowBox[{
                RowBox[{
                 RowBox[{"deltaR", "[", 
                  RowBox[{"[", 
                   RowBox[{"i", ",", 
                    RowBox[{"flavour", "+", "6"}]}], "]"}], "]"}], "[", 
                 RowBox[{"[", "\"\<data\>\"", "]"}], "]"}], "/.", 
                RowBox[{"LF", "\[Rule]", "LF1"}]}]}], ";"}], "*)"}], "\n", 
            "\"\<dummy\>\""}], ",", "\n", 
           RowBox[{"{", 
            RowBox[{"i", ",", "1", ",", 
             RowBox[{"Length", "[", "corrfxQdtaobsclass", "]"}]}], "}"}], ",", 
           RowBox[{"{", 
            RowBox[{"flavour", ",", 
             RowBox[{"-", "5"}], ",", 
             RowBox[{
              RowBox[{"-", "5"}], "+", "fmax", "-", "1"}]}], "}"}]}], "\n", 
          "]"}], ";", "\n", "\n", 
         RowBox[{"(*", 
          RowBox[{"set", " ", 
           RowBox[{"{", 
            RowBox[{
             RowBox[{"corr", "[", 
              RowBox[{"[", "flavour", "]"}], "]"}], ",", 
             RowBox[{"drcorr", "[", 
              RowBox[{"[", "flavour", "]"}], "]"}], ",", 
             RowBox[{"dr", "[", 
              RowBox[{"[", "flavour", "]"}], "]"}]}], "}"}]}], "*)"}], "\n", 
         RowBox[{"(*", 
          RowBox[{
          "they", " ", "are", " ", "used", " ", "to", "  ", "input", " ", 
           "into", " ", "processdataplotsmultiexp"}], "*)"}], "\n", 
         RowBox[{"(*", 
          RowBox[{
           RowBox[{"data", " ", "format"}], " ", "\[Equal]", " ", 
           RowBox[{"{", 
            RowBox[{
             RowBox[{"LF", "[", 
              RowBox[{"x", ",", "Q", ",", "obs"}], "]"}], ",", "...", ",", 
             "..."}], "}"}]}], "*)"}], "\n", 
         RowBox[{"pdfcorr", "=", 
          RowBox[{"Table", "[", 
           RowBox[{
            RowBox[{
             RowBox[{"corrfxQdtaobsclass", "[", 
              RowBox[{"[", 
               RowBox[{"iexpt", ",", 
                RowBox[{"flavour", "+", "6"}]}], "]"}], "]"}], "[", 
             RowBox[{"[", "\"\<data\>\"", "]"}], "]"}], ",", 
            RowBox[{"{", 
             RowBox[{"iexpt", ",", "1", ",", 
              RowBox[{"Length", "[", "corrfxQdtaobsclass", "]"}]}], "}"}], 
            ",", 
            RowBox[{"{", 
             RowBox[{"flavour", ",", 
              RowBox[{"-", "5"}], ",", 
              RowBox[{
               RowBox[{"-", "5"}], "+", "fmax", "-", "1"}]}], "}"}]}], 
           "]"}]}], ";", "\n", "\n", 
         RowBox[{"(*", 
          RowBox[{
           RowBox[{
           "merge", " ", "all", " ", "experimental", " ", "data", " ", "into",
             " ", "one"}], ",", " ", 
           RowBox[{"for", " ", "all", " ", "flavours"}]}], "*)"}], "\n", 
         RowBox[{"(*", 
          RowBox[{
           RowBox[{"ex", ":", " ", 
            RowBox[{"corrdataforplot", "[", 
             RowBox[{"[", 
              RowBox[{"iexpt", ",", "flavour", ",", "Npt"}], "]"}], "]"}]}], 
           " ", "\[Rule]", " ", 
           RowBox[{"orrdataforplot", "[", 
            RowBox[{"[", 
             RowBox[{"flavour", ",", "Npt"}], "]"}], "]"}]}], "*)"}], "\n", 
         RowBox[{
          RowBox[{"{", 
           RowBox[{"pdfcorr", " ", ",", "dummy1", ",", "dummy2"}], "}"}], "=", 
          RowBox[{"mergeplotdata", "[", 
           RowBox[{"{", 
            RowBox[{"pdfcorr", " ", ",", "pdfcorr", ",", "pdfcorr"}], "}"}], 
           "]"}]}], ";", "\n", "\n", 
         RowBox[{"(*", " ", 
          RowBox[{"deletezerovalue", ":", " ", 
           RowBox[{
           "delete", " ", "data", " ", "with", " ", "0", " ", "value", " ", 
            RowBox[{"(", 
             RowBox[{
              RowBox[{
              "0", " ", "value", " ", "usually", " ", "from", " ", "mb"}], 
              ",", " ", 
              RowBox[{"mc", " ", "cut"}]}], ")"}]}]}], "*)"}], "\n", 
         RowBox[{
          RowBox[{"{", 
           RowBox[{"pdfcorr", " ", ",", "dummy1", ",", "dummy2"}], "}"}], "=", 
          RowBox[{"deletezerovalue", "[", 
           RowBox[{"{", 
            RowBox[{"pdfcorr", " ", ",", "pdfcorr", ",", "pdfcorr"}], "}"}], 
           "]"}]}], ";", "\n", 
         RowBox[{"(*", 
          RowBox[{
          "only", " ", "take", " ", "input", " ", "flavour", " ", "data"}], 
          "*)"}], "\n", 
         RowBox[{"pdfcorr", "=", 
          RowBox[{"pdfcorr", "[", 
           RowBox[{"[", 
            RowBox[{"flavourin", "+", "6"}], "]"}], "]"}]}], ";", "\n", 
         "\"\<dummy\>\""}]}], "\n", "]"}], ";", "\n", "\n", 
      RowBox[{"(*", 
       RowBox[{"data", " ", 
        RowBox[{"of", " ", "[", 
         RowBox[{"[", "iexpt", "]"}], "]"}]}], "*)"}], "\n", 
      RowBox[{"If", "[", "\n", 
       RowBox[{
        RowBox[{
         RowBox[{"plottype", "==", "2"}], " ", "||", " ", 
         RowBox[{"plottype", "==", "3"}], " ", "||", " ", 
         RowBox[{"plottype", "==", "4"}]}], ",", "\n", 
        RowBox[{
         RowBox[{"Table", "[", "\n", 
          RowBox[{
           RowBox[{
            RowBox[{
             RowBox[{
              RowBox[{"corrfxQdtaobsclass", "[", 
               RowBox[{"[", "i", "]"}], "]"}], "[", 
              RowBox[{"[", "\"\<data\>\"", "]"}], "]"}], "=", 
             RowBox[{
              RowBox[{
               RowBox[{"corrfxQdtaobsclass", "[", 
                RowBox[{"[", "i", "]"}], "]"}], "[", 
               RowBox[{"[", "\"\<data\>\"", "]"}], "]"}], "/.", 
              RowBox[{"LF", "->", "LF1"}]}]}], ";", "\n", 
            RowBox[{"(*", 
             RowBox[{
              RowBox[{
               RowBox[{
                RowBox[{"deltaR", "[", 
                 RowBox[{"[", 
                  RowBox[{"i", ",", 
                   RowBox[{"flavour", "+", "6"}]}], "]"}], "]"}], "[", 
                RowBox[{"[", "\"\<data\>\"", "]"}], "]"}], "=", 
               RowBox[{
                RowBox[{
                 RowBox[{"deltaR", "[", 
                  RowBox[{"[", 
                   RowBox[{"i", ",", 
                    RowBox[{"flavour", "+", "6"}]}], "]"}], "]"}], "[", 
                 RowBox[{"[", "\"\<data\>\"", "]"}], "]"}], "/.", 
                RowBox[{"LF", "\[Rule]", "LF1"}]}]}], ";"}], "*)"}], "\n", 
            "\"\<dummy\>\""}], ",", "\n", 
           RowBox[{"{", 
            RowBox[{"i", ",", "1", ",", 
             RowBox[{"Length", "[", "corrfxQdtaobsclass", "]"}]}], "}"}]}], 
          "\n", "]"}], ";", "\n", "\n", 
         RowBox[{"pdfcorr", "=", 
          RowBox[{"Table", "[", 
           RowBox[{
            RowBox[{
             RowBox[{"corrfxQdtaobsclass", "[", 
              RowBox[{"[", "iexpt", "]"}], "]"}], "[", 
             RowBox[{"[", "\"\<data\>\"", "]"}], "]"}], ",", 
            RowBox[{"{", 
             RowBox[{"iexpt", ",", "1", ",", 
              RowBox[{"Length", "[", "corrfxQdtaobsclass", "]"}]}], "}"}]}], 
           "]"}]}], ";", "\n", "\n", 
         RowBox[{"(*", 
          RowBox[{"merge", " ", "all", " ", "data", " ", "into", " ", "one"}],
           "*)"}], "\n", 
         RowBox[{"pdfcorr", "=", 
          RowBox[{"Flatten", "[", 
           RowBox[{"pdfcorr", ",", "1"}], "]"}]}], ";", "\n", 
         "\"\<dummy\>\""}]}], "\n", "]"}], ";", "\n", "\n", 
      RowBox[{"If", "[", "\n", 
       RowBox[{
        RowBox[{"plottype", "==", "1"}], ",", "\n", 
        RowBox[{
         RowBox[{"fmax", "=", 
          RowBox[{"Length", "[", 
           RowBox[{"corrfxQdtaobsclass", "[", 
            RowBox[{"[", "1", "]"}], "]"}], " ", "]"}]}], ";", "\n", 
         RowBox[{"Table", "[", "\n", 
          RowBox[{
           RowBox[{
            RowBox[{
             RowBox[{
              RowBox[{"corrfxQdtaobsclass", "[", 
               RowBox[{"[", 
                RowBox[{"i", ",", 
                 RowBox[{"flavour", "+", "6"}]}], "]"}], "]"}], "[", 
              RowBox[{"[", "\"\<data\>\"", "]"}], "]"}], "=", 
             RowBox[{
              RowBox[{
               RowBox[{
                RowBox[{"Datamethods", "[", 
                 RowBox[{"[", "\"\<take\>\"", "]"}], "]"}], "[", 
                RowBox[{
                 RowBox[{"corrfxQdtaobsclass", "[", 
                  RowBox[{"[", 
                   RowBox[{"i", ",", 
                    RowBox[{"flavour", "+", "6"}]}], "]"}], "]"}], ",", "2"}],
                 "]"}], "[", 
               RowBox[{"[", "\"\<data\>\"", "]"}], "]"}], "/.", 
              RowBox[{"LF", "->", "LF1"}]}]}], ";", "\n", 
            RowBox[{"(*", 
             RowBox[{
              RowBox[{
               RowBox[{
                RowBox[{"deltaR", "[", 
                 RowBox[{"[", 
                  RowBox[{"i", ",", 
                   RowBox[{"flavour", "+", "6"}]}], "]"}], "]"}], "[", 
                RowBox[{"[", "\"\<data\>\"", "]"}], "]"}], "=", 
               RowBox[{
                RowBox[{
                 RowBox[{"deltaR", "[", 
                  RowBox[{"[", 
                   RowBox[{"i", ",", 
                    RowBox[{"flavour", "+", "6"}]}], "]"}], "]"}], "[", 
                 RowBox[{"[", "\"\<data\>\"", "]"}], "]"}], "/.", 
                RowBox[{"LF", "\[Rule]", "LF1"}]}]}], ";"}], "*)"}], "\n", 
            "\"\<dummy\>\""}], ",", "\n", 
           RowBox[{"{", 
            RowBox[{"i", ",", "1", ",", 
             RowBox[{"Length", "[", "corrfxQdtaobsclass", "]"}]}], "}"}], ",", 
           RowBox[{"{", 
            RowBox[{"flavour", ",", 
             RowBox[{"-", "5"}], ",", 
             RowBox[{
              RowBox[{"-", "5"}], "+", "fmax", "-", "1"}]}], "}"}]}], "\n", 
          "]"}], ";", "\n", 
         RowBox[{"(*", 
          RowBox[{"set", " ", 
           RowBox[{"{", 
            RowBox[{
             RowBox[{"corr", "[", 
              RowBox[{"[", "flavour", "]"}], "]"}], ",", 
             RowBox[{"drcorr", "[", 
              RowBox[{"[", "flavour", "]"}], "]"}], ",", 
             RowBox[{"dr", "[", 
              RowBox[{"[", "flavour", "]"}], "]"}]}], "}"}]}], "*)"}], "\n", 
         RowBox[{"(*", 
          RowBox[{
          "they", " ", "are", " ", "used", " ", "to", "  ", "input", " ", 
           "into", " ", "processdataplotsmultiexp"}], "*)"}], "\n", 
         RowBox[{"(*", 
          RowBox[{
           RowBox[{"data", " ", "format"}], " ", "\[Equal]", " ", 
           RowBox[{"{", 
            RowBox[{
             RowBox[{"LF", "[", 
              RowBox[{"x", ",", "Q", ",", "obs"}], "]"}], ",", "...", ",", 
             "..."}], "}"}]}], "*)"}], "\n", 
         RowBox[{"pdfcorr", "=", 
          RowBox[{"Table", "[", 
           RowBox[{
            RowBox[{
             RowBox[{"corrfxQdtaobsclass", "[", 
              RowBox[{"[", 
               RowBox[{"iexpt", ",", "6"}], "]"}], "]"}], "[", 
             RowBox[{"[", "\"\<data\>\"", "]"}], "]"}], ",", 
            RowBox[{"{", 
             RowBox[{"iexpt", ",", "1", ",", 
              RowBox[{"Length", "[", "corrfxQdtaobsclass", "]"}]}], "}"}]}], 
           "]"}]}], ";"}]}], "\n", "]"}], ";", "\n", "\n", 
      RowBox[{"(*", 
       RowBox[{
        RowBox[{
        "decide", " ", "xy", " ", "range", " ", "of", " ", "xQ", " ", 
         "plot"}], ",", " ", 
        RowBox[{"Nbin", " ", "of", " ", "histogram"}], ",", " ", 
        RowBox[{
        "xy", " ", "range", " ", "of", " ", "histogram", " ", "by", "\n", 
         "XQfigureXrange"}], ",", "XQfigureYrange", ",", "Hist1figureNbin", 
        ",", "Hist1figureXrange", ",", "Hist1figureYrange"}], "*)"}], "\n", 
      RowBox[{"(*", 
       RowBox[{
       "===", "===", "===", "===", "===", "===", "===", "===", "===", "==="}],
        "*)"}], "\n", 
      RowBox[{"plotrange", "=", 
       RowBox[{
        RowBox[{"{", 
         RowBox[{"XQfigureXrange", ",", "XQfigureYrange"}], "}"}], "//", 
        "Flatten"}]}], ";", "\n", "\n", 
      RowBox[{"(*", 
       RowBox[{
        RowBox[{"plotrangex", "=", "Hist1figureXrange"}], ";"}], "*)"}], 
      RowBox[{"(*", 
       RowBox[{
        RowBox[{"for", " ", "histogram"}], ",", " ", 
        RowBox[{"how", " ", "to", " ", "deal", " ", "with", " ", 
         RowBox[{"auto", "?"}]}]}], "*)"}], "\n", 
      RowBox[{"hist1plotrangex", "=", "Hist1figureXrange"}], ";", "\n", 
      RowBox[{"(*", "\n", 
       RowBox[{
        RowBox[{"If", "[", "\n", 
         RowBox[{
          RowBox[{
           RowBox[{"plottype", "\[Equal]", "5"}], "  ", "||", " ", 
           RowBox[{"plottype", "\[Equal]", "6"}]}], ",", "\n", 
          RowBox[{
           RowBox[{"histautoxrange", "=", 
            RowBox[{"3", "*", 
             RowBox[{"Median", "[", 
              RowBox[{
               RowBox[{"pdfcorr", "[", 
                RowBox[{"[", 
                 RowBox[{"flavourin", "+", "6"}], "]"}], "]"}], "/.", 
               RowBox[{
                RowBox[{"LF1", "[", "a__", "]"}], "\[RuleDelayed]", 
                RowBox[{"Abs", "[", 
                 RowBox[{
                  RowBox[{"{", "a", "}"}], "[", 
                  RowBox[{"[", "3", "]"}], "]"}], " ", "]"}]}]}], " ", 
              "]"}]}]}], ";"}]}], "\n", "]"}], ";"}], "\n", "*)"}], "\n", 
      RowBox[{"If", "[", "\n", 
       RowBox[{
        RowBox[{
         RowBox[{"plottype", "==", "2"}], " ", "||", " ", 
         RowBox[{"plottype", "==", "3"}], " ", "||", " ", 
         RowBox[{"plottype", "==", "4"}], " ", "||", " ", 
         RowBox[{"plottype", "==", "5"}], "  ", "||", " ", 
         RowBox[{"plottype", "==", "6"}]}], ",", "\n", 
        RowBox[{
         RowBox[{"histautoxrange", "=", 
          RowBox[{"3", "*", 
           RowBox[{"Median", "[", 
            RowBox[{"pdfcorr", "/.", 
             RowBox[{
              RowBox[{"LF1", "[", "a__", "]"}], ":>", 
              RowBox[{"Abs", "[", 
               RowBox[{
                RowBox[{"{", "a", "}"}], "[", 
                RowBox[{"[", "3", "]"}], "]"}], " ", "]"}]}]}], " ", 
            "]"}]}]}], ";"}]}], "\n", "]"}], ";", "\n", 
      RowBox[{"If", "[", 
       RowBox[{
        RowBox[{
         RowBox[{"hist1plotrangex", "[", 
          RowBox[{"[", "1", "]"}], "]"}], "==", "\"\<auto\>\""}], ",", 
        RowBox[{
         RowBox[{"hist1plotrangex", "[", 
          RowBox[{"[", "1", "]"}], "]"}], "=", 
         RowBox[{"-", "histautoxrange"}]}]}], "]"}], ";", "\n", 
      RowBox[{"If", "[", 
       RowBox[{
        RowBox[{
         RowBox[{"hist1plotrangex", "[", 
          RowBox[{"[", "2", "]"}], "]"}], "==", "\"\<auto\>\""}], ",", 
        RowBox[{
         RowBox[{"hist1plotrangex", "[", 
          RowBox[{"[", "2", "]"}], "]"}], "=", "histautoxrange"}]}], "]"}], 
      ";", "\n", 
      RowBox[{"Print", "[", 
       RowBox[{"histautoxrange", ",", "hist1plotrangex"}], "]"}], ";", "\n", 
      "\n", 
      RowBox[{"hist2plotrangex", "=", "hist1plotrangex"}], ";", 
      RowBox[{"If", "[", 
       RowBox[{
        RowBox[{
         RowBox[{"hist2plotrangex", "[", 
          RowBox[{"[", "1", "]"}], "]"}], "<", "0.0"}], ",", 
        RowBox[{
         RowBox[{"hist2plotrangex", "[", 
          RowBox[{"[", "1", "]"}], "]"}], "=", "0.0"}]}], "]"}], ";", "\n", 
      RowBox[{"(*", 
       RowBox[{
        RowBox[{"for", " ", "correlation", " ", "histogram"}], ",", " ", 
        RowBox[{"set", " ", "range", " ", 
         RowBox[{"(", 
          RowBox[{
           RowBox[{"-", "1"}], ",", "1"}], ")"}]}]}], "*)"}], "\n", 
      RowBox[{"If", "[", 
       RowBox[{
        RowBox[{"plottype", "==", "6"}], ",", 
        RowBox[{
         RowBox[{"hist1plotrangex", "=", 
          RowBox[{"{", 
           RowBox[{
            RowBox[{"-", "1"}], ",", "1"}], "}"}]}], ";", 
         RowBox[{"hist2plotrangex", "=", 
          RowBox[{"{", 
           RowBox[{"0", ",", "1"}], "}"}]}], ";"}]}], "]"}], ";", "\n", 
      RowBox[{"stretchx", "=", "1"}], ";", 
      RowBox[{"stretchy", "=", "1"}], ";", "\n", 
      RowBox[{"Hist1figureNbin", "=", "Hist1figureNbin"}], ";", "\n", "\n", 
      RowBox[{"(*", 
       RowBox[{
       "setup", " ", "texts", " ", "and", " ", "lines", " ", "in", " ", 
        "plots"}], "*)"}], "\n", 
      RowBox[{"(*", 
       RowBox[{
       "===", "===", "===", "===", "===", "===", "===", "===", "===", "==="}],
        "*)"}], "\n", 
      RowBox[{"(*", 
       RowBox[{
       "set", " ", "outlayer", " ", "points", " ", "label", " ", "in", " ", 
        "plot"}], "*)"}], "\n", 
      RowBox[{"textsize", "=", "16"}], ";", "\n", 
      RowBox[{"Npttext", "=", 
       RowBox[{"Text", "[", 
        RowBox[{
         RowBox[{"Style", "[", 
          RowBox[{
           RowBox[{"\"\<Npt: \>\"", "<>", 
            RowBox[{"ToString", "[", 
             RowBox[{"Length", "[", 
              RowBox[{"pdfcorr", "//", "Flatten"}], "]"}], " ", "]"}]}], ",", 
           "textsize", ",", "Black"}], "]"}], ",", 
         RowBox[{"Scaled", "[", 
          RowBox[{"{", 
           RowBox[{"0.1", ",", "0.9"}], "}"}], "]"}]}], " ", "]"}]}], ";", 
      "\n", 
      RowBox[{"maxtext", "=", 
       RowBox[{"Text", "[", 
        RowBox[{
         RowBox[{"Style", "[", 
          RowBox[{
           RowBox[{
            RowBox[{"ToString", "[", 
             RowBox[{"ColorSeperator", "[", 
              RowBox[{"[", "3", "]"}], "]"}], " ", "]"}], "<>", "\"\<%\>\""}],
            ",", "textsize", ",", "Black"}], "]"}], ",", 
         RowBox[{"Scaled", "[", 
          RowBox[{"{", 
           RowBox[{"0.1", ",", "0.8"}], "}"}], "]"}]}], " ", "]"}]}], ";", 
      "\n", 
      RowBox[{"maxmarker", "=", 
       RowBox[{"{", 
        RowBox[{"Red", ",", 
         RowBox[{"PointSize", "->", "0.02"}], ",", 
         RowBox[{"Point", "[", 
          RowBox[{"Scaled", "[", 
           RowBox[{"{", 
            RowBox[{"0.175", ",", "0.8"}], "}"}], "]"}], " ", "]"}]}], 
        "}"}]}], ";", "\n", 
      RowBox[{"mintext", "=", 
       RowBox[{"Text", "[", 
        RowBox[{
         RowBox[{"Style", "[", 
          RowBox[{
           RowBox[{
            RowBox[{"ToString", "[", 
             RowBox[{"ColorSeperator", "[", 
              RowBox[{"[", "3", "]"}], "]"}], " ", "]"}], "<>", 
            "\"\<%(-)\>\""}], ",", "textsize", ",", "Black"}], "]"}], ",", 
         RowBox[{"Scaled", "[", 
          RowBox[{"{", 
           RowBox[{"0.1", ",", "0.7"}], "}"}], "]"}]}], " ", "]"}]}], ";", 
      "\n", 
      RowBox[{"minmarker", "=", 
       RowBox[{"{", 
        RowBox[{"Blue", ",", 
         RowBox[{"PointSize", "->", "0.02"}], ",", 
         RowBox[{"Point", "[", 
          RowBox[{"Scaled", "[", 
           RowBox[{"{", 
            RowBox[{"0.175", ",", "0.7"}], "}"}], "]"}], " ", "]"}]}], 
        "}"}]}], ";", "\n", 
      RowBox[{"cuttext", "=", 
       RowBox[{"Text", "[", 
        RowBox[{
         RowBox[{"Style", "[", 
          RowBox[{"\"\<cut: |data|<0.5\>\"", ",", "textsize", ",", "Black"}], 
          "]"}], ",", 
         RowBox[{"Scaled", "[", 
          RowBox[{"{", 
           RowBox[{"0.15", ",", "0.6"}], "}"}], "]"}]}], " ", "]"}]}], ";", 
      "\n", 
      RowBox[{"percentagetext", "=", 
       RowBox[{"Text", "[", 
        RowBox[{
         RowBox[{"Style", "[", 
          RowBox[{
           RowBox[{"\"\<percentage of colors:\\n\>\"", "<>", 
            RowBox[{"ToString", "[", 
             RowBox[{"ColorSeperator", "[", 
              RowBox[{"[", "1", "]"}], "]"}], " ", "]"}], "<>", "\"\<%\>\"", "<>", 
            RowBox[{"ToString", "[", 
             RowBox[{"ColorSeperator", "[", 
              RowBox[{"[", "2", "]"}], "]"}], " ", "]"}], "<>", "\"\<%\>\"", "<>", 
            RowBox[{"ToString", "[", 
             RowBox[{"ColorSeperator", "[", 
              RowBox[{"[", "3", "]"}], "]"}], " ", "]"}], "<>", "\"\<%\>\""}],
            ",", "textsize", ",", "Black"}], "]"}], ",", 
         RowBox[{"Scaled", "[", 
          RowBox[{"{", 
           RowBox[{"0.2", ",", "0.8"}], "}"}], "]"}]}], " ", "]"}]}], ";", 
      "\n", "\n", 
      RowBox[{"(*", 
       RowBox[{
        RowBox[{"for", " ", "correlation"}], ",", " ", 
        RowBox[{
        "set", " ", "color", " ", "seperator", " ", "by", " ", "0.5"}], ",", 
        " ", "0.7", ",", " ", "0.85", ",", " ", "1"}], "*)"}], "\n", 
      RowBox[{"(*", 
       RowBox[{
        RowBox[{"for", " ", "uncertainty", " ", "of", " ", "theory"}], ",", 
        " ", "experiment", ",", " ", 
        RowBox[{"also", " ", "0.5"}], ",", " ", "0.7", ",", " ", "0.85", ",", 
        " ", "1"}], "*)"}], "\n", 
      RowBox[{"(*", 
       RowBox[{
        RowBox[{"for", " ", "residual", " ", "central", " ", "value"}], ",", 
        " ", "deltaR", ",", " ", 
        RowBox[{"dr", "*", "corr"}], ",", " ", 
        RowBox[{
         RowBox[{"since", " ", "value", " ", "could", " ", "be"}], " ", ">", 
         " ", 
         RowBox[{
         "1", " ", "and", " ", "even", " ", "very", " ", "large", "\n", 
          "color", " ", "seperator", " ", "decided", " ", "by", " ", 
          "ColorSeperator"}]}]}], "*)"}], "\n", 
      RowBox[{"(*", 
       RowBox[{
       "===", "===", "===", "===", "===", "===", "===", "===", "===", "==="}],
        "*)"}], "\n", 
      RowBox[{"(*", "\n", 
       RowBox[{
        RowBox[{"If", "[", "\n", 
         RowBox[{
          RowBox[{"plottype", "\[Equal]", "5"}], ",", "\n", 
          RowBox[{
           RowBox[{"legendlabel", "=", "\"\<\>\""}], ";", "\n", 
           RowBox[{"barseperator", "=", 
            RowBox[{"GetDataPercentage", "[", 
             RowBox[{
              RowBox[{
               RowBox[{"pdfcorr", "[", 
                RowBox[{"[", 
                 RowBox[{"flavourin", "+", "6"}], "]"}], "]"}], "/.", 
               RowBox[{
                RowBox[{"LF1", "[", "a__", "]"}], "\[RuleDelayed]", 
                RowBox[{"Abs", "[", 
                 RowBox[{
                  RowBox[{"{", "a", "}"}], "[", 
                  RowBox[{"[", "3", "]"}], "]"}], " ", "]"}]}]}], " ", ",", 
              RowBox[{"Join", "[", 
               RowBox[{"ColorSeperator", ",", 
                RowBox[{"{", "100", "}"}]}], "]"}]}], " ", "]"}]}], ";", "\n", 
           RowBox[{"barseperator", "=", 
            RowBox[{"{", 
             RowBox[{
              RowBox[{"-", 
               RowBox[{"barseperator", "[", 
                RowBox[{"[", "4", "]"}], "]"}]}], ",", 
              RowBox[{"-", 
               RowBox[{"barseperator", "[", 
                RowBox[{"[", "3", "]"}], "]"}]}], ",", 
              RowBox[{"-", 
               RowBox[{"barseperator", "[", 
                RowBox[{"[", "2", "]"}], "]"}]}], ",", 
              RowBox[{"-", 
               RowBox[{"barseperator", "[", 
                RowBox[{"[", "1", "]"}], "]"}]}], ",", 
              RowBox[{"barseperator", "[", 
               RowBox[{"[", "1", "]"}], "]"}], ",", 
              RowBox[{"barseperator", "[", 
               RowBox[{"[", "2", "]"}], "]"}], ",", 
              RowBox[{"barseperator", "[", 
               RowBox[{"[", "3", "]"}], "]"}], ",", 
              RowBox[{"barseperator", "[", 
               RowBox[{"[", "4", "]"}], "]"}]}], "}"}]}], ";", "\n", 
           RowBox[{"epilogxQ", "=", 
            RowBox[{"{", 
             RowBox[{"Npttext", ",", 
              RowBox[{"(*", 
               RowBox[{
               "maxtext", ",", "maxmarker", ",", "mintext", ",", 
                "minmarker"}], "*)"}], "percentagetext"}], "}"}]}], ";", "\n",
            "\n", "\"\<dummy\>\""}]}], "\n", 
         RowBox[{"(*", 
          RowBox[{
           RowBox[{"corr", " ", "plot", " ", "cut", " ", "by"}], " ", "|", 
           "data", "|", 
           RowBox[{"<", "0.5"}]}], "*)"}], "\n", "]"}], ";"}], "\n", "*)"}], 
      "\n", 
      RowBox[{"(*", 
       RowBox[{
        RowBox[{
         RowBox[{"same", " ", "as", " ", "plottype"}], "=", "5"}], ",", " ", 
        RowBox[{
        "but", " ", "data", " ", "strucure", " ", "pdfcorr", " ", "is", " ", 
         "different"}]}], "*)"}], "\n", 
      RowBox[{"If", "[", "\n", " ", 
       RowBox[{
        RowBox[{
         RowBox[{"plottype", "==", "2"}], " ", "||", " ", 
         RowBox[{"plottype", "==", "3"}], " ", "||", " ", 
         RowBox[{"plottype", "==", "4"}], " ", "||", " ", 
         RowBox[{"plottype", "==", "5"}]}], ",", "\n", 
        RowBox[{
         RowBox[{"legendlabel", "=", "\"\<\>\""}], ";", "\n", 
         RowBox[{"barseperator", "=", 
          RowBox[{"GetDataPercentage", "[", 
           RowBox[{
            RowBox[{"pdfcorr", "/.", 
             RowBox[{
              RowBox[{"LF1", "[", "a__", "]"}], ":>", 
              RowBox[{"Abs", "[", 
               RowBox[{
                RowBox[{"{", "a", "}"}], "[", 
                RowBox[{"[", "3", "]"}], "]"}], " ", "]"}]}]}], " ", ",", 
            RowBox[{"Join", "[", 
             RowBox[{"ColorSeperator", ",", 
              RowBox[{"{", "100", "}"}]}], "]"}]}], " ", "]"}]}], ";", "\n", 
         RowBox[{"barseperator", "=", 
          RowBox[{"{", 
           RowBox[{
            RowBox[{"-", 
             RowBox[{"barseperator", "[", 
              RowBox[{"[", "4", "]"}], "]"}]}], ",", 
            RowBox[{"-", 
             RowBox[{"barseperator", "[", 
              RowBox[{"[", "3", "]"}], "]"}]}], ",", 
            RowBox[{"-", 
             RowBox[{"barseperator", "[", 
              RowBox[{"[", "2", "]"}], "]"}]}], ",", 
            RowBox[{"-", 
             RowBox[{"barseperator", "[", 
              RowBox[{"[", "1", "]"}], "]"}]}], ",", 
            RowBox[{"barseperator", "[", 
             RowBox[{"[", "1", "]"}], "]"}], ",", 
            RowBox[{"barseperator", "[", 
             RowBox[{"[", "2", "]"}], "]"}], ",", 
            RowBox[{"barseperator", "[", 
             RowBox[{"[", "3", "]"}], "]"}], ",", 
            RowBox[{"barseperator", "[", 
             RowBox[{"[", "4", "]"}], "]"}]}], "}"}]}], ";", "\n", 
         RowBox[{"epilogxQ", "=", 
          RowBox[{"{", 
           RowBox[{"Npttext", ",", 
            RowBox[{"(*", 
             RowBox[{
             "maxtext", ",", "maxmarker", ",", "mintext", ",", "minmarker"}], 
             "*)"}], "percentagetext"}], "}"}]}], ";", "\n", "\n", 
         "\"\<dummy\>\""}]}], "\n", 
       RowBox[{"(*", 
        RowBox[{
         RowBox[{"corr", " ", "plot", " ", "cut", " ", "by"}], " ", "|", 
         "data", "|", 
         RowBox[{"<", "0.5"}]}], "*)"}], "\n", "]"}], ";", "\n", "\n", 
      RowBox[{"If", "[", "\n", 
       RowBox[{
        RowBox[{"plottype", "==", "6"}], ",", "\n", 
        RowBox[{
         RowBox[{"legendlabel", "=", "\"\<\>\""}], ";", "\n", 
         RowBox[{"barseperator", "=", 
          RowBox[{"{", 
           RowBox[{
            RowBox[{"-", "1"}], ",", 
            RowBox[{"-", "0.85"}], ",", 
            RowBox[{"-", "0.7"}], ",", 
            RowBox[{"-", "0.5"}], ",", "0.5", ",", "0.7", ",", "0.85", ",", 
            "1"}], "}"}]}], ";", "\n", 
         RowBox[{"epilogxQ", "=", 
          RowBox[{"{", "Npttext", "}"}]}], ";", "\n", "\n", 
         "\"\<dummy\>\""}]}], "\n", 
       RowBox[{"(*", 
        RowBox[{
         RowBox[{"corr", " ", "plot", " ", "cut", " ", "by"}], " ", "|", 
         "data", "|", 
         RowBox[{"<", "0.5"}]}], "*)"}], "\n", "]"}], ";", "\n", 
      RowBox[{"(*", 
       RowBox[{
        RowBox[{"plot", " ", "type", " ", "1"}], ":", " ", 
        RowBox[{
        "just", " ", "need", " ", "barseperator", " ", "so", " ", "that", " ",
          "function", " ", 
         RowBox[{"doesn", "'"}], "t", " ", "break"}]}], "*)"}], "\n", 
      RowBox[{"If", "[", "\n", 
       RowBox[{
        RowBox[{"plottype", "==", "1"}], ",", "\n", 
        RowBox[{
         RowBox[{"barseperator", "=", 
          RowBox[{"{", 
           RowBox[{
            RowBox[{"-", "1"}], ",", 
            RowBox[{"-", "0.85"}], ",", 
            RowBox[{"-", "0.7"}], ",", 
            RowBox[{"-", "0.5"}], ",", "0.5", ",", "0.7", ",", "0.85", ",", 
            "1"}], "}"}]}], ";"}]}], "\n", "]"}], ";", "\n", "\n", 
      RowBox[{"(*", 
       RowBox[{
        RowBox[{"for", " ", "no", " ", "highlight", " ", "mode"}], ",", " ", 
        RowBox[{
        "choose", " ", "size", " ", "of", " ", "data", " ", "point", " ", 
         "in", " ", "plot", " ", "by", " ", "Size", "\n", "for", " ", 
         "highlight", " ", "mode"}], ",", " ", 
        RowBox[{
        "set", " ", "size", " ", "of", " ", "unhighlighted", " ", "data", " ",
          "as", " ", "Size"}], ",", " ", 
        RowBox[{
        "size", " ", "of", " ", "highlighted", " ", "data", " ", "is", " ", 
         "larger", " ", "than", " ", "Size"}]}], "*)"}], "\n", 
      RowBox[{"(*", 
       RowBox[{
       "===", "===", "===", "===", "===", "===", "===", "===", "===", "==="}],
        "*)"}], "\n", 
      RowBox[{"Print", "[", "HighlightMode", "]"}], ";", "\n", "\n", 
      RowBox[{"unhighlightsize", "=", "\n", 
       RowBox[{"Switch", "[", 
        RowBox[{
        "Size", ",", "\"\<tiny\>\"", ",", "0.005", ",", "\"\<small\>\"", ",", 
         "0.0075", ",", "\"\<medium\>\"", ",", "0.01", ",", "\"\<large\>\"", 
         ",", "0.0125", ",", "_", ",", 
         RowBox[{
          RowBox[{
          "Print", "[", "\"\<error,size type is not correct\>\"", "]"}], ";", 
          
          RowBox[{"Abort", "[", "]"}]}]}], " ", "]"}]}], ";", "\n", 
      RowBox[{"highlightrange", "=", "\n", 
       RowBox[{"Switch", "[", "\n", 
        RowBox[{
         RowBox[{"HighlightMode", "[", 
          RowBox[{"[", "plottype", "]"}], "]"}], ",", "\n", "0", ",", 
         RowBox[{"{", 
          RowBox[{"0.0", ",", "0.0"}], "}"}], ",", "\n", "1", ",", 
         RowBox[{"{", 
          RowBox[{
           RowBox[{"HighlightMode1", "[", 
            RowBox[{"[", 
             RowBox[{
              RowBox[{"2", "*", "plottype"}], "-", "1"}], "]"}], "]"}], ",", 
           RowBox[{"HighlightMode1", "[", 
            RowBox[{"[", 
             RowBox[{"2", "*", "plottype"}], "]"}], "]"}]}], "}"}], ",", "\n",
          "2", ",", 
         RowBox[{"GetDataPercentage", "[", 
          RowBox[{
           RowBox[{"pdfcorr", "/.", 
            RowBox[{
             RowBox[{"LF1", "[", "a__", "]"}], ":>", 
             RowBox[{"Abs", "[", 
              RowBox[{
               RowBox[{"{", "a", "}"}], "[", 
               RowBox[{"[", "3", "]"}], "]"}], " ", "]"}]}]}], " ", ",", 
           RowBox[{"{", 
            RowBox[{
             RowBox[{"HighlightMode2", "[", 
              RowBox[{"[", 
               RowBox[{
                RowBox[{"2", "*", "plottype"}], "-", "1"}], "]"}], "]"}], ",", 
             RowBox[{"HighlightMode2", "[", 
              RowBox[{"[", 
               RowBox[{"2", "*", "plottype"}], "]"}], "]"}]}], "}"}]}], "]"}],
          "\n", 
         RowBox[{"(*", "\n", 
          RowBox[{"Which", "[", "\n", 
           RowBox[{
            RowBox[{
             RowBox[{"plottype", "\[Equal]", "5"}], "  ", "||", " ", 
             RowBox[{"plottype", "\[Equal]", "6"}]}], ",", "\n", 
            RowBox[{"GetDataPercentage", "[", 
             RowBox[{
              RowBox[{
               RowBox[{"pdfcorr", "[", 
                RowBox[{"[", 
                 RowBox[{"flavourin", "+", "6"}], "]"}], "]"}], "/.", 
               RowBox[{
                RowBox[{"LF1", "[", "a__", "]"}], "\[RuleDelayed]", 
                RowBox[{"Abs", "[", 
                 RowBox[{
                  RowBox[{"{", "a", "}"}], "[", 
                  RowBox[{"[", "3", "]"}], "]"}], " ", "]"}]}]}], " ", ",", 
              RowBox[{"{", 
               RowBox[{
                RowBox[{"HighlightMode2", "[", 
                 RowBox[{"[", 
                  RowBox[{
                   RowBox[{"2", "*", "plottype"}], "-", "1"}], "]"}], "]"}], 
                ",", 
                RowBox[{"HighlightMode2", "[", 
                 RowBox[{"[", 
                  RowBox[{"2", "*", "plottype"}], "]"}], "]"}]}], "}"}]}], 
             "]"}], ",", "\n", " ", 
            RowBox[{
             RowBox[{"plottype", "\[Equal]", "2"}], " ", "||", " ", 
             RowBox[{"plottype", "\[Equal]", "3"}], " ", "||", " ", 
             RowBox[{"plottype", "\[Equal]", "4"}]}], ",", "\n", 
            RowBox[{"GetDataPercentage", "[", 
             RowBox[{
              RowBox[{"pdfcorr", "/.", 
               RowBox[{
                RowBox[{"LF1", "[", "a__", "]"}], "\[RuleDelayed]", 
                RowBox[{"Abs", "[", 
                 RowBox[{
                  RowBox[{"{", "a", "}"}], "[", 
                  RowBox[{"[", "3", "]"}], "]"}], " ", "]"}]}]}], " ", ",", 
              RowBox[{"{", 
               RowBox[{
                RowBox[{"HighlightMode2", "[", 
                 RowBox[{"[", 
                  RowBox[{
                   RowBox[{"2", "*", "plottype"}], "-", "1"}], "]"}], "]"}], 
                ",", 
                RowBox[{"HighlightMode2", "[", 
                 RowBox[{"[", 
                  RowBox[{"2", "*", "plottype"}], "]"}], "]"}]}], "}"}]}], 
             "]"}], ",", "\n", "True", ",", 
            RowBox[{
             RowBox[{
             "Print", "[", "\"\<presently plottype is only 2~6 \>\"", "]"}], 
             ";", 
             RowBox[{"Abort", "[", "]"}]}]}], "\n", "]"}], "*)"}], ",", "\n", 
         "_", ",", 
         RowBox[{
          RowBox[{
          "Print", "[", "\"\<error, highlight mode should be 0, 1, 2\>\"", 
           "]"}], ";", 
          RowBox[{"Abort", "[", "]"}]}]}], "\n", "]"}]}], ";", "\n", "\n", 
      RowBox[{"highlighttext", "=", 
       RowBox[{"Text", "[", 
        RowBox[{
         RowBox[{"Style", "[", 
          RowBox[{
           RowBox[{"\"\<highlight range:\\n\>\"", "<>", 
            RowBox[{"ToString", "[", "highlightrange", "]"}]}], ",", 
           "textsize", ",", "Black"}], "]"}], ",", 
         RowBox[{"Scaled", "[", 
          RowBox[{"{", 
           RowBox[{"0.2", ",", "0.7"}], "}"}], "]"}]}], " ", "]"}]}], ";", 
      "\n", 
      RowBox[{"If", "[", 
       RowBox[{
        RowBox[{
         RowBox[{"HighlightMode", "[", 
          RowBox[{"[", "plottype", "]"}], "]"}], "!=", "0"}], ",", 
        RowBox[{"epilogxQ", "=", 
         RowBox[{"Append", "[", 
          RowBox[{"epilogxQ", ",", "highlighttext"}], "]"}]}]}], " ", "]"}], 
      ";", "\n", "\n", 
      RowBox[{"Print", "[", 
       RowBox[{"\"\<highlight range: \>\"", ",", "highlightrange"}], "]"}], 
      ";", "\n", "\n", 
      RowBox[{"(*", 
       RowBox[{
        RowBox[{"for", " ", "histogram"}], ",", " ", 
        RowBox[{
        "setup", " ", "highlighted", " ", "value", " ", "range", " ", "by", 
         " ", "red", " ", "line", " ", "and", " ", "color", " ", "seperator", 
         " ", "value", " ", "by", " ", "blue", " ", "line"}]}], "*)"}], "\n", 
      
      RowBox[{"(*", 
       RowBox[{
        RowBox[{
        "make", " ", "histogram", " ", "of", " ", "data", " ", "and"}], " ", 
        "|", "data", "|"}], "*)"}], "\n", 
      RowBox[{"(*", 
       RowBox[{
       "===", "===", "===", "===", "===", "===", "===", "===", "===", "==="}],
        "*)"}], "\n", "\n", 
      RowBox[{"(*", 
       RowBox[{
        RowBox[{
        "set", " ", "xtitle", " ", "by", " ", "observable", " ", "part", " ", 
         "of", " ", "title"}], ",", " ", 
        RowBox[{"ex", ":", " ", 
         RowBox[{"|", 
          RowBox[{"Corr", 
           RowBox[{"(", 
            RowBox[{
             RowBox[{"f_j", 
              RowBox[{"(", 
               RowBox[{"x", ",", "Q"}], ")"}]}], ",", 
             RowBox[{"r_i", 
              RowBox[{"(", 
               RowBox[{"x", ",", "Q"}], ")"}]}]}], ")"}]}], "|"}]}]}], "*)"}],
       "\n", 
      RowBox[{"(*", 
       RowBox[{
       "===", "===", "===", "===", "===", "===", "===", "===", "===", "==="}],
        "*)"}], "\n", "\n", "\n", 
      RowBox[{"(*", 
       RowBox[{
        RowBox[{"plot", " ", "x"}], ",", 
        RowBox[{
        "Q", " ", "data", " ", "by", " ", "size", " ", "for", " ", "all", " ",
          "quarks", 
         RowBox[{"(", "CorrelationArgFlag", ")"}]}], ",", " ", 
        RowBox[{
        "and", " ", "plot", " ", "corresponding", " ", "histogram"}]}], 
       "*)"}], "\n", 
      RowBox[{"(*", 
       RowBox[{
        RowBox[{"GridGraphic", " ", "x"}], ",", 
        RowBox[{
        "Q", " ", "data", " ", "by", " ", "size", " ", "and", " ", 
         "histograms"}]}], "*)"}], "\n", 
      RowBox[{"(*", 
       RowBox[{
       "===", "===", "===", "===", "===", "===", "===", "===", "===", "==="}],
        "*)"}], "\n", "\n", "\n", 
      RowBox[{"(*", 
       RowBox[{"correlation", " ", "plot"}], "*)"}], "\n", 
      RowBox[{"(*", "\n", 
       RowBox[{
        RowBox[{"If", "[", "\n", 
         RowBox[{
          RowBox[{
           RowBox[{"plottype", "\[Equal]", "5"}], "  ", "||", " ", 
           RowBox[{"plottype", "\[Equal]", "6"}]}], ",", "\n", 
          RowBox[{
           RowBox[{"xQplotcorr", "=", 
            RowBox[{"PDFCorrelationplot7", "[", 
             RowBox[{
              RowBox[{"pdfcorr", "[", 
               RowBox[{"[", 
                RowBox[{"flavourin", "+", "6"}], "]"}], "]"}], ",", "title", 
              ",", "xtitle", ",", "ytitle", ",", "plotrange", ",", "stretchx",
               ",", "stretchy", ",", "barseperator", ",", "legendlabel", ",", 
              
              RowBox[{"(*", 
               RowBox[{"Append", "[", 
                RowBox[{"epilogxQ", ",", "cuttext"}], "]"}], "*)"}], 
              "epilogxQ", ",", "highlightrange", ",", "unhighlightsize"}], 
             " ", "]"}]}], ";", "\n", "\"\<dummy\>\""}]}], "\n", "]"}], ";"}],
        "\n", "*)"}], "\n", 
      RowBox[{"If", "[", "\n", " ", 
       RowBox[{
        RowBox[{
         RowBox[{"plottype", "==", "2"}], " ", "||", " ", 
         RowBox[{"plottype", "==", "3"}], " ", "||", " ", 
         RowBox[{"plottype", "==", "4"}], " ", "||", " ", 
         RowBox[{"plottype", "==", "5"}], "  ", "||", " ", 
         RowBox[{"plottype", "==", "6"}]}], ",", "\n", 
        RowBox[{
         RowBox[{"xQplotcorr", "=", 
          RowBox[{"PDFCorrelationplot7", "[", 
           RowBox[{
           "pdfcorr", ",", "title", ",", "xtitle", ",", "ytitle", ",", 
            "plotrange", ",", "stretchx", ",", "stretchy", ",", 
            "barseperator", ",", "legendlabel", ",", 
            RowBox[{"(*", 
             RowBox[{"Append", "[", 
              RowBox[{"epilogxQ", ",", "cuttext"}], "]"}], "*)"}], "epilogxQ",
             ",", "highlightrange", ",", "unhighlightsize"}], " ", "]"}]}], 
         ";", "\n", "\"\<dummy\>\""}]}], "\n", "]"}], ";", "\n", 
      RowBox[{"(*", 
       RowBox[{"correlation", " ", "histogram"}], "*)"}], "\n", "\n", 
      RowBox[{"(*", 
       RowBox[{
        RowBox[{"binset", ":", " ", 
         RowBox[{
          RowBox[{"for", " ", "Nbin"}], "\[Equal]", "\"\<auto\>\""}]}], ",", 
        " ", 
        RowBox[{"define", " ", "auto", " ", "binset"}]}], "*)"}], "\n", 
      RowBox[{"(*", 
       RowBox[{
       "set", " ", "auto", " ", "bin", " ", "as", " ", "5", " ", "bins", " ", 
        "in", " ", "first", " ", "color", " ", "bar", " ", "seperator"}], " ",
        "*)"}], "\n", 
      RowBox[{"binset", "=", 
       RowBox[{"{", 
        RowBox[{"Table", "[", 
         RowBox[{
          RowBox[{"i", "*", 
           RowBox[{
            RowBox[{"barseperator", "[", 
             RowBox[{"[", 
              RowBox[{
               RowBox[{
                RowBox[{"Length", "[", "barseperator", "]"}], "/", "2"}], "+",
                "1"}], "]"}], "]"}], "/", "5.0"}]}], ",", 
          RowBox[{"{", 
           RowBox[{"i", ",", 
            RowBox[{"-", "100"}], ",", "100"}], "}"}]}], "]"}], "}"}]}], ";", 
      "\n", "\n", 
      RowBox[{"(*", 
       RowBox[{
        RowBox[{"lineelement", "=", 
         RowBox[{"{", 
          RowBox[{
           RowBox[{"{", 
            RowBox[{
             RowBox[{"barseperator", "[", 
              RowBox[{"[", "2", "]"}], "]"}], ",", "\"\<\>\"", ",", "Blue"}], 
            "}"}], ",", 
           RowBox[{"{", 
            RowBox[{
             RowBox[{"barseperator", "[", 
              RowBox[{"[", "3", "]"}], "]"}], ",", "\"\<\>\"", ",", "Blue"}], 
            "}"}], ",", 
           RowBox[{"{", 
            RowBox[{
             RowBox[{"barseperator", "[", 
              RowBox[{"[", "4", "]"}], "]"}], ",", "\"\<\>\"", ",", "Blue"}], 
            "}"}], ",", 
           RowBox[{"{", 
            RowBox[{
             RowBox[{"barseperator", "[", 
              RowBox[{"[", "5", "]"}], "]"}], ",", "\"\<\>\"", ",", "Blue"}], 
            "}"}], ",", 
           RowBox[{"{", 
            RowBox[{
             RowBox[{"barseperator", "[", 
              RowBox[{"[", "6", "]"}], "]"}], ",", "\"\<\>\"", ",", "Blue"}], 
            "}"}], ",", 
           RowBox[{"{", 
            RowBox[{
             RowBox[{"barseperator", "[", 
              RowBox[{"[", "7", "]"}], "]"}], ",", "\"\<\>\"", ",", "Blue"}], 
            "}"}]}], "}"}]}], ";"}], "*)"}], "\n", 
      RowBox[{"lineelement", "=", 
       RowBox[{"{", 
        RowBox[{
         RowBox[{"{", 
          RowBox[{
           RowBox[{"barseperator", "[", 
            RowBox[{"[", "2", "]"}], "]"}], ",", 
           RowBox[{
            RowBox[{"ToString", "[", 
             RowBox[{"ColorSeperator", "[", 
              RowBox[{"[", "3", "]"}], "]"}], " ", "]"}], "<>", "\"\<%\>\""}],
            ",", "Blue"}], "}"}], ",", 
         RowBox[{"{", 
          RowBox[{
           RowBox[{"barseperator", "[", 
            RowBox[{"[", "3", "]"}], "]"}], ",", 
           RowBox[{
            RowBox[{"ToString", "[", 
             RowBox[{"ColorSeperator", "[", 
              RowBox[{"[", "2", "]"}], "]"}], " ", "]"}], "<>", "\"\<%\>\""}],
            ",", "Blue"}], "}"}], ",", 
         RowBox[{"{", 
          RowBox[{
           RowBox[{"barseperator", "[", 
            RowBox[{"[", "4", "]"}], "]"}], ",", 
           RowBox[{
            RowBox[{"ToString", "[", 
             RowBox[{"ColorSeperator", "[", 
              RowBox[{"[", "1", "]"}], "]"}], " ", "]"}], "<>", "\"\<%\>\""}],
            ",", "Blue"}], "}"}], ",", 
         RowBox[{"{", 
          RowBox[{
           RowBox[{"barseperator", "[", 
            RowBox[{"[", "5", "]"}], "]"}], ",", 
           RowBox[{
            RowBox[{"ToString", "[", 
             RowBox[{"ColorSeperator", "[", 
              RowBox[{"[", "1", "]"}], "]"}], " ", "]"}], "<>", "\"\<%\>\""}],
            ",", "Blue"}], "}"}], ",", 
         RowBox[{"{", 
          RowBox[{
           RowBox[{"barseperator", "[", 
            RowBox[{"[", "6", "]"}], "]"}], ",", 
           RowBox[{
            RowBox[{"ToString", "[", 
             RowBox[{"ColorSeperator", "[", 
              RowBox[{"[", "2", "]"}], "]"}], " ", "]"}], "<>", "\"\<%\>\""}],
            ",", "Blue"}], "}"}], ",", 
         RowBox[{"{", 
          RowBox[{
           RowBox[{"barseperator", "[", 
            RowBox[{"[", "7", "]"}], "]"}], ",", 
           RowBox[{
            RowBox[{"ToString", "[", 
             RowBox[{"ColorSeperator", "[", 
              RowBox[{"[", "3", "]"}], "]"}], " ", "]"}], "<>", "\"\<%\>\""}],
            ",", "Blue"}], "}"}]}], "}"}]}], ";", "\n", 
      RowBox[{"(*", 
       RowBox[{"20170307", ":", " ", 
        RowBox[{"bin", " ", "from", " ", "argument"}]}], "*)"}], "\n", 
      RowBox[{"(*", "\n", 
       RowBox[{
        RowBox[{"If", "[", "\n", 
         RowBox[{
          RowBox[{"Hist1figureNbin", "==", "\"\<auto\>\""}], ",", "\n", 
          RowBox[{
           RowBox[{"binset", "=", "barseperator"}], ";", "\n", 
           RowBox[{"binset", "=", 
            RowBox[{"Insert", "[", 
             RowBox[{"binset", ",", "0.0", ",", "5"}], "]"}]}]}]}], "\n", 
         "]"}], ";"}], "\n", "*)"}], "\n", 
      RowBox[{"(*", "\n", 
       RowBox[{
        RowBox[{"If", "[", "\n", 
         RowBox[{
          RowBox[{
           RowBox[{"plottype", "\[Equal]", "5"}], "  ", "||", " ", 
           RowBox[{"plottype", "\[Equal]", "6"}]}], ",", "\n", 
          RowBox[{"(*", 
           RowBox[{"hist1", ":", " ", 
            RowBox[{"data", " ", "with", " ", "no", " ", "absolute"}]}], 
           "*)"}], "\n", 
          RowBox[{
           RowBox[{"histplotcorr1", "=", 
            RowBox[{"histplot4", "[", 
             RowBox[{
              RowBox[{
               RowBox[{"pdfcorr", "[", 
                RowBox[{"[", 
                 RowBox[{"flavourin", "+", "6"}], "]"}], "]"}], "/.", 
               RowBox[{
                RowBox[{"LF1", "[", "a__", "]"}], "\[RuleDelayed]", 
                RowBox[{
                 RowBox[{"{", "a", "}"}], "[", 
                 RowBox[{"[", "3", "]"}], "]"}]}]}], ",", "title", ",", 
              "xhisttitle", ",", "yhisttitle", ",", "binset", ",", 
              "lineelement", ",", "hist1plotrangex", ",", "Hist1figureNbin"}],
              "]"}]}], ";", "\n", 
           RowBox[{"(*", 
            RowBox[{"hist1", ":", " ", 
             RowBox[{"data", " ", "with", " ", "absolute", 
              RowBox[{"(", 
               RowBox[{"|", "data", "|"}], ")"}]}]}], "*)"}], "\n", 
           RowBox[{"histplotcorr2", "=", 
            RowBox[{"histplot4", "[", 
             RowBox[{
              RowBox[{
               RowBox[{"pdfcorr", "[", 
                RowBox[{"[", 
                 RowBox[{"flavourin", "+", "6"}], "]"}], "]"}], "/.", 
               RowBox[{
                RowBox[{"LF1", "[", "a__", "]"}], "\[RuleDelayed]", 
                RowBox[{"Abs", "[", 
                 RowBox[{
                  RowBox[{"{", "a", "}"}], "[", 
                  RowBox[{"[", "3", "]"}], "]"}], " ", "]"}]}]}], ",", 
              "title", ",", "xhistabstitle", ",", "yhisttitle", ",", "binset",
               ",", 
              RowBox[{"Take", "[", 
               RowBox[{"lineelement", ",", 
                RowBox[{"-", "3"}]}], "]"}], ",", "hist2plotrangex", ",", 
              "Hist1figureNbin"}], "]"}]}], ";", "\n", "\"\<dummy\>\""}]}], 
         "\n", "]"}], ";"}], "\n", "*)"}], "\n", 
      RowBox[{"If", "[", "\n", " ", 
       RowBox[{
        RowBox[{
         RowBox[{"plottype", "==", "2"}], " ", "||", " ", 
         RowBox[{"plottype", "==", "3"}], " ", "||", " ", 
         RowBox[{"plottype", "==", "4"}], " ", "||", " ", 
         RowBox[{"plottype", "==", "5"}], "  ", "||", " ", 
         RowBox[{"plottype", "==", "6"}]}], ",", "\n", 
        RowBox[{"(*", 
         RowBox[{"hist1", ":", " ", 
          RowBox[{"data", " ", "with", " ", "no", " ", "absolute"}]}], "*)"}],
         "\n", 
        RowBox[{
         RowBox[{"histplotcorr1", "=", 
          RowBox[{"histplot4", "[", 
           RowBox[{
            RowBox[{"pdfcorr", "/.", 
             RowBox[{
              RowBox[{"LF1", "[", "a__", "]"}], ":>", 
              RowBox[{
               RowBox[{"{", "a", "}"}], "[", 
               RowBox[{"[", "3", "]"}], "]"}]}]}], ",", "title", ",", 
            "xhisttitle", ",", "yhisttitle", ",", "binset", ",", 
            "lineelement", ",", "hist1plotrangex", ",", "Hist1figureNbin"}], 
           "]"}]}], ";", "\n", 
         RowBox[{"(*", 
          RowBox[{"hist1", ":", " ", 
           RowBox[{"data", " ", "with", " ", "absolute", 
            RowBox[{"(", 
             RowBox[{"|", "data", "|"}], ")"}]}]}], "*)"}], "\n", 
         RowBox[{"histplotcorr2", "=", 
          RowBox[{"histplot4", "[", 
           RowBox[{
            RowBox[{"pdfcorr", "/.", 
             RowBox[{
              RowBox[{"LF1", "[", "a__", "]"}], ":>", 
              RowBox[{"Abs", "[", 
               RowBox[{
                RowBox[{"{", "a", "}"}], "[", 
                RowBox[{"[", "3", "]"}], "]"}], " ", "]"}]}]}], ",", "title", 
            ",", "xhistabstitle", ",", "yhisttitle", ",", "binset", ",", 
            RowBox[{"Take", "[", 
             RowBox[{"lineelement", ",", 
              RowBox[{"-", "3"}]}], "]"}], ",", "hist2plotrangex", ",", 
            "Hist1figureNbin"}], "]"}]}], ";", "\n", "\"\<dummy\>\""}]}], 
       "\n", "]"}], ";", "\n", "\n", 
      RowBox[{"If", "[", "\n", " ", 
       RowBox[{
        RowBox[{"plottype", "==", "1"}], ",", "\n", 
        RowBox[{"(*", "plot1", "*)"}], "\n", 
        RowBox[{
         RowBox[{"exptlist", "=", 
          RowBox[{"{", 
           RowBox[{"1", ",", "2", ",", "3", ",", "4", ",", "5"}], "}"}]}], 
         ";", "\n", 
         RowBox[{"expttype", "=", "\"\<multi\>\""}], ";", "\n", 
         RowBox[{"myplotsetting", "=", 
          RowBox[{"setplotsetting", "[", 
           RowBox[{
           "corrfxQdtaobsclass", ",", "exptlist", ",", "expttype", ",", "1", 
            ",", "\"\<test\>\"", ",", "\"\<test\>\""}], "]"}]}], ";", "\n", 
         RowBox[{"imgsize", "=", 
          RowBox[{"myplotsetting", "[", 
           RowBox[{"[", "\"\<imgsize\>\"", "]"}], "]"}]}], ";", "\n", 
         RowBox[{"title", "=", 
          RowBox[{"myplotsetting", "[", 
           RowBox[{"[", "\"\<title\>\"", "]"}], "]"}]}], ";", "\n", 
         RowBox[{"xtitle", "=", 
          RowBox[{"myplotsetting", "[", 
           RowBox[{"[", "\"\<xtitle\>\"", "]"}], "]"}]}], ";", "\n", 
         RowBox[{"ytitle", "=", 
          RowBox[{"myplotsetting", "[", 
           RowBox[{"[", "\"\<ytitle\>\"", "]"}], "]"}]}], ";", "\n", 
         RowBox[{"lgdlabel", "=", 
          RowBox[{"myplotsetting", "[", 
           RowBox[{"[", "\"\<lgdlabel\>\"", "]"}], "]"}]}], ";", "\n", 
         RowBox[{"xrange", "=", 
          RowBox[{"myplotsetting", "[", 
           RowBox[{"[", "\"\<xrange\>\"", "]"}], "]"}]}], ";", "\n", 
         RowBox[{"yrange", "=", 
          RowBox[{"myplotsetting", "[", 
           RowBox[{"[", "\"\<yrange\>\"", "]"}], "]"}]}], ";", "\n", 
         RowBox[{"epilog", "=", 
          RowBox[{"myplotsetting", "[", 
           RowBox[{"[", "\"\<epilog\>\"", "]"}], "]"}]}], ";", "\n", 
         RowBox[{"titlesize", "=", 
          RowBox[{"myplotsetting", "[", 
           RowBox[{"[", "\"\<titlesize\>\"", "]"}], "]"}]}], ";", "\n", 
         RowBox[{"xtitlesize", "=", 
          RowBox[{"myplotsetting", "[", 
           RowBox[{"[", "\"\<xtitlesize\>\"", "]"}], "]"}]}], ";", "\n", 
         RowBox[{"ytitlesize", "=", 
          RowBox[{"myplotsetting", "[", 
           RowBox[{"[", "\"\<ytitlesize\>\"", "]"}], "]"}]}], ";", "\n", 
         RowBox[{"lgdlabelsize", "=", 
          RowBox[{"myplotsetting", "[", 
           RowBox[{"[", "\"\<lgdlabelsize\>\"", "]"}], "]"}]}], ";", "\n", 
         RowBox[{"ticklablesize", "=", 
          RowBox[{"myplotsetting", "[", 
           RowBox[{"[", "\"\<ticklablesize\>\"", "]"}], "]"}]}], ";", "\n", 
         "\n", 
         RowBox[{"myplotstyle", "=", 
          RowBox[{"myplotsetting", "[", 
           RowBox[{"[", "\"\<plotstyle\>\"", "]"}], "]"}]}], ";", "\n", 
         RowBox[{"myMarker", "=", 
          RowBox[{"myplotsetting", "[", 
           RowBox[{"[", "\"\<marker\>\"", "]"}], "]"}]}], ";", "\n", "\n", 
         RowBox[{"lgdpos", "=", 
          RowBox[{"{", 
           RowBox[{"0.25", ",", "0.725"}], "}"}]}], ";", "\n", 
         RowBox[{"xyrangeplot1", "=", "plotrange"}], ";", 
         RowBox[{"(*", 
          RowBox[{
           RowBox[{"20170307", " ", "change", " ", 
            RowBox[{"it", "'"}], "s", " ", "name"}], ",", " ", 
           RowBox[{"avoid", " ", "duplicate"}]}], "*)"}], "\n", 
         RowBox[{"plot1", "=", 
          RowBox[{"PDFloglogplot", "[", 
           RowBox[{
           "pdfcorr", ",", "myMarker", ",", "myplotstyle", ",", "title", ",", 
            "xtitle", ",", "ytitle", ",", "xyrangeplot1", ",", "lgdlabel", 
            ",", "lgdpos", ",", "imgsize"}], "]"}]}], ";"}]}], "\n", "]"}], 
      ";", "\n", "\n", "\n", 
      RowBox[{"(*", 
       RowBox[{
        RowBox[{
         RowBox[{"make", " ", "expt", " ", "name"}], " ", "&"}], " ", "ID", 
        " ", "table"}], "*)"}], "\n", 
      RowBox[{"(*", 
       RowBox[{
       "===", "===", "===", "===", "===", "===", "===", "===", "===", "==="}],
        "*)"}], "\n", "\n", 
      RowBox[{"(*", "output", "*)"}], "\n", 
      RowBox[{"(*", 
       RowBox[{
       "===", "===", "===", "===", "===", "===", "===", "===", "===", "==="}],
        "*)"}], "\n", "title", ";", "\n", 
      RowBox[{"(*", "\n", 
       RowBox[{
        RowBox[{"GraphicsGrid", "[", 
         RowBox[{"{", 
          RowBox[{
           RowBox[{"{", "xQplotcorr", "}"}], ",", 
           RowBox[{"{", 
            RowBox[{"histplotcorr1", ",", "histplotcorr2"}], "}"}]}], "}"}], 
         "]"}], ";", "\n", 
        RowBox[{"{", 
         RowBox[{
          RowBox[{"{", "xQplotcorr", "}"}], ",", 
          RowBox[{"{", 
           RowBox[{"histplotcorr1", ",", "histplotcorr2"}], "}"}]}], "}"}], 
        ";"}], "\n", "*)"}], "\n", 
      RowBox[{"Which", "[", "\n", " ", 
       RowBox[{
        RowBox[{
         RowBox[{"plottype", "==", "2"}], " ", "||", " ", 
         RowBox[{"plottype", "==", "3"}], " ", "||", " ", 
         RowBox[{"plottype", "==", "4"}], " ", "||", " ", 
         RowBox[{"plottype", "==", "5"}], "  ", "||", " ", 
         RowBox[{"plottype", "==", "6"}]}], ",", "\n", 
        RowBox[{"{", 
         RowBox[{
          RowBox[{"{", "xQplotcorr", "}"}], ",", 
          RowBox[{"{", 
           RowBox[{"histplotcorr1", ",", "histplotcorr2"}], "}"}]}], "}"}], 
        ",", "\n", 
        RowBox[{"plottype", "==", "1"}], ",", "\n", 
        RowBox[{"{", "plot1", "}"}]}], "\n", "]"}]}]}], "\n", 
    "]"}]}]}]], "Code",
 InitializationCell->False,
 CellChangeTimes->{{3.7183385903586817`*^9, 3.718338596446302*^9}}],

Cell[BoxData[
 RowBox[{
  RowBox[{"(*", 
   RowBox[{
    RowBox[{
     RowBox[{
      RowBox[{"modify", " ", "of", " ", "3"}], ":", " ", 
      RowBox[{"when", " ", "plottype"}]}], " ", "=", " ", "5"}], ",", " ", 
    "6", ",", " ", 
    RowBox[{
    "extract", " ", "data", " ", "of", " ", "that", " ", "flavour"}]}], 
   "*)"}], "\n", 
  RowBox[{"(*", 
   RowBox[{
    RowBox[{
     RowBox[{"modify", " ", "of", " ", "4"}], ":", " ", 
     RowBox[{
      RowBox[{"don", "'"}], "t", " ", "set", " ", "local", " ", "variable", 
      " ", "of", " ", "corrfxQdtaobsclassin"}]}], ",", " ", 
    RowBox[{
    "avoiding", " ", "time", " ", "to", " ", "copy", " ", "large", " ", 
     "data", " ", "to", " ", "local", " ", "variable"}], ",", " ", 
    RowBox[{"for", " ", "mode", " ", "5"}], ",", 
    RowBox[{
    "6", " ", "only", " ", "deal", " ", "with", " ", "\n", "corresponding", 
     " ", "flavour", " ", "data", " ", 
     RowBox[{"(", 
      RowBox[{"by", " ", "flavourin"}], ")"}]}]}], "*)"}], "\n", "\n", 
  RowBox[{"(*", "\n", 
   RowBox[{
    RowBox[{"processdataplotsmultiexp5percentage", "[", 
     RowBox[{
     "corrfxQdtaobsclassin_", ",", "configargumentsin_", ",", "plottypein_", 
      ",", "flavourin_"}], "]"}], ":=", "\n", 
    RowBox[{"Module", "[", 
     RowBox[{
      RowBox[{"{", 
       RowBox[{"(*", 
        RowBox[{
         RowBox[{"corrfxQdtaobsclass", "=", "corrfxQdtaobsclassin"}], ","}], 
        "*)"}], 
       RowBox[{
        RowBox[{"configarguments", "=", "configargumentsin"}], ",", "\n", 
        RowBox[{"plottype", "=", "plottypein"}], ",", 
        RowBox[{"(*", 
         RowBox[{
          RowBox[{"flavour", "=", "flavourin"}], ","}], "*)"}], "flavour", 
        ",", "\n", "Jobid", ",", "PDFname", ",", "FigureType", ",", 
        "FigureFlag", ",", "ExptidType", ",", "ExptidFlag", ",", 
        "CorrelationArgType", ",", "CorrelationArgFlag", ",", "UserArgName", 
        ",", "UserArgValue", ",", "\n", "XQfigureXrange", ",", 
        "XQfigureYrange", ",", "Hist1figureNbin", ",", "Hist1figureXrange", 
        ",", "Hist1figureYrange", ",", "\n", "ColorSeperator", ",", "\n", 
        "Size", ",", "HighlightType", ",", "HighlightMode", ",", 
        "HighlightMode1", ",", "HighlightMode2", ",", "\n", "processes", ",", 
        "ExptList1", ",", "pdfsetexps", ",", "processestitle", ",", 
        "PDISNCtitle", ",", "NDISCCtitle", ",", "PDISNCCCtitle", ",", 
        "PVBPZtitle", ",", "PVBPWtitle", ",", "PJPtitle", ",", "hDISNCtitle", 
        ",", "hDISCCtitle", ",", "hVBPZtitle", ",", "pdfnamelable", ",", 
        "PDFsetlabel", ",", "pdffile", ",", "corrfile", ",", "pdfcorr", ",", 
        "pdfcorrdr", ",", "deltaR", ",", "textsize", ",", "Npttext", ",", 
        "maxtext", ",", "maxmarker", ",", "mintext", ",", "minmarker", ",", 
        "cuttext", ",", "epilogxQ", ",", "epilogxQcorr", ",", "corrtitle1", 
        ",", "corrdrtitle1", ",", "deltaRtitle1", ",", "title2", ",", 
        "obsname", ",", "title3", ",", "title4", ",", "title", ",", "xtitle", 
        ",", "ytitle", ",", "xhisttitle", ",", "xhistabstitle", ",", 
        "yhisttitle", ",", "plotrange", ",", "stretchx", ",", "stretchy", ",",
         "legendlabel", ",", "barseperator", ",", "binset", ",", 
        "lineelement", ",", "plotrangex", ",", "SM", ",", "SM1", ",", "SM2", 
        ",", "SM3", ",", "xQplotcorr", " ", ",", "histplotcorr1", ",", 
        "histplotcorr2", ",", "xQplotcorrdr", ",", "histplotcorrdr1", ",", 
        "histplotcorrdr2", ",", "xQplotdr", ",", "histplotdr2", ",", 
        "myexpids", ",", "fmax", ",", "fmax2", ",", "\n", "imgsize", ",", 
        RowBox[{"(*", 
         RowBox[{"title", ",", "xtitle", ",", "ytitle", ","}], "*)"}], 
        "lgdlabel", ",", "xrange", ",", "yrange", ",", "epilog", ",", 
        "titlesize", ",", "xtitlesize", ",", "ytitlesize", ",", 
        "lgdlabelsize", ",", "ticklablesize", ",", "\n", "myplotstyle", ",", 
        "myMarker", ",", "\n", "lgdpos", ",", "xyrangeplot1", ",", "\n", 
        "myplotsetting", ",", "plot1data", ",", "plot1", ",", 
        "processesplot1order", ",", "\n", "dummy1", ",", "dummy2", ",", 
        "percentagetext", ",", "hist1plotrangex", ",", "histautoxrange", ",", 
        "hist2plotrangex", ",", "unhighlightsize", ",", "highlightrange", ",",
         "highlighttext", ",", "\n", "exptlist", ",", "expttype", ",", "\n", 
        "rows", ",", "exptnames", ",", "exptnamestable"}], "}"}], ",", "\n", 
      RowBox[{"(*", 
       RowBox[{
       "read", " ", "arguments", " ", "in", " ", "config", " ", "file"}], 
       "*)"}], "\n", 
      RowBox[{"(*", 
       RowBox[{
       "===", "===", "===", "===", "===", "===", "===", "===", "===", "==="}],
        "*)"}], "\n", 
      RowBox[{
       RowBox[{
        RowBox[{"{", 
         RowBox[{
         "Jobid", ",", "PDFname", ",", "FigureType", ",", "FigureFlag", ",", 
          "ExptidType", ",", "ExptidFlag", ",", "CorrelationArgType", ",", 
          "CorrelationArgFlag", ",", "UserArgName", ",", "UserArgValue", ",", 
          "\n", "XQfigureXrange", ",", "XQfigureYrange", ",", 
          "Hist1figureNbin", ",", "Hist1figureXrange", ",", 
          "Hist1figureYrange", ",", "\n", "ColorSeperator", ",", "\n", "Size",
           ",", "HighlightType", ",", "HighlightMode", ",", "HighlightMode1", 
          ",", "HighlightMode2"}], "}"}], "=", "configarguments"}], ";", "\n",
        "\n", 
       RowBox[{"(*", 
        RowBox[{"read", " ", "exptlist"}], "*)"}], "\n", 
       RowBox[{"exptlist", "=", 
        RowBox[{"{", "}"}]}], ";", "\n", 
       RowBox[{"If", "[", 
        RowBox[{
         RowBox[{
          RowBox[{"plottype", "==", "1"}], "  ", "||", " ", 
          RowBox[{"plottype", "==", "5"}], "  ", "||", " ", 
          RowBox[{"plottype", "==", "6"}]}], ",", 
         RowBox[{"exptlist", "=", 
          RowBox[{"Table", "[", 
           RowBox[{
            RowBox[{
             RowBox[{"corrfxQdtaobsclassin", "[", 
              RowBox[{"[", 
               RowBox[{"iexpt", ",", "6"}], "]"}], "]"}], "[", 
             RowBox[{"[", 
              RowBox[{"\"\<exptinfo\>\"", ",", "\"\<exptid\>\""}], "]"}], 
             "]"}], ",", 
            RowBox[{"{", 
             RowBox[{"iexpt", ",", "1", ",", 
              RowBox[{"Length", "[", "corrfxQdtaobsclassin", "]"}]}], "}"}]}],
            "]"}]}]}], " ", "]"}], ";", "\n", 
       RowBox[{"If", "[", 
        RowBox[{
         RowBox[{
          RowBox[{"plottype", "==", "2"}], "  ", "||", " ", 
          RowBox[{"plottype", "==", "3"}], "  ", "||", " ", 
          RowBox[{"plottype", "==", "4"}]}], ",", 
         RowBox[{"exptlist", "=", 
          RowBox[{"Table", "[", 
           RowBox[{
            RowBox[{
             RowBox[{"corrfxQdtaobsclassin", "[", 
              RowBox[{"[", "iexpt", "]"}], "]"}], "[", 
             RowBox[{"[", 
              RowBox[{"\"\<exptinfo\>\"", ",", "\"\<exptid\>\""}], "]"}], 
             "]"}], ",", 
            RowBox[{"{", 
             RowBox[{"iexpt", ",", "1", ",", 
              RowBox[{"Length", "[", "corrfxQdtaobsclassin", "]"}]}], "}"}]}],
            "]"}]}]}], " ", "]"}], ";", "\n", 
       RowBox[{"(*", 
        RowBox[{
         RowBox[{"base", " ", "on", " ", "FigureFlag"}], ",", " ", 
         RowBox[{
         "decide", " ", "the", " ", "plot", " ", "type", " ", "of", " ", 
          "output", " ", "plots", " ", 
          RowBox[{"(", 
           RowBox[{
           "which", " ", "data", " ", "is", " ", "used", " ", "to", " ", 
            "plot"}], ")"}]}], ",", " ", "\n", 
         RowBox[{
          RowBox[{"ex", ":", " ", 
           RowBox[{"if", " ", "correlation", " ", "flag"}]}], " ", "=", " ", 
          "1"}], ",", " ", 
         RowBox[{"use", " ", "correlation", " ", "data"}]}], "*)"}], "\n", 
       RowBox[{"(*", 
        RowBox[{
        "===", "===", "===", "===", "===", "===", "===", "===", "===", 
         "==="}], "*)"}], "\n", "\n", 
       RowBox[{"(*", 
        RowBox[{
         RowBox[{"decide", " ", "title", " ", "by", " ", "PDFname"}], ",", 
         " ", "FigureFlag", ",", " ", "CorrelationArgFlag", ",", " ", 
         RowBox[{"ex", ":", " ", 
          RowBox[{"Corr", 
           RowBox[{
            RowBox[{"(", 
             RowBox[{
              RowBox[{"f_j", 
               RowBox[{"(", 
                RowBox[{"x", ",", "Q"}], ")"}]}], ",", 
              RowBox[{"r_i", 
               RowBox[{"(", 
                RowBox[{"x", ",", "Q"}], ")"}]}]}], ")"}], ".", "\n", "if"}], 
           " ", "user", " ", "of", " ", "CorrelationArgFlag", " ", "is", " ", 
           "on"}]}], ",", " ", 
         RowBox[{"Corr", 
          RowBox[{"(", " ", 
           RowBox[{"user_input", ",", 
            RowBox[{"r_i", 
             RowBox[{"(", 
              RowBox[{"x", ",", "Q"}], ")"}]}]}], ")"}]}]}], "*)"}], "\n", 
       RowBox[{"(*", 
        RowBox[{
        "===", "===", "===", "===", "===", "===", "===", "===", "===", 
         "==="}], "*)"}], "\n", 
       RowBox[{"corrtitle1", "=", "\"\<Corr( \>\""}], ";", "\n", 
       RowBox[{"corrdrtitle1", "=", 
        RowBox[{"(*", 
         RowBox[{"\"\<\[Delta]r*Corr( \>\"", ";"}], "*)"}], 
        "\"\<Sensitivity to \>\""}], ";", "\n", 
       RowBox[{"deltaRtitle1", "=", 
        RowBox[{"(*", 
         RowBox[{"\"\<\[Delta]r \>\"", ";"}], "*)"}], 
        "\"\<PDF error \[Delta]r for residuals, \>\""}], ";", "\n", 
       RowBox[{"title2", "=", "\"\<, r(x,\[Mu]))\>\""}], ";", "\n", 
       RowBox[{"title3", "=", 
        RowBox[{"\"\< for dataset of \>\"", "<>", "PDFname"}]}], ";", "\n", 
       RowBox[{"obsname", "=", "\"\<\>\""}], ";", 
       RowBox[{"(*", "initialize", "*)"}], "\n", 
       RowBox[{"pdfnamelable", "=", 
        RowBox[{"{", 
         RowBox[{
         "\"\<\\!\\(\\*OverscriptBox[\\(b\\), \\(_\\)]\\)(x,\[Mu])\>\"", ",", 
          "\"\<\\!\\(\\*OverscriptBox[\\(c\\), \\(_\\)]\\)(x,\[Mu])\>\"", 
          ",", "\"\<\\!\\(\\*OverscriptBox[\\(s\\), \\(_\\)]\\)(x,\[Mu])\>\"",
           ",", "\"\<\\!\\(\\*OverscriptBox[\\(d\\), \
\\(_\\)]\\)(x,\[Mu])\>\"", ",", 
          "\"\<\\!\\(\\*OverscriptBox[\\(u\\), \\(_\\)]\\)(x,\[Mu])\>\"", 
          ",", "\"\<g(x,\[Mu])\>\"", ",", "\"\<u(x,\[Mu])\>\"", ",", 
          "\"\<d(x,\[Mu])\>\"", ",", "\"\<s(x,\[Mu])\>\"", ",", 
          "\"\<c(x,\[Mu])\>\"", ",", "\"\<b(x,\[Mu])\>\"", ",", 
          "\"\<\\!\\(\\*FractionBox[\\(\\*OverscriptBox[\\(d\\), \\(_\\)] \
\\((x, \[Mu])\\)\\), \\(\\*OverscriptBox[\\(u\\), \\(_\\)] \\((x, \
\[Mu])\\)\\)]\\)\>\"", ",", 
          "\"\<\\!\\(\\*FractionBox[\\(d \\((x, \[Mu])\\)\\), \\(u \\((x, \
\[Mu])\\)\\)]\\)\>\"", ",", 
          "\"\<\\!\\(\\*FractionBox[\\(s \\((x, \[Mu])\\) + \\*OverscriptBox[\
\\(s\\), \\(_\\)] \\((x, \[Mu])\\)\\), \\(\\*OverscriptBox[\\(u\\), \\(_\\)] \
\\((x, \[Mu])\\) + \\*OverscriptBox[\\(d\\), \\(_\\)] \\((x, \[Mu])\\)\\)]\\)\
\>\"", ",", "UserArgName"}], "}"}]}], ";", "\n", "\n", 
       RowBox[{"If", "[", "\n", 
        RowBox[{
         RowBox[{
          RowBox[{"plottype", ">=", "1"}], " ", "&&", " ", 
          RowBox[{"plottype", "<=", "6"}]}], ",", "\n", 
         RowBox[{
          RowBox[{"If", "[", "\n", 
           RowBox[{
            RowBox[{"plottype", "==", "1"}], " ", ",", "\n", 
            RowBox[{
             RowBox[{"obsname", "=", "\"\<\>\""}], ";"}]}], "\n", "]"}], ";", 
          "\n", 
          RowBox[{"If", "[", "\n", 
           RowBox[{
            RowBox[{"plottype", "==", "2"}], " ", ",", "\n", 
            RowBox[{
             RowBox[{"obsname", "=", "\"\<Expt Uncertainty Ratio\>\""}], ";", 
             "\n", 
             RowBox[{"title", "=", 
              RowBox[{"obsname", "<>", "title3"}]}], ";"}]}], "\n", "]"}], 
          ";", "\n", 
          RowBox[{"If", "[", "\n", 
           RowBox[{
            RowBox[{"plottype", "==", "3"}], " ", ",", "\n", 
            RowBox[{
             RowBox[{"obsname", "=", "\"\<Residual(central value)\>\""}], ";",
              "\n", 
             RowBox[{"title", "=", 
              RowBox[{"obsname", "<>", "title3"}]}], ";"}]}], "\n", "]"}], 
          ";", "\n", 
          RowBox[{"If", "[", "\n", 
           RowBox[{
            RowBox[{"plottype", "==", "4"}], " ", ",", "\n", 
            RowBox[{
             RowBox[{"obsname", "=", 
              RowBox[{"deltaRtitle1", "<>", "PDFname"}]}], ";", "\n", 
             RowBox[{"title", "=", "obsname"}], ";"}]}], "\n", "]"}], ";", 
          "\n", 
          RowBox[{"If", "[", "\n", 
           RowBox[{
            RowBox[{"plottype", "==", "5"}], " ", ",", "\n", 
            RowBox[{
             RowBox[{"obsname", "=", 
              RowBox[{"corrdrtitle1", "<>", 
               RowBox[{"pdfnamelable", "[", 
                RowBox[{"[", 
                 RowBox[{"flavourin", "+", "6"}], "]"}], "]"}], 
               RowBox[{"(*", 
                RowBox[{"<>", "title2"}], "*)"}], "<>", "\"\<, \>\"", "<>", 
               "PDFname"}]}], ";", "\n", 
             RowBox[{"title", "=", "obsname"}], ";"}]}], "\n", "]"}], ";", 
          "\n", 
          RowBox[{"If", "[", "\n", 
           RowBox[{
            RowBox[{"plottype", "==", "6"}], " ", ",", "\n", 
            RowBox[{
             RowBox[{"obsname", "=", 
              RowBox[{"corrtitle1", "<>", 
               RowBox[{"pdfnamelable", "[", 
                RowBox[{"[", 
                 RowBox[{"flavourin", "+", "6"}], "]"}], "]"}], "<>", 
               "title2"}]}], ";", "\n", 
             RowBox[{"title", "=", 
              RowBox[{"obsname", "<>", "title3"}]}], ";"}]}], "\n", "]"}], 
          ";"}]}], "\n", "\n", "]"}], ";", "\n", "\n", "\n", 
       RowBox[{"xtitle", "=", "\"\<x\>\""}], ";", "\n", 
       RowBox[{"ytitle", "=", "\"\<\[Mu] [GeV]\>\""}], ";", "\n", 
       RowBox[{"xhisttitle", "=", "obsname"}], ";", "\n", 
       RowBox[{"xhistabstitle", "=", 
        RowBox[{"\"\<| \>\"", "<>", "obsname", "<>", "\"\< |\>\""}]}], ";", 
       "\n", 
       RowBox[{"yhisttitle", "=", "\"\<#points\>\""}], ";", "\n", "\n", 
       RowBox[{"(*", 
        RowBox[{"btw", " ", "test"}], "*)"}], 
       RowBox[{"(*", 
        RowBox[{
         RowBox[{"Print", "[", 
          RowBox[{"\"\<test: \>\"", ",", "plottype"}], "]"}], ";"}], "*)"}], 
       "\n", "\n", 
       RowBox[{"(*", 
        RowBox[{
        "decide", " ", "the", " ", "data", " ", "include", " ", "by", " ", 
         "ExptidFlag", " ", 
         RowBox[{"<<", " ", "perhaps"}], " ", "could", " ", "be", " ", "done",
          " ", "before", " ", "function"}], "*)"}], "\n", 
       RowBox[{"(*", 
        RowBox[{
        "===", "===", "===", "===", "===", "===", "===", "===", "===", 
         "==="}], "*)"}], "\n", 
       RowBox[{"(*", 
        RowBox[{
        "make", " ", "text", " ", "for", " ", "Npt", " ", "of", " ", "data"}],
         "*)"}], "\n", 
       RowBox[{"(*", "********************************)"}], "\n", 
       RowBox[{"(*", 
        RowBox[{
        "prepare", " ", "for", " ", "data", " ", "input", " ", "to", " ", 
         "processdataplotsmultiexp"}], "*)"}], "\n", 
       RowBox[{"(*", "********************************)"}], "\n", 
       RowBox[{"(*", 
        RowBox[{
         RowBox[{
         "transf", " ", "format", " ", "from", " ", "LF", " ", "to", " ", 
          "LF1"}], ",", " ", 
         RowBox[{
         "since", " ", "plot", " ", "functions", " ", "use", " ", "LF1"}]}], 
        "*)"}], "\n", "\n", 
       RowBox[{"(*", 
        RowBox[{
         RowBox[{"if", " ", "dr", "*", "corr", " ", "or", " ", "corr"}], ",", 
         " ", 
         RowBox[{"data", " ", 
          RowBox[{"is", " ", "[", 
           RowBox[{"[", 
            RowBox[{"iexpt", ",", "flavour"}], "]"}], "]"}]}]}], "*)"}], "\n", 
       RowBox[{"If", "[", "\n", 
        RowBox[{
         RowBox[{
          RowBox[{"plottype", "==", "5"}], "  ", "||", " ", 
          RowBox[{"plottype", "==", "6"}]}], ",", "\n", 
         RowBox[{
          RowBox[{"fmax", "=", 
           RowBox[{"Length", "[", 
            RowBox[{"corrfxQdtaobsclassin", "[", 
             RowBox[{"[", "1", "]"}], "]"}], " ", "]"}]}], ";", "\n", "\n", 
          RowBox[{"(*", 
           RowBox[{
            RowBox[{
             RowBox[{"data", " ", "format"}], " ", "\[Equal]", " ", 
             RowBox[{"{", 
              RowBox[{
               RowBox[{"LF", "[", 
                RowBox[{"x", ",", "Q", ",", "obs"}], "]"}], ",", "...", ",", 
               "..."}], "}"}]}], ",", " ", 
            RowBox[{"to", " ", "LF1"}]}], "*)"}], "\n", 
          RowBox[{"pdfcorr", "=", 
           RowBox[{"Table", "[", 
            RowBox[{
             RowBox[{
              RowBox[{
               RowBox[{"corrfxQdtaobsclassin", "[", 
                RowBox[{"[", 
                 RowBox[{"iexpt", ",", 
                  RowBox[{"flavourin", "+", "6"}]}], "]"}], "]"}], "[", 
               RowBox[{"[", "\"\<data\>\"", "]"}], "]"}], "/.", 
              RowBox[{"LF", "->", "LF1"}]}], ",", 
             RowBox[{"{", 
              RowBox[{"iexpt", ",", "1", ",", 
               RowBox[{"Length", "[", "corrfxQdtaobsclassin", "]"}]}], 
              "}"}]}], "]"}]}], ";", "\n", "\n", 
          RowBox[{"(*", 
           RowBox[{
            RowBox[{
            "merge", " ", "all", " ", "experimental", " ", "data", " ", 
             "into", " ", "one"}], ",", " ", 
            RowBox[{"for", " ", "all", " ", "flavours"}]}], "*)"}], "\n", 
          RowBox[{"(*", 
           RowBox[{
            RowBox[{"ex", ":", " ", 
             RowBox[{"corrdataforplot", "[", 
              RowBox[{"[", 
               RowBox[{"iexpt", ",", "flavour", ",", "Npt"}], "]"}], "]"}]}], 
            " ", "\[Rule]", " ", 
            RowBox[{"orrdataforplot", "[", 
             RowBox[{"[", 
              RowBox[{"flavour", ",", "Npt"}], "]"}], "]"}]}], "*)"}], "\n", 
          RowBox[{"(*", 
           RowBox[{
            RowBox[{
             RowBox[{"{", 
              RowBox[{"pdfcorr", " ", ",", "dummy1", ",", "dummy2"}], "}"}], 
             "=", 
             RowBox[{"mergeplotdata", "[", 
              RowBox[{"{", 
               RowBox[{"pdfcorr", " ", ",", "pdfcorr", ",", "pdfcorr"}], 
               "}"}], "]"}]}], ";"}], "*)"}], "\n", 
          RowBox[{"pdfcorr", "=", 
           RowBox[{"Flatten", "[", 
            RowBox[{"pdfcorr", ",", "1"}], "]"}]}], ";", "\n", "\n", 
          RowBox[{"(*", " ", 
           RowBox[{"deletezerovalue", ":", " ", 
            RowBox[{
            "delete", " ", "data", " ", "with", " ", "0", " ", "value", " ", 
             RowBox[{"(", 
              RowBox[{
               RowBox[{
               "0", " ", "value", " ", "usually", " ", "from", " ", "mb"}], 
               ",", " ", 
               RowBox[{"mc", " ", "cut"}]}], ")"}]}]}], "*)"}], "\n", 
          RowBox[{"(*", 
           RowBox[{
            RowBox[{
             RowBox[{"{", 
              RowBox[{"pdfcorr", " ", ",", "dummy1", ",", "dummy2"}], "}"}], 
             "=", 
             RowBox[{"deletezerovalue", "[", 
              RowBox[{"{", 
               RowBox[{"pdfcorr", " ", ",", "pdfcorr", ",", "pdfcorr"}], 
               "}"}], "]"}]}], ";"}], "*)"}], "\n", 
          RowBox[{"pdfcorr", "=", 
           RowBox[{"Select", "[", 
            RowBox[{"pdfcorr", ",", 
             RowBox[{
              RowBox[{
               RowBox[{"#", "[", 
                RowBox[{"[", "3", "]"}], "]"}], "!=", "0"}], "&"}]}], "]"}]}],
           ";", "\n", "\"\<dummy\>\""}]}], "\n", "]"}], ";", "\n", "\n", 
       RowBox[{"(*", 
        RowBox[{"data", " ", 
         RowBox[{"of", " ", "[", 
          RowBox[{"[", "iexpt", "]"}], "]"}]}], "*)"}], "\n", 
       RowBox[{"If", "[", "\n", 
        RowBox[{
         RowBox[{
          RowBox[{"plottype", "==", "2"}], " ", "||", " ", 
          RowBox[{"plottype", "==", "3"}], " ", "||", " ", 
          RowBox[{"plottype", "==", "4"}]}], ",", "\n", 
         RowBox[{"(*", 
          RowBox[{
           RowBox[{"take", " ", "data"}], ",", " ", 
           RowBox[{
           "and", " ", "format", " ", "from", " ", "LF", " ", "to", " ", 
            "LF1", " ", 
            RowBox[{"(", 
             RowBox[{
             "LF1", " ", "is", " ", "format", " ", "to", " ", "input", " ", 
              "to", " ", "plot", " ", "functions"}], ")"}]}]}], "*)"}], "\n", 
         
         RowBox[{
          RowBox[{"pdfcorr", "=", 
           RowBox[{"Table", "[", 
            RowBox[{
             RowBox[{
              RowBox[{
               RowBox[{"corrfxQdtaobsclassin", "[", 
                RowBox[{"[", "iexpt", "]"}], "]"}], "[", 
               RowBox[{"[", "\"\<data\>\"", "]"}], "]"}], "/.", 
              RowBox[{"LF", "->", "LF1"}]}], ",", 
             RowBox[{"{", 
              RowBox[{"iexpt", ",", "1", ",", 
               RowBox[{"Length", "[", "corrfxQdtaobsclassin", "]"}]}], 
              "}"}]}], "]"}]}], ";", "\n", "\n", 
          RowBox[{"(*", 
           RowBox[{
           "merge", " ", "all", " ", "data", " ", "into", " ", "one"}], 
           "*)"}], "\n", 
          RowBox[{"pdfcorr", "=", 
           RowBox[{"Flatten", "[", 
            RowBox[{"pdfcorr", ",", "1"}], "]"}]}], ";", "\n", 
          "\"\<dummy\>\""}]}], "\n", "]"}], ";", "\n", "\n", 
       RowBox[{"If", "[", "\n", 
        RowBox[{
         RowBox[{"plottype", "==", "1"}], ",", "\n", 
         RowBox[{
          RowBox[{"fmax", "=", 
           RowBox[{"Length", "[", 
            RowBox[{"corrfxQdtaobsclassin", "[", 
             RowBox[{"[", "1", "]"}], "]"}], " ", "]"}]}], ";", "\n", "\n", 
          RowBox[{"(*", 
           RowBox[{"set", " ", 
            RowBox[{"{", 
             RowBox[{
              RowBox[{"corr", "[", 
               RowBox[{"[", "flavour", "]"}], "]"}], ",", 
              RowBox[{"drcorr", "[", 
               RowBox[{"[", "flavour", "]"}], "]"}], ",", 
              RowBox[{"dr", "[", 
               RowBox[{"[", "flavour", "]"}], "]"}]}], "}"}]}], "*)"}], "\n", 
          
          RowBox[{"(*", 
           RowBox[{
           "they", " ", "are", " ", "used", " ", "to", "  ", "input", " ", 
            "into", " ", "processdataplotsmultiexp"}], "*)"}], "\n", 
          RowBox[{"(*", 
           RowBox[{
            RowBox[{"data", " ", "format"}], " ", "\[Equal]", " ", 
            RowBox[{"{", 
             RowBox[{
              RowBox[{"LF", "[", 
               RowBox[{"x", ",", "Q", ",", "obs"}], "]"}], ",", "...", ",", 
              "..."}], "}"}]}], "*)"}], "\n", 
          RowBox[{"pdfcorr", "=", 
           RowBox[{"Table", "[", 
            RowBox[{
             RowBox[{
              RowBox[{
               RowBox[{
                RowBox[{"Datamethods", "[", 
                 RowBox[{"[", "\"\<take\>\"", "]"}], "]"}], "[", 
                RowBox[{
                 RowBox[{"corrfxQdtaobsclassin", "[", 
                  RowBox[{"[", 
                   RowBox[{"iexpt", ",", 
                    RowBox[{"flavourin", "+", "6"}]}], "]"}], "]"}], ",", 
                 "2"}], "]"}], "[", 
               RowBox[{"[", "\"\<data\>\"", "]"}], "]"}], "/.", 
              RowBox[{"LF", "->", "LF1"}]}], ",", 
             RowBox[{"{", 
              RowBox[{"iexpt", ",", "1", ",", 
               RowBox[{"Length", "[", "corrfxQdtaobsclassin", "]"}]}], 
              "}"}]}], "]"}]}], ";"}]}], "\n", "]"}], ";", "\n", "\n", 
       RowBox[{"(*", 
        RowBox[{
         RowBox[{
         "decide", " ", "xy", " ", "range", " ", "of", " ", "xQ", " ", 
          "plot"}], ",", " ", 
         RowBox[{"Nbin", " ", "of", " ", "histogram"}], ",", " ", 
         RowBox[{
         "xy", " ", "range", " ", "of", " ", "histogram", " ", "by", "\n", 
          "XQfigureXrange"}], ",", "XQfigureYrange", ",", "Hist1figureNbin", 
         ",", "Hist1figureXrange", ",", "Hist1figureYrange"}], "*)"}], "\n", 
       RowBox[{"(*", 
        RowBox[{
        "===", "===", "===", "===", "===", "===", "===", "===", "===", 
         "==="}], "*)"}], "\n", 
       RowBox[{"plotrange", "=", 
        RowBox[{
         RowBox[{"{", 
          RowBox[{"XQfigureXrange", ",", "XQfigureYrange"}], "}"}], "//", 
         "Flatten"}]}], ";", "\n", "\n", 
       RowBox[{"(*", 
        RowBox[{
         RowBox[{"plotrangex", "=", "Hist1figureXrange"}], ";"}], "*)"}], 
       RowBox[{"(*", 
        RowBox[{
         RowBox[{"for", " ", "histogram"}], ",", " ", 
         RowBox[{"how", " ", "to", " ", "deal", " ", "with", " ", 
          RowBox[{"auto", "?"}]}]}], "*)"}], "\n", 
       RowBox[{"hist1plotrangex", "=", "Hist1figureXrange"}], ";", "\n", 
       RowBox[{"(*", "\n", 
        RowBox[{
         RowBox[{"If", "[", "\n", 
          RowBox[{
           RowBox[{
            RowBox[{"plottype", "\[Equal]", "5"}], "  ", "||", " ", 
            RowBox[{"plottype", "\[Equal]", "6"}]}], ",", "\n", 
           RowBox[{
            RowBox[{"histautoxrange", "=", 
             RowBox[{"3", "*", 
              RowBox[{"Median", "[", 
               RowBox[{
                RowBox[{"pdfcorr", "[", 
                 RowBox[{"[", 
                  RowBox[{"flavourin", "+", "6"}], "]"}], "]"}], "/.", 
                RowBox[{
                 RowBox[{"LF1", "[", "a__", "]"}], "\[RuleDelayed]", 
                 RowBox[{"Abs", "[", 
                  RowBox[{
                   RowBox[{"{", "a", "}"}], "[", 
                   RowBox[{"[", "3", "]"}], "]"}], " ", "]"}]}]}], " ", 
               "]"}]}]}], ";"}]}], "\n", "]"}], ";"}], "\n", "*)"}], "\n", 
       RowBox[{"If", "[", "\n", 
        RowBox[{
         RowBox[{
          RowBox[{"plottype", "==", "2"}], " ", "||", " ", 
          RowBox[{"plottype", "==", "3"}], " ", "||", " ", 
          RowBox[{"plottype", "==", "4"}], " ", "||", " ", 
          RowBox[{"plottype", "==", "5"}], "  ", "||", " ", 
          RowBox[{"plottype", "==", "6"}]}], ",", "\n", 
         RowBox[{
          RowBox[{"histautoxrange", "=", 
           RowBox[{"3", "*", 
            RowBox[{"Median", "[", 
             RowBox[{"pdfcorr", "/.", 
              RowBox[{
               RowBox[{"LF1", "[", "a__", "]"}], ":>", 
               RowBox[{"Abs", "[", 
                RowBox[{
                 RowBox[{"{", "a", "}"}], "[", 
                 RowBox[{"[", "3", "]"}], "]"}], " ", "]"}]}]}], " ", 
             "]"}]}]}], ";"}]}], "\n", "]"}], ";", "\n", 
       RowBox[{"If", "[", 
        RowBox[{
         RowBox[{
          RowBox[{"hist1plotrangex", "[", 
           RowBox[{"[", "1", "]"}], "]"}], "==", "\"\<auto\>\""}], ",", 
         RowBox[{
          RowBox[{"hist1plotrangex", "[", 
           RowBox[{"[", "1", "]"}], "]"}], "=", 
          RowBox[{"-", "histautoxrange"}]}]}], "]"}], ";", "\n", 
       RowBox[{"If", "[", 
        RowBox[{
         RowBox[{
          RowBox[{"hist1plotrangex", "[", 
           RowBox[{"[", "2", "]"}], "]"}], "==", "\"\<auto\>\""}], ",", 
         RowBox[{
          RowBox[{"hist1plotrangex", "[", 
           RowBox[{"[", "2", "]"}], "]"}], "=", "histautoxrange"}]}], "]"}], 
       ";", "\n", 
       RowBox[{"(*", 
        RowBox[{
         RowBox[{"Print", "[", 
          RowBox[{"histautoxrange", ",", "hist1plotrangex"}], "]"}], ";"}], 
        "*)"}], "\n", "\n", 
       RowBox[{"hist2plotrangex", "=", "hist1plotrangex"}], ";", 
       RowBox[{"If", "[", 
        RowBox[{
         RowBox[{
          RowBox[{"hist2plotrangex", "[", 
           RowBox[{"[", "1", "]"}], "]"}], "<", "0.0"}], ",", 
         RowBox[{
          RowBox[{"hist2plotrangex", "[", 
           RowBox[{"[", "1", "]"}], "]"}], "=", "0.0"}]}], "]"}], ";", "\n", 
       RowBox[{"(*", 
        RowBox[{
         RowBox[{"for", " ", "correlation", " ", "histogram"}], ",", " ", 
         RowBox[{"set", " ", "range", " ", 
          RowBox[{"(", 
           RowBox[{
            RowBox[{"-", "1"}], ",", "1"}], ")"}]}]}], "*)"}], "\n", 
       RowBox[{"If", "[", 
        RowBox[{
         RowBox[{"plottype", "==", "6"}], ",", 
         RowBox[{
          RowBox[{"hist1plotrangex", "=", 
           RowBox[{"{", 
            RowBox[{
             RowBox[{"-", "1"}], ",", "1"}], "}"}]}], ";", 
          RowBox[{"hist2plotrangex", "=", 
           RowBox[{"{", 
            RowBox[{"0", ",", "1"}], "}"}]}], ";"}]}], "]"}], ";", "\n", 
       RowBox[{"stretchx", "=", "1"}], ";", 
       RowBox[{"stretchy", "=", "1"}], ";", "\n", 
       RowBox[{"Hist1figureNbin", "=", "Hist1figureNbin"}], ";", "\n", "\n", 
       RowBox[{"(*", 
        RowBox[{
        "setup", " ", "texts", " ", "and", " ", "lines", " ", "in", " ", 
         "plots"}], "*)"}], "\n", 
       RowBox[{"(*", 
        RowBox[{
        "===", "===", "===", "===", "===", "===", "===", "===", "===", 
         "==="}], "*)"}], "\n", 
       RowBox[{"(*", 
        RowBox[{
        "set", " ", "outlayer", " ", "points", " ", "label", " ", "in", " ", 
         "plot"}], "*)"}], "\n", 
       RowBox[{"textsize", "=", "16"}], ";", "\n", 
       RowBox[{"Npttext", "=", 
        RowBox[{"Text", "[", 
         RowBox[{
          RowBox[{"Style", "[", 
           RowBox[{
            RowBox[{"\"\<Npt: \>\"", "<>", 
             RowBox[{"ToString", "[", 
              RowBox[{"Length", "[", 
               RowBox[{"pdfcorr", "//", "Flatten"}], "]"}], " ", "]"}]}], ",",
             "textsize", ",", "Black"}], "]"}], ",", 
          RowBox[{"Scaled", "[", 
           RowBox[{"{", 
            RowBox[{"0.1", ",", "0.9"}], "}"}], "]"}]}], " ", "]"}]}], ";", 
       "\n", 
       RowBox[{"maxtext", "=", 
        RowBox[{"Text", "[", 
         RowBox[{
          RowBox[{"Style", "[", 
           RowBox[{
            RowBox[{
             RowBox[{"ToString", "[", 
              RowBox[{"ColorSeperator", "[", 
               RowBox[{"[", "3", "]"}], "]"}], " ", "]"}], "<>", 
             "\"\<%\>\""}], ",", "textsize", ",", "Black"}], "]"}], ",", 
          RowBox[{"Scaled", "[", 
           RowBox[{"{", 
            RowBox[{"0.1", ",", "0.8"}], "}"}], "]"}]}], " ", "]"}]}], ";", 
       "\n", 
       RowBox[{"maxmarker", "=", 
        RowBox[{"{", 
         RowBox[{"Red", ",", 
          RowBox[{"PointSize", "->", "0.02"}], ",", 
          RowBox[{"Point", "[", 
           RowBox[{"Scaled", "[", 
            RowBox[{"{", 
             RowBox[{"0.175", ",", "0.8"}], "}"}], "]"}], " ", "]"}]}], 
         "}"}]}], ";", "\n", 
       RowBox[{"mintext", "=", 
        RowBox[{"Text", "[", 
         RowBox[{
          RowBox[{"Style", "[", 
           RowBox[{
            RowBox[{
             RowBox[{"ToString", "[", 
              RowBox[{"ColorSeperator", "[", 
               RowBox[{"[", "3", "]"}], "]"}], " ", "]"}], "<>", 
             "\"\<%(-)\>\""}], ",", "textsize", ",", "Black"}], "]"}], ",", 
          RowBox[{"Scaled", "[", 
           RowBox[{"{", 
            RowBox[{"0.1", ",", "0.7"}], "}"}], "]"}]}], " ", "]"}]}], ";", 
       "\n", 
       RowBox[{"minmarker", "=", 
        RowBox[{"{", 
         RowBox[{"Blue", ",", 
          RowBox[{"PointSize", "->", "0.02"}], ",", 
          RowBox[{"Point", "[", 
           RowBox[{"Scaled", "[", 
            RowBox[{"{", 
             RowBox[{"0.175", ",", "0.7"}], "}"}], "]"}], " ", "]"}]}], 
         "}"}]}], ";", "\n", 
       RowBox[{"cuttext", "=", 
        RowBox[{"Text", "[", 
         RowBox[{
          RowBox[{"Style", "[", 
           RowBox[{"\"\<cut: |data|<0.5\>\"", ",", "textsize", ",", "Black"}],
            "]"}], ",", 
          RowBox[{"Scaled", "[", 
           RowBox[{"{", 
            RowBox[{"0.15", ",", "0.6"}], "}"}], "]"}]}], " ", "]"}]}], ";", 
       "\n", 
       RowBox[{"percentagetext", "=", 
        RowBox[{"Text", "[", 
         RowBox[{
          RowBox[{"Style", "[", 
           RowBox[{
            RowBox[{"\"\<percentage of colors:\\n\>\"", "<>", 
             RowBox[{"ToString", "[", 
              RowBox[{"ColorSeperator", "[", 
               RowBox[{"[", "1", "]"}], "]"}], " ", "]"}], "<>", "\"\<%\>\"", 
             "<>", 
             RowBox[{"ToString", "[", 
              RowBox[{"ColorSeperator", "[", 
               RowBox[{"[", "2", "]"}], "]"}], " ", "]"}], "<>", "\"\<%\>\"", 
             "<>", 
             RowBox[{"ToString", "[", 
              RowBox[{"ColorSeperator", "[", 
               RowBox[{"[", "3", "]"}], "]"}], " ", "]"}], "<>", 
             "\"\<%\>\""}], ",", "textsize", ",", "Black"}], "]"}], ",", 
          RowBox[{"Scaled", "[", 
           RowBox[{"{", 
            RowBox[{"0.2", ",", "0.8"}], "}"}], "]"}]}], " ", "]"}]}], ";", 
       "\n", "\n", 
       RowBox[{"(*", 
        RowBox[{
         RowBox[{"for", " ", "correlation"}], ",", " ", 
         RowBox[{
         "set", " ", "color", " ", "seperator", " ", "by", " ", "0.5"}], ",", 
         " ", "0.7", ",", " ", "0.85", ",", " ", "1"}], "*)"}], "\n", 
       RowBox[{"(*", 
        RowBox[{
         RowBox[{"for", " ", "uncertainty", " ", "of", " ", "theory"}], ",", 
         " ", "experiment", ",", " ", 
         RowBox[{"also", " ", "0.5"}], ",", " ", "0.7", ",", " ", "0.85", ",",
          " ", "1"}], "*)"}], "\n", 
       RowBox[{"(*", 
        RowBox[{
         RowBox[{"for", " ", "residual", " ", "central", " ", "value"}], ",", 
         " ", "deltaR", ",", " ", 
         RowBox[{"dr", "*", "corr"}], ",", " ", 
         RowBox[{
          RowBox[{"since", " ", "value", " ", "could", " ", "be"}], " ", ">", 
          " ", 
          RowBox[{
          "1", " ", "and", " ", "even", " ", "very", " ", "large", "\n", 
           "color", " ", "seperator", " ", "decided", " ", "by", " ", 
           "ColorSeperator"}]}]}], "*)"}], "\n", 
       RowBox[{"(*", 
        RowBox[{
        "===", "===", "===", "===", "===", "===", "===", "===", "===", 
         "==="}], "*)"}], "\n", 
       RowBox[{"(*", "\n", 
        RowBox[{
         RowBox[{"If", "[", "\n", 
          RowBox[{
           RowBox[{"plottype", "\[Equal]", "5"}], ",", "\n", 
           RowBox[{
            RowBox[{"legendlabel", "=", "\"\<\>\""}], ";", "\n", 
            RowBox[{"barseperator", "=", 
             RowBox[{"GetDataPercentage", "[", 
              RowBox[{
               RowBox[{
                RowBox[{"pdfcorr", "[", 
                 RowBox[{"[", 
                  RowBox[{"flavourin", "+", "6"}], "]"}], "]"}], "/.", 
                RowBox[{
                 RowBox[{"LF1", "[", "a__", "]"}], "\[RuleDelayed]", 
                 RowBox[{"Abs", "[", 
                  RowBox[{
                   RowBox[{"{", "a", "}"}], "[", 
                   RowBox[{"[", "3", "]"}], "]"}], " ", "]"}]}]}], " ", ",", 
               RowBox[{"Join", "[", 
                RowBox[{"ColorSeperator", ",", 
                 RowBox[{"{", "100", "}"}]}], "]"}]}], " ", "]"}]}], ";", 
            "\n", 
            RowBox[{"barseperator", "=", 
             RowBox[{"{", 
              RowBox[{
               RowBox[{"-", 
                RowBox[{"barseperator", "[", 
                 RowBox[{"[", "4", "]"}], "]"}]}], ",", 
               RowBox[{"-", 
                RowBox[{"barseperator", "[", 
                 RowBox[{"[", "3", "]"}], "]"}]}], ",", 
               RowBox[{"-", 
                RowBox[{"barseperator", "[", 
                 RowBox[{"[", "2", "]"}], "]"}]}], ",", 
               RowBox[{"-", 
                RowBox[{"barseperator", "[", 
                 RowBox[{"[", "1", "]"}], "]"}]}], ",", 
               RowBox[{"barseperator", "[", 
                RowBox[{"[", "1", "]"}], "]"}], ",", 
               RowBox[{"barseperator", "[", 
                RowBox[{"[", "2", "]"}], "]"}], ",", 
               RowBox[{"barseperator", "[", 
                RowBox[{"[", "3", "]"}], "]"}], ",", 
               RowBox[{"barseperator", "[", 
                RowBox[{"[", "4", "]"}], "]"}]}], "}"}]}], ";", "\n", 
            RowBox[{"epilogxQ", "=", 
             RowBox[{"{", 
              RowBox[{"Npttext", ",", 
               RowBox[{"(*", 
                RowBox[{
                "maxtext", ",", "maxmarker", ",", "mintext", ",", 
                 "minmarker"}], "*)"}], "percentagetext"}], "}"}]}], ";", 
            "\n", "\n", "\"\<dummy\>\""}]}], "\n", 
          RowBox[{"(*", 
           RowBox[{
            RowBox[{"corr", " ", "plot", " ", "cut", " ", "by"}], " ", "|", 
            "data", "|", 
            RowBox[{"<", "0.5"}]}], "*)"}], "\n", "]"}], ";"}], "\n", "*)"}], 
       "\n", 
       RowBox[{"(*", 
        RowBox[{
         RowBox[{
          RowBox[{"same", " ", "as", " ", "plottype"}], "=", "5"}], ",", " ", 
         
         RowBox[{
         "but", " ", "data", " ", "strucure", " ", "pdfcorr", " ", "is", " ", 
          "different"}]}], "*)"}], "\n", 
       RowBox[{"If", "[", "\n", " ", 
        RowBox[{
         RowBox[{
          RowBox[{"plottype", "==", "2"}], " ", "||", " ", 
          RowBox[{"plottype", "==", "3"}], " ", "||", " ", 
          RowBox[{"plottype", "==", "4"}], " ", "||", " ", 
          RowBox[{"plottype", "==", "5"}]}], ",", "\n", 
         RowBox[{
          RowBox[{"legendlabel", "=", "\"\<\>\""}], ";", "\n", 
          RowBox[{"barseperator", "=", 
           RowBox[{"GetDataPercentage", "[", 
            RowBox[{
             RowBox[{"pdfcorr", "/.", 
              RowBox[{
               RowBox[{"LF1", "[", "a__", "]"}], ":>", 
               RowBox[{"Abs", "[", 
                RowBox[{
                 RowBox[{"{", "a", "}"}], "[", 
                 RowBox[{"[", "3", "]"}], "]"}], " ", "]"}]}]}], " ", ",", 
             RowBox[{"Join", "[", 
              RowBox[{"ColorSeperator", ",", 
               RowBox[{"{", "100", "}"}]}], "]"}]}], " ", "]"}]}], ";", "\n", 
          
          RowBox[{"barseperator", "=", 
           RowBox[{"{", 
            RowBox[{
             RowBox[{"-", 
              RowBox[{"barseperator", "[", 
               RowBox[{"[", "4", "]"}], "]"}]}], ",", 
             RowBox[{"-", 
              RowBox[{"barseperator", "[", 
               RowBox[{"[", "3", "]"}], "]"}]}], ",", 
             RowBox[{"-", 
              RowBox[{"barseperator", "[", 
               RowBox[{"[", "2", "]"}], "]"}]}], ",", 
             RowBox[{"-", 
              RowBox[{"barseperator", "[", 
               RowBox[{"[", "1", "]"}], "]"}]}], ",", 
             RowBox[{"barseperator", "[", 
              RowBox[{"[", "1", "]"}], "]"}], ",", 
             RowBox[{"barseperator", "[", 
              RowBox[{"[", "2", "]"}], "]"}], ",", 
             RowBox[{"barseperator", "[", 
              RowBox[{"[", "3", "]"}], "]"}], ",", 
             RowBox[{"barseperator", "[", 
              RowBox[{"[", "4", "]"}], "]"}]}], "}"}]}], ";", "\n", 
          RowBox[{"epilogxQ", "=", 
           RowBox[{"{", 
            RowBox[{"Npttext", ",", 
             RowBox[{"(*", 
              RowBox[{
              "maxtext", ",", "maxmarker", ",", "mintext", ",", "minmarker"}],
               "*)"}], "percentagetext"}], "}"}]}], ";", "\n", "\n", 
          "\"\<dummy\>\""}]}], "\n", 
        RowBox[{"(*", 
         RowBox[{
          RowBox[{"corr", " ", "plot", " ", "cut", " ", "by"}], " ", "|", 
          "data", "|", 
          RowBox[{"<", "0.5"}]}], "*)"}], "\n", "]"}], ";", "\n", "\n", 
       RowBox[{"If", "[", "\n", 
        RowBox[{
         RowBox[{"plottype", "==", "6"}], ",", "\n", 
         RowBox[{
          RowBox[{"legendlabel", "=", "\"\<\>\""}], ";", "\n", 
          RowBox[{"barseperator", "=", 
           RowBox[{"{", 
            RowBox[{
             RowBox[{"-", "1"}], ",", 
             RowBox[{"-", "0.85"}], ",", 
             RowBox[{"-", "0.7"}], ",", 
             RowBox[{"-", "0.5"}], ",", "0.5", ",", "0.7", ",", "0.85", ",", 
             "1"}], "}"}]}], ";", "\n", 
          RowBox[{"epilogxQ", "=", 
           RowBox[{"{", "Npttext", "}"}]}], ";", "\n", "\n", 
          "\"\<dummy\>\""}]}], "\n", 
        RowBox[{"(*", 
         RowBox[{
          RowBox[{"corr", " ", "plot", " ", "cut", " ", "by"}], " ", "|", 
          "data", "|", 
          RowBox[{"<", "0.5"}]}], "*)"}], "\n", "]"}], ";", "\n", 
       RowBox[{"(*", 
        RowBox[{
         RowBox[{"plot", " ", "type", " ", "1"}], ":", " ", 
         RowBox[{
         "just", " ", "need", " ", "barseperator", " ", "so", " ", "that", 
          " ", "function", " ", 
          RowBox[{"doesn", "'"}], "t", " ", "break"}]}], "*)"}], "\n", 
       RowBox[{"If", "[", "\n", 
        RowBox[{
         RowBox[{"plottype", "==", "1"}], ",", "\n", 
         RowBox[{
          RowBox[{"barseperator", "=", 
           RowBox[{"{", 
            RowBox[{
             RowBox[{"-", "1"}], ",", 
             RowBox[{"-", "0.85"}], ",", 
             RowBox[{"-", "0.7"}], ",", 
             RowBox[{"-", "0.5"}], ",", "0.5", ",", "0.7", ",", "0.85", ",", 
             "1"}], "}"}]}], ";"}]}], "\n", "]"}], ";", "\n", "\n", 
       RowBox[{"(*", 
        RowBox[{
         RowBox[{"for", " ", "no", " ", "highlight", " ", "mode"}], ",", " ", 
         
         RowBox[{
         "choose", " ", "size", " ", "of", " ", "data", " ", "point", " ", 
          "in", " ", "plot", " ", "by", " ", "Size", "\n", "for", " ", 
          "highlight", " ", "mode"}], ",", " ", 
         RowBox[{
         "set", " ", "size", " ", "of", " ", "unhighlighted", " ", "data", 
          " ", "as", " ", "Size"}], ",", " ", 
         RowBox[{
         "size", " ", "of", " ", "highlighted", " ", "data", " ", "is", " ", 
          "larger", " ", "than", " ", "Size"}]}], "*)"}], "\n", 
       RowBox[{"(*", 
        RowBox[{
        "===", "===", "===", "===", "===", "===", "===", "===", "===", 
         "==="}], "*)"}], "\n", 
       RowBox[{"(*", 
        RowBox[{
         RowBox[{"Print", "[", "HighlightMode", "]"}], ";"}], "*)"}], "\n", 
       "\n", 
       RowBox[{"highlightrange", "=", "\n", 
        RowBox[{"Switch", "[", "\n", 
         RowBox[{
          RowBox[{"HighlightMode", "[", 
           RowBox[{"[", "plottype", "]"}], "]"}], ",", "\n", "0", ",", 
          RowBox[{"{", 
           RowBox[{"0.0", ",", "0.0"}], "}"}], ",", "\n", "1", ",", 
          RowBox[{"{", 
           RowBox[{
            RowBox[{"HighlightMode1", "[", 
             RowBox[{"[", 
              RowBox[{
               RowBox[{"2", "*", "plottype"}], "-", "1"}], "]"}], "]"}], ",", 
            
            RowBox[{"HighlightMode1", "[", 
             RowBox[{"[", 
              RowBox[{"2", "*", "plottype"}], "]"}], "]"}]}], "}"}], ",", 
          "\n", "2", ",", 
          RowBox[{"GetDataPercentage", "[", 
           RowBox[{
            RowBox[{"pdfcorr", "/.", 
             RowBox[{
              RowBox[{"LF1", "[", "a__", "]"}], ":>", 
              RowBox[{"Abs", "[", 
               RowBox[{
                RowBox[{"{", "a", "}"}], "[", 
                RowBox[{"[", "3", "]"}], "]"}], " ", "]"}]}]}], " ", ",", 
            RowBox[{"{", 
             RowBox[{
              RowBox[{"HighlightMode2", "[", 
               RowBox[{"[", 
                RowBox[{
                 RowBox[{"2", "*", "plottype"}], "-", "1"}], "]"}], "]"}], 
              ",", 
              RowBox[{"HighlightMode2", "[", 
               RowBox[{"[", 
                RowBox[{"2", "*", "plottype"}], "]"}], "]"}]}], "}"}]}], 
           "]"}], "\n", 
          RowBox[{"(*", "\n", 
           RowBox[{"Which", "[", "\n", 
            RowBox[{
             RowBox[{
              RowBox[{"plottype", "\[Equal]", "5"}], "  ", "||", " ", 
              RowBox[{"plottype", "\[Equal]", "6"}]}], ",", "\n", 
             RowBox[{"GetDataPercentage", "[", 
              RowBox[{
               RowBox[{
                RowBox[{"pdfcorr", "[", 
                 RowBox[{"[", 
                  RowBox[{"flavourin", "+", "6"}], "]"}], "]"}], "/.", 
                RowBox[{
                 RowBox[{"LF1", "[", "a__", "]"}], "\[RuleDelayed]", 
                 RowBox[{"Abs", "[", 
                  RowBox[{
                   RowBox[{"{", "a", "}"}], "[", 
                   RowBox[{"[", "3", "]"}], "]"}], " ", "]"}]}]}], " ", ",", 
               RowBox[{"{", 
                RowBox[{
                 RowBox[{"HighlightMode2", "[", 
                  RowBox[{"[", 
                   RowBox[{
                    RowBox[{"2", "*", "plottype"}], "-", "1"}], "]"}], "]"}], 
                 ",", 
                 RowBox[{"HighlightMode2", "[", 
                  RowBox[{"[", 
                   RowBox[{"2", "*", "plottype"}], "]"}], "]"}]}], "}"}]}], 
              "]"}], ",", "\n", " ", 
             RowBox[{
              RowBox[{"plottype", "\[Equal]", "2"}], " ", "||", " ", 
              RowBox[{"plottype", "\[Equal]", "3"}], " ", "||", " ", 
              RowBox[{"plottype", "\[Equal]", "4"}]}], ",", "\n", 
             RowBox[{"GetDataPercentage", "[", 
              RowBox[{
               RowBox[{"pdfcorr", "/.", 
                RowBox[{
                 RowBox[{"LF1", "[", "a__", "]"}], "\[RuleDelayed]", 
                 RowBox[{"Abs", "[", 
                  RowBox[{
                   RowBox[{"{", "a", "}"}], "[", 
                   RowBox[{"[", "3", "]"}], "]"}], " ", "]"}]}]}], " ", ",", 
               RowBox[{"{", 
                RowBox[{
                 RowBox[{"HighlightMode2", "[", 
                  RowBox[{"[", 
                   RowBox[{
                    RowBox[{"2", "*", "plottype"}], "-", "1"}], "]"}], "]"}], 
                 ",", 
                 RowBox[{"HighlightMode2", "[", 
                  RowBox[{"[", 
                   RowBox[{"2", "*", "plottype"}], "]"}], "]"}]}], "}"}]}], 
              "]"}], ",", "\n", "True", ",", 
             RowBox[{
              RowBox[{
              "Print", "[", "\"\<presently plottype is only 2~6 \>\"", "]"}], 
              ";", 
              RowBox[{"Abort", "[", "]"}]}]}], "\n", "]"}], "*)"}], ",", "\n",
           "_", ",", 
          RowBox[{
           RowBox[{
           "Print", "[", "\"\<error, highlight mode should be 0, 1, 2\>\"", 
            "]"}], ";", 
           RowBox[{"Abort", "[", "]"}]}]}], "\n", "]"}]}], ";", "\n", 
       RowBox[{"(*", 
        RowBox[{
         RowBox[{"for", " ", "highlight", " ", "mode"}], ",", " ", 
         RowBox[{
         "always", " ", "only", " ", "have", " ", "no", " ", "choice", " ", 
          "of", " ", "size"}]}], "*)"}], "\n", 
       RowBox[{"If", "[", 
        RowBox[{
         RowBox[{
          RowBox[{
           RowBox[{"HighlightMode", "[", 
            RowBox[{"[", "plottype", "]"}], "]"}], "==", "1"}], " ", "||", 
          " ", 
          RowBox[{
           RowBox[{"HighlightMode", "[", 
            RowBox[{"[", "plottype", "]"}], "]"}], "==", "2"}]}], ",", 
         RowBox[{"Size", "=", "\"\<small\>\""}]}], "]"}], ";", "\n", 
       RowBox[{"(*", 
        RowBox[{"set", " ", "size"}], "*)"}], "\n", 
       RowBox[{"unhighlightsize", "=", "\n", 
        RowBox[{"Switch", "[", 
         RowBox[{
         "Size", ",", "\"\<tiny\>\"", ",", "0.005", ",", "\"\<small\>\"", ",",
           "0.0075", ",", "\"\<medium\>\"", ",", "0.01", ",", "\"\<large\>\"",
           ",", "0.0125", ",", "_", ",", 
          RowBox[{
           RowBox[{
           "Print", "[", "\"\<error,size type is not correct\>\"", "]"}], ";", 
           RowBox[{"Abort", "[", "]"}]}]}], " ", "]"}]}], ";", "\n", "\n", 
       RowBox[{"highlighttext", "=", 
        RowBox[{"Text", "[", 
         RowBox[{
          RowBox[{"Style", "[", 
           RowBox[{
            RowBox[{"\"\<highlight range:\\n\>\"", "<>", 
             RowBox[{"ToString", "[", "highlightrange", "]"}]}], ",", 
            "textsize", ",", "Black"}], "]"}], ",", 
          RowBox[{"Scaled", "[", 
           RowBox[{"{", 
            RowBox[{"0.2", ",", "0.7"}], "}"}], "]"}]}], " ", "]"}]}], ";", 
       "\n", 
       RowBox[{"If", "[", 
        RowBox[{
         RowBox[{
          RowBox[{"HighlightMode", "[", 
           RowBox[{"[", "plottype", "]"}], "]"}], "!=", "0"}], ",", 
         RowBox[{"epilogxQ", "=", 
          RowBox[{"Append", "[", 
           RowBox[{"epilogxQ", ",", "highlighttext"}], "]"}]}]}], " ", "]"}], 
       ";", "\n", "\n", 
       RowBox[{"(*", 
        RowBox[{
         RowBox[{"Print", "[", 
          RowBox[{"\"\<highlight range: \>\"", ",", "highlightrange"}], "]"}],
          ";"}], "*)"}], "\n", "\n", 
       RowBox[{"(*", 
        RowBox[{
         RowBox[{"for", " ", "histogram"}], ",", " ", 
         RowBox[{
         "setup", " ", "highlighted", " ", "value", " ", "range", " ", "by", 
          " ", "red", " ", "line", " ", "and", " ", "color", " ", "seperator",
           " ", "value", " ", "by", " ", "blue", " ", "line"}]}], "*)"}], 
       "\n", 
       RowBox[{"(*", 
        RowBox[{
         RowBox[{
         "make", " ", "histogram", " ", "of", " ", "data", " ", "and"}], " ", 
         "|", "data", "|"}], "*)"}], "\n", 
       RowBox[{"(*", 
        RowBox[{
        "===", "===", "===", "===", "===", "===", "===", "===", "===", 
         "==="}], "*)"}], "\n", "\n", 
       RowBox[{"(*", 
        RowBox[{
         RowBox[{
         "set", " ", "xtitle", " ", "by", " ", "observable", " ", "part", " ",
           "of", " ", "title"}], ",", " ", 
         RowBox[{"ex", ":", " ", 
          RowBox[{"|", 
           RowBox[{"Corr", 
            RowBox[{"(", 
             RowBox[{
              RowBox[{"f_j", 
               RowBox[{"(", 
                RowBox[{"x", ",", "Q"}], ")"}]}], ",", 
              RowBox[{"r_i", 
               RowBox[{"(", 
                RowBox[{"x", ",", "Q"}], ")"}]}]}], ")"}]}], "|"}]}]}], 
        "*)"}], "\n", 
       RowBox[{"(*", 
        RowBox[{
        "===", "===", "===", "===", "===", "===", "===", "===", "===", 
         "==="}], "*)"}], "\n", "\n", "\n", 
       RowBox[{"(*", 
        RowBox[{
         RowBox[{"plot", " ", "x"}], ",", 
         RowBox[{
         "Q", " ", "data", " ", "by", " ", "size", " ", "for", " ", "all", 
          " ", "quarks", 
          RowBox[{"(", "CorrelationArgFlag", ")"}]}], ",", " ", 
         RowBox[{
         "and", " ", "plot", " ", "corresponding", " ", "histogram"}]}], 
        "*)"}], "\n", 
       RowBox[{"(*", 
        RowBox[{
         RowBox[{"GridGraphic", " ", "x"}], ",", 
         RowBox[{
         "Q", " ", "data", " ", "by", " ", "size", " ", "and", " ", 
          "histograms"}]}], "*)"}], "\n", 
       RowBox[{"(*", 
        RowBox[{
        "===", "===", "===", "===", "===", "===", "===", "===", "===", 
         "==="}], "*)"}], "\n", "\n", "\n", 
       RowBox[{"(*", 
        RowBox[{"correlation", " ", "plot"}], "*)"}], "\n", 
       RowBox[{"(*", "\n", 
        RowBox[{
         RowBox[{"If", "[", "\n", 
          RowBox[{
           RowBox[{
            RowBox[{"plottype", "\[Equal]", "5"}], "  ", "||", " ", 
            RowBox[{"plottype", "\[Equal]", "6"}]}], ",", "\n", 
           RowBox[{
            RowBox[{"xQplotcorr", "=", 
             RowBox[{"PDFCorrelationplot7", "[", 
              RowBox[{
               RowBox[{"pdfcorr", "[", 
                RowBox[{"[", 
                 RowBox[{"flavourin", "+", "6"}], "]"}], "]"}], ",", "title", 
               ",", "xtitle", ",", "ytitle", ",", "plotrange", ",", 
               "stretchx", ",", "stretchy", ",", "barseperator", ",", 
               "legendlabel", ",", 
               RowBox[{"(*", 
                RowBox[{"Append", "[", 
                 RowBox[{"epilogxQ", ",", "cuttext"}], "]"}], "*)"}], 
               "epilogxQ", ",", "highlightrange", ",", "unhighlightsize"}], 
              " ", "]"}]}], ";", "\n", "\"\<dummy\>\""}]}], "\n", "]"}], 
         ";"}], "\n", "*)"}], "\n", 
       RowBox[{"(*", 
        RowBox[{"test", " ", "print"}], "*)"}], "\n", 
       RowBox[{"(*", "\n", 
        RowBox[{
         RowBox[{"Print", "[", "\"\<test print\>\"", "]"}], ";", "\n", 
         RowBox[{"Print", "[", "\"\<highlight mode 1\>\"", "]"}], ";", "\n", 
         RowBox[{"Print", "[", "pdfcorr", "]"}], ";", "\n", 
         RowBox[{"Print", "[", "HighlightMode1", "]"}], ";", "\n", 
         RowBox[{"Print", "[", 
          RowBox[{"{", 
           RowBox[{
           "xtitle", ",", "ytitle", ",", "plotrange", ",", "stretchx", ",", 
            "stretchy", ",", "barseperator", ",", "legendlabel", ",", 
            "epilogxQ", ",", "highlightrange", ",", "unhighlightsize"}], " ", 
           "}"}], "]"}], ";"}], "\n", "*)"}], "\n", "\n", 
       RowBox[{"If", "[", "\n", " ", 
        RowBox[{
         RowBox[{
          RowBox[{"plottype", "==", "2"}], " ", "||", " ", 
          RowBox[{"plottype", "==", "3"}], " ", "||", " ", 
          RowBox[{"plottype", "==", "4"}], " ", "||", " ", 
          RowBox[{"plottype", "==", "5"}], "  ", "||", " ", 
          RowBox[{"plottype", "==", "6"}]}], ",", "\n", 
         RowBox[{
          RowBox[{"xQplotcorr", "=", 
           RowBox[{"PDFCorrelationplot7", "[", 
            RowBox[{
            "pdfcorr", ",", "\"\<\>\"", ",", "xtitle", ",", "ytitle", ",", 
             "plotrange", ",", "stretchx", ",", "stretchy", ",", 
             "barseperator", ",", "legendlabel", ",", 
             RowBox[{"(*", 
              RowBox[{"Append", "[", 
               RowBox[{"epilogxQ", ",", "cuttext"}], "]"}], "*)"}], 
             "epilogxQ", ",", "highlightrange", ",", "unhighlightsize"}], " ",
             "]"}]}], ";", "\n", "\"\<dummy\>\""}]}], "\n", "]"}], ";", "\n", 
       
       RowBox[{"(*", 
        RowBox[{"correlation", " ", "histogram"}], "*)"}], "\n", "\n", 
       RowBox[{"(*", 
        RowBox[{
         RowBox[{"binset", ":", " ", 
          RowBox[{
           RowBox[{"for", " ", "Nbin"}], "\[Equal]", "\"\<auto\>\""}]}], ",", 
         " ", 
         RowBox[{"define", " ", "auto", " ", "binset"}]}], "*)"}], "\n", 
       RowBox[{"(*", 
        RowBox[{
        "set", " ", "auto", " ", "bin", " ", "as", " ", "5", " ", "bins", " ",
          "in", " ", "first", " ", "color", " ", "bar", " ", "seperator"}], 
        " ", "*)"}], "\n", 
       RowBox[{"binset", "=", 
        RowBox[{"{", 
         RowBox[{"Table", "[", 
          RowBox[{
           RowBox[{"i", "*", 
            RowBox[{
             RowBox[{"barseperator", "[", 
              RowBox[{"[", 
               RowBox[{
                RowBox[{
                 RowBox[{"Length", "[", "barseperator", "]"}], "/", "2"}], 
                "+", "1"}], "]"}], "]"}], "/", "5.0"}]}], ",", 
           RowBox[{"{", 
            RowBox[{"i", ",", 
             RowBox[{"-", "100"}], ",", "100"}], "}"}]}], "]"}], "}"}]}], ";",
        "\n", "\n", 
       RowBox[{"(*", 
        RowBox[{
         RowBox[{"lineelement", "=", 
          RowBox[{"{", 
           RowBox[{
            RowBox[{"{", 
             RowBox[{
              RowBox[{"barseperator", "[", 
               RowBox[{"[", "2", "]"}], "]"}], ",", "\"\<\>\"", ",", "Blue"}],
              "}"}], ",", 
            RowBox[{"{", 
             RowBox[{
              RowBox[{"barseperator", "[", 
               RowBox[{"[", "3", "]"}], "]"}], ",", "\"\<\>\"", ",", "Blue"}],
              "}"}], ",", 
            RowBox[{"{", 
             RowBox[{
              RowBox[{"barseperator", "[", 
               RowBox[{"[", "4", "]"}], "]"}], ",", "\"\<\>\"", ",", "Blue"}],
              "}"}], ",", 
            RowBox[{"{", 
             RowBox[{
              RowBox[{"barseperator", "[", 
               RowBox[{"[", "5", "]"}], "]"}], ",", "\"\<\>\"", ",", "Blue"}],
              "}"}], ",", 
            RowBox[{"{", 
             RowBox[{
              RowBox[{"barseperator", "[", 
               RowBox[{"[", "6", "]"}], "]"}], ",", "\"\<\>\"", ",", "Blue"}],
              "}"}], ",", 
            RowBox[{"{", 
             RowBox[{
              RowBox[{"barseperator", "[", 
               RowBox[{"[", "7", "]"}], "]"}], ",", "\"\<\>\"", ",", "Blue"}],
              "}"}]}], "}"}]}], ";"}], "*)"}], "\n", 
       RowBox[{"lineelement", "=", 
        RowBox[{"{", 
         RowBox[{
          RowBox[{"{", 
           RowBox[{
            RowBox[{"barseperator", "[", 
             RowBox[{"[", "2", "]"}], "]"}], ",", 
            RowBox[{
             RowBox[{"ToString", "[", 
              RowBox[{"ColorSeperator", "[", 
               RowBox[{"[", "3", "]"}], "]"}], " ", "]"}], "<>", 
             "\"\<%\>\""}], ",", "Blue"}], "}"}], ",", 
          RowBox[{"{", 
           RowBox[{
            RowBox[{"barseperator", "[", 
             RowBox[{"[", "3", "]"}], "]"}], ",", 
            RowBox[{
             RowBox[{"ToString", "[", 
              RowBox[{"ColorSeperator", "[", 
               RowBox[{"[", "2", "]"}], "]"}], " ", "]"}], "<>", 
             "\"\<%\>\""}], ",", "Blue"}], "}"}], ",", 
          RowBox[{"{", 
           RowBox[{
            RowBox[{"barseperator", "[", 
             RowBox[{"[", "4", "]"}], "]"}], ",", 
            RowBox[{
             RowBox[{"ToString", "[", 
              RowBox[{"ColorSeperator", "[", 
               RowBox[{"[", "1", "]"}], "]"}], " ", "]"}], "<>", 
             "\"\<%\>\""}], ",", "Blue"}], "}"}], ",", 
          RowBox[{"{", 
           RowBox[{
            RowBox[{"barseperator", "[", 
             RowBox[{"[", "5", "]"}], "]"}], ",", 
            RowBox[{
             RowBox[{"ToString", "[", 
              RowBox[{"ColorSeperator", "[", 
               RowBox[{"[", "1", "]"}], "]"}], " ", "]"}], "<>", 
             "\"\<%\>\""}], ",", "Blue"}], "}"}], ",", 
          RowBox[{"{", 
           RowBox[{
            RowBox[{"barseperator", "[", 
             RowBox[{"[", "6", "]"}], "]"}], ",", 
            RowBox[{
             RowBox[{"ToString", "[", 
              RowBox[{"ColorSeperator", "[", 
               RowBox[{"[", "2", "]"}], "]"}], " ", "]"}], "<>", 
             "\"\<%\>\""}], ",", "Blue"}], "}"}], ",", 
          RowBox[{"{", 
           RowBox[{
            RowBox[{"barseperator", "[", 
             RowBox[{"[", "7", "]"}], "]"}], ",", 
            RowBox[{
             RowBox[{"ToString", "[", 
              RowBox[{"ColorSeperator", "[", 
               RowBox[{"[", "3", "]"}], "]"}], " ", "]"}], "<>", 
             "\"\<%\>\""}], ",", "Blue"}], "}"}]}], "}"}]}], ";", "\n", 
       RowBox[{"(*", 
        RowBox[{"20170307", ":", " ", 
         RowBox[{"bin", " ", "from", " ", "argument"}]}], "*)"}], "\n", 
       RowBox[{"(*", "\n", 
        RowBox[{
         RowBox[{"If", "[", "\n", 
          RowBox[{
           RowBox[{"Hist1figureNbin", "==", "\"\<auto\>\""}], ",", "\n", 
           RowBox[{
            RowBox[{"binset", "=", "barseperator"}], ";", "\n", 
            RowBox[{"binset", "=", 
             RowBox[{"Insert", "[", 
              RowBox[{"binset", ",", "0.0", ",", "5"}], "]"}]}]}]}], "\n", 
          "]"}], ";"}], "\n", "*)"}], "\n", 
       RowBox[{"(*", "\n", 
        RowBox[{
         RowBox[{"If", "[", "\n", 
          RowBox[{
           RowBox[{
            RowBox[{"plottype", "\[Equal]", "5"}], "  ", "||", " ", 
            RowBox[{"plottype", "\[Equal]", "6"}]}], ",", "\n", 
           RowBox[{"(*", 
            RowBox[{"hist1", ":", " ", 
             RowBox[{"data", " ", "with", " ", "no", " ", "absolute"}]}], 
            "*)"}], "\n", 
           RowBox[{
            RowBox[{"histplotcorr1", "=", 
             RowBox[{"histplot4", "[", 
              RowBox[{
               RowBox[{
                RowBox[{"pdfcorr", "[", 
                 RowBox[{"[", 
                  RowBox[{"flavourin", "+", "6"}], "]"}], "]"}], "/.", 
                RowBox[{
                 RowBox[{"LF1", "[", "a__", "]"}], "\[RuleDelayed]", 
                 RowBox[{
                  RowBox[{"{", "a", "}"}], "[", 
                  RowBox[{"[", "3", "]"}], "]"}]}]}], ",", "title", ",", 
               "xhisttitle", ",", "yhisttitle", ",", "binset", ",", 
               "lineelement", ",", "hist1plotrangex", ",", 
               "Hist1figureNbin"}], "]"}]}], ";", "\n", 
            RowBox[{"(*", 
             RowBox[{"hist1", ":", " ", 
              RowBox[{"data", " ", "with", " ", "absolute", 
               RowBox[{"(", 
                RowBox[{"|", "data", "|"}], ")"}]}]}], "*)"}], "\n", 
            RowBox[{"histplotcorr2", "=", 
             RowBox[{"histplot4", "[", 
              RowBox[{
               RowBox[{
                RowBox[{"pdfcorr", "[", 
                 RowBox[{"[", 
                  RowBox[{"flavourin", "+", "6"}], "]"}], "]"}], "/.", 
                RowBox[{
                 RowBox[{"LF1", "[", "a__", "]"}], "\[RuleDelayed]", 
                 RowBox[{"Abs", "[", 
                  RowBox[{
                   RowBox[{"{", "a", "}"}], "[", 
                   RowBox[{"[", "3", "]"}], "]"}], " ", "]"}]}]}], ",", 
               "title", ",", "xhistabstitle", ",", "yhisttitle", ",", 
               "binset", ",", 
               RowBox[{"Take", "[", 
                RowBox[{"lineelement", ",", 
                 RowBox[{"-", "3"}]}], "]"}], ",", "hist2plotrangex", ",", 
               "Hist1figureNbin"}], "]"}]}], ";", "\n", "\"\<dummy\>\""}]}], 
          "\n", "]"}], ";"}], "\n", "*)"}], "\n", 
       RowBox[{"If", "[", "\n", " ", 
        RowBox[{
         RowBox[{
          RowBox[{"plottype", "==", "2"}], " ", "||", " ", 
          RowBox[{"plottype", "==", "3"}], " ", "||", " ", 
          RowBox[{"plottype", "==", "4"}], " ", "||", " ", 
          RowBox[{"plottype", "==", "5"}], "  ", "||", " ", 
          RowBox[{"plottype", "==", "6"}]}], ",", "\n", 
         RowBox[{"(*", 
          RowBox[{"hist1", ":", " ", 
           RowBox[{"data", " ", "with", " ", "no", " ", "absolute"}]}], 
          "*)"}], "\n", 
         RowBox[{
          RowBox[{"histplotcorr1", "=", 
           RowBox[{"histplot4", "[", 
            RowBox[{
             RowBox[{"pdfcorr", "/.", 
              RowBox[{
               RowBox[{"LF1", "[", "a__", "]"}], ":>", 
               RowBox[{
                RowBox[{"{", "a", "}"}], "[", 
                RowBox[{"[", "3", "]"}], "]"}]}]}], ",", "\"\<\>\"", ",", 
             "xhisttitle", ",", "yhisttitle", ",", "binset", ",", 
             "lineelement", ",", "hist1plotrangex", ",", "Hist1figureNbin"}], 
            "]"}]}], ";", "\n", 
          RowBox[{"(*", 
           RowBox[{"hist1", ":", " ", 
            RowBox[{"data", " ", "with", " ", "absolute", 
             RowBox[{"(", 
              RowBox[{"|", "data", "|"}], ")"}]}]}], "*)"}], "\n", 
          RowBox[{"histplotcorr2", "=", 
           RowBox[{"histplot4", "[", 
            RowBox[{
             RowBox[{"pdfcorr", "/.", 
              RowBox[{
               RowBox[{"LF1", "[", "a__", "]"}], ":>", 
               RowBox[{"Abs", "[", 
                RowBox[{
                 RowBox[{"{", "a", "}"}], "[", 
                 RowBox[{"[", "3", "]"}], "]"}], " ", "]"}]}]}], ",", 
             "\"\<\>\"", ",", "xhistabstitle", ",", "yhisttitle", ",", 
             "binset", ",", 
             RowBox[{"Take", "[", 
              RowBox[{"lineelement", ",", 
               RowBox[{"-", "3"}]}], "]"}], ",", "hist2plotrangex", ",", 
             "Hist1figureNbin"}], "]"}]}], ";", "\n", "\"\<dummy\>\""}]}], 
        "\n", "]"}], ";", "\n", "\n", 
       RowBox[{"If", "[", "\n", " ", 
        RowBox[{
         RowBox[{"plottype", "==", "1"}], ",", "\n", 
         RowBox[{"(*", "plot1", "*)"}], "\n", "\n", 
         RowBox[{
          RowBox[{"expttype", "=", "\"\<multi\>\""}], ";", "\n", 
          RowBox[{"myplotsetting", "=", 
           RowBox[{"setplotsetting", "[", 
            RowBox[{
            "corrfxQdtaobsclassin", ",", "exptlist", ",", "expttype", ",", 
             "1", ",", "\"\<test\>\"", ",", "\"\<test\>\""}], "]"}]}], ";", 
          "\n", 
          RowBox[{"imgsize", "=", 
           RowBox[{"myplotsetting", "[", 
            RowBox[{"[", "\"\<imgsize\>\"", "]"}], "]"}]}], ";", "\n", 
          RowBox[{"title", "=", 
           RowBox[{"myplotsetting", "[", 
            RowBox[{"[", "\"\<title\>\"", "]"}], "]"}]}], ";", "\n", 
          RowBox[{"xtitle", "=", 
           RowBox[{"myplotsetting", "[", 
            RowBox[{"[", "\"\<xtitle\>\"", "]"}], "]"}]}], ";", "\n", 
          RowBox[{"ytitle", "=", 
           RowBox[{"myplotsetting", "[", 
            RowBox[{"[", "\"\<ytitle\>\"", "]"}], "]"}]}], ";", "\n", 
          RowBox[{"lgdlabel", "=", 
           RowBox[{"myplotsetting", "[", 
            RowBox[{"[", "\"\<lgdlabel\>\"", "]"}], "]"}]}], ";", "\n", 
          RowBox[{"xrange", "=", 
           RowBox[{"myplotsetting", "[", 
            RowBox[{"[", "\"\<xrange\>\"", "]"}], "]"}]}], ";", "\n", 
          RowBox[{"yrange", "=", 
           RowBox[{"myplotsetting", "[", 
            RowBox[{"[", "\"\<yrange\>\"", "]"}], "]"}]}], ";", "\n", 
          RowBox[{"epilog", "=", 
           RowBox[{"myplotsetting", "[", 
            RowBox[{"[", "\"\<epilog\>\"", "]"}], "]"}]}], ";", "\n", 
          RowBox[{"titlesize", "=", 
           RowBox[{"myplotsetting", "[", 
            RowBox[{"[", "\"\<titlesize\>\"", "]"}], "]"}]}], ";", "\n", 
          RowBox[{"xtitlesize", "=", 
           RowBox[{"myplotsetting", "[", 
            RowBox[{"[", "\"\<xtitlesize\>\"", "]"}], "]"}]}], ";", "\n", 
          RowBox[{"ytitlesize", "=", 
           RowBox[{"myplotsetting", "[", 
            RowBox[{"[", "\"\<ytitlesize\>\"", "]"}], "]"}]}], ";", "\n", 
          RowBox[{"lgdlabelsize", "=", 
           RowBox[{"myplotsetting", "[", 
            RowBox[{"[", "\"\<lgdlabelsize\>\"", "]"}], "]"}]}], ";", "\n", 
          RowBox[{"ticklablesize", "=", 
           RowBox[{"myplotsetting", "[", 
            RowBox[{"[", "\"\<ticklablesize\>\"", "]"}], "]"}]}], ";", "\n", 
          "\n", 
          RowBox[{"myplotstyle", "=", 
           RowBox[{"myplotsetting", "[", 
            RowBox[{"[", "\"\<plotstyle\>\"", "]"}], "]"}]}], ";", "\n", 
          RowBox[{"myMarker", "=", 
           RowBox[{"myplotsetting", "[", 
            RowBox[{"[", "\"\<marker\>\"", "]"}], "]"}]}], ";", "\n", "\n", 
          RowBox[{"title", "=", 
           RowBox[{
           "\"\<Experimental data in \>\"", "<>", "PDFname", "<>", 
            "\"\< analysis\>\""}]}], ";", "\n", 
          RowBox[{"lgdpos", "=", 
           RowBox[{"{", 
            RowBox[{"0.25", ",", "0.725"}], "}"}]}], ";", "\n", 
          RowBox[{"xyrangeplot1", "=", "plotrange"}], ";", 
          RowBox[{"(*", 
           RowBox[{
            RowBox[{"20170307", " ", "change", " ", 
             RowBox[{"it", "'"}], "s", " ", "name"}], ",", " ", 
            RowBox[{"avoid", " ", "duplicate"}]}], "*)"}], "\n", 
          RowBox[{"plot1", "=", 
           RowBox[{"PDFloglogplot", "[", 
            RowBox[{
            "pdfcorr", ",", "myMarker", ",", "myplotstyle", ",", "title", ",",
              "xtitle", ",", "ytitle", ",", "xyrangeplot1", ",", "lgdlabel", 
             ",", "lgdpos", ",", "imgsize"}], "]"}]}], ";"}]}], "\n", "]"}], 
       ";", "\n", "\n", "\n", 
       RowBox[{"(*", 
        RowBox[{
         RowBox[{
          RowBox[{"make", " ", "expt", " ", "name"}], " ", "&"}], " ", "ID", 
         " ", "table"}], "*)"}], "\n", 
       RowBox[{"(*", 
        RowBox[{
        "===", "===", "===", "===", "===", "===", "===", "===", "===", 
         "==="}], "*)"}], "\n", "\n", 
       RowBox[{"(*", "output", "*)"}], "\n", 
       RowBox[{"(*", 
        RowBox[{
        "===", "===", "===", "===", "===", "===", "===", "===", "===", 
         "==="}], "*)"}], "\n", "title", ";", "\n", 
       RowBox[{"(*", "\n", 
        RowBox[{
         RowBox[{"GraphicsGrid", "[", 
          RowBox[{"{", 
           RowBox[{
            RowBox[{"{", "xQplotcorr", "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"histplotcorr1", ",", "histplotcorr2"}], "}"}]}], "}"}], 
          "]"}], ";", "\n", 
         RowBox[{"{", 
          RowBox[{
           RowBox[{"{", "xQplotcorr", "}"}], ",", 
           RowBox[{"{", 
            RowBox[{"histplotcorr1", ",", "histplotcorr2"}], "}"}]}], "}"}], 
         ";"}], "\n", "*)"}], "\n", "\n", 
       RowBox[{"(*", 
        RowBox[{"make", "  ", "exptname", " ", "table"}], "*)"}], "\n", 
       RowBox[{"rows", "=", "3"}], ";", "\n", 
       RowBox[{"exptnames", "=", 
        RowBox[{"Table", "[", 
         RowBox[{
          RowBox[{
           RowBox[{"ExptIDtoName", "[", 
            RowBox[{"exptlist", "[", 
             RowBox[{"[", "iexpt", "]"}], "]"}], " ", "]"}], "<>", 
           "\"\<(\>\"", "<>", 
           RowBox[{"ToString", "[", 
            RowBox[{"exptlist", "[", 
             RowBox[{"[", "iexpt", "]"}], "]"}], " ", "]"}], "<>", 
           "\"\<)\>\""}], ",", 
          RowBox[{"{", 
           RowBox[{"iexpt", ",", "1", ",", 
            RowBox[{"Length", "[", "exptlist", "]"}]}], "}"}]}], "]"}]}], ";",
        "\n", 
       RowBox[{
       "Print", "[", "\"\<making table of experiments included in plots\>\"", 
        "]"}], ";", "\n", 
       RowBox[{"exptnamestable", "=", 
        RowBox[{"makeGrid2", "[", 
         RowBox[{"exptnames", ",", "rows", ",", 
          RowBox[{"title", "<>", "\"\<\\n\\n\>\""}]}], "]"}]}], ";", "\n", 
       "\n", 
       RowBox[{"Which", "[", "\n", " ", 
        RowBox[{
         RowBox[{
          RowBox[{"plottype", "==", "2"}], " ", "||", " ", 
          RowBox[{"plottype", "==", "3"}], " ", "||", " ", 
          RowBox[{"plottype", "==", "4"}], " ", "||", " ", 
          RowBox[{"plottype", "==", "5"}], "  ", "||", " ", 
          RowBox[{"plottype", "==", "6"}]}], ",", "\n", 
         RowBox[{"{", 
          RowBox[{
           RowBox[{"{", 
            RowBox[{"xQplotcorr", ",", "exptnamestable"}], "}"}], ",", 
           RowBox[{"{", 
            RowBox[{"histplotcorr1", ",", "histplotcorr2"}], "}"}]}], "}"}], 
         ",", "\n", 
         RowBox[{"plottype", "==", "1"}], ",", "\n", 
         RowBox[{"{", "plot1", "}"}]}], "\n", "]"}]}]}], "\n", "]"}]}], "\n", 
   "\n", "*)"}]}]], "Input",
 CellChangeTimes->{{3.7183386025851316`*^9, 3.71833861534332*^9}}],

Cell[BoxData[
 RowBox[{
  RowBox[{"(*", 
   RowBox[{
    RowBox[{
     RowBox[{
      RowBox[{"modify", " ", "of", " ", "3"}], ":", " ", 
      RowBox[{"when", " ", "plottype"}]}], " ", "=", " ", "5"}], ",", " ", 
    "6", ",", " ", 
    RowBox[{
    "extract", " ", "data", " ", "of", " ", "that", " ", "flavour"}]}], 
   "*)"}], "\n", 
  RowBox[{"(*", 
   RowBox[{
    RowBox[{
     RowBox[{"modify", " ", "of", " ", "4"}], ":", " ", 
     RowBox[{
      RowBox[{"don", "'"}], "t", " ", "set", " ", "local", " ", "variable", 
      " ", "of", " ", "corrfxQdtaobsclassin"}]}], ",", " ", 
    RowBox[{
    "avoiding", " ", "time", " ", "to", " ", "copy", " ", "large", " ", 
     "data", " ", "to", " ", "local", " ", "variable"}], ",", " ", 
    RowBox[{"for", " ", "mode", " ", "5"}], ",", 
    RowBox[{
    "6", " ", "only", " ", "deal", " ", "with", " ", "\n", "corresponding", 
     " ", "flavour", " ", "data", " ", 
     RowBox[{"(", 
      RowBox[{"by", " ", "flavourin"}], ")"}]}]}], "*)"}], "\n", "\n", 
  RowBox[{"(*", 
   RowBox[{
   "20170515", " ", "this", " ", "version", " ", "corrfxQdtaobsclassin", " ", 
    "structure", " ", "is", " ", 
    RowBox[{"{", 
     RowBox[{"class1", ",", " ", "class2", ",", "..."}], "}"}], "\n", "it", 
    " ", "is", " ", "for", " ", "plotting", " ", "different", " ", "group", 
    " ", "of", " ", "data", " ", "in", " ", "different", " ", "point", " ", 
    "shapes"}], "\n", "*)"}], "\n", 
  RowBox[{
   RowBox[{"processdataplotsmultiexp6percentage", "[", 
    RowBox[{
    "corrfxQdtaobsclassin_", ",", "configargumentsin_", ",", "plottypein_", 
     ",", "flavourin_"}], "]"}], ":=", "\n", 
   RowBox[{"Module", "[", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{"(*", 
       RowBox[{
        RowBox[{"corrfxQdtaobsclass", "=", "corrfxQdtaobsclassin"}], ","}], 
       "*)"}], 
      RowBox[{
       RowBox[{"configarguments", "=", "configargumentsin"}], ",", "\n", 
       RowBox[{"plottype", "=", "plottypein"}], ",", 
       RowBox[{"(*", 
        RowBox[{
         RowBox[{"flavour", "=", "flavourin"}], ","}], "*)"}], "flavour", ",",
        "\n", "Jobid", ",", "PDFname", ",", "FigureType", ",", "FigureFlag", 
       ",", "ExptidType", ",", "ExptidFlag", ",", "CorrelationArgType", ",", 
       "CorrelationArgFlag", ",", "UserArgName", ",", "UserArgValue", ",", 
       "\n", "XQfigureXrange", ",", "XQfigureYrange", ",", "Hist1figureNbin", 
       ",", "Hist1figureXrange", ",", "Hist1figureYrange", ",", "\n", 
       "ColorSeperator", ",", "\n", "Size", ",", "HighlightType", ",", 
       "HighlightMode", ",", "HighlightMode1", ",", "HighlightMode2", ",", 
       "\n", "processes", ",", "ExptList1", ",", "pdfsetexps", ",", 
       "processestitle", ",", "PDISNCtitle", ",", "NDISCCtitle", ",", 
       "PDISNCCCtitle", ",", "PVBPZtitle", ",", "PVBPWtitle", ",", "PJPtitle",
        ",", "hDISNCtitle", ",", "hDISCCtitle", ",", "hVBPZtitle", ",", 
       "pdfnamelable", ",", "PDFsetlabel", ",", "pdffile", ",", "corrfile", 
       ",", "pdfcorr", ",", "pdfcorrdr", ",", "deltaR", ",", "textsize", ",", 
       "Npttext", ",", "maxtext", ",", "maxmarker", ",", "mintext", ",", 
       "minmarker", ",", "cuttext", ",", "epilogxQ", ",", "epilogxQcorr", ",",
        "corrtitle1", ",", "corrdrtitle1", ",", "deltaRtitle1", ",", "title2",
        ",", "obsname", ",", "title3", ",", "title4", ",", "title", ",", 
       "xtitle", ",", "ytitle", ",", "xhisttitle", ",", "xhistabstitle", ",", 
       "yhisttitle", ",", "plotrange", ",", "stretchx", ",", "stretchy", ",", 
       "legendlabel", ",", "barseperator", ",", "binset", ",", "lineelement", 
       ",", "plotrangex", ",", "SM", ",", "SM1", ",", "SM2", ",", "SM3", ",", 
       "xQplotcorr", " ", ",", "histplotcorr1", ",", "histplotcorr2", ",", 
       "xQplotcorrdr", ",", "histplotcorrdr1", ",", "histplotcorrdr2", ",", 
       "xQplotdr", ",", "histplotdr2", ",", "myexpids", ",", "fmax", ",", 
       "fmax2", ",", "\n", "imgsize", ",", 
       RowBox[{"(*", 
        RowBox[{"title", ",", "xtitle", ",", "ytitle", ","}], "*)"}], 
       "lgdlabel", ",", "xrange", ",", "yrange", ",", "epilog", ",", 
       "titlesize", ",", "xtitlesize", ",", "ytitlesize", ",", "lgdlabelsize",
        ",", "ticklablesize", ",", "\n", "myplotstyle", ",", "myMarker", ",", 
       "\n", "lgdpos", ",", "xyrangeplot1", ",", "\n", "myplotsetting", ",", 
       "plot1data", ",", "plot1", ",", "processesplot1order", ",", "\n", 
       "dummy1", ",", "dummy2", ",", "percentagetext", ",", "hist1plotrangex",
        ",", "histautoxrange", ",", "hist2plotrangex", ",", "xQautorange", 
       ",", "unhighlightsize", ",", "highlightrange", ",", "highlighttext", 
       ",", "\n", "exptlist", ",", "expttype", ",", "\n", "rows", ",", 
       "exptnames", ",", "exptnamestable", ",", "\n", "lineelement2", ",", 
       "maxdata", ",", "\[IndentingNewLine]", "barlegend"}], "}"}], ",", "\n", 
     RowBox[{"(*", 
      RowBox[{
      "read", " ", "arguments", " ", "in", " ", "config", " ", "file"}], 
      "*)"}], "\n", 
     RowBox[{"(*", 
      RowBox[{
      "===", "===", "===", "===", "===", "===", "===", "===", "===", "==="}], 
      "*)"}], "\n", 
     RowBox[{
      RowBox[{
       RowBox[{"{", 
        RowBox[{
        "Jobid", ",", "PDFname", ",", "FigureType", ",", "FigureFlag", ",", 
         "ExptidType", ",", "ExptidFlag", ",", "CorrelationArgType", ",", 
         "CorrelationArgFlag", ",", "UserArgName", ",", "UserArgValue", ",", 
         "\n", "XQfigureXrange", ",", "XQfigureYrange", ",", 
         "Hist1figureNbin", ",", "Hist1figureXrange", ",", 
         "Hist1figureYrange", ",", "\n", "ColorSeperator", ",", "\n", "Size", 
         ",", "HighlightType", ",", "HighlightMode", ",", "HighlightMode1", 
         ",", "HighlightMode2"}], "}"}], "=", "configarguments"}], ";", "\n", 
      "\n", 
      RowBox[{"(*", 
       RowBox[{"read", " ", "exptlist"}], "*)"}], "\n", 
      RowBox[{"exptlist", "=", 
       RowBox[{"{", "}"}]}], ";", "\n", 
      RowBox[{"If", "[", 
       RowBox[{
        RowBox[{
         RowBox[{"plottype", "==", "1"}], "  ", "||", " ", 
         RowBox[{"plottype", "==", "5"}], "  ", "||", " ", 
         RowBox[{"plottype", "==", "6"}]}], ",", 
        RowBox[{"exptlist", "=", 
         RowBox[{
          RowBox[{
           RowBox[{"Table", "[", 
            RowBox[{
             RowBox[{
              RowBox[{"#", "[", 
               RowBox[{"[", 
                RowBox[{"iexpt", ",", "6"}], "]"}], "]"}], "[", 
              RowBox[{"[", 
               RowBox[{"\"\<exptinfo\>\"", ",", "\"\<exptid\>\""}], "]"}], 
              "]"}], ",", 
             RowBox[{"{", 
              RowBox[{"iexpt", ",", "1", ",", 
               RowBox[{"Length", "[", "#", "]"}]}], "}"}]}], "]"}], "&"}], "/@",
           "corrfxQdtaobsclassin"}]}]}], " ", "]"}], ";", "\n", 
      RowBox[{"If", "[", 
       RowBox[{
        RowBox[{
         RowBox[{"plottype", "==", "2"}], "  ", "||", " ", 
         RowBox[{"plottype", "==", "3"}], "  ", "||", " ", 
         RowBox[{"plottype", "==", "4"}]}], ",", "\n", 
        RowBox[{"exptlist", "=", 
         RowBox[{
          RowBox[{
           RowBox[{"Table", "[", 
            RowBox[{
             RowBox[{
              RowBox[{"#", "[", 
               RowBox[{"[", "iexpt", "]"}], "]"}], "[", 
              RowBox[{"[", 
               RowBox[{"\"\<exptinfo\>\"", ",", "\"\<exptid\>\""}], "]"}], 
              "]"}], ",", 
             RowBox[{"{", 
              RowBox[{"iexpt", ",", "1", ",", 
               RowBox[{"Length", "[", "#", "]"}]}], "}"}]}], "]"}], "&"}], "/@",
           "corrfxQdtaobsclassin"}]}]}], " ", "]"}], ";", "\n", 
      RowBox[{"(*", "test", "*)"}], 
      RowBox[{"Print", "[", 
       RowBox[{"\"\<expts: \>\"", ",", "exptlist"}], "]"}], ";", "\n", 
      RowBox[{"(*", 
       RowBox[{
        RowBox[{"base", " ", "on", " ", "FigureFlag"}], ",", " ", 
        RowBox[{
        "decide", " ", "the", " ", "plot", " ", "type", " ", "of", " ", 
         "output", " ", "plots", " ", 
         RowBox[{"(", 
          RowBox[{
          "which", " ", "data", " ", "is", " ", "used", " ", "to", " ", 
           "plot"}], ")"}]}], ",", " ", "\n", 
        RowBox[{
         RowBox[{"ex", ":", " ", 
          RowBox[{"if", " ", "correlation", " ", "flag"}]}], " ", "=", " ", 
         "1"}], ",", " ", 
        RowBox[{"use", " ", "correlation", " ", "data"}]}], "*)"}], "\n", 
      RowBox[{"(*", 
       RowBox[{
       "===", "===", "===", "===", "===", "===", "===", "===", "===", "==="}],
        "*)"}], "\n", "\n", 
      RowBox[{"(*", 
       RowBox[{
        RowBox[{"decide", " ", "title", " ", "by", " ", "PDFname"}], ",", " ",
         "FigureFlag", ",", " ", "CorrelationArgFlag", ",", " ", 
        RowBox[{"ex", ":", " ", 
         RowBox[{"Corr", 
          RowBox[{
           RowBox[{"(", 
            RowBox[{
             RowBox[{"f_j", 
              RowBox[{"(", 
               RowBox[{"x", ",", "Q"}], ")"}]}], ",", 
             RowBox[{"r_i", 
              RowBox[{"(", 
               RowBox[{"x", ",", "Q"}], ")"}]}]}], ")"}], ".", "\n", "if"}], 
          " ", "user", " ", "of", " ", "CorrelationArgFlag", " ", "is", " ", 
          "on"}]}], ",", " ", 
        RowBox[{"Corr", 
         RowBox[{"(", " ", 
          RowBox[{"user_input", ",", 
           RowBox[{"r_i", 
            RowBox[{"(", 
             RowBox[{"x", ",", "Q"}], ")"}]}]}], ")"}]}]}], "*)"}], "\n", 
      RowBox[{"(*", 
       RowBox[{
       "===", "===", "===", "===", "===", "===", "===", "===", "===", "==="}],
        "*)"}], "\n", 
      RowBox[{"corrtitle1", "=", "\"\<Corr( \>\""}], ";", "\n", 
      RowBox[{"corrdrtitle1", "=", 
       RowBox[{"(*", 
        RowBox[{"\"\<\[Delta]r*Corr( \>\"", ";"}], "*)"}], 
       "\"\<Sensitivity to \>\""}], ";", "\n", 
      RowBox[{"(*", 
       RowBox[{
        RowBox[{"deltaRtitle1", "=", 
         RowBox[{"(*", 
          RowBox[{"\"\<\[Delta]r \>\"", ";"}], "*)"}], 
         RowBox[{"(*", 
          RowBox[{"\"\<PDF error \[Delta]r for residuals, \>\"", ";"}], 
          "*)"}], "\"\<\[Delta]r\>\""}], ";"}], "*)"}], "\n", 
      RowBox[{"title2", "=", 
       RowBox[{"(*", 
        RowBox[{"\"\<, r(x,\[Mu]))\>\"", ";"}], "*)"}], 
       "\"\<, \!\(\*SubscriptBox[\(r\), \(i\)]\))\>\""}], ";", "\n", 
      RowBox[{"title3", "=", 
       RowBox[{"(*", "\"\< for dataset of \>\"", "*)"}], 
       RowBox[{"\"\<, \>\"", "<>", "PDFname"}]}], ";", "\n", 
      RowBox[{"obsname", "=", "\"\<\>\""}], ";", 
      RowBox[{"(*", "initialize", "*)"}], "\n", 
      RowBox[{"pdfnamelable", "=", 
       RowBox[{"{", 
        RowBox[{
        "\"\<\\!\\(\\*OverscriptBox[\\(b\\), \\(_\\)]\\)(x,\[Mu])\>\"", ",", 
         "\"\<\\!\\(\\*OverscriptBox[\\(c\\), \\(_\\)]\\)(x,\[Mu])\>\"", ",", 
         "\"\<\\!\\(\\*OverscriptBox[\\(s\\), \\(_\\)]\\)(x,\[Mu])\>\"", ",", 
         "\"\<\\!\\(\\*OverscriptBox[\\(d\\), \\(_\\)]\\)(x,\[Mu])\>\"", ",", 
         "\"\<\\!\\(\\*OverscriptBox[\\(u\\), \\(_\\)]\\)(x,\[Mu])\>\"", ",", 
         "\"\<g(x,\[Mu])\>\"", ",", "\"\<u(x,\[Mu])\>\"", ",", 
         "\"\<d(x,\[Mu])\>\"", ",", "\"\<s(x,\[Mu])\>\"", ",", 
         "\"\<c(x,\[Mu])\>\"", ",", "\"\<b(x,\[Mu])\>\"", ",", 
         "\"\<\\!\\(\\*FractionBox[\\(\\*OverscriptBox[\\(d\\), \\(_\\)] \
\\((x, \[Mu])\\)\\), \\(\\*OverscriptBox[\\(u\\), \\(_\\)] \\((x, \
\[Mu])\\)\\)]\\)\>\"", ",", 
         "\"\<\\!\\(\\*FractionBox[\\(d \\((x, \[Mu])\\)\\), \\(u \\((x, \
\[Mu])\\)\\)]\\)\>\"", ",", 
         "\"\<\\!\\(\\*FractionBox[\\(s \\((x, \[Mu])\\) + \
\\*OverscriptBox[\\(s\\), \\(_\\)] \\((x, \[Mu])\\)\\), \
\\(\\*OverscriptBox[\\(u\\), \\(_\\)] \\((x, \[Mu])\\) + \
\\*OverscriptBox[\\(d\\), \\(_\\)] \\((x, \[Mu])\\)\\)]\\)\>\"", ",", 
         "UserArgName"}], "}"}]}], ";", "\n", "\[IndentingNewLine]", 
      RowBox[{"(*", 
       RowBox[{"20171107", ":", " ", 
        RowBox[{"simplify", " ", "title", " ", "labels"}]}], "*)"}], "\n", 
      RowBox[{"If", "[", "\n", 
       RowBox[{
        RowBox[{
         RowBox[{"plottype", ">=", "1"}], " ", "&&", " ", 
         RowBox[{"plottype", "<=", "6"}]}], ",", "\n", 
        RowBox[{
         RowBox[{"If", "[", "\n", 
          RowBox[{
           RowBox[{"plottype", "==", "1"}], " ", ",", "\n", 
           RowBox[{
            RowBox[{"obsname", "=", "\"\<\>\""}], ";"}]}], "\n", "]"}], ";", 
         "\n", 
         RowBox[{"If", "[", "\n", 
          RowBox[{
           RowBox[{"plottype", "==", "2"}], " ", ",", "\n", 
           RowBox[{
            RowBox[{
            "obsname", "=", 
             "\"\<\!\(\*SubscriptBox[\(\[Sigma]\), \
\(i\)]\)/\!\(\*SubscriptBox[\(D\), \(i\)]\)\>\""}], ";", "\n", 
            RowBox[{"title", "=", 
             RowBox[{"obsname", "<>", "title3"}]}], ";"}]}], "\n", "]"}], ";",
          "\n", 
         RowBox[{"If", "[", "\n", 
          RowBox[{
           RowBox[{"plottype", "==", "3"}], " ", ",", "\n", 
           RowBox[{
            RowBox[{
            "obsname", "=", 
             "\"\<\!\(\*SubscriptBox[\(r\), \(i\)]\) (Residual)\>\""}], ";", 
            "\n", 
            RowBox[{"title", "=", 
             RowBox[{"obsname", "<>", "title3"}]}], ";"}]}], "\n", "]"}], ";",
          "\n", 
         RowBox[{"If", "[", "\n", 
          RowBox[{
           RowBox[{"plottype", "==", "4"}], " ", ",", "\[IndentingNewLine]", 
           RowBox[{
            RowBox[{
            "obsname", "=", 
             "\"\<\!\(\*SubscriptBox[\(\[Delta]r\), \(i\)]\)\>\""}], ";", 
            "\n", 
            RowBox[{"(*", 
             RowBox[{
              RowBox[{"obsname", "=", 
               RowBox[{"deltaRtitle1", "<>", "PDFname"}]}], ";"}], "*)"}], 
            "\n", 
            RowBox[{"title", "=", 
             RowBox[{"obsname", "<>", "title3"}]}], ";"}]}], "\n", "]"}], ";",
          "\n", 
         RowBox[{"If", "[", "\n", 
          RowBox[{
           RowBox[{"plottype", "==", "5"}], " ", ",", "\n", 
           RowBox[{
            RowBox[{"obsname", "=", 
             RowBox[{"corrdrtitle1", "<>", 
              RowBox[{"pdfnamelable", "[", 
               RowBox[{"[", 
                RowBox[{"flavourin", "+", "6"}], "]"}], "]"}]}]}], 
            RowBox[{"(*", 
             RowBox[{"<>", "title2"}], "*)"}], ";", "\n", 
            RowBox[{"title", "=", 
             RowBox[{"obsname", "<>", "title3"}]}], ";"}]}], "\n", "]"}], ";",
          "\n", 
         RowBox[{"If", "[", "\n", 
          RowBox[{
           RowBox[{"plottype", "==", "6"}], " ", ",", "\n", 
           RowBox[{
            RowBox[{"obsname", "=", 
             RowBox[{"corrtitle1", "<>", 
              RowBox[{"pdfnamelable", "[", 
               RowBox[{"[", 
                RowBox[{"flavourin", "+", "6"}], "]"}], "]"}], "<>", 
              "title2"}]}], ";", "\n", 
            RowBox[{"title", "=", 
             RowBox[{"obsname", "<>", "title3"}]}], ";"}]}], "\n", "]"}], 
         ";"}]}], "\n", "\n", "]"}], ";", "\n", "\n", "\n", 
      RowBox[{"xtitle", "=", "\"\<x\>\""}], ";", "\n", 
      RowBox[{"ytitle", "=", "\"\<\[Mu] [GeV]\>\""}], ";", "\n", 
      RowBox[{"xhisttitle", "=", "obsname"}], ";", "\n", 
      RowBox[{"xhistabstitle", "=", 
       RowBox[{"\"\<| \>\"", "<>", "obsname", "<>", "\"\< |\>\""}]}], ";", 
      "\n", 
      RowBox[{"yhisttitle", "=", "\"\<#points\>\""}], ";", "\n", "\n", 
      RowBox[{"(*", 
       RowBox[{"btw", " ", "test"}], "*)"}], 
      RowBox[{"(*", 
       RowBox[{
        RowBox[{"Print", "[", 
         RowBox[{"\"\<test: \>\"", ",", "plottype"}], "]"}], ";"}], "*)"}], 
      "\n", "\n", 
      RowBox[{"(*", 
       RowBox[{
       "decide", " ", "the", " ", "data", " ", "include", " ", "by", " ", 
        "ExptidFlag", " ", 
        RowBox[{"<<", " ", "perhaps"}], " ", "could", " ", "be", " ", "done", 
        " ", "before", " ", "function"}], "*)"}], "\n", 
      RowBox[{"(*", 
       RowBox[{
       "===", "===", "===", "===", "===", "===", "===", "===", "===", "==="}],
        "*)"}], "\n", 
      RowBox[{"(*", 
       RowBox[{
       "make", " ", "text", " ", "for", " ", "Npt", " ", "of", " ", "data"}], 
       "*)"}], "\n", 
      RowBox[{"(*", "********************************)"}], "\n", 
      RowBox[{"(*", 
       RowBox[{
       "prepare", " ", "for", " ", "data", " ", "input", " ", "to", " ", 
        "processdataplotsmultiexp"}], "*)"}], "\n", 
      RowBox[{"(*", "********************************)"}], "\n", 
      RowBox[{"(*", 
       RowBox[{
        RowBox[{
        "transf", " ", "format", " ", "from", " ", "LF", " ", "to", " ", 
         "LF1"}], ",", " ", 
        RowBox[{
        "since", " ", "plot", " ", "functions", " ", "use", " ", "LF1"}]}], 
       "*)"}], "\n", "\n", 
      RowBox[{"(*", 
       RowBox[{
        RowBox[{"if", " ", "dr", "*", "corr", " ", "or", " ", "corr"}], ",", 
        " ", 
        RowBox[{"data", " ", 
         RowBox[{"is", " ", "[", 
          RowBox[{"[", 
           RowBox[{"iexpt", ",", "flavour"}], "]"}], "]"}]}]}], "*)"}], "\n", 
      
      RowBox[{"(*", 
       RowBox[{
        RowBox[{
         RowBox[{"20170515", ":", " ", "pdfcorr"}], " ", "=", " ", 
         RowBox[{"{", 
          RowBox[{"group1data", ",", " ", "group2data", ",", " ", "..."}], 
          "}"}]}], ",", " ", 
        RowBox[{"groupNdata", " ", "=", " ", 
         RowBox[{"{", 
          RowBox[{
           RowBox[{"LF1", "[", 
            RowBox[{"x", ",", "Q", ",", "obs"}], "]"}], ",", "..."}], 
          "}"}]}]}], "*)"}], "\n", 
      RowBox[{"If", "[", "\n", 
       RowBox[{
        RowBox[{
         RowBox[{"plottype", "==", "5"}], "  ", "||", " ", 
         RowBox[{"plottype", "==", "6"}]}], ",", "\n", 
        RowBox[{
         RowBox[{"fmax", "=", 
          RowBox[{"Length", "[", 
           RowBox[{"corrfxQdtaobsclassin", "[", 
            RowBox[{"[", 
             RowBox[{"1", ",", "1"}], "]"}], "]"}], " ", "]"}]}], ";", "\n", 
         "\n", 
         RowBox[{"(*", 
          RowBox[{
           RowBox[{
            RowBox[{"data", " ", "format"}], " ", "\[Equal]", " ", 
            RowBox[{"{", 
             RowBox[{
              RowBox[{"LF", "[", 
               RowBox[{"x", ",", "Q", ",", "obs"}], "]"}], ",", "...", ",", 
              "..."}], "}"}]}], ",", " ", 
           RowBox[{"to", " ", "LF1"}]}], "*)"}], "\n", 
         RowBox[{"pdfcorr", "=", 
          RowBox[{
           RowBox[{
            RowBox[{"Table", "[", 
             RowBox[{
              RowBox[{
               RowBox[{
                RowBox[{"#", "[", 
                 RowBox[{"[", 
                  RowBox[{"iexpt", ",", 
                   RowBox[{"flavourin", "+", "6"}]}], "]"}], "]"}], "[", 
                RowBox[{"[", "\"\<data\>\"", "]"}], "]"}], "/.", 
               RowBox[{"LF", "->", "LF1"}]}], ",", 
              RowBox[{"{", 
               RowBox[{"iexpt", ",", "1", ",", 
                RowBox[{"Length", "[", "#", "]"}]}], "}"}]}], "]"}], "&"}], "/@",
            "corrfxQdtaobsclassin"}]}], ";", "\n", "\n", 
         RowBox[{"(*", 
          RowBox[{
           RowBox[{
           "merge", " ", "all", " ", "experimental", " ", "data", " ", "into",
             " ", "one"}], ",", " ", 
           RowBox[{"for", " ", "all", " ", "flavours"}]}], "*)"}], "\n", 
         RowBox[{"(*", 
          RowBox[{
           RowBox[{"ex", ":", " ", 
            RowBox[{"corrdataforplot", "[", 
             RowBox[{"[", 
              RowBox[{"iexpt", ",", "flavour", ",", "Npt"}], "]"}], "]"}]}], 
           " ", "\[Rule]", " ", 
           RowBox[{"orrdataforplot", "[", 
            RowBox[{"[", 
             RowBox[{"flavour", ",", "Npt"}], "]"}], "]"}]}], "*)"}], "\n", 
         RowBox[{"(*", 
          RowBox[{
           RowBox[{
            RowBox[{"{", 
             RowBox[{"pdfcorr", " ", ",", "dummy1", ",", "dummy2"}], "}"}], 
            "=", 
            RowBox[{"mergeplotdata", "[", 
             RowBox[{"{", 
              RowBox[{"pdfcorr", " ", ",", "pdfcorr", ",", "pdfcorr"}], "}"}],
              "]"}]}], ";"}], "*)"}], "\n", 
         RowBox[{"pdfcorr", "=", 
          RowBox[{
           RowBox[{
            RowBox[{"Flatten", "[", 
             RowBox[{"#", ",", "1"}], "]"}], "&"}], "/@", "pdfcorr"}]}], ";", 
         "\n", "\n", 
         RowBox[{"(*", " ", 
          RowBox[{"deletezerovalue", ":", " ", 
           RowBox[{
           "delete", " ", "data", " ", "with", " ", "0", " ", "value", " ", 
            RowBox[{"(", 
             RowBox[{
              RowBox[{
              "0", " ", "value", " ", "usually", " ", "from", " ", "mb"}], 
              ",", " ", 
              RowBox[{"mc", " ", "cut"}]}], ")"}]}]}], "*)"}], "\n", 
         RowBox[{"(*", 
          RowBox[{
           RowBox[{
            RowBox[{"{", 
             RowBox[{"pdfcorr", " ", ",", "dummy1", ",", "dummy2"}], "}"}], 
            "=", 
            RowBox[{"deletezerovalue", "[", 
             RowBox[{"{", 
              RowBox[{"pdfcorr", " ", ",", "pdfcorr", ",", "pdfcorr"}], "}"}],
              "]"}]}], ";"}], "*)"}], "\n", 
         RowBox[{"pdfcorr", "=", 
          RowBox[{"Table", "[", 
           RowBox[{
            RowBox[{"Select", "[", 
             RowBox[{
              RowBox[{"pdfcorr", "[", 
               RowBox[{"[", "igroup", "]"}], "]"}], ",", 
              RowBox[{
               RowBox[{
                RowBox[{"#", "[", 
                 RowBox[{"[", "3", "]"}], "]"}], "!=", "0"}], "&"}]}], "]"}], 
            ",", 
            RowBox[{"{", 
             RowBox[{"igroup", ",", "1", ",", 
              RowBox[{"Length", "[", "pdfcorr", "]"}]}], "}"}]}], "]"}]}], 
         ";", "\n", "\"\<dummy\>\""}]}], "\n", "]"}], ";", "\n", "\n", 
      RowBox[{"(*", 
       RowBox[{"data", " ", 
        RowBox[{"of", " ", "[", 
         RowBox[{"[", "iexpt", "]"}], "]"}]}], "*)"}], "\n", 
      RowBox[{"If", "[", "\n", 
       RowBox[{
        RowBox[{
         RowBox[{"plottype", "==", "2"}], " ", "||", " ", 
         RowBox[{"plottype", "==", "3"}], " ", "||", " ", 
         RowBox[{"plottype", "==", "4"}]}], ",", "\n", 
        RowBox[{"(*", 
         RowBox[{
          RowBox[{"take", " ", "data"}], ",", " ", 
          RowBox[{
          "and", " ", "format", " ", "from", " ", "LF", " ", "to", " ", "LF1",
            " ", 
           RowBox[{"(", 
            RowBox[{
            "LF1", " ", "is", " ", "format", " ", "to", " ", "input", " ", 
             "to", " ", "plot", " ", "functions"}], ")"}]}]}], "*)"}], "\n", 
        RowBox[{
         RowBox[{"pdfcorr", "=", 
          RowBox[{
           RowBox[{
            RowBox[{"Table", "[", 
             RowBox[{
              RowBox[{
               RowBox[{
                RowBox[{"#", "[", 
                 RowBox[{"[", "iexpt", "]"}], "]"}], "[", 
                RowBox[{"[", "\"\<data\>\"", "]"}], "]"}], "/.", 
               RowBox[{"LF", "->", "LF1"}]}], ",", 
              RowBox[{"{", 
               RowBox[{"iexpt", ",", "1", ",", 
                RowBox[{"Length", "[", "#", "]"}]}], "}"}]}], "]"}], "&"}], "/@",
            "corrfxQdtaobsclassin"}]}], ";", "\n", 
         RowBox[{"(*", 
          RowBox[{
          "20171108", " ", "expt", " ", "error", " ", "ratio", " ", "values", 
           " ", "should", " ", "be", " ", "absolute", " ", "value"}], "*)"}], 
         "\[IndentingNewLine]", 
         RowBox[{"If", "[", 
          RowBox[{
           RowBox[{"plottype", "==", "2"}], ",", 
           RowBox[{"pdfcorr", "=", 
            RowBox[{"pdfcorr", "/.", 
             RowBox[{
              RowBox[{"LF1", "[", "a__", "]"}], "\[RuleDelayed]", 
              RowBox[{"LF1", "[", 
               RowBox[{
                RowBox[{
                 RowBox[{"{", "a", "}"}], "[", 
                 RowBox[{"[", "1", "]"}], "]"}], ",", 
                RowBox[{
                 RowBox[{"{", "a", "}"}], "[", 
                 RowBox[{"[", "2", "]"}], "]"}], ",", 
                RowBox[{"Abs", "[", 
                 RowBox[{
                  RowBox[{"{", "a", "}"}], "[", 
                  RowBox[{"[", "3", "]"}], "]"}], " ", "]"}]}], " ", 
               "]"}]}]}]}]}], " ", "]"}], ";", "\n", 
         RowBox[{"(*", 
          RowBox[{"merge", " ", "all", " ", "data", " ", "into", " ", "one"}],
           "*)"}], "\n", 
         RowBox[{"pdfcorr", "=", 
          RowBox[{
           RowBox[{
            RowBox[{"Flatten", "[", 
             RowBox[{"#", ",", "1"}], "]"}], "&"}], "/@", "pdfcorr"}]}], ";", 
         "\n", "\"\<dummy\>\""}]}], "\n", "]"}], ";", "\n", 
      RowBox[{"(*", 
       RowBox[{"test", " ", "print"}], "*)"}], 
      RowBox[{"(*", 
       RowBox[{
        RowBox[{"Print", "[", "pdfcorr", " ", "]"}], ";", 
        RowBox[{"Print", "[", 
         RowBox[{"pdfcorr", "/.", 
          RowBox[{"LF1", "->", "LF2"}]}], " ", "]"}], ";", 
        RowBox[{"Print", "[", 
         RowBox[{"pdfcorr", "/.", 
          RowBox[{
           RowBox[{"LF1", "[", "a__", "]"}], ":>", 
           RowBox[{
            RowBox[{"{", "a", "}"}], "[", 
            RowBox[{"[", "2", "]"}], "]"}]}]}], " ", "]"}], ";"}], "*)"}], 
      "\[IndentingNewLine]", "\n", 
      RowBox[{"If", "[", "\n", 
       RowBox[{
        RowBox[{"plottype", "==", "1"}], ",", "\n", 
        RowBox[{
         RowBox[{"fmax", "=", 
          RowBox[{"Length", "[", 
           RowBox[{"corrfxQdtaobsclassin", "[", 
            RowBox[{"[", 
             RowBox[{"1", ",", "1"}], "]"}], "]"}], " ", "]"}]}], ";", "\n", 
         "\n", 
         RowBox[{"(*", 
          RowBox[{"set", " ", 
           RowBox[{"{", 
            RowBox[{
             RowBox[{"corr", "[", 
              RowBox[{"[", "flavour", "]"}], "]"}], ",", 
             RowBox[{"drcorr", "[", 
              RowBox[{"[", "flavour", "]"}], "]"}], ",", 
             RowBox[{"dr", "[", 
              RowBox[{"[", "flavour", "]"}], "]"}]}], "}"}]}], "*)"}], "\n", 
         RowBox[{"(*", 
          RowBox[{
          "they", " ", "are", " ", "used", " ", "to", "  ", "input", " ", 
           "into", " ", "processdataplotsmultiexp"}], "*)"}], "\n", 
         RowBox[{"(*", 
          RowBox[{
           RowBox[{"data", " ", "format"}], " ", "\[Equal]", " ", 
           RowBox[{"{", 
            RowBox[{
             RowBox[{"LF", "[", 
              RowBox[{"x", ",", "Q", ",", "obs"}], "]"}], ",", "...", ",", 
             "..."}], "}"}]}], "*)"}], "\n", 
         RowBox[{"pdfcorr", "=", 
          RowBox[{
           RowBox[{
            RowBox[{"Table", "[", 
             RowBox[{
              RowBox[{
               RowBox[{
                RowBox[{
                 RowBox[{"Datamethods", "[", 
                  RowBox[{"[", "\"\<take\>\"", "]"}], "]"}], "[", 
                 RowBox[{
                  RowBox[{"#", "[", 
                   RowBox[{"[", 
                    RowBox[{"iexpt", ",", 
                    RowBox[{"flavourin", "+", "6"}]}], "]"}], "]"}], ",", 
                  "2"}], "]"}], "[", 
                RowBox[{"[", "\"\<data\>\"", "]"}], "]"}], "/.", 
               RowBox[{"LF", "->", "LF1"}]}], ",", 
              RowBox[{"{", 
               RowBox[{"iexpt", ",", "1", ",", 
                RowBox[{"Length", "[", "#", "]"}]}], "}"}]}], "]"}], "&"}], "/@",
            "corrfxQdtaobsclassin"}]}], ";"}]}], "\n", "]"}], ";", "\n", "\n", 
      RowBox[{"(*", 
       RowBox[{
        RowBox[{
        "decide", " ", "xy", " ", "range", " ", "of", " ", "xQ", " ", 
         "plot"}], ",", " ", 
        RowBox[{"Nbin", " ", "of", " ", "histogram"}], ",", " ", 
        RowBox[{
        "xy", " ", "range", " ", "of", " ", "histogram", " ", "by", "\n", 
         "XQfigureXrange"}], ",", "XQfigureYrange", ",", "Hist1figureNbin", 
        ",", "Hist1figureXrange", ",", "Hist1figureYrange"}], "*)"}], "\n", 
      RowBox[{"(*", 
       RowBox[{
       "===", "===", "===", "===", "===", "===", "===", "===", "===", "==="}],
        "*)"}], "\n", 
      RowBox[{"plotrange", "=", 
       RowBox[{
        RowBox[{"{", 
         RowBox[{"XQfigureXrange", ",", "XQfigureYrange"}], "}"}], "//", 
        "Flatten"}]}], ";", "\n", "\n", 
      RowBox[{"(*", 
       RowBox[{
        RowBox[{"plotrangex", "=", "Hist1figureXrange"}], ";"}], "*)"}], 
      RowBox[{"(*", 
       RowBox[{
        RowBox[{"for", " ", "histogram"}], ",", " ", 
        RowBox[{"how", " ", "to", " ", "deal", " ", "with", " ", 
         RowBox[{"auto", "?"}]}]}], "*)"}], "\n", 
      RowBox[{"hist1plotrangex", "=", "Hist1figureXrange"}], ";", "\n", "\n", 
      
      RowBox[{"(*", 
       RowBox[{
        RowBox[{"for", " ", "no", " ", "highlight", " ", "mode"}], ",", " ", 
        RowBox[{
        "choose", " ", "size", " ", "of", " ", "data", " ", "point", " ", 
         "in", " ", "plot", " ", "by", " ", "Size", "\n", "for", " ", 
         "highlight", " ", "mode"}], ",", " ", 
        RowBox[{
        "set", " ", "size", " ", "of", " ", "unhighlighted", " ", "data", " ",
          "as", " ", "Size"}], ",", " ", 
        RowBox[{
        "size", " ", "of", " ", "highlighted", " ", "data", " ", "is", " ", 
         "larger", " ", "than", " ", "Size"}]}], "*)"}], 
      "\[IndentingNewLine]", 
      RowBox[{"(*", 
       RowBox[{
       "===", "===", "===", "===", "===", "===", "===", "===", "===", "==="}],
        "*)"}], "\[IndentingNewLine]", 
      RowBox[{"highlightrange", "=", "\n", 
       RowBox[{"Switch", "[", "\n", 
        RowBox[{
         RowBox[{"HighlightMode", "[", 
          RowBox[{"[", "plottype", "]"}], "]"}], ",", "\n", "0", ",", 
         RowBox[{"{", 
          RowBox[{"0.0", ",", "0.0"}], "}"}], ",", "\n", "1", ",", 
         RowBox[{"{", 
          RowBox[{
           RowBox[{"HighlightMode1", "[", 
            RowBox[{"[", 
             RowBox[{
              RowBox[{"2", "*", "plottype"}], "-", "1"}], "]"}], "]"}], ",", 
           RowBox[{"HighlightMode1", "[", 
            RowBox[{"[", 
             RowBox[{"2", "*", "plottype"}], "]"}], "]"}]}], "}"}], ",", "\n",
          "2", ",", 
         RowBox[{"GetDataPercentage", "[", 
          RowBox[{
           RowBox[{
            RowBox[{"Flatten", "[", "pdfcorr", "]"}], "/.", 
            RowBox[{
             RowBox[{"LF1", "[", "a__", "]"}], ":>", 
             RowBox[{"Abs", "[", 
              RowBox[{
               RowBox[{"{", "a", "}"}], "[", 
               RowBox[{"[", "3", "]"}], "]"}], " ", "]"}]}]}], " ", ",", 
           RowBox[{"{", 
            RowBox[{
             RowBox[{"HighlightMode2", "[", 
              RowBox[{"[", 
               RowBox[{
                RowBox[{"2", "*", "plottype"}], "-", "1"}], "]"}], "]"}], ",", 
             RowBox[{"HighlightMode2", "[", 
              RowBox[{"[", 
               RowBox[{"2", "*", "plottype"}], "]"}], "]"}]}], "}"}]}], "]"}],
          "\n", 
         RowBox[{"(*", "\n", 
          RowBox[{"Which", "[", "\n", 
           RowBox[{
            RowBox[{
             RowBox[{"plottype", "\[Equal]", "5"}], "  ", "||", " ", 
             RowBox[{"plottype", "\[Equal]", "6"}]}], ",", "\n", 
            RowBox[{"GetDataPercentage", "[", 
             RowBox[{
              RowBox[{
               RowBox[{"pdfcorr", "[", 
                RowBox[{"[", 
                 RowBox[{"flavourin", "+", "6"}], "]"}], "]"}], "/.", 
               RowBox[{
                RowBox[{"LF1", "[", "a__", "]"}], "\[RuleDelayed]", 
                RowBox[{"Abs", "[", 
                 RowBox[{
                  RowBox[{"{", "a", "}"}], "[", 
                  RowBox[{"[", "3", "]"}], "]"}], " ", "]"}]}]}], " ", ",", 
              RowBox[{"{", 
               RowBox[{
                RowBox[{"HighlightMode2", "[", 
                 RowBox[{"[", 
                  RowBox[{
                   RowBox[{"2", "*", "plottype"}], "-", "1"}], "]"}], "]"}], 
                ",", 
                RowBox[{"HighlightMode2", "[", 
                 RowBox[{"[", 
                  RowBox[{"2", "*", "plottype"}], "]"}], "]"}]}], "}"}]}], 
             "]"}], ",", "\n", " ", 
            RowBox[{
             RowBox[{"plottype", "\[Equal]", "2"}], " ", "||", " ", 
             RowBox[{"plottype", "\[Equal]", "3"}], " ", "||", " ", 
             RowBox[{"plottype", "\[Equal]", "4"}]}], ",", "\n", 
            RowBox[{"GetDataPercentage", "[", 
             RowBox[{
              RowBox[{"pdfcorr", "/.", 
               RowBox[{
                RowBox[{"LF1", "[", "a__", "]"}], "\[RuleDelayed]", 
                RowBox[{"Abs", "[", 
                 RowBox[{
                  RowBox[{"{", "a", "}"}], "[", 
                  RowBox[{"[", "3", "]"}], "]"}], " ", "]"}]}]}], " ", ",", 
              RowBox[{"{", 
               RowBox[{
                RowBox[{"HighlightMode2", "[", 
                 RowBox[{"[", 
                  RowBox[{
                   RowBox[{"2", "*", "plottype"}], "-", "1"}], "]"}], "]"}], 
                ",", 
                RowBox[{"HighlightMode2", "[", 
                 RowBox[{"[", 
                  RowBox[{"2", "*", "plottype"}], "]"}], "]"}]}], "}"}]}], 
             "]"}], ",", "\n", "True", ",", 
            RowBox[{
             RowBox[{
             "Print", "[", "\"\<presently plottype is only 2~6 \>\"", "]"}], 
             ";", 
             RowBox[{"Abort", "[", "]"}]}]}], "\n", "]"}], "*)"}], ",", "\n", 
         "_", ",", 
         RowBox[{
          RowBox[{
          "Print", "[", "\"\<error, highlight mode should be 0, 1, 2\>\"", 
           "]"}], ";", 
          RowBox[{"Abort", "[", "]"}]}]}], "\n", "]"}]}], ";", 
      "\[IndentingNewLine]", 
      RowBox[{"(*", "\n", 
       RowBox[{
        RowBox[{"If", "[", "\n", 
         RowBox[{
          RowBox[{
           RowBox[{"plottype", "\[Equal]", "5"}], "  ", "||", " ", 
           RowBox[{"plottype", "\[Equal]", "6"}]}], ",", "\n", 
          RowBox[{
           RowBox[{"histautoxrange", "=", 
            RowBox[{"3", "*", 
             RowBox[{"Median", "[", 
              RowBox[{
               RowBox[{"pdfcorr", "[", 
                RowBox[{"[", 
                 RowBox[{"flavourin", "+", "6"}], "]"}], "]"}], "/.", 
               RowBox[{
                RowBox[{"LF1", "[", "a__", "]"}], "\[RuleDelayed]", 
                RowBox[{"Abs", "[", 
                 RowBox[{
                  RowBox[{"{", "a", "}"}], "[", 
                  RowBox[{"[", "3", "]"}], "]"}], " ", "]"}]}]}], " ", 
              "]"}]}]}], ";"}]}], "\n", "]"}], ";"}], "\n", "*)"}], 
      "\[IndentingNewLine]", 
      RowBox[{"(*", 
       RowBox[{
       "20171102", " ", "xQ", " ", "plot", " ", "auto", " ", "range"}], 
       "*)"}], "\n", 
      RowBox[{"If", "[", "\n", " ", 
       RowBox[{
        RowBox[{
         RowBox[{"plottype", "\[Equal]", "1"}], " ", "||", " ", 
         RowBox[{"plottype", "\[Equal]", "2"}], " ", "||", " ", 
         RowBox[{"plottype", "==", "3"}], " ", "||", " ", 
         RowBox[{"plottype", "==", "4"}], " ", "||", " ", 
         RowBox[{"plottype", "==", "5"}], " ", "||", " ", 
         RowBox[{"plottype", "\[Equal]", "6"}]}], " ", ",", "\n", 
        RowBox[{"xQautorange", "=", 
         RowBox[{"{", 
          RowBox[{
           RowBox[{"{", 
            RowBox[{
             SuperscriptBox["10", 
              RowBox[{"-", "5"}]], ",", "1"}], "}"}], ",", 
           RowBox[{"{", 
            RowBox[{"1", ",", "2000"}], "}"}]}], "}"}]}]}], "\n", "]"}], ";", 
      "\[IndentingNewLine]", 
      RowBox[{"If", "[", 
       RowBox[{
        RowBox[{
         RowBox[{"plotrange", "[", 
          RowBox[{"[", "1", "]"}], "]"}], "==", "\"\<auto\>\""}], ",", 
        RowBox[{
         RowBox[{"plotrange", "[", 
          RowBox[{"[", "1", "]"}], "]"}], "=", 
         RowBox[{"xQautorange", "[", 
          RowBox[{"[", 
           RowBox[{"1", ",", "1"}], "]"}], "]"}]}]}], " ", "]"}], ";", "\n", 
      RowBox[{"If", "[", 
       RowBox[{
        RowBox[{
         RowBox[{"plotrange", "[", 
          RowBox[{"[", "2", "]"}], "]"}], "==", "\"\<auto\>\""}], ",", 
        RowBox[{
         RowBox[{"plotrange", "[", 
          RowBox[{"[", "2", "]"}], "]"}], "=", 
         RowBox[{"xQautorange", "[", 
          RowBox[{"[", 
           RowBox[{"1", ",", "2"}], "]"}], "]"}]}]}], " ", "]"}], ";", 
      "\[IndentingNewLine]", 
      RowBox[{"If", "[", 
       RowBox[{
        RowBox[{
         RowBox[{"plotrange", "[", 
          RowBox[{"[", "3", "]"}], "]"}], "==", "\"\<auto\>\""}], ",", 
        RowBox[{
         RowBox[{"plotrange", "[", 
          RowBox[{"[", "3", "]"}], "]"}], "=", 
         RowBox[{"xQautorange", "[", 
          RowBox[{"[", 
           RowBox[{"2", ",", "1"}], "]"}], "]"}]}]}], " ", "]"}], ";", "\n", 
      RowBox[{"If", "[", 
       RowBox[{
        RowBox[{
         RowBox[{"plotrange", "[", 
          RowBox[{"[", "4", "]"}], "]"}], "==", "\"\<auto\>\""}], ",", 
        RowBox[{
         RowBox[{"plotrange", "[", 
          RowBox[{"[", "4", "]"}], "]"}], "=", 
         RowBox[{"xQautorange", "[", 
          RowBox[{"[", 
           RowBox[{"2", ",", "2"}], "]"}], "]"}]}]}], " ", "]"}], ";", "\n", 
      "\n", 
      RowBox[{"(*", 
       RowBox[{
        RowBox[{"20170515", ":", " ", 
         RowBox[{
         "for", " ", "statistics", " ", "of", " ", "total", " ", "data"}]}], 
        ",", " ", 
        RowBox[{
        "the", " ", "all", " ", "data", " ", "are", " ", "considered"}], ",", 
        " ", 
        RowBox[{
        "so", " ", "here", " ", "Flatten", " ", "the", " ", "data", " ", 
         "pdfcorr"}]}], "*)"}], "\n", 
      RowBox[{"(*", 
       RowBox[{
        RowBox[{"20170515", ":", " ", 
         RowBox[{"for", " ", "auto", " ", "mode"}]}], ",", " ", "correlation",
         ",", " ", "deltaR", ",", " ", 
        RowBox[{
        "dR", "*", "correlation", " ", "should", " ", "have", " ", 
         "histogram", " ", "of", " ", "roughly", " ", "1"}]}], "*)"}], 
      "\[IndentingNewLine]", 
      RowBox[{"If", "[", "\n", 
       RowBox[{
        RowBox[{"plottype", "==", "2"}], " ", 
        RowBox[{"(*", 
         RowBox[{"||", " ", 
          RowBox[{"plottype", "==", "3"}], " ", "||", " ", 
          RowBox[{"plottype", "==", "4"}], " ", "||", " ", 
          RowBox[{"plottype", "==", "5"}], "  ", "||", " ", 
          RowBox[{"plottype", "==", "6"}]}], "*)"}], ",", "\n", 
        RowBox[{"histautoxrange", "=", 
         RowBox[{"3", "*", 
          RowBox[{"Median", "[", 
           RowBox[{
            RowBox[{"Flatten", "[", "pdfcorr", "]"}], "/.", 
            RowBox[{
             RowBox[{"LF1", "[", "a__", "]"}], ":>", 
             RowBox[{"Abs", "[", 
              RowBox[{
               RowBox[{"{", "a", "}"}], "[", 
               RowBox[{"[", "3", "]"}], "]"}], " ", "]"}]}]}], " ", 
           "]"}]}]}]}], "\n", "]"}], ";", "\n", 
      RowBox[{"If", "[", "\n", 
       RowBox[{
        RowBox[{
         RowBox[{"plottype", "==", "3"}], " ", "||", " ", 
         RowBox[{"plottype", "==", "4"}], " ", "||", " ", 
         RowBox[{"plottype", "==", "5"}]}], " ", ",", "\n", 
        RowBox[{
         RowBox[{"histautoxrange", "=", 
          RowBox[{"Max", "[", 
           RowBox[{
            RowBox[{"3", "*", 
             RowBox[{"Median", "[", 
              RowBox[{
               RowBox[{"Flatten", "[", "pdfcorr", "]"}], "/.", 
               RowBox[{
                RowBox[{"LF1", "[", "a__", "]"}], ":>", 
                RowBox[{"Abs", "[", 
                 RowBox[{
                  RowBox[{"{", "a", "}"}], "[", 
                  RowBox[{"[", "3", "]"}], "]"}], " ", "]"}]}]}], " ", 
              "]"}]}], ",", "1.0"}], "]"}]}], ";"}]}], "\n", "]"}], ";", 
      "\[IndentingNewLine]", 
      RowBox[{"(*", 
       RowBox[{
        RowBox[{"20171106", ":", " ", 
         RowBox[{"if", " ", "highlight", " ", "mode", " ", "on"}]}], ",", " ", 
        RowBox[{
        "auto", " ", "range", " ", "set", " ", "as", " ", "the", " ", "range",
          " ", "of", " ", "highlight"}]}], "*)"}], 
      RowBox[{"(*", 
       RowBox[{"20171108", ":", " ", 
        RowBox[{
        "ranges", " ", "of", " ", "all", " ", "modes", " ", "are", " ", "the",
          " ", "same"}]}], "*)"}], "\n", 
      RowBox[{"(*", "\[IndentingNewLine]", 
       RowBox[{
        RowBox[{"If", "[", "\[IndentingNewLine]", 
         RowBox[{
          RowBox[{
           RowBox[{
            RowBox[{"HighlightMode", "[", 
             RowBox[{"[", "plottype", "]"}], "]"}], "==", "1"}], " ", "||", 
           " ", 
           RowBox[{
            RowBox[{"HighlightMode", "[", 
             RowBox[{"[", "plottype", "]"}], "]"}], "==", "2"}]}], ",", 
          "\[IndentingNewLine]", 
          RowBox[{"histautoxrange", "=", 
           RowBox[{"1.1", "*", 
            RowBox[{"highlightrange", "[", 
             RowBox[{"[", "2", "]"}], "]"}]}]}]}], "\[IndentingNewLine]", 
         "]"}], ";"}], "\[IndentingNewLine]", "*)"}], "\n", 
      "\[IndentingNewLine]", 
      RowBox[{"If", "[", 
       RowBox[{
        RowBox[{
         RowBox[{"hist1plotrangex", "[", 
          RowBox[{"[", "1", "]"}], "]"}], "==", "\"\<auto\>\""}], ",", 
        RowBox[{
         RowBox[{"hist1plotrangex", "[", 
          RowBox[{"[", "1", "]"}], "]"}], "=", 
         RowBox[{"-", "histautoxrange"}]}]}], "]"}], ";", "\n", 
      RowBox[{"If", "[", 
       RowBox[{
        RowBox[{
         RowBox[{"hist1plotrangex", "[", 
          RowBox[{"[", "2", "]"}], "]"}], "==", "\"\<auto\>\""}], ",", 
        RowBox[{
         RowBox[{"hist1plotrangex", "[", 
          RowBox[{"[", "2", "]"}], "]"}], "=", "histautoxrange"}]}], "]"}], 
      ";", "\n", 
      RowBox[{"(*", 
       RowBox[{
        RowBox[{"Print", "[", 
         RowBox[{"histautoxrange", ",", "hist1plotrangex"}], "]"}], ";"}], 
       "*)"}], "\n", "\n", 
      RowBox[{"hist2plotrangex", "=", "hist1plotrangex"}], ";", 
      RowBox[{"If", "[", 
       RowBox[{
        RowBox[{
         RowBox[{"hist2plotrangex", "[", 
          RowBox[{"[", "1", "]"}], "]"}], "<", "0.0"}], ",", 
        RowBox[{
         RowBox[{"hist2plotrangex", "[", 
          RowBox[{"[", "1", "]"}], "]"}], "=", "0.0"}]}], "]"}], ";", "\n", 
      RowBox[{"(*", 
       RowBox[{
        RowBox[{"for", " ", "correlation", " ", "histogram"}], ",", " ", 
        RowBox[{"set", " ", "range", " ", 
         RowBox[{"(", 
          RowBox[{
           RowBox[{"-", "1"}], ",", "1"}], ")"}]}]}], "*)"}], "\n", 
      RowBox[{"If", "[", 
       RowBox[{
        RowBox[{"plottype", "==", "6"}], ",", 
        RowBox[{
         RowBox[{"hist1plotrangex", "=", 
          RowBox[{"{", 
           RowBox[{
            RowBox[{"-", "1"}], ",", "1"}], "}"}]}], ";", 
         RowBox[{"hist2plotrangex", "=", 
          RowBox[{"{", 
           RowBox[{"0", ",", "1"}], "}"}]}], ";"}]}], "]"}], ";", "\n", 
      RowBox[{"stretchx", "=", "1"}], ";", 
      RowBox[{"stretchy", "=", "1"}], ";", "\n", 
      RowBox[{"Hist1figureNbin", "=", "Hist1figureNbin"}], ";", "\n", "\n", 
      RowBox[{"(*", 
       RowBox[{
       "setup", " ", "texts", " ", "and", " ", "lines", " ", "in", " ", 
        "plots"}], "*)"}], "\n", 
      RowBox[{"(*", 
       RowBox[{
       "===", "===", "===", "===", "===", "===", "===", "===", "===", "==="}],
        "*)"}], "\n", 
      RowBox[{"(*", 
       RowBox[{
       "set", " ", "outlayer", " ", "points", " ", "label", " ", "in", " ", 
        "plot"}], "*)"}], "\n", 
      RowBox[{"textsize", "=", "16"}], ";", "\n", 
      RowBox[{"Npttext", "=", 
       RowBox[{"Text", "[", 
        RowBox[{
         RowBox[{"Style", "[", 
          RowBox[{
           RowBox[{"\"\<Npt: \>\"", "<>", 
            RowBox[{"ToString", "[", 
             RowBox[{"Length", "[", 
              RowBox[{"pdfcorr", "//", "Flatten"}], "]"}], " ", "]"}]}], ",", 
           "textsize", ",", "Black"}], "]"}], ",", 
         RowBox[{"Scaled", "[", 
          RowBox[{"{", 
           RowBox[{"0.1", ",", "0.9"}], "}"}], "]"}]}], " ", "]"}]}], ";", 
      "\n", 
      RowBox[{"maxtext", "=", 
       RowBox[{"Text", "[", 
        RowBox[{
         RowBox[{"Style", "[", 
          RowBox[{
           RowBox[{
            RowBox[{"ToString", "[", 
             RowBox[{"ColorSeperator", "[", 
              RowBox[{"[", "3", "]"}], "]"}], " ", "]"}], "<>", "\"\<%\>\""}],
            ",", "textsize", ",", "Black"}], "]"}], ",", 
         RowBox[{"Scaled", "[", 
          RowBox[{"{", 
           RowBox[{"0.1", ",", "0.8"}], "}"}], "]"}]}], " ", "]"}]}], ";", 
      "\n", 
      RowBox[{"maxmarker", "=", 
       RowBox[{"{", 
        RowBox[{"Red", ",", 
         RowBox[{"PointSize", "->", "0.02"}], ",", 
         RowBox[{"Point", "[", 
          RowBox[{"Scaled", "[", 
           RowBox[{"{", 
            RowBox[{"0.175", ",", "0.8"}], "}"}], "]"}], " ", "]"}]}], 
        "}"}]}], ";", "\n", 
      RowBox[{"mintext", "=", 
       RowBox[{"Text", "[", 
        RowBox[{
         RowBox[{"Style", "[", 
          RowBox[{
           RowBox[{
            RowBox[{"ToString", "[", 
             RowBox[{"ColorSeperator", "[", 
              RowBox[{"[", "3", "]"}], "]"}], " ", "]"}], "<>", 
            "\"\<%(-)\>\""}], ",", "textsize", ",", "Black"}], "]"}], ",", 
         RowBox[{"Scaled", "[", 
          RowBox[{"{", 
           RowBox[{"0.1", ",", "0.7"}], "}"}], "]"}]}], " ", "]"}]}], ";", 
      "\n", 
      RowBox[{"minmarker", "=", 
       RowBox[{"{", 
        RowBox[{"Blue", ",", 
         RowBox[{"PointSize", "->", "0.02"}], ",", 
         RowBox[{"Point", "[", 
          RowBox[{"Scaled", "[", 
           RowBox[{"{", 
            RowBox[{"0.175", ",", "0.7"}], "}"}], "]"}], " ", "]"}]}], 
        "}"}]}], ";", "\n", 
      RowBox[{"cuttext", "=", 
       RowBox[{"Text", "[", 
        RowBox[{
         RowBox[{"Style", "[", 
          RowBox[{"\"\<cut: |data|<0.5\>\"", ",", "textsize", ",", "Black"}], 
          "]"}], ",", 
         RowBox[{"Scaled", "[", 
          RowBox[{"{", 
           RowBox[{"0.15", ",", "0.6"}], "}"}], "]"}]}], " ", "]"}]}], ";", 
      "\n", 
      RowBox[{"percentagetext", "=", 
       RowBox[{"Text", "[", 
        RowBox[{
         RowBox[{"Style", "[", 
          RowBox[{
           RowBox[{"\"\<percentage of colors:\\n\>\"", "<>", 
            RowBox[{"ToString", "[", 
             RowBox[{"ColorSeperator", "[", 
              RowBox[{"[", "1", "]"}], "]"}], " ", "]"}], "<>", "\"\<%\>\"", "<>", 
            RowBox[{"ToString", "[", 
             RowBox[{"ColorSeperator", "[", 
              RowBox[{"[", "2", "]"}], "]"}], " ", "]"}], "<>", "\"\<%\>\"", "<>", 
            RowBox[{"ToString", "[", 
             RowBox[{"ColorSeperator", "[", 
              RowBox[{"[", "3", "]"}], "]"}], " ", "]"}], "<>", "\"\<%\>\""}],
            ",", "textsize", ",", "Black"}], "]"}], ",", 
         RowBox[{"Scaled", "[", 
          RowBox[{"{", 
           RowBox[{"0.2", ",", "0.8"}], "}"}], "]"}]}], " ", "]"}]}], ";", 
      "\n", "\n", 
      RowBox[{"(*", 
       RowBox[{
        RowBox[{"for", " ", "correlation"}], ",", " ", 
        RowBox[{
        "set", " ", "color", " ", "seperator", " ", "by", " ", "0.5"}], ",", 
        " ", "0.7", ",", " ", "0.85", ",", " ", "1"}], "*)"}], "\n", 
      RowBox[{"(*", 
       RowBox[{
        RowBox[{"for", " ", "uncertainty", " ", "of", " ", "theory"}], ",", 
        " ", "experiment", ",", " ", 
        RowBox[{"also", " ", "0.5"}], ",", " ", "0.7", ",", " ", "0.85", ",", 
        " ", "1"}], "*)"}], "\n", 
      RowBox[{"(*", 
       RowBox[{
        RowBox[{"for", " ", "residual", " ", "central", " ", "value"}], ",", 
        " ", "deltaR", ",", " ", 
        RowBox[{"dr", "*", "corr"}], ",", " ", 
        RowBox[{
         RowBox[{"since", " ", "value", " ", "could", " ", "be"}], " ", ">", 
         " ", 
         RowBox[{
         "1", " ", "and", " ", "even", " ", "very", " ", "large", "\n", 
          "color", " ", "seperator", " ", "decided", " ", "by", " ", 
          "ColorSeperator"}]}]}], "*)"}], "\n", 
      RowBox[{"(*", 
       RowBox[{
       "===", "===", "===", "===", "===", "===", "===", "===", "===", "==="}],
        "*)"}], "\n", 
      RowBox[{"(*", "\n", 
       RowBox[{
        RowBox[{"If", "[", "\n", 
         RowBox[{
          RowBox[{"plottype", "\[Equal]", "5"}], ",", "\n", 
          RowBox[{
           RowBox[{"legendlabel", "=", "\"\<\>\""}], ";", "\n", 
           RowBox[{"barseperator", "=", 
            RowBox[{"GetDataPercentage", "[", 
             RowBox[{
              RowBox[{
               RowBox[{"pdfcorr", "[", 
                RowBox[{"[", 
                 RowBox[{"flavourin", "+", "6"}], "]"}], "]"}], "/.", 
               RowBox[{
                RowBox[{"LF1", "[", "a__", "]"}], "\[RuleDelayed]", 
                RowBox[{"Abs", "[", 
                 RowBox[{
                  RowBox[{"{", "a", "}"}], "[", 
                  RowBox[{"[", "3", "]"}], "]"}], " ", "]"}]}]}], " ", ",", 
              RowBox[{"Join", "[", 
               RowBox[{"ColorSeperator", ",", 
                RowBox[{"{", "100", "}"}]}], "]"}]}], " ", "]"}]}], ";", "\n", 
           RowBox[{"barseperator", "=", 
            RowBox[{"{", 
             RowBox[{
              RowBox[{"-", 
               RowBox[{"barseperator", "[", 
                RowBox[{"[", "4", "]"}], "]"}]}], ",", 
              RowBox[{"-", 
               RowBox[{"barseperator", "[", 
                RowBox[{"[", "3", "]"}], "]"}]}], ",", 
              RowBox[{"-", 
               RowBox[{"barseperator", "[", 
                RowBox[{"[", "2", "]"}], "]"}]}], ",", 
              RowBox[{"-", 
               RowBox[{"barseperator", "[", 
                RowBox[{"[", "1", "]"}], "]"}]}], ",", 
              RowBox[{"barseperator", "[", 
               RowBox[{"[", "1", "]"}], "]"}], ",", 
              RowBox[{"barseperator", "[", 
               RowBox[{"[", "2", "]"}], "]"}], ",", 
              RowBox[{"barseperator", "[", 
               RowBox[{"[", "3", "]"}], "]"}], ",", 
              RowBox[{"barseperator", "[", 
               RowBox[{"[", "4", "]"}], "]"}]}], "}"}]}], ";", "\n", 
           RowBox[{"epilogxQ", "=", 
            RowBox[{"{", 
             RowBox[{"Npttext", ",", 
              RowBox[{"(*", 
               RowBox[{
               "maxtext", ",", "maxmarker", ",", "mintext", ",", 
                "minmarker"}], "*)"}], "percentagetext"}], "}"}]}], ";", "\n",
            "\n", "\"\<dummy\>\""}]}], "\n", 
         RowBox[{"(*", 
          RowBox[{
           RowBox[{"corr", " ", "plot", " ", "cut", " ", "by"}], " ", "|", 
           "data", "|", 
           RowBox[{"<", "0.5"}]}], "*)"}], "\n", "]"}], ";"}], "\n", "*)"}], 
      "\n", 
      RowBox[{"(*", 
       RowBox[{
        RowBox[{
         RowBox[{"same", " ", "as", " ", "plottype"}], "=", "5"}], ",", " ", 
        RowBox[{
        "but", " ", "data", " ", "strucure", " ", "pdfcorr", " ", "is", " ", 
         "different"}]}], "*)"}], "\n", 
      RowBox[{"(*", 
       RowBox[{
        RowBox[{"20170515", ":", " ", 
         RowBox[{
         "for", " ", "statistics", " ", "of", " ", "total", " ", "data"}]}], 
        ",", " ", 
        RowBox[{
        "the", " ", "all", " ", "data", " ", "are", " ", "considered"}], ",", 
        " ", 
        RowBox[{
        "so", " ", "here", " ", "Flatten", " ", "the", " ", "data", " ", 
         "pdfcorr"}]}], "*)"}], "\n", 
      RowBox[{"If", "[", "\n", " ", 
       RowBox[{
        RowBox[{
         RowBox[{"plottype", "==", "2"}], " ", "||", " ", 
         RowBox[{"plottype", "==", "3"}], " ", "||", " ", 
         RowBox[{"plottype", "==", "4"}], " ", "||", " ", 
         RowBox[{"plottype", "==", "5"}]}], ",", "\n", 
        RowBox[{
         RowBox[{"legendlabel", "=", "\"\<\>\""}], ";", "\n", 
         RowBox[{"barseperator", "=", 
          RowBox[{"GetDataPercentage", "[", 
           RowBox[{
            RowBox[{
             RowBox[{"Flatten", "[", "pdfcorr", "]"}], "/.", 
             RowBox[{
              RowBox[{"LF1", "[", "a__", "]"}], ":>", 
              RowBox[{"Abs", "[", 
               RowBox[{
                RowBox[{"{", "a", "}"}], "[", 
                RowBox[{"[", "3", "]"}], "]"}], " ", "]"}]}]}], " ", ",", 
            RowBox[{"Join", "[", 
             RowBox[{"ColorSeperator", ",", 
              RowBox[{"{", "100", "}"}]}], "]"}]}], " ", "]"}]}], ";", 
         RowBox[{"(*", 
          RowBox[{
          "20170606", "make", " ", "sure", " ", "100", "%", " ", "data", " ", 
           "included"}], "*)"}], 
         RowBox[{
          RowBox[{"barseperator", "[", 
           RowBox[{"[", "4", "]"}], "]"}], "=", 
          RowBox[{"1.001", "*", 
           RowBox[{"barseperator", "[", 
            RowBox[{"[", "4", "]"}], "]"}]}]}], ";", "\n", 
         RowBox[{"barseperator", "=", 
          RowBox[{"{", 
           RowBox[{
            RowBox[{"-", 
             RowBox[{"barseperator", "[", 
              RowBox[{"[", "4", "]"}], "]"}]}], ",", 
            RowBox[{"-", 
             RowBox[{"barseperator", "[", 
              RowBox[{"[", "3", "]"}], "]"}]}], ",", 
            RowBox[{"-", 
             RowBox[{"barseperator", "[", 
              RowBox[{"[", "2", "]"}], "]"}]}], ",", 
            RowBox[{"-", 
             RowBox[{"barseperator", "[", 
              RowBox[{"[", "1", "]"}], "]"}]}], ",", 
            RowBox[{"barseperator", "[", 
             RowBox[{"[", "1", "]"}], "]"}], ",", 
            RowBox[{"barseperator", "[", 
             RowBox[{"[", "2", "]"}], "]"}], ",", 
            RowBox[{"barseperator", "[", 
             RowBox[{"[", "3", "]"}], "]"}], ",", 
            RowBox[{"barseperator", "[", 
             RowBox[{"[", "4", "]"}], "]"}]}], "}"}]}], ";", "\n", 
         RowBox[{"epilogxQ", "=", 
          RowBox[{"{", 
           RowBox[{"Npttext", ",", 
            RowBox[{"(*", 
             RowBox[{
             "maxtext", ",", "maxmarker", ",", "mintext", ",", "minmarker"}], 
             "*)"}], "percentagetext"}], "}"}]}], ";", "\n", "\n", 
         "\"\<dummy\>\""}]}], "\n", 
       RowBox[{"(*", 
        RowBox[{
         RowBox[{"corr", " ", "plot", " ", "cut", " ", "by"}], " ", "|", 
         "data", "|", 
         RowBox[{"<", "0.5"}]}], "*)"}], "\n", "]"}], ";", "\n", "\n", 
      RowBox[{"If", "[", "\n", 
       RowBox[{
        RowBox[{"plottype", "==", "6"}], ",", "\n", 
        RowBox[{
         RowBox[{"legendlabel", "=", "\"\<\>\""}], ";", "\n", 
         RowBox[{"barseperator", "=", 
          RowBox[{"{", 
           RowBox[{
            RowBox[{"-", "1"}], ",", 
            RowBox[{"-", "0.85"}], ",", 
            RowBox[{"-", "0.7"}], ",", 
            RowBox[{"-", "0.5"}], ",", "0.5", ",", "0.7", ",", "0.85", ",", 
            "1"}], "}"}]}], ";", "\n", 
         RowBox[{"epilogxQ", "=", 
          RowBox[{"{", "Npttext", "}"}]}], ";", "\n", "\n", 
         "\"\<dummy\>\""}]}], "\n", 
       RowBox[{"(*", 
        RowBox[{
         RowBox[{"corr", " ", "plot", " ", "cut", " ", "by"}], " ", "|", 
         "data", "|", 
         RowBox[{"<", "0.5"}]}], "*)"}], "\n", "]"}], ";", "\n", 
      RowBox[{"(*", 
       RowBox[{"20170517", ":", " ", 
        RowBox[{
        "the", " ", "most", " ", "important", " ", "of", " ", "dr", "*", 
         "corr", " ", "is", " ", "to", " ", "show", " ", 
         RowBox[{"it", "'"}], "s", " ", "absolute", " ", "value", 
         RowBox[{"(", 
          RowBox[{
          "how", " ", "many", " ", "data", " ", "larger", " ", "than", " ", 
           "1"}], ")"}]}]}], "*)"}], "\n", 
      RowBox[{"If", "[", "\n", 
       RowBox[{"(*", 
        RowBox[{
         RowBox[{"plottype", "==", "3"}], " ", "||", " ", 
         RowBox[{"plottype", "==", "4"}], " ", "||"}], " ", "*)"}], 
       RowBox[{
        RowBox[{"plottype", "==", "5"}], ",", "\n", 
        RowBox[{
         RowBox[{"legendlabel", "=", "\"\<\>\""}], ";", "\[IndentingNewLine]", 
         RowBox[{"(*", 
          RowBox[{
          "20171025", " ", "set", " ", "bar", " ", "seperator", " ", "as", 
           " ", 
           RowBox[{"{", 
            RowBox[{
             RowBox[{"-", "100"}], ",", 
             RowBox[{"-", "5.0"}], ",", 
             RowBox[{"-", "2.0"}], ",", 
             RowBox[{"-", "0.5"}], ",", "0.5", ",", "2.0", ",", "5.0", ",", 
             "100"}], "}"}]}], "*)"}], "\[IndentingNewLine]", 
         RowBox[{"(*", "\n", 
          RowBox[{
           RowBox[{"barseperator", "=", 
            RowBox[{"{", 
             RowBox[{
              RowBox[{"-", "100"}], ",", 
              RowBox[{"-", "0.85"}], ",", 
              RowBox[{"-", "0.7"}], ",", 
              RowBox[{"-", "0.5"}], ",", "0.5", ",", "0.7", ",", "0.85", ",", 
              "100"}], "}"}]}], ";"}], "\[IndentingNewLine]", "*)"}], 
         "\[IndentingNewLine]", 
         RowBox[{"barseperator", "=", 
          RowBox[{"{", 
           RowBox[{
            RowBox[{"-", "100"}], ",", 
            RowBox[{"-", "5.0"}], ",", 
            RowBox[{"-", "2.0"}], ",", 
            RowBox[{"-", "0.5"}], ",", "0.5", ",", "2.0", ",", "5.0", ",", 
            "100"}], "}"}]}], ";", "\n", 
         RowBox[{"epilogxQ", "=", 
          RowBox[{"{", "Npttext", "}"}]}], ";", "\n", "\n", 
         "\"\<dummy\>\""}]}], "\n", "]"}], ";", "\n", 
      RowBox[{"(*", 
       RowBox[{
        RowBox[{
         RowBox[{
          RowBox[{"10170606", ":", " ", "deltaR"}], " ", "&"}], " ", 
         "residual", " ", 
         RowBox[{"central", ":", " ", 
          RowBox[{
          "scale", " ", "should", " ", "be", " ", "very", " ", "small"}]}]}], 
        ",", " ", 
        RowBox[{"close", " ", "to", " ", "1"}], ",", " ", "large", ",", " ", 
        RowBox[{"very", " ", "large"}]}], "*)"}], "\n", 
      RowBox[{"If", "[", "\n", 
       RowBox[{
        RowBox[{"plottype", "==", "3"}], " ", 
        RowBox[{"(*", 
         RowBox[{"||", " ", 
          RowBox[{"plottype", "==", "4"}]}], "*)"}], ",", "\n", 
        RowBox[{
         RowBox[{"legendlabel", "=", "\"\<\>\""}], ";", "\n", 
         RowBox[{"barseperator", "=", 
          RowBox[{"{", 
           RowBox[{
            RowBox[{"-", "100"}], ",", 
            RowBox[{"-", "5.0"}], ",", 
            RowBox[{"-", "2.0"}], ",", 
            RowBox[{"-", "0.5"}], ",", "0.5", ",", "2.0", ",", "5.0", ",", 
            "100"}], "}"}]}], ";", "\n", 
         RowBox[{"epilogxQ", "=", 
          RowBox[{"{", "Npttext", "}"}]}], ";", "\n", "\n", 
         "\"\<dummy\>\""}]}], "\n", "]"}], ";", "\[IndentingNewLine]", 
      RowBox[{"(*", 
       RowBox[{"20171108", ":", " ", 
        RowBox[{
        "residual", " ", "error", " ", "are", " ", "always", " ", 
         "positive"}]}], "*)"}], "\[IndentingNewLine]", 
      RowBox[{"If", "[", "\n", 
       RowBox[{
        RowBox[{"plottype", "==", "4"}], ",", "\n", 
        RowBox[{
         RowBox[{"legendlabel", "=", "\"\<\>\""}], ";", "\n", 
         RowBox[{"barseperator", "=", 
          RowBox[{"{", 
           RowBox[{"0", ",", "0.5", ",", "2.0", ",", "5.0", ",", "100"}], 
           "}"}]}], ";", "\n", 
         RowBox[{"epilogxQ", "=", 
          RowBox[{"{", "Npttext", "}"}]}], ";", "\n", "\n", 
         "\"\<dummy\>\""}]}], "\n", "]"}], ";", "\[IndentingNewLine]", 
      "\[IndentingNewLine]", 
      RowBox[{"(*", 
       RowBox[{"20171107", ":", " ", 
        RowBox[{"set", " ", "seperator", " ", "of", " ", 
         RowBox[{"\[Sigma]", "/", "D"}]}]}], "*)"}], 
      RowBox[{"(*", 
       RowBox[{"20171108", ":", " ", 
        RowBox[{
         RowBox[{"\[Sigma]", "/", "D"}], " ", "are", " ", "always", " ", 
         "positive"}]}], "*)"}], "\[IndentingNewLine]", 
      RowBox[{"If", "[", "\n", 
       RowBox[{
        RowBox[{"plottype", "\[Equal]", "2"}], ",", "\n", 
        RowBox[{
         RowBox[{"legendlabel", "=", "\"\<\>\""}], ";", "\n", 
         RowBox[{"barseperator", "=", 
          RowBox[{"{", 
           RowBox[{"(*", 
            RowBox[{
             RowBox[{"-", "100"}], ",", 
             RowBox[{"-", "0.3"}], ",", 
             RowBox[{"-", "0.1"}], ",", 
             RowBox[{"-", "0.05"}]}], "*)"}], 
           RowBox[{"0", ",", "0.05", ",", "0.1", ",", "0.3", ",", "100"}], 
           "}"}]}], ";", "\n", 
         RowBox[{"epilogxQ", "=", 
          RowBox[{"{", "Npttext", "}"}]}], ";", "\n", "\"\<dummy\>\""}]}], 
       "\n", "]"}], ";", "\n", "\[IndentingNewLine]", 
      RowBox[{"(*", 
       RowBox[{
        RowBox[{"plot", " ", "type", " ", "1"}], ":", " ", 
        RowBox[{
        "just", " ", "need", " ", "barseperator", " ", "so", " ", "that", " ",
          "function", " ", 
         RowBox[{"doesn", "'"}], "t", " ", "break"}]}], "*)"}], "\n", 
      RowBox[{"If", "[", "\n", 
       RowBox[{
        RowBox[{"plottype", "==", "1"}], ",", "\n", 
        RowBox[{
         RowBox[{"barseperator", "=", 
          RowBox[{"{", 
           RowBox[{
            RowBox[{"-", "1"}], ",", 
            RowBox[{"-", "0.85"}], ",", 
            RowBox[{"-", "0.7"}], ",", 
            RowBox[{"-", "0.5"}], ",", "0.5", ",", "0.7", ",", "0.85", ",", 
            "1"}], "}"}]}], ";"}]}], "\n", "]"}], ";", "\[IndentingNewLine]", 
      "\n", 
      RowBox[{"(*", 
       RowBox[{
        RowBox[{
         RowBox[{"20170517", ":", " ", 
          RowBox[{"if", " ", "highlight", " ", "mode"}]}], " ", "=", " ", 
         RowBox[{"1", " ", "&&", " ", 
          RowBox[{"not", " ", "correlation", " ", "data"}]}]}], ",", " ", 
        RowBox[{
         RowBox[{"then", " ", "if", " ", "highlight", " ", "uplimit"}], " ", 
         ">", " ", 
         RowBox[{"max", " ", "of", " ", "data"}]}], ",", " ", 
        RowBox[{
        "automatically", " ", "adjust", " ", "it", " ", "to", " ", "the", " ",
          "max", " ", "of", " ", "the", " ", "data"}]}], "*)"}], "\n", 
      RowBox[{"(*", 
       RowBox[{
        RowBox[{"20171106", ":", " ", 
         RowBox[{
          RowBox[{"don", "'"}], "t", " ", "choose", " ", "max", " ", "of", 
          " ", "data", " ", "as", " ", 
          RowBox[{"highlightrange", "[", 
           RowBox[{"[", "2", "]"}], "]"}]}]}], ",", " ", 
        RowBox[{
        "just", " ", "use", " ", "the", " ", "input", " ", "number"}]}], 
       "*)"}], "\n", 
      RowBox[{"(*", "\[IndentingNewLine]", 
       RowBox[{
        RowBox[{"If", "[", "\n", 
         RowBox[{
          RowBox[{
           RowBox[{
            RowBox[{"HighlightMode", "[", 
             RowBox[{"[", "plottype", "]"}], "]"}], "==", "1"}], "&&", 
           RowBox[{"plottype", "!=", "6"}], "&&", 
           RowBox[{"plottype", "!=", "1"}]}], ",", "\n", 
          RowBox[{
           RowBox[{"maxdata", "=", 
            RowBox[{"Max", "[", 
             RowBox[{
              RowBox[{"Flatten", "[", "pdfcorr", "]"}], "/.", 
              RowBox[{
               RowBox[{"LF1", "[", "a__", "]"}], ":>", 
               RowBox[{"Abs", "[", 
                RowBox[{
                 RowBox[{"{", "a", "}"}], "[", 
                 RowBox[{"[", "3", "]"}], "]"}], " ", "]"}]}]}], " ", "]"}]}],
            ";", "\[IndentingNewLine]", "\[IndentingNewLine]", 
           RowBox[{"If", "[", "\n", 
            RowBox[{
             RowBox[{"maxdata", ">", 
              RowBox[{"highlightrange", "[", 
               RowBox[{"[", "1", "]"}], "]"}]}], ",", "\n", 
             RowBox[{
              RowBox[{
               RowBox[{"highlightrange", "[", 
                RowBox[{"[", "2", "]"}], "]"}], "=", 
               RowBox[{"Min", "[", 
                RowBox[{
                 RowBox[{"highlightrange", "[", 
                  RowBox[{"[", "2", "]"}], "]"}], ",", "maxdata"}], "]"}]}], 
              ";"}]}], "\n", "]"}], ";", "\n", "\"\<dummy\>\""}]}], " ", 
         "]"}], ";"}], "\[IndentingNewLine]", "*)"}], "\[IndentingNewLine]", 
      "\[IndentingNewLine]", 
      RowBox[{"(*", 
       RowBox[{"20171106", " ", "set", " ", "highlight", " ", "barlegend"}], 
       "*)"}], 
      RowBox[{"(*", 
       RowBox[{"20171108", ":", " ", 
        RowBox[{
        "all", " ", "modes", " ", "use", " ", "the", " ", "same", " ", 
         "color", " ", "palette", " ", 
         RowBox[{"(", "barlegend", ")"}]}]}], "*)"}], "\[IndentingNewLine]", 
      RowBox[{"legendlabel", "=", "\"\<\>\""}], ";", "\[IndentingNewLine]", 
      RowBox[{"If", "[", "\[IndentingNewLine]", 
       RowBox[{
        RowBox[{"(", 
         RowBox[{
          RowBox[{
           RowBox[{"HighlightMode", "[", 
            RowBox[{"[", "plottype", "]"}], "]"}], "\[Equal]", "0"}], " ", "||",
           " ", 
          RowBox[{
           RowBox[{"HighlightMode", "[", 
            RowBox[{"[", "plottype", "]"}], "]"}], "\[Equal]", "1"}], " ", "||",
           " ", 
          RowBox[{
           RowBox[{"HighlightMode", "[", 
            RowBox[{"[", "plottype", "]"}], "]"}], "\[Equal]", "2"}]}], ")"}],
         ",", "\[IndentingNewLine]", 
        RowBox[{
         RowBox[{"If", "[", "\[IndentingNewLine]", 
          RowBox[{
           RowBox[{"(", 
            RowBox[{
             RowBox[{"plottype", "==", "3"}], "||", " ", 
             RowBox[{"plottype", "==", "5"}], "  ", "||", " ", 
             RowBox[{"plottype", "\[Equal]", "6"}]}], ")"}], ",", 
           "\[IndentingNewLine]", 
           RowBox[{"barlegend", "=", 
            RowBox[{"Set2DxqBarLegend", "[", 
             RowBox[{"barseperator", ",", "legendlabel"}], "]"}]}]}], " ", 
          "\[IndentingNewLine]", "]"}], ";", "\[IndentingNewLine]", 
         RowBox[{"If", "[", "\[IndentingNewLine]", 
          RowBox[{
           RowBox[{"(", 
            RowBox[{
             RowBox[{"plottype", "==", "2"}], " ", "||", " ", 
             RowBox[{"plottype", "==", "4"}]}], ")"}], ",", 
           "\[IndentingNewLine]", 
           RowBox[{"barlegend", "=", 
            RowBox[{"Set2DxqRedBarLegend", "[", 
             RowBox[{"barseperator", ",", "legendlabel"}], "]"}]}]}], " ", 
          "\[IndentingNewLine]", "]"}], ";", "\[IndentingNewLine]", 
         "\"\<dummy\>\""}]}], "\[IndentingNewLine]", "]"}], ";", "\n", 
      RowBox[{"(*", "\[IndentingNewLine]", 
       RowBox[{
        RowBox[{"If", "[", 
         RowBox[{
          RowBox[{
           RowBox[{
            RowBox[{"HighlightMode", "[", 
             RowBox[{"[", "plottype", "]"}], "]"}], "\[Equal]", "1"}], " ", "||",
            " ", 
           RowBox[{
            RowBox[{"HighlightMode", "[", 
             RowBox[{"[", "plottype", "]"}], "]"}], "\[Equal]", "2"}]}], ",", 
          
          RowBox[{"barlegend", "=", 
           RowBox[{"(*", 
            RowBox[{"Set2DxqHighlightBarLegend", "[", 
             RowBox[{"legendlabel", ",", "highlightrange"}], "]"}], "*)"}], 
           RowBox[{"Set2DxqBarLegend", "[", 
            RowBox[{"barseperator", ",", "legendlabel"}], "]"}]}]}], " ", 
         "]"}], ";"}], "\[IndentingNewLine]", "*)"}], "\[IndentingNewLine]", 
      "\n", 
      RowBox[{"(*", 
       RowBox[{
        RowBox[{"Print", "[", 
         RowBox[{"\"\<max of data and highlight: \>\"", ",", 
          RowBox[{"{", 
           RowBox[{
            RowBox[{"highlightrange", "[", 
             RowBox[{"[", "2", "]"}], "]"}], ",", "maxdata"}], "}"}]}], "]"}],
         ";"}], "*)"}], "\n", "\[IndentingNewLine]", 
      RowBox[{"(*", 
       RowBox[{
        RowBox[{"for", " ", "highlight", " ", "mode"}], ",", " ", 
        RowBox[{
        "always", " ", "only", " ", "have", " ", "no", " ", "choice", " ", 
         "of", " ", "size"}]}], "*)"}], "\n", 
      RowBox[{"If", "[", 
       RowBox[{
        RowBox[{
         RowBox[{
          RowBox[{"HighlightMode", "[", 
           RowBox[{"[", "plottype", "]"}], "]"}], "==", "1"}], " ", "||", " ", 
         RowBox[{
          RowBox[{"HighlightMode", "[", 
           RowBox[{"[", "plottype", "]"}], "]"}], "==", "2"}]}], ",", 
        RowBox[{"Size", "=", "\"\<small\>\""}]}], "]"}], ";", "\n", 
      RowBox[{"(*", 
       RowBox[{"set", " ", "size"}], "*)"}], "\n", 
      RowBox[{"unhighlightsize", "=", "\n", 
       RowBox[{"Switch", "[", 
        RowBox[{
        "Size", ",", "\"\<tiny\>\"", ",", "0.005", ",", "\"\<small\>\"", ",", 
         "0.0075", ",", "\"\<medium\>\"", ",", "0.01", ",", "\"\<large\>\"", 
         ",", "0.0125", ",", "_", ",", 
         RowBox[{
          RowBox[{
          "Print", "[", "\"\<error,size type is not correct\>\"", "]"}], ";", 
          
          RowBox[{"Abort", "[", "]"}]}]}], " ", "]"}]}], ";", "\n", "\n", 
      RowBox[{"If", "[", "\n", 
       RowBox[{
        RowBox[{
         RowBox[{"HighlightMode", "[", 
          RowBox[{"[", "plottype", "]"}], "]"}], "==", "1"}], ",", "\n", 
        RowBox[{
         RowBox[{"highlighttext", "=", 
          RowBox[{"Text", "[", 
           RowBox[{
            RowBox[{"Style", "[", 
             RowBox[{
              RowBox[{"\"\<highlighted range:\\n\>\"", "<>", 
               RowBox[{"ToString", "[", "highlightrange", "]"}]}], ",", 
              "textsize", ",", "Black"}], "]"}], ",", 
            RowBox[{"Scaled", "[", 
             RowBox[{"{", 
              RowBox[{"0.2", ",", "0.7"}], "}"}], "]"}]}], " ", "]"}]}], ";", 
         "\n", "\"\<dummy\>\""}]}], "\n", "]"}], ";", "\[IndentingNewLine]", 
      RowBox[{"(*", 
       RowBox[{"20171108", ":", " ", 
        RowBox[{"only", " ", "show", " ", "3", " ", "digits"}]}], " ", "*)"}],
       "\n", 
      RowBox[{"If", "[", "\n", 
       RowBox[{
        RowBox[{
         RowBox[{"HighlightMode", "[", 
          RowBox[{"[", "plottype", "]"}], "]"}], "==", "2"}], ",", "\n", 
        RowBox[{
         RowBox[{"highlighttext", "=", 
          RowBox[{"Text", "[", 
           RowBox[{
            RowBox[{"Style", "[", 
             RowBox[{
              RowBox[{"\"\<highlighted range:\\n\>\"", "<>", "\"\<(\>\"", "<>", 
               RowBox[{"ToString", "[", 
                RowBox[{"HighlightMode2", "[", 
                 RowBox[{"[", 
                  RowBox[{
                   RowBox[{"2", "*", "plottype"}], "-", "1"}], "]"}], "]"}], 
                " ", "]"}], "<>", "\"\<% ~ \>\"", "<>", 
               RowBox[{"ToString", "[", 
                RowBox[{"HighlightMode2", "[", 
                 RowBox[{"[", 
                  RowBox[{"2", "*", "plottype"}], "]"}], "]"}], " ", "]"}], 
               "<>", "\"\<%)\\n\>\"", "<>", 
               RowBox[{"ToString", "[", 
                RowBox[{"NumberForm", "[", 
                 RowBox[{"highlightrange", ",", 
                  RowBox[{"{", 
                   RowBox[{"100", ",", "2"}], "}"}]}], "]"}], " ", "]"}]}], 
              ",", "textsize", ",", "Black"}], "]"}], ",", 
            RowBox[{"Scaled", "[", 
             RowBox[{"{", 
              RowBox[{"0.2", ",", "0.6"}], "}"}], "]"}]}], " ", "]"}]}], ";", 
         "\n", "\"\<dummy\>\""}]}], "\n", "]"}], ";", "\n", 
      RowBox[{"If", "[", 
       RowBox[{
        RowBox[{
         RowBox[{"HighlightMode", "[", 
          RowBox[{"[", "plottype", "]"}], "]"}], "!=", "0"}], ",", 
        RowBox[{"epilogxQ", "=", 
         RowBox[{"Append", "[", 
          RowBox[{"epilogxQ", ",", "highlighttext"}], "]"}]}]}], " ", "]"}], 
      ";", "\n", "\n", 
      RowBox[{"(*", 
       RowBox[{
        RowBox[{"Print", "[", 
         RowBox[{"\"\<highlight range: \>\"", ",", "highlightrange"}], "]"}], 
        ";"}], "*)"}], "\n", "\n", 
      RowBox[{"(*", 
       RowBox[{
        RowBox[{"for", " ", "histogram"}], ",", " ", 
        RowBox[{
        "setup", " ", "highlighted", " ", "value", " ", "range", " ", "by", 
         " ", "red", " ", "line", " ", "and", " ", "color", " ", "seperator", 
         " ", "value", " ", "by", " ", "blue", " ", "line"}]}], "*)"}], "\n", 
      
      RowBox[{"(*", 
       RowBox[{
        RowBox[{
        "make", " ", "histogram", " ", "of", " ", "data", " ", "and"}], " ", 
        "|", "data", "|"}], "*)"}], "\n", 
      RowBox[{"(*", 
       RowBox[{
       "===", "===", "===", "===", "===", "===", "===", "===", "===", "==="}],
        "*)"}], "\n", "\n", 
      RowBox[{"(*", 
       RowBox[{
        RowBox[{
        "set", " ", "xtitle", " ", "by", " ", "observable", " ", "part", " ", 
         "of", " ", "title"}], ",", " ", 
        RowBox[{"ex", ":", " ", 
         RowBox[{"|", 
          RowBox[{"Corr", 
           RowBox[{"(", 
            RowBox[{
             RowBox[{"f_j", 
              RowBox[{"(", 
               RowBox[{"x", ",", "Q"}], ")"}]}], ",", 
             RowBox[{"r_i", 
              RowBox[{"(", 
               RowBox[{"x", ",", "Q"}], ")"}]}]}], ")"}]}], "|"}]}]}], "*)"}],
       "\n", 
      RowBox[{"(*", 
       RowBox[{
       "===", "===", "===", "===", "===", "===", "===", "===", "===", "==="}],
        "*)"}], "\n", "\n", "\n", 
      RowBox[{"(*", 
       RowBox[{
        RowBox[{"plot", " ", "x"}], ",", 
        RowBox[{
        "Q", " ", "data", " ", "by", " ", "size", " ", "for", " ", "all", " ",
          "quarks", 
         RowBox[{"(", "CorrelationArgFlag", ")"}]}], ",", " ", 
        RowBox[{
        "and", " ", "plot", " ", "corresponding", " ", "histogram"}]}], 
       "*)"}], "\n", 
      RowBox[{"(*", 
       RowBox[{
        RowBox[{"GridGraphic", " ", "x"}], ",", 
        RowBox[{
        "Q", " ", "data", " ", "by", " ", "size", " ", "and", " ", 
         "histograms"}]}], "*)"}], "\n", 
      RowBox[{"(*", 
       RowBox[{
       "===", "===", "===", "===", "===", "===", "===", "===", "===", "==="}],
        "*)"}], "\n", "\n", "\n", 
      RowBox[{"(*", 
       RowBox[{"correlation", " ", "plot"}], "*)"}], "\n", 
      RowBox[{"(*", "\n", 
       RowBox[{
        RowBox[{"If", "[", "\n", 
         RowBox[{
          RowBox[{
           RowBox[{"plottype", "\[Equal]", "5"}], "  ", "||", " ", 
           RowBox[{"plottype", "\[Equal]", "6"}]}], ",", "\n", 
          RowBox[{
           RowBox[{"xQplotcorr", "=", 
            RowBox[{"PDFCorrelationplot8", "[", 
             RowBox[{
              RowBox[{"pdfcorr", "[", 
               RowBox[{"[", 
                RowBox[{"flavourin", "+", "6"}], "]"}], "]"}], ",", "title", 
              ",", "xtitle", ",", "ytitle", ",", "plotrange", ",", "stretchx",
               ",", "stretchy", ",", "barseperator", ",", "legendlabel", ",", 
              
              RowBox[{"(*", 
               RowBox[{"Append", "[", 
                RowBox[{"epilogxQ", ",", "cuttext"}], "]"}], "*)"}], 
              "epilogxQ", ",", "highlightrange", ",", "unhighlightsize"}], 
             " ", "]"}]}], ";", "\n", "\"\<dummy\>\""}]}], "\n", "]"}], ";"}],
        "\n", "*)"}], "\n", 
      RowBox[{"(*", 
       RowBox[{"test", " ", "print"}], "*)"}], "\n", 
      RowBox[{"(*", "\n", 
       RowBox[{
        RowBox[{"Print", "[", "\"\<test print\>\"", "]"}], ";", "\n", 
        RowBox[{"Print", "[", "\"\<highlight mode 1\>\"", "]"}], ";", "\n", 
        RowBox[{"Print", "[", "pdfcorr", "]"}], ";", "\n", 
        RowBox[{"Print", "[", "HighlightMode1", "]"}], ";", "\n", 
        RowBox[{"Print", "[", 
         RowBox[{"{", 
          RowBox[{
          "xtitle", ",", "ytitle", ",", "plotrange", ",", "stretchx", ",", 
           "stretchy", ",", "barseperator", ",", "legendlabel", ",", 
           "epilogxQ", ",", "highlightrange", ",", "unhighlightsize"}], " ", 
          "}"}], "]"}], ";"}], "\n", "*)"}], "\n", 
      RowBox[{"If", "[", 
       RowBox[{
        RowBox[{"PlotTitleBool", "==", "False"}], ",", 
        RowBox[{"title", "=", "\"\<\>\""}]}], "]"}], ";", "\n", 
      RowBox[{"If", "[", "\n", " ", 
       RowBox[{
        RowBox[{
         RowBox[{"plottype", "==", "2"}], " ", "||", " ", 
         RowBox[{"plottype", "==", "3"}], " ", "||", " ", 
         RowBox[{"plottype", "==", "4"}], " ", "||", " ", 
         RowBox[{"plottype", "==", "5"}], "  ", "||", " ", 
         RowBox[{"plottype", "==", "6"}]}], ",", "\n", 
        RowBox[{
         RowBox[{"xQplotcorr", "=", 
          RowBox[{"PDFCorrelationplot8", "[", 
           RowBox[{
           "pdfcorr", ",", "title", ",", "xtitle", ",", "ytitle", ",", 
            "plotrange", ",", "stretchx", ",", "stretchy", ",", "barlegend", 
            ",", 
            RowBox[{"(*", 
             RowBox[{"barseperator", ",", "legendlabel", ","}], "*)"}], 
            RowBox[{"(*", 
             RowBox[{"Append", "[", 
              RowBox[{"epilogxQ", ",", "cuttext"}], "]"}], "*)"}], "epilogxQ",
             ",", "highlightrange", ",", "unhighlightsize"}], " ", "]"}]}], 
         ";", "\n", "\"\<dummy\>\""}]}], "\n", "]"}], ";", 
      "\[IndentingNewLine]", 
      RowBox[{"(*", 
       RowBox[{"correlation", " ", "histogram"}], "*)"}], 
      "\[IndentingNewLine]", "\[IndentingNewLine]", 
      RowBox[{"(*", 
       RowBox[{
        RowBox[{"binset", ":", " ", 
         RowBox[{
          RowBox[{"for", " ", "Nbin"}], "\[Equal]", "\"\<auto\>\""}]}], ",", 
        " ", 
        RowBox[{"define", " ", "auto", " ", "binset"}]}], "*)"}], "\n", 
      RowBox[{"(*", 
       RowBox[{
       "set", " ", "auto", " ", "bin", " ", "as", " ", "10", " ", "bins", " ",
         "in", " ", "first", " ", "color", " ", "bar", " ", "seperator"}], 
       " ", "*)"}], "\n", 
      RowBox[{"(*", 
       RowBox[{
        RowBox[{
         RowBox[{"20171108", ":", " ", 
          RowBox[{"set", " ", "auto", " ", "bin", " ", "as", " ", "N"}]}], 
         " ", "=", " ", 
         RowBox[{
         "20", " ", "in", " ", "positive", " ", "side", " ", "of", " ", 
          "xrange"}]}], ",", " ", 
        RowBox[{
         RowBox[{"bin", " ", "width"}], " ", "=", " ", 
         RowBox[{"xrange", 
          RowBox[{
           RowBox[{"(", "+", ")"}], "/", "20"}]}]}]}], " ", "*)"}], "\n", 
      RowBox[{"(*", "\n", 
       RowBox[{
        RowBox[{"binset", "=", 
         RowBox[{"{", 
          RowBox[{"Table", "[", 
           RowBox[{
            RowBox[{"i", "*", 
             RowBox[{
              RowBox[{"barseperator", "[", 
               RowBox[{"[", 
                RowBox[{
                 RowBox[{
                  RowBox[{"Length", "[", "barseperator", "]"}], "/", "2"}], 
                 "+", "1"}], "]"}], "]"}], "/", "10.0"}]}], ",", 
            RowBox[{"{", 
             RowBox[{"i", ",", 
              RowBox[{"-", "100"}], ",", "100"}], "}"}]}], "]"}], "}"}]}], 
        ";"}], "\[IndentingNewLine]", "*)"}], "\n", 
      RowBox[{"binset", "=", 
       RowBox[{"{", 
        RowBox[{"Table", "[", 
         RowBox[{
          RowBox[{"i", "*", 
           RowBox[{
            RowBox[{"hist1plotrangex", "[", 
             RowBox[{"[", "2", "]"}], "]"}], "/", "20.0"}]}], ",", 
          RowBox[{"{", 
           RowBox[{"i", ",", 
            RowBox[{"-", "100"}], ",", "100"}], "}"}]}], "]"}], "}"}]}], ";", 
      "\n", "\n", 
      RowBox[{"(*", 
       RowBox[{
        RowBox[{"lineelement", "=", 
         RowBox[{"{", 
          RowBox[{
           RowBox[{"{", 
            RowBox[{
             RowBox[{"barseperator", "[", 
              RowBox[{"[", "2", "]"}], "]"}], ",", "\"\<\>\"", ",", "Blue"}], 
            "}"}], ",", 
           RowBox[{"{", 
            RowBox[{
             RowBox[{"barseperator", "[", 
              RowBox[{"[", "3", "]"}], "]"}], ",", "\"\<\>\"", ",", "Blue"}], 
            "}"}], ",", 
           RowBox[{"{", 
            RowBox[{
             RowBox[{"barseperator", "[", 
              RowBox[{"[", "4", "]"}], "]"}], ",", "\"\<\>\"", ",", "Blue"}], 
            "}"}], ",", 
           RowBox[{"{", 
            RowBox[{
             RowBox[{"barseperator", "[", 
              RowBox[{"[", "5", "]"}], "]"}], ",", "\"\<\>\"", ",", "Blue"}], 
            "}"}], ",", 
           RowBox[{"{", 
            RowBox[{
             RowBox[{"barseperator", "[", 
              RowBox[{"[", "6", "]"}], "]"}], ",", "\"\<\>\"", ",", "Blue"}], 
            "}"}], ",", 
           RowBox[{"{", 
            RowBox[{
             RowBox[{"barseperator", "[", 
              RowBox[{"[", "7", "]"}], "]"}], ",", "\"\<\>\"", ",", "Blue"}], 
            "}"}]}], "}"}]}], ";"}], "*)"}], "\n", 
      RowBox[{"If", "[", "\n", 
       RowBox[{
        RowBox[{"plottype", "==", "2"}], ",", "\[IndentingNewLine]", 
        RowBox[{"(*", 
         RowBox[{"20171108", ":", " ", 
          RowBox[{
           RowBox[{"\[Sigma]", "/", "D"}], " ", "only", " ", "has", " ", 
           "posive", " ", "data"}]}], "*)"}], "\[IndentingNewLine]", 
        RowBox[{"(*", "\n", 
         RowBox[{
          RowBox[{"lineelement", "=", 
           RowBox[{"{", 
            RowBox[{
             RowBox[{"{", 
              RowBox[{
               RowBox[{"barseperator", "[", 
                RowBox[{"[", "2", "]"}], "]"}], ",", 
               RowBox[{
                RowBox[{"ToString", "[", 
                 RowBox[{"ColorSeperator", "[", 
                  RowBox[{"[", "3", "]"}], "]"}], " ", "]"}], "<>", 
                "\"\<%\>\""}], ",", "Blue"}], "}"}], ",", 
             RowBox[{"{", 
              RowBox[{
               RowBox[{"barseperator", "[", 
                RowBox[{"[", "3", "]"}], "]"}], ",", 
               RowBox[{
                RowBox[{"ToString", "[", 
                 RowBox[{"ColorSeperator", "[", 
                  RowBox[{"[", "2", "]"}], "]"}], " ", "]"}], "<>", 
                "\"\<%\>\""}], ",", "Blue"}], "}"}], ",", 
             RowBox[{"{", 
              RowBox[{
               RowBox[{"barseperator", "[", 
                RowBox[{"[", "4", "]"}], "]"}], ",", 
               RowBox[{
                RowBox[{"ToString", "[", 
                 RowBox[{"ColorSeperator", "[", 
                  RowBox[{"[", "1", "]"}], "]"}], " ", "]"}], "<>", 
                "\"\<%\>\""}], ",", "Blue"}], "}"}], ",", 
             RowBox[{"{", 
              RowBox[{
               RowBox[{"barseperator", "[", 
                RowBox[{"[", "5", "]"}], "]"}], ",", 
               RowBox[{
                RowBox[{"ToString", "[", 
                 RowBox[{"ColorSeperator", "[", 
                  RowBox[{"[", "1", "]"}], "]"}], " ", "]"}], "<>", 
                "\"\<%\>\""}], ",", "Blue"}], "}"}], ",", 
             RowBox[{"{", 
              RowBox[{
               RowBox[{"barseperator", "[", 
                RowBox[{"[", "6", "]"}], "]"}], ",", 
               RowBox[{
                RowBox[{"ToString", "[", 
                 RowBox[{"ColorSeperator", "[", 
                  RowBox[{"[", "2", "]"}], "]"}], " ", "]"}], "<>", 
                "\"\<%\>\""}], ",", "Blue"}], "}"}], ",", 
             RowBox[{"{", 
              RowBox[{
               RowBox[{"barseperator", "[", 
                RowBox[{"[", "7", "]"}], "]"}], ",", 
               RowBox[{
                RowBox[{"ToString", "[", 
                 RowBox[{"ColorSeperator", "[", 
                  RowBox[{"[", "3", "]"}], "]"}], " ", "]"}], "<>", 
                "\"\<%\>\""}], ",", "Blue"}], "}"}]}], "}"}]}], ";"}], 
         "\[IndentingNewLine]", "*)"}], "\[IndentingNewLine]", 
        RowBox[{
         RowBox[{"lineelement", "=", 
          RowBox[{"{", 
           RowBox[{
            RowBox[{"{", 
             RowBox[{
              RowBox[{"-", "0.1"}], ",", "\"\<\>\"", ",", "Red"}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"0.1", ",", "\"\<\>\"", ",", "Red"}], "}"}]}], "}"}]}], 
         ";", "\n", 
         RowBox[{"lineelement2", "=", 
          RowBox[{"(*", 
           RowBox[{"Take", "[", 
            RowBox[{"lineelement", ",", 
             RowBox[{"-", "3"}]}], "]"}], "*)"}], 
          RowBox[{"{", 
           RowBox[{"{", 
            RowBox[{"0.1", ",", "\"\<\>\"", ",", "Red"}], "}"}], "}"}]}], 
         ";"}]}], "\n", "]"}], ";", "\n", 
      RowBox[{"(*", 
       RowBox[{
        RowBox[{"if", " ", "correlation", " ", "histogram"}], ",", " ", 
        RowBox[{
         RowBox[{"don", "'"}], "t", " ", "need", " ", "show", " ", "lines", 
         " ", "to", " ", "represent", " ", "the", " ", "%", " ", "of", " ", 
         "data"}]}], " ", "*)"}], "\n", 
      RowBox[{"If", "[", " ", 
       RowBox[{
        RowBox[{
         RowBox[{"plottype", "==", "3"}], " ", "||", " ", 
         RowBox[{"plottype", "==", "4"}], " ", "||", " ", 
         RowBox[{"plottype", "==", "5"}]}], ",", 
        RowBox[{
         RowBox[{"lineelement", "=", 
          RowBox[{"{", 
           RowBox[{
            RowBox[{"{", 
             RowBox[{
              RowBox[{"-", "1"}], ",", "\"\<\>\"", ",", "Red"}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"1", ",", "\"\<\>\"", ",", "Red"}], "}"}]}], "}"}]}], 
         ";", 
         RowBox[{"lineelement2", "=", 
          RowBox[{"{", 
           RowBox[{"{", 
            RowBox[{"1", ",", "\"\<\>\"", ",", "Red"}], "}"}], "}"}]}], ";", 
         "\"\<dummy\>\""}]}], "]"}], ";", "\n", 
      RowBox[{"If", "[", " ", 
       RowBox[{
        RowBox[{"plottype", "==", "6"}], ",", 
        RowBox[{
         RowBox[{"lineelement", "=", 
          RowBox[{"{", 
           RowBox[{
            RowBox[{"{", 
             RowBox[{
              RowBox[{"-", "0.7"}], ",", "\"\<\>\"", ",", "Red"}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"0.7", ",", "\"\<\>\"", ",", "Red"}], "}"}]}], "}"}]}], 
         ";", 
         RowBox[{"lineelement2", "=", 
          RowBox[{"{", 
           RowBox[{"{", 
            RowBox[{"0.7", ",", "\"\<\>\"", ",", "Red"}], "}"}], "}"}]}], 
         ";", "\"\<dummy\>\""}]}], "]"}], ";", "\n", "\[IndentingNewLine]", 
      RowBox[{"(*", 
       RowBox[{"20171106", ":", " ", 
        RowBox[{
        "bin", " ", "line", " ", "in", " ", "histogram", " ", "for", " ", 
         "highlight", " ", "mode"}]}], "*)"}], 
      RowBox[{"(*", 
       RowBox[{"20171108", ":", " ", 
        RowBox[{
         RowBox[{"don", "'"}], "t", " ", "add", " ", "it", " ", 
         "presently"}]}], "*)"}], "\[IndentingNewLine]", 
      RowBox[{"(*", "\[IndentingNewLine]", 
       RowBox[{
        RowBox[{"If", "[", "\[IndentingNewLine]", 
         RowBox[{
          RowBox[{
           RowBox[{
            RowBox[{"HighlightMode", "[", 
             RowBox[{"[", "plottype", "]"}], "]"}], "\[Equal]", "1"}], " ", "||",
            " ", 
           RowBox[{
            RowBox[{"HighlightMode", "[", 
             RowBox[{"[", "plottype", "]"}], "]"}], "\[Equal]", "2"}]}], ",", 
          "\[IndentingNewLine]", 
          RowBox[{
           RowBox[{"lineelement", "=", 
            RowBox[{"{", 
             RowBox[{
              RowBox[{"{", 
               RowBox[{
                RowBox[{"-", 
                 RowBox[{"highlightrange", "[", 
                  RowBox[{"[", "1", "]"}], "]"}]}], ",", "\"\<\>\"", ",", 
                "Red"}], "}"}], ",", 
              RowBox[{"{", 
               RowBox[{
                RowBox[{"-", 
                 RowBox[{"highlightrange", "[", 
                  RowBox[{"[", "2", "]"}], "]"}]}], ",", "\"\<\>\"", ",", 
                "Red"}], "}"}], ",", 
              RowBox[{"{", 
               RowBox[{
                RowBox[{"highlightrange", "[", 
                 RowBox[{"[", "1", "]"}], "]"}], ",", "\"\<\>\"", ",", 
                "Red"}], "}"}], ",", 
              RowBox[{"{", 
               RowBox[{
                RowBox[{"highlightrange", "[", 
                 RowBox[{"[", "2", "]"}], "]"}], ",", "\"\<\>\"", ",", 
                "Red"}], "}"}]}], "}"}]}], ";", "\[IndentingNewLine]", 
           RowBox[{"lineelement2", "=", 
            RowBox[{"{", 
             RowBox[{
              RowBox[{"{", 
               RowBox[{
                RowBox[{"highlightrange", "[", 
                 RowBox[{"[", "1", "]"}], "]"}], ",", "\"\<\>\"", ",", 
                "Red"}], "}"}], ",", 
              RowBox[{"{", 
               RowBox[{
                RowBox[{"highlightrange", "[", 
                 RowBox[{"[", "2", "]"}], "]"}], ",", "\"\<\>\"", ",", 
                "Red"}], "}"}]}], "}"}]}], ";", " ", "\[IndentingNewLine]", 
           RowBox[{"binset", "=", 
            RowBox[{"{", 
             RowBox[{"Table", "[", 
              RowBox[{
               RowBox[{"i", "*", 
                RowBox[{
                 RowBox[{"(", 
                  RowBox[{
                   RowBox[{"highlightrange", "[", 
                    RowBox[{"[", "2", "]"}], "]"}], "-", 
                   RowBox[{"highlightrange", "[", 
                    RowBox[{"[", "1", "]"}], "]"}]}], ")"}], "/", "20.0"}]}], 
               ",", 
               RowBox[{"{", 
                RowBox[{"i", ",", 
                 RowBox[{"-", "100"}], ",", "100"}], "}"}]}], "]"}], 
             "}"}]}]}]}], "\[IndentingNewLine]", 
         RowBox[{"(*", "\[IndentingNewLine]", 
          RowBox[{
           RowBox[{"binset", "=", 
            RowBox[{"{", 
             RowBox[{"Table", "[", 
              RowBox[{
               RowBox[{"i", "*", 
                RowBox[{
                 RowBox[{"barseperator", "[", 
                  RowBox[{"[", 
                   RowBox[{
                    RowBox[{
                    RowBox[{"Length", "[", "barseperator", "]"}], "/", "2"}], 
                    "+", "1"}], "]"}], "]"}], "/", "10.0"}]}], ",", 
               RowBox[{"{", 
                RowBox[{"i", ",", 
                 RowBox[{"-", "100"}], ",", "100"}], "}"}]}], "]"}], "}"}]}], 
           ";"}], 
          RowBox[{"(*", "test", "*)"}], "\[IndentingNewLine]", "*)"}], 
         "\[IndentingNewLine]", "]"}], ";"}], "\[IndentingNewLine]", "*)"}], 
      "\[IndentingNewLine]", 
      RowBox[{"(*", "test", "*)"}], 
      RowBox[{"(*", 
       RowBox[{
        RowBox[{"Print", "[", "binset", "]"}], ";", 
        RowBox[{"Print", "[", "lineelement2", "]"}], ";"}], "*)"}], "\n", 
      "\[IndentingNewLine]", 
      RowBox[{"(*", 
       RowBox[{"20170307", ":", " ", 
        RowBox[{"bin", " ", "from", " ", "argument"}]}], "*)"}], "\n", 
      RowBox[{"(*", "\n", 
       RowBox[{
        RowBox[{"If", "[", "\n", 
         RowBox[{
          RowBox[{"Hist1figureNbin", "==", "\"\<auto\>\""}], ",", "\n", 
          RowBox[{
           RowBox[{"binset", "=", "barseperator"}], ";", "\n", 
           RowBox[{"binset", "=", 
            RowBox[{"Insert", "[", 
             RowBox[{"binset", ",", "0.0", ",", "5"}], "]"}]}]}]}], "\n", 
         "]"}], ";"}], "\n", "*)"}], "\[IndentingNewLine]", 
      RowBox[{"(*", "\n", 
       RowBox[{
        RowBox[{"If", "[", "\n", 
         RowBox[{
          RowBox[{
           RowBox[{"plottype", "\[Equal]", "5"}], "  ", "||", " ", 
           RowBox[{"plottype", "\[Equal]", "6"}]}], ",", "\n", 
          RowBox[{"(*", 
           RowBox[{"hist1", ":", " ", 
            RowBox[{"data", " ", "with", " ", "no", " ", "absolute"}]}], 
           "*)"}], "\n", 
          RowBox[{
           RowBox[{"histplotcorr1", "=", 
            RowBox[{"histplot4", "[", 
             RowBox[{
              RowBox[{
               RowBox[{"pdfcorr", "[", 
                RowBox[{"[", 
                 RowBox[{"flavourin", "+", "6"}], "]"}], "]"}], "/.", 
               RowBox[{
                RowBox[{"LF1", "[", "a__", "]"}], "\[RuleDelayed]", 
                RowBox[{
                 RowBox[{"{", "a", "}"}], "[", 
                 RowBox[{"[", "3", "]"}], "]"}]}]}], ",", "title", ",", 
              "xhisttitle", ",", "yhisttitle", ",", "binset", ",", 
              "lineelement", ",", "hist1plotrangex", ",", "Hist1figureNbin"}],
              "]"}]}], ";", "\n", 
           RowBox[{"(*", 
            RowBox[{"hist1", ":", " ", 
             RowBox[{"data", " ", "with", " ", "absolute", 
              RowBox[{"(", 
               RowBox[{"|", "data", "|"}], ")"}]}]}], "*)"}], "\n", 
           RowBox[{"histplotcorr2", "=", 
            RowBox[{"histplot4", "[", 
             RowBox[{
              RowBox[{
               RowBox[{"pdfcorr", "[", 
                RowBox[{"[", 
                 RowBox[{"flavourin", "+", "6"}], "]"}], "]"}], "/.", 
               RowBox[{
                RowBox[{"LF1", "[", "a__", "]"}], "\[RuleDelayed]", 
                RowBox[{"Abs", "[", 
                 RowBox[{
                  RowBox[{"{", "a", "}"}], "[", 
                  RowBox[{"[", "3", "]"}], "]"}], " ", "]"}]}]}], ",", 
              "title", ",", "xhistabstitle", ",", "yhisttitle", ",", "binset",
               ",", 
              RowBox[{"Take", "[", 
               RowBox[{"lineelement", ",", 
                RowBox[{"-", "3"}]}], "]"}], ",", "hist2plotrangex", ",", 
              "Hist1figureNbin"}], "]"}]}], ";", "\n", "\"\<dummy\>\""}]}], 
         "\n", "]"}], ";"}], "\n", "*)"}], "\n", 
      RowBox[{"If", "[", "\n", " ", 
       RowBox[{
        RowBox[{
         RowBox[{"plottype", "==", "2"}], " ", "||", " ", 
         RowBox[{"plottype", "==", "3"}], " ", "||", " ", 
         RowBox[{"plottype", "==", "4"}], " ", "||", " ", 
         RowBox[{"plottype", "==", "5"}], "  ", "||", " ", 
         RowBox[{"plottype", "==", "6"}]}], ",", "\n", 
        RowBox[{"(*", 
         RowBox[{"hist1", ":", " ", 
          RowBox[{"data", " ", "with", " ", "no", " ", "absolute"}]}], "*)"}],
         "\n", 
        RowBox[{"(*", 
         RowBox[{"20170515", ":", " ", 
          RowBox[{
          "temporary", " ", "use", " ", "data", " ", "of", " ", "all", " ", 
           "groups", " ", "to", " ", "draw", " ", "the", " ", "histogram", 
           " ", "in", " ", "one", " ", "color"}]}], "*)"}], "\n", 
        RowBox[{
         RowBox[{"histplotcorr1", "=", 
          RowBox[{"histplot4", "[", 
           RowBox[{
            RowBox[{
             RowBox[{"Flatten", "[", "pdfcorr", "]"}], "/.", 
             RowBox[{
              RowBox[{"LF1", "[", "a__", "]"}], ":>", 
              RowBox[{
               RowBox[{"{", "a", "}"}], "[", 
               RowBox[{"[", "3", "]"}], "]"}]}]}], ",", "title", ",", 
            "xhisttitle", ",", "yhisttitle", ",", "binset", ",", 
            "lineelement", ",", "hist1plotrangex", ",", "Hist1figureNbin"}], 
           "]"}]}], ";", "\n", 
         RowBox[{"(*", 
          RowBox[{"hist1", ":", " ", 
           RowBox[{"data", " ", "with", " ", "absolute", 
            RowBox[{"(", 
             RowBox[{"|", "data", "|"}], ")"}]}]}], "*)"}], "\n", 
         RowBox[{"histplotcorr2", "=", 
          RowBox[{"histplot4", "[", 
           RowBox[{
            RowBox[{
             RowBox[{"Flatten", "[", "pdfcorr", "]"}], "/.", 
             RowBox[{
              RowBox[{"LF1", "[", "a__", "]"}], ":>", 
              RowBox[{"Abs", "[", 
               RowBox[{
                RowBox[{"{", "a", "}"}], "[", 
                RowBox[{"[", "3", "]"}], "]"}], " ", "]"}]}]}], ",", "title", 
            ",", "xhistabstitle", ",", "yhisttitle", ",", "binset", ",", 
            RowBox[{"(*", 
             RowBox[{"Take", "[", 
              RowBox[{"lineelement", ",", 
               RowBox[{"-", "3"}]}], "]"}], "*)"}], "lineelement2", ",", 
            "hist2plotrangex", ",", "Hist1figureNbin"}], "]"}]}], ";", "\n", 
         "\"\<dummy\>\""}]}], "\n", "]"}], ";", "\n", "\n", 
      RowBox[{"If", "[", "\n", " ", 
       RowBox[{
        RowBox[{"plottype", "==", "1"}], ",", "\n", 
        RowBox[{"(*", "plot1", "*)"}], "\n", "\n", 
        RowBox[{
         RowBox[{"expttype", "=", "\"\<multi\>\""}], ";", "\n", 
         RowBox[{"(*", 
          RowBox[{
           RowBox[{"20170515", " ", "groups", " ", "of", " ", "data"}], ",", 
           " ", 
           RowBox[{
           "legend", " ", "is", " ", "exptids", " ", "in", " ", "all", " ", 
            "groups"}], ",", " ", 
           RowBox[{"using", " ", "Flatten"}], ",", " ", 
           RowBox[{
           "PDFname", " ", "should", " ", "be", " ", "took", " ", "cared"}]}],
           "*)"}], "\n", 
         RowBox[{"myplotsetting", "=", 
          RowBox[{"setplotsetting", "[", 
           RowBox[{
            RowBox[{"Flatten", "[", 
             RowBox[{"corrfxQdtaobsclassin", ",", "1"}], "]"}], ",", 
            RowBox[{"exptlist", "//", "Flatten"}], ",", "expttype", ",", "1", 
            ",", "\"\<test\>\"", ",", "\"\<test\>\""}], "]"}]}], ";", "\n", 
         RowBox[{"imgsize", "=", 
          RowBox[{"myplotsetting", "[", 
           RowBox[{"[", "\"\<imgsize\>\"", "]"}], "]"}]}], ";", "\n", 
         RowBox[{"title", "=", 
          RowBox[{"myplotsetting", "[", 
           RowBox[{"[", "\"\<title\>\"", "]"}], "]"}]}], ";", "\n", 
         RowBox[{"xtitle", "=", 
          RowBox[{"myplotsetting", "[", 
           RowBox[{"[", "\"\<xtitle\>\"", "]"}], "]"}]}], ";", "\n", 
         RowBox[{"ytitle", "=", 
          RowBox[{"myplotsetting", "[", 
           RowBox[{"[", "\"\<ytitle\>\"", "]"}], "]"}]}], ";", "\n", 
         RowBox[{"lgdlabel", "=", 
          RowBox[{"myplotsetting", "[", 
           RowBox[{"[", "\"\<lgdlabel\>\"", "]"}], "]"}]}], ";", "\n", 
         RowBox[{"xrange", "=", 
          RowBox[{"myplotsetting", "[", 
           RowBox[{"[", "\"\<xrange\>\"", "]"}], "]"}]}], ";", "\n", 
         RowBox[{"yrange", "=", 
          RowBox[{"myplotsetting", "[", 
           RowBox[{"[", "\"\<yrange\>\"", "]"}], "]"}]}], ";", "\n", 
         RowBox[{"epilog", "=", 
          RowBox[{"myplotsetting", "[", 
           RowBox[{"[", "\"\<epilog\>\"", "]"}], "]"}]}], ";", "\n", 
         RowBox[{"titlesize", "=", 
          RowBox[{"myplotsetting", "[", 
           RowBox[{"[", "\"\<titlesize\>\"", "]"}], "]"}]}], ";", "\n", 
         RowBox[{"xtitlesize", "=", 
          RowBox[{"myplotsetting", "[", 
           RowBox[{"[", "\"\<xtitlesize\>\"", "]"}], "]"}]}], ";", "\n", 
         RowBox[{"ytitlesize", "=", 
          RowBox[{"myplotsetting", "[", 
           RowBox[{"[", "\"\<ytitlesize\>\"", "]"}], "]"}]}], ";", "\n", 
         RowBox[{"lgdlabelsize", "=", 
          RowBox[{"myplotsetting", "[", 
           RowBox[{"[", "\"\<lgdlabelsize\>\"", "]"}], "]"}]}], ";", "\n", 
         RowBox[{"ticklablesize", "=", 
          RowBox[{"myplotsetting", "[", 
           RowBox[{"[", "\"\<ticklablesize\>\"", "]"}], "]"}]}], ";", "\n", 
         "\n", 
         RowBox[{"myplotstyle", "=", 
          RowBox[{"myplotsetting", "[", 
           RowBox[{"[", "\"\<plotstyle\>\"", "]"}], "]"}]}], ";", "\n", 
         RowBox[{"myMarker", "=", 
          RowBox[{"myplotsetting", "[", 
           RowBox[{"[", "\"\<marker\>\"", "]"}], "]"}]}], ";", "\n", "\n", 
         RowBox[{"title", "=", 
          RowBox[{
          "\"\<Experimental data in \>\"", "<>", "PDFname", "<>", 
           "\"\< analysis\>\""}]}], ";", "\n", 
         RowBox[{"lgdpos", "=", 
          RowBox[{"{", 
           RowBox[{"0.25", ",", "0.725"}], "}"}]}], ";", "\n", 
         RowBox[{"xyrangeplot1", "=", "plotrange"}], ";", 
         RowBox[{"(*", 
          RowBox[{
           RowBox[{"20170307", " ", "change", " ", 
            RowBox[{"it", "'"}], "s", " ", "name"}], ",", " ", 
           RowBox[{"avoid", " ", "duplicate"}]}], "*)"}], "\n", 
         RowBox[{"(*", 
          RowBox[{"20170515", ":", " ", 
           RowBox[{
           "consider", " ", "expts", " ", "in", " ", "all", " ", "groups"}]}],
           "*)"}], "\n", 
         RowBox[{"(*", 
          RowBox[{
           RowBox[{"20170515", ":", " ", 
            RowBox[{
            "consider", " ", "expts", " ", "of", " ", "all", " ", 
             "groups"}]}], ",", " ", 
           RowBox[{"so", " ", "use", " ", 
            RowBox[{"Flatten", "[", 
             RowBox[{"data", ",", "1"}], "]"}]}]}], " ", "*)"}], "\n", "\n", 
         RowBox[{"(*", "\n", 
          RowBox[{
           RowBox[{"Print", "[", 
            RowBox[{"\"\<dim of p1: \>\"", ",", 
             RowBox[{"Dimensions", "[", "pdfcorr", "]"}]}], " ", "]"}], ";", 
           "\n", 
           RowBox[{"Print", "[", 
            RowBox[{"\"\<dim of p1: \>\"", ",", 
             RowBox[{"Dimensions", "[", 
              RowBox[{"Flatten", "[", 
               RowBox[{"pdfcorr", ",", "1"}], "]"}], " ", "]"}]}], "]"}], ";",
            "\n", 
           RowBox[{"Print", "[", 
            RowBox[{"\"\<data of p1: \>\"", ",", 
             RowBox[{
              RowBox[{"Flatten", "[", 
               RowBox[{"pdfcorr", ",", "1"}], "]"}], "[", 
              RowBox[{"[", "1", "]"}], "]"}]}], " ", "]"}], ";", "\n", 
           RowBox[{"Print", "[", 
            RowBox[{"\"\<data of p1: \>\"", ",", 
             RowBox[{
              RowBox[{"Flatten", "[", 
               RowBox[{"pdfcorr", ",", "1"}], "]"}], "[", 
              RowBox[{"[", "2", "]"}], "]"}]}], " ", "]"}], ";", "\n", 
           RowBox[{"Print", "[", 
            RowBox[{"\"\<data of p1: \>\"", ",", 
             RowBox[{
              RowBox[{"Flatten", "[", 
               RowBox[{"pdfcorr", ",", "1"}], "]"}], "[", 
              RowBox[{"[", "3", "]"}], "]"}]}], " ", "]"}], ";", "\n", 
           RowBox[{"Print", "[", 
            RowBox[{"\"\<data of p1: \>\"", ",", 
             RowBox[{
              RowBox[{"Flatten", "[", 
               RowBox[{"pdfcorr", ",", "1"}], "]"}], "[", 
              RowBox[{"[", "4", "]"}], "]"}]}], " ", "]"}], ";", "\n", 
           RowBox[{"PDFloglogplot", "[", 
            RowBox[{
             RowBox[{
              RowBox[{"Flatten", "[", 
               RowBox[{"pdfcorr", ",", "1"}], "]"}], "/.", 
              RowBox[{"LF1", "\[Rule]", "List"}]}], ",", "myMarker", ",", 
             "myplotstyle", ",", "title", ",", "xtitle", ",", "ytitle", ",", 
             "xyrangeplot1", ",", "lgdlabel", ",", "lgdpos", ",", "imgsize"}],
             "]"}], ";", "\n", 
           RowBox[{"Abort", "[", "]"}], ";"}], "\n", "*)"}], "\n", "\n", 
         RowBox[{"plot1", "=", 
          RowBox[{"PDFloglogplot", "[", 
           RowBox[{
            RowBox[{"Flatten", "[", 
             RowBox[{"pdfcorr", ",", "1"}], "]"}], ",", "myMarker", ",", 
            "myplotstyle", ",", "title", ",", "xtitle", ",", "ytitle", ",", 
            "xyrangeplot1", ",", "lgdlabel", ",", "lgdpos", ",", "imgsize"}], 
           "]"}]}], ";"}]}], "\n", "]"}], ";", "\n", "\n", "\n", 
      RowBox[{"(*", 
       RowBox[{
        RowBox[{
         RowBox[{"make", " ", "expt", " ", "name"}], " ", "&"}], " ", "ID", 
        " ", "table"}], "*)"}], "\n", 
      RowBox[{"(*", 
       RowBox[{
       "===", "===", "===", "===", "===", "===", "===", "===", "===", "==="}],
        "*)"}], "\n", "\n", 
      RowBox[{"(*", "output", "*)"}], "\n", 
      RowBox[{"(*", 
       RowBox[{
       "===", "===", "===", "===", "===", "===", "===", "===", "===", "==="}],
        "*)"}], "\n", "title", ";", "\n", 
      RowBox[{"(*", "\n", 
       RowBox[{
        RowBox[{"GraphicsGrid", "[", 
         RowBox[{"{", 
          RowBox[{
           RowBox[{"{", "xQplotcorr", "}"}], ",", 
           RowBox[{"{", 
            RowBox[{"histplotcorr1", ",", "histplotcorr2"}], "}"}]}], "}"}], 
         "]"}], ";", "\n", 
        RowBox[{"{", 
         RowBox[{
          RowBox[{"{", "xQplotcorr", "}"}], ",", 
          RowBox[{"{", 
           RowBox[{"histplotcorr1", ",", "histplotcorr2"}], "}"}]}], "}"}], 
        ";"}], "\n", "*)"}], "\n", "\n", 
      RowBox[{"(*", 
       RowBox[{"make", "  ", "exptname", " ", "table"}], "*)"}], "\n", 
      RowBox[{"(*", 
       RowBox[{
        RowBox[{"20170515", ":", " ", 
         RowBox[{"when", " ", "show", " ", "all", " ", "experiments"}]}], ",",
         " ", 
        RowBox[{
        "show", " ", "expts", " ", "of", " ", "all", " ", "groups"}]}], 
       "*)"}], "\n", 
      RowBox[{"rows", "=", "3"}], ";", "\n", 
      RowBox[{"exptnames", "=", 
       RowBox[{"Table", "[", 
        RowBox[{
         RowBox[{
          RowBox[{"ExptIDtoName", "[", 
           RowBox[{
            RowBox[{"Flatten", "[", "exptlist", "]"}], "[", 
            RowBox[{"[", "iexpt", "]"}], "]"}], " ", "]"}], "<>", "\"\<(\>\"",
           "<>", 
          RowBox[{"ToString", "[", 
           RowBox[{
            RowBox[{"Flatten", "[", "exptlist", "]"}], "[", 
            RowBox[{"[", "iexpt", "]"}], "]"}], " ", "]"}], "<>", 
          "\"\<)\>\""}], ",", 
         RowBox[{"{", 
          RowBox[{"iexpt", ",", "1", ",", 
           RowBox[{"Length", "[", 
            RowBox[{"exptlist", "//", "Flatten"}], "]"}]}], "}"}]}], "]"}]}], 
      ";", "\n", 
      RowBox[{
      "Print", "[", "\"\<making table of experiments included in plots\>\"", 
       "]"}], ";", "\n", 
      RowBox[{"exptnamestable", "=", 
       RowBox[{"makeGrid2", "[", 
        RowBox[{"exptnames", ",", "rows", ",", 
         RowBox[{"title", "<>", "\"\<\\n\\n\>\""}]}], "]"}]}], ";", "\n", 
      "\n", 
      RowBox[{"Which", "[", "\n", " ", 
       RowBox[{
        RowBox[{
         RowBox[{"plottype", "==", "2"}], " ", "||", " ", 
         RowBox[{"plottype", "==", "3"}], " ", "||", " ", 
         RowBox[{"plottype", "==", "4"}], " ", "||", " ", 
         RowBox[{"plottype", "==", "5"}], "  ", "||", " ", 
         RowBox[{"plottype", "==", "6"}]}], ",", "\n", 
        RowBox[{"{", 
         RowBox[{
          RowBox[{"{", 
           RowBox[{"xQplotcorr", ",", "exptnamestable"}], "}"}], ",", 
          RowBox[{"{", 
           RowBox[{"histplotcorr1", ",", "histplotcorr2"}], "}"}]}], "}"}], 
        ",", "\n", 
        RowBox[{"plottype", "==", "1"}], ",", "\n", 
        RowBox[{"{", "plot1", "}"}]}], "\n", "]"}]}]}], "\n", 
    "]"}]}]}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{{3.717915566826365*^9, 3.717915622654394*^9}, {
   3.718338620222577*^9, 3.718338632110441*^9}, {3.7187279472906027`*^9, 
   3.718728006206381*^9}, {3.7187280621823606`*^9, 3.7187282138525257`*^9}, {
   3.718728246836389*^9, 3.718728247237464*^9}, {3.7187289835846033`*^9, 
   3.71872899030169*^9}, {3.718729100103074*^9, 3.71872910721668*^9}, {
   3.719059729247293*^9, 3.7190597669705544`*^9}, {3.719059904976592*^9, 
   3.719059942525037*^9}, {3.7190599914697943`*^9, 3.7190600189632683`*^9}, {
   3.719060117953638*^9, 3.719060168508417*^9}, {3.719060236725368*^9, 
   3.7190603804373426`*^9}, {3.7190605860178633`*^9, 3.719060607225067*^9}, 
   3.719060663112789*^9, {3.719060738080132*^9, 3.719060747269595*^9}, {
   3.7190607897340937`*^9, 3.719060848783328*^9}, {3.71906107328231*^9, 
   3.719061087198964*^9}, {3.7190611638912163`*^9, 3.719061177241424*^9}, 
   3.71906218435115*^9, {3.7190636908270273`*^9, 3.719063740405981*^9}, {
   3.719063779827703*^9, 3.719063817096649*^9}, {3.719064999334052*^9, 
   3.719065002741194*^9}, {3.719065769423257*^9, 3.719065782377437*^9}, {
   3.719066087709338*^9, 3.719066091446703*^9}, {3.7190662167163267`*^9, 
   3.7190662393236313`*^9}, {3.719066397074687*^9, 3.719066397157902*^9}, {
   3.719066568242959*^9, 3.7190665998723097`*^9}, {3.71906664572156*^9, 
   3.7190666629748*^9}, {3.7190668110047417`*^9, 3.71906683034832*^9}, {
   3.719066881209927*^9, 3.719066881920536*^9}, {3.719066934601416*^9, 
   3.7190669733313723`*^9}, {3.719067039006693*^9, 3.7190670451451902`*^9}, {
   3.719068821542357*^9, 3.719068824283389*^9}, {3.719070960547398*^9, 
   3.7190710407268553`*^9}, {3.719071089370784*^9, 3.719071095464415*^9}, {
   3.7190917832326107`*^9, 3.719091839815298*^9}, {3.719092017612597*^9, 
   3.719092061403511*^9}, {3.719092100723568*^9, 3.7190921114645033`*^9}, {
   3.719092177000494*^9, 3.719092183504651*^9}, {3.719093238399189*^9, 
   3.7190932994427156`*^9}, {3.7190934637328997`*^9, 3.719093465644335*^9}, {
   3.719093601102151*^9, 3.719093613849285*^9}, {3.719094034547933*^9, 
   3.7190940527344627`*^9}, {3.719094171855443*^9, 3.719094177164918*^9}, {
   3.7190949296048594`*^9, 3.719095086519619*^9}, {3.7191462080590477`*^9, 
   3.719146258300202*^9}, {3.719146345314061*^9, 3.719146357461391*^9}, {
   3.719146393553595*^9, 3.719146437342389*^9}, {3.719146483159334*^9, 
   3.71914653695177*^9}, {3.719146971178891*^9, 3.7191470045069647`*^9}, {
   3.71914799086197*^9, 3.719147991556988*^9}, {3.719159056322336*^9, 
   3.719159105883895*^9}, {3.719159162603706*^9, 3.719159211721231*^9}, {
   3.7191604072269278`*^9, 3.719160653951769*^9}, {3.719160826673069*^9, 
   3.719160849721487*^9}, {3.719161326747534*^9, 3.719161502250945*^9}, {
   3.7191620998114967`*^9, 3.719162157933353*^9}, {3.719162201996395*^9, 
   3.7191622027758617`*^9}, {3.71916228401995*^9, 3.719162326407497*^9}, {
   3.7191629667186193`*^9, 3.719162981249734*^9}, {3.7191630133721647`*^9, 
   3.7191630294130583`*^9}, {3.719163074453381*^9, 3.719163084214445*^9}, {
   3.719163324240933*^9, 3.719163324315948*^9}, {3.7191651565113287`*^9, 
   3.719165179799694*^9}, {3.7191652401021757`*^9, 3.719165293698292*^9}, {
   3.7191653298392277`*^9, 3.719165448689724*^9}, {3.7191656322063637`*^9, 
   3.7191656360990133`*^9}, {3.7191658231638947`*^9, 3.719165863254436*^9}, {
   3.719165929172868*^9, 3.719165930109991*^9}, {3.7191660034727173`*^9, 
   3.719166031812039*^9}, {3.7191661033193073`*^9, 3.719166103388006*^9}, {
   3.719166157744405*^9, 3.719166195550425*^9}, {3.719166365860896*^9, 
   3.719166408401154*^9}, 3.7191664502189083`*^9, {3.719166507066395*^9, 
   3.719166538895108*^9}, 3.719166606126437*^9, {3.7191666381045732`*^9, 
   3.719166696174882*^9}, {3.719170876957828*^9, 3.719170968513329*^9}, {
   3.719171361589993*^9, 3.719171367987813*^9}, {3.719171510887849*^9, 
   3.7191715421063013`*^9}, {3.719171586159519*^9, 3.7191715863295727`*^9}}],

Cell[BoxData[
 RowBox[{
  RowBox[{"(*", "20171126", "*)"}], "\[IndentingNewLine]", 
  RowBox[{"(*", "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"when", " ", "call", " ", "processdataplotsmultiexp7percentage"}],
     ",", "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{"if", " ", "plot", " ", "type"}], " ", "=", " ", "1"}], ",", " ", 
    RowBox[{
    "call", " ", "this", " ", "function", " ", "to", " ", "draw", " ", "data",
      " ", "sets", " ", "on", " ", 
     RowBox[{"(", 
      RowBox[{"x", ",", "Q"}], ")"}], " ", "plane"}]}], "\[IndentingNewLine]",
    "*)"}], "\[IndentingNewLine]", 
  RowBox[{
   RowBox[{"PlotDataTypeOne", "[", 
    RowBox[{
    "corrfxQdtaobsclassin_", ",", "pdfcorrin_", ",", "exptlistin_", ",", 
     "xyrangein_", ",", "classifymodein_", ",", "configargumentsin_"}], "]"}],
    ":=", "\[IndentingNewLine]", 
   RowBox[{"Module", "[", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{
       RowBox[{"corrfxQdtaobsclass", "=", "corrfxQdtaobsclassin"}], ",", 
       RowBox[{"pdfcorr", "=", "pdfcorrin"}], ",", 
       RowBox[{"exptlist", "=", "exptlistin"}], ",", 
       RowBox[{"classifymode", "=", "classifymodein"}], ",", 
       RowBox[{"configarguments", "=", "configargumentsin"}], ",", 
       "\[IndentingNewLine]", "plottype", ",", "expttype", ",", 
       "\[IndentingNewLine]", "Jobid", ",", "PDFname", ",", "FigureType", ",",
        "FigureFlag", ",", "ExptidType", ",", "ExptidFlag", ",", 
       "CorrelationArgType", ",", "CorrelationArgFlag", ",", 
       RowBox[{"(*", 
        RowBox[{"UserArgName", ",", "UserArgValue", ","}], "*)"}], "\n", 
       "XQfigureXrange", ",", "XQfigureYrange", ",", "Hist1figureNbin", ",", 
       "Hist1figureXrange", ",", "Hist1figureYrange", ",", "\n", 
       "ColorSeperator", ",", "\n", "Size", ",", "HighlightType", ",", 
       "HighlightMode", ",", "HighlightMode1", ",", "HighlightMode2", ",", 
       "\[IndentingNewLine]", "lgdpos", ",", "xyrangeplot1", ",", "plotrange",
        ",", "\[IndentingNewLine]", "myplotsetting", ",", "imgsize", ",", 
       "title", ",", "xtitle", ",", "ytitle", ",", "lgdlabel", ",", "xrange", 
       ",", "yrange", ",", "epilog", ",", "titlesize", ",", "xtitlesize", ",",
        "ytitlesize", ",", "lgdlabelsize", ",", "ticklablesize", ",", 
       "myplotstyle", ",", "myMarker", ",", "\[IndentingNewLine]", "plot1", 
       ",", "\[IndentingNewLine]", 
       RowBox[{"xyrange", "=", "xyrangein"}], ",", "\[IndentingNewLine]", 
       "groupnames", ",", "groupExptIDs"}], "}"}], ",", "\[IndentingNewLine]",
      "\[IndentingNewLine]", 
     RowBox[{"(*", 
      RowBox[{
      "read", " ", "arguments", " ", "in", " ", "config", " ", "file"}], 
      "*)"}], "\n", 
     RowBox[{"(*", 
      RowBox[{
      "===", "===", "===", "===", "===", "===", "===", "===", "===", "==="}], 
      "*)"}], "\n", 
     RowBox[{
      RowBox[{
       RowBox[{"{", 
        RowBox[{
        "Jobid", ",", "PDFname", ",", "FigureType", ",", "FigureFlag", ",", 
         "ExptidType", ",", "ExptidFlag", ",", "CorrelationArgType", ",", 
         "CorrelationArgFlag", ",", 
         RowBox[{"(*", 
          RowBox[{"UserArgName", ",", "UserArgValue", ","}], "*)"}], "\n", 
         "XQfigureXrange", ",", "XQfigureYrange", ",", "Hist1figureNbin", ",",
          "Hist1figureXrange", ",", "Hist1figureYrange", ",", "\n", 
         "ColorSeperator", ",", "\n", "Size", ",", "HighlightType", ",", 
         "HighlightMode", ",", "HighlightMode1", ",", "HighlightMode2"}], 
        "}"}], "=", "configarguments"}], ";", "\[IndentingNewLine]", 
      RowBox[{"(*", 
       RowBox[{
       "===", "===", "===", "===", "===", "===", "===", "===", "===", "===", "===",
         "===", "===", "===", "===", "===", "===", "===", "===", "===", "===",
         "===", "===", "===", "===", "===", "===", "===", "===", 
        RowBox[{"==", 
         RowBox[{
         "===", "===", "===", "===", "===", "===", "===", "===", "===", "===",
           "===", "==="}]}]}], "*)"}], "\[IndentingNewLine]", 
      RowBox[{"(*", 
       RowBox[{
        RowBox[{
         RowBox[{"plot", " ", "type", " ", "1"}], ":", " ", 
         RowBox[{
          RowBox[{"generate", " ", "plots"}], "===", "===", "===", "===", "===",
           "===", "===", "===", "===", "===", "===", "===", "===", "===", "===", 
          RowBox[{"==", 
           RowBox[{"===", "===", "===", "===", 
            RowBox[{"==", 
             RowBox[{
             "===", "===", "===", "===", "===", "===", "===", "===", "===", "===",
               "===", "===", "===", "===", "==="}]}]}]}]}]}], "=", "="}], 
       "*)"}], "\[IndentingNewLine]", 
      RowBox[{"(*", 
       RowBox[{
        RowBox[{
        "===", "===", "===", "===", "===", "===", "===", "===", "===", "===", 
         "===", "===", "===", "===", "===", "===", "===", "===", "===", "===",
          "===", "===", "===", "===", "==="}], "=", 
        RowBox[{"===", "===", "===", "===", 
         RowBox[{"==", "=="}], "===", "===", "===", "===", "===", "===", "===",
          "===", "===", "===", "==="}]}], "*)"}], "\[IndentingNewLine]", 
      RowBox[{"{", 
       RowBox[{
       "myplotsetting", ",", "imgsize", ",", "title", ",", "xtitle", ",", 
        "ytitle", ",", "lgdlabel", ",", "xrange", ",", "yrange", ",", 
        "epilog", ",", "titlesize", ",", "xtitlesize", ",", "ytitlesize", ",",
         "lgdlabelsize", ",", "ticklablesize", ",", "myplotstyle", ",", 
        "myMarker"}], "}"}], ";", "\[IndentingNewLine]", "\n", 
      RowBox[{"(*", "plot1", "*)"}], "\n", "\n", 
      RowBox[{"expttype", "=", "\"\<multi\>\""}], ";", "\n", 
      RowBox[{"(*", 
       RowBox[{
        RowBox[{"20170515", " ", "groups", " ", "of", " ", "data"}], ",", " ", 
        RowBox[{
        "legend", " ", "is", " ", "exptids", " ", "in", " ", "all", " ", 
         "groups"}], ",", " ", 
        RowBox[{"using", " ", "Flatten"}], ",", " ", 
        RowBox[{
        "PDFname", " ", "should", " ", "be", " ", "took", " ", "cared"}]}], 
       "*)"}], "\n", 
      RowBox[{"myplotsetting", "=", 
       RowBox[{"setplotsetting", "[", 
        RowBox[{
         RowBox[{"Flatten", "[", 
          RowBox[{"corrfxQdtaobsclassin", ",", "1"}], "]"}], ",", 
         RowBox[{"exptlist", "//", "Flatten"}], ",", "expttype", ",", "1", 
         ",", "\"\<test\>\"", ",", "\"\<test\>\""}], "]"}]}], ";", "\n", 
      RowBox[{"imgsize", "=", 
       RowBox[{"myplotsetting", "[", 
        RowBox[{"[", "\"\<imgsize\>\"", "]"}], "]"}]}], ";", "\n", 
      RowBox[{"title", "=", 
       RowBox[{"myplotsetting", "[", 
        RowBox[{"[", "\"\<title\>\"", "]"}], "]"}]}], ";", "\n", 
      RowBox[{"xtitle", "=", 
       RowBox[{"myplotsetting", "[", 
        RowBox[{"[", "\"\<xtitle\>\"", "]"}], "]"}]}], ";", "\n", 
      RowBox[{"ytitle", "=", 
       RowBox[{"myplotsetting", "[", 
        RowBox[{"[", "\"\<ytitle\>\"", "]"}], "]"}]}], ";", "\n", 
      RowBox[{"lgdlabel", "=", 
       RowBox[{"myplotsetting", "[", 
        RowBox[{"[", "\"\<lgdlabel\>\"", "]"}], "]"}]}], ";", "\n", 
      RowBox[{"xrange", "=", 
       RowBox[{"myplotsetting", "[", 
        RowBox[{"[", "\"\<xrange\>\"", "]"}], "]"}]}], ";", "\n", 
      RowBox[{"yrange", "=", 
       RowBox[{"myplotsetting", "[", 
        RowBox[{"[", "\"\<yrange\>\"", "]"}], "]"}]}], ";", "\n", 
      RowBox[{"epilog", "=", 
       RowBox[{"myplotsetting", "[", 
        RowBox[{"[", "\"\<epilog\>\"", "]"}], "]"}]}], ";", "\n", 
      RowBox[{"titlesize", "=", 
       RowBox[{"myplotsetting", "[", 
        RowBox[{"[", "\"\<titlesize\>\"", "]"}], "]"}]}], ";", "\n", 
      RowBox[{"xtitlesize", "=", 
       RowBox[{"myplotsetting", "[", 
        RowBox[{"[", "\"\<xtitlesize\>\"", "]"}], "]"}]}], ";", "\n", 
      RowBox[{"ytitlesize", "=", 
       RowBox[{"myplotsetting", "[", 
        RowBox[{"[", "\"\<ytitlesize\>\"", "]"}], "]"}]}], ";", "\n", 
      RowBox[{"lgdlabelsize", "=", 
       RowBox[{"myplotsetting", "[", 
        RowBox[{"[", "\"\<lgdlabelsize\>\"", "]"}], "]"}]}], ";", "\n", 
      RowBox[{"ticklablesize", "=", 
       RowBox[{"myplotsetting", "[", 
        RowBox[{"[", "\"\<ticklablesize\>\"", "]"}], "]"}]}], ";", "\n", "\n", 
      RowBox[{"myplotstyle", "=", 
       RowBox[{"myplotsetting", "[", 
        RowBox[{"[", "\"\<plotstyle\>\"", "]"}], "]"}]}], ";", "\n", 
      RowBox[{"myMarker", "=", 
       RowBox[{"myplotsetting", "[", 
        RowBox[{"[", "\"\<marker\>\"", "]"}], "]"}]}], ";", "\n", "\n", 
      RowBox[{"title", "=", 
       RowBox[{
       "\"\<Experimental data in \>\"", "<>", "PDFname", "<>", 
        "\"\< analysis\>\""}]}], ";", "\n", 
      RowBox[{"lgdpos", "=", 
       RowBox[{"{", 
        RowBox[{"0.25", ",", "0.725"}], "}"}]}], ";", "\n", 
      RowBox[{"(*", 
       RowBox[{
        RowBox[{"xyrangeplot1", "=", "plotrange"}], ";"}], "*)"}], 
      RowBox[{"(*", 
       RowBox[{
        RowBox[{"20170307", " ", "change", " ", 
         RowBox[{"it", "'"}], "s", " ", "name"}], ",", " ", 
        RowBox[{"avoid", " ", "duplicate"}]}], "*)"}], "\n", 
      RowBox[{"(*", 
       RowBox[{"20170515", ":", " ", 
        RowBox[{
        "consider", " ", "expts", " ", "in", " ", "all", " ", "groups"}]}], 
       "*)"}], "\n", 
      RowBox[{"(*", 
       RowBox[{
        RowBox[{"20170515", ":", " ", 
         RowBox[{
         "consider", " ", "expts", " ", "of", " ", "all", " ", "groups"}]}], 
        ",", " ", 
        RowBox[{"so", " ", "use", " ", 
         RowBox[{"Flatten", "[", 
          RowBox[{"data", ",", "1"}], "]"}]}]}], " ", "*)"}], "\n", "\n", 
      RowBox[{"(*", "\n", 
       RowBox[{
        RowBox[{"Print", "[", 
         RowBox[{"\"\<dim of p1: \>\"", ",", 
          RowBox[{"Dimensions", "[", "pdfcorr", "]"}]}], " ", "]"}], ";", 
        "\n", 
        RowBox[{"Print", "[", 
         RowBox[{"\"\<dim of p1: \>\"", ",", 
          RowBox[{"Dimensions", "[", 
           RowBox[{"Flatten", "[", 
            RowBox[{"pdfcorr", ",", "1"}], "]"}], " ", "]"}]}], "]"}], ";", 
        "\n", 
        RowBox[{"Print", "[", 
         RowBox[{"\"\<data of p1: \>\"", ",", 
          RowBox[{
           RowBox[{"Flatten", "[", 
            RowBox[{"pdfcorr", ",", "1"}], "]"}], "[", 
           RowBox[{"[", "1", "]"}], "]"}]}], " ", "]"}], ";", "\n", 
        RowBox[{"Print", "[", 
         RowBox[{"\"\<data of p1: \>\"", ",", 
          RowBox[{
           RowBox[{"Flatten", "[", 
            RowBox[{"pdfcorr", ",", "1"}], "]"}], "[", 
           RowBox[{"[", "2", "]"}], "]"}]}], " ", "]"}], ";", "\n", 
        RowBox[{"Print", "[", 
         RowBox[{"\"\<data of p1: \>\"", ",", 
          RowBox[{
           RowBox[{"Flatten", "[", 
            RowBox[{"pdfcorr", ",", "1"}], "]"}], "[", 
           RowBox[{"[", "3", "]"}], "]"}]}], " ", "]"}], ";", "\n", 
        RowBox[{"Print", "[", 
         RowBox[{"\"\<data of p1: \>\"", ",", 
          RowBox[{
           RowBox[{"Flatten", "[", 
            RowBox[{"pdfcorr", ",", "1"}], "]"}], "[", 
           RowBox[{"[", "4", "]"}], "]"}]}], " ", "]"}], ";", "\n", 
        RowBox[{"PDFloglogplot", "[", 
         RowBox[{
          RowBox[{
           RowBox[{"Flatten", "[", 
            RowBox[{"pdfcorr", ",", "1"}], "]"}], "/.", 
           RowBox[{"LF1", "\[Rule]", "List"}]}], ",", "myMarker", ",", 
          "myplotstyle", ",", "title", ",", "xtitle", ",", "ytitle", ",", 
          "xyrangeplot1", ",", "lgdlabel", ",", "lgdpos", ",", "imgsize"}], 
         "]"}], ";", "\n", 
        RowBox[{"Abort", "[", "]"}], ";"}], "\n", "*)"}], 
      "\[IndentingNewLine]", 
      RowBox[{"(*", 
       RowBox[{"20171126", ":", " ", 
        RowBox[{"use", " ", "marker", " ", "list"}]}], "*)"}], 
      "\[IndentingNewLine]", 
      RowBox[{"myMarker", "=", 
       RowBox[{"PlotMarkerList", "[", "]"}]}], ";", "\[IndentingNewLine]", 
      RowBox[{
       RowBox[{"myMarker", "[", 
        RowBox[{"[", "2", "]"}], "]"}], "=", 
       RowBox[{"0.0075", "*", 
        RowBox[{"myMarker", "[", 
         RowBox[{"[", "2", "]"}], "]"}]}]}], ";", "\n", 
      RowBox[{"myMarker", "=", 
       RowBox[{"Transpose", "[", 
        RowBox[{"myMarker", ",", 
         RowBox[{"{", 
          RowBox[{"2", ",", "1"}], "}"}]}], "]"}]}], ";", 
      "\[IndentingNewLine]", 
      RowBox[{"Print", "[", 
       RowBox[{"\"\<dim of data: \>\"", ",", 
        RowBox[{"Dimensions", "[", "pdfcorr", "]"}]}], " ", "]"}], ";", 
      "\[IndentingNewLine]", 
      RowBox[{"Print", "[", 
       RowBox[{"\"\<exptlist \>\"", ",", "exptlist"}], "]"}], ";", "\n", 
      RowBox[{
       RowBox[{"{", 
        RowBox[{"groupnames", ",", "groupExptIDs", ",", 
         RowBox[{"(*", "groupdata", "*)"}], "pdfcorr"}], "}"}], "=", 
       RowBox[{"ClassifyPlottedData", "[", 
        RowBox[{"pdfcorr", ",", "exptlist", ",", "classifymode"}], "]"}]}], 
      ";", "\[IndentingNewLine]", 
      RowBox[{"pdfcorr", "=", 
       RowBox[{"Table", "[", 
        RowBox[{
         RowBox[{"Flatten", "[", 
          RowBox[{
           RowBox[{"pdfcorr", "[", 
            RowBox[{"[", "igroup", "]"}], "]"}], ",", "1"}], "]"}], ",", 
         RowBox[{"{", 
          RowBox[{"igroup", ",", 
           RowBox[{"Length", "[", "pdfcorr", "]"}]}], "}"}]}], "]"}]}], ";", 
      "\[IndentingNewLine]", 
      RowBox[{"lgdlabel", "=", "\[IndentingNewLine]", 
       RowBox[{"Switch", "[", 
        RowBox[{
        "classifymode", ",", "\"\<single\>\"", ",", "lgdlabel", ",", 
         "\"\<all\>\"", ",", "groupnames"}], "]"}]}], ";", 
      "\[IndentingNewLine]", "\[IndentingNewLine]", 
      RowBox[{"Print", "[", 
       RowBox[{"\"\<dim of data: \>\"", ",", 
        RowBox[{"Dimensions", "[", "pdfcorr", "]"}]}], " ", "]"}], ";", 
      "\[IndentingNewLine]", "\[IndentingNewLine]", 
      RowBox[{"plot1", "=", 
       RowBox[{"PDFloglogplot", "[", 
        RowBox[{"(*", 
         RowBox[{"Flatten", "[", 
          RowBox[{"pdfcorr", ",", "1"}], "]"}], "*)"}], 
        RowBox[{
        "pdfcorr", ",", "myMarker", ",", "myplotstyle", ",", "title", ",", 
         "xtitle", ",", "ytitle", ",", "xyrange", 
         RowBox[{"(*", "plot1", "*)"}], ",", "lgdlabel", ",", "lgdpos", ",", 
         "imgsize"}], "]"}]}], ";", "\[IndentingNewLine]", 
      "\[IndentingNewLine]", 
      RowBox[{"(*", "return", "*)"}], "\[IndentingNewLine]", 
      "\[IndentingNewLine]", 
      RowBox[{"{", "plot1", "}"}]}]}], "\[IndentingNewLine]", 
    "\[IndentingNewLine]", 
    RowBox[{"(*", "\n", 
     RowBox[{"{", 
      RowBox[{
      "myMarker", ",", "myplotstyle", ",", "title", ",", "xtitle", ",", 
       "ytitle", ",", "xyrange", ",", "lgdlabel", ",", "lgdpos", ",", 
       "imgsize"}], "}"}], "\[IndentingNewLine]", "*)"}], 
    "\[IndentingNewLine]", "]"}]}]}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{{3.720675304821692*^9, 3.7206753281306553`*^9}, {
   3.7206754118260183`*^9, 3.720675457450101*^9}, {3.720675504032565*^9, 
   3.7206755252575197`*^9}, {3.720675864176115*^9, 3.720675865522732*^9}, {
   3.7206758971627407`*^9, 3.720675945496163*^9}, {3.720675977107223*^9, 
   3.720675991778627*^9}, {3.720676028406795*^9, 3.7206760289744177`*^9}, {
   3.720676059921961*^9, 3.7206762639809303`*^9}, {3.72067794008708*^9, 
   3.720677959564046*^9}, {3.720677993054392*^9, 3.720677995708756*^9}, {
   3.7206781979343643`*^9, 3.720678314735587*^9}, {3.720678626984606*^9, 
   3.7206786734154053`*^9}, {3.720679202381044*^9, 3.720679260778564*^9}, {
   3.720679319561089*^9, 3.720679322025947*^9}, {3.7206794213901587`*^9, 
   3.720679421815835*^9}, {3.720679489203315*^9, 3.72067957720411*^9}, {
   3.720679646034233*^9, 3.720679650597658*^9}, {3.720679907632362*^9, 
   3.720679945902267*^9}, {3.7206799801143103`*^9, 3.7206799807532043`*^9}, 
   3.720680035096743*^9, {3.720680084116913*^9, 3.7206800999264936`*^9}, {
   3.720680136274412*^9, 3.7206801430616093`*^9}, {3.720683891768881*^9, 
   3.720683893523321*^9}, {3.720683930821724*^9, 3.720683932172841*^9}, {
   3.720684267315998*^9, 3.720684366324304*^9}, {3.720684441539659*^9, 
   3.7206845011384974`*^9}, {3.720684544768931*^9, 3.720684572403267*^9}, {
   3.720684759483012*^9, 3.720684770210362*^9}, {3.7206849347289124`*^9, 
   3.720684935322394*^9}, {3.720685146471149*^9, 3.720685161601048*^9}, {
   3.720685293655161*^9, 3.7206853527760487`*^9}, {3.7206854288372307`*^9, 
   3.720685432675012*^9}}],

Cell[BoxData[
 RowBox[{
  RowBox[{"(*", 
   RowBox[{
    RowBox[{
     RowBox[{
      RowBox[{"modify", " ", "of", " ", "3"}], ":", " ", 
      RowBox[{"when", " ", "plottype"}]}], " ", "=", " ", "5"}], ",", " ", 
    "6", ",", " ", 
    RowBox[{
    "extract", " ", "data", " ", "of", " ", "that", " ", "flavour"}]}], 
   "*)"}], "\n", 
  RowBox[{"(*", 
   RowBox[{
    RowBox[{
     RowBox[{"modify", " ", "of", " ", "4"}], ":", " ", 
     RowBox[{
      RowBox[{"don", "'"}], "t", " ", "set", " ", "local", " ", "variable", 
      " ", "of", " ", "corrfxQdtaobsclassin"}]}], ",", " ", 
    RowBox[{
    "avoiding", " ", "time", " ", "to", " ", "copy", " ", "large", " ", 
     "data", " ", "to", " ", "local", " ", "variable"}], ",", " ", 
    RowBox[{"for", " ", "mode", " ", "5"}], ",", 
    RowBox[{
    "6", " ", "only", " ", "deal", " ", "with", " ", "\n", "corresponding", 
     " ", "flavour", " ", "data", " ", 
     RowBox[{"(", 
      RowBox[{"by", " ", "flavourin"}], ")"}]}]}], "*)"}], "\n", "\n", 
  RowBox[{"(*", 
   RowBox[{
   "20170515", " ", "this", " ", "version", " ", "corrfxQdtaobsclassin", " ", 
    "structure", " ", "is", " ", 
    RowBox[{"{", 
     RowBox[{"class1", ",", " ", "class2", ",", "..."}], "}"}], "\n", "it", 
    " ", "is", " ", "for", " ", "plotting", " ", "different", " ", "group", 
    " ", "of", " ", "data", " ", "in", " ", "different", " ", "point", " ", 
    "shapes"}], "\n", "*)"}], "\[IndentingNewLine]", "\[IndentingNewLine]", 
  RowBox[{"(*", 
   RowBox[{"20171108", ":", " ", 
    RowBox[{"reorganize", " ", "the", " ", "function"}]}], "*)"}], 
  "\[IndentingNewLine]", 
  RowBox[{"(*", 
   RowBox[{
   "use", " ", "the", " ", "new", " ", "highlight", " ", "range", " ", 
    "convention"}], "*)"}], "\n", 
  RowBox[{
   RowBox[{"processdataplotsmultiexp7percentage", "[", 
    RowBox[{
    "corrfxQdtaobsclassin_", ",", "configargumentsin_", ",", "plottypein_", 
     ",", "flavourin_"}], "]"}], ":=", "\n", 
   RowBox[{"Module", "[", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{"(*", 
       RowBox[{
        RowBox[{"corrfxQdtaobsclass", "=", "corrfxQdtaobsclassin"}], ","}], 
       "*)"}], 
      RowBox[{
       RowBox[{"configarguments", "=", "configargumentsin"}], ",", "\n", 
       RowBox[{"plottype", "=", "plottypein"}], ",", 
       RowBox[{"(*", 
        RowBox[{
         RowBox[{"flavour", "=", "flavourin"}], ","}], "*)"}], "flavour", ",",
        "\n", "Jobid", ",", "PDFname", ",", "FigureType", ",", "FigureFlag", 
       ",", "ExptidType", ",", "ExptidFlag", ",", "CorrelationArgType", ",", 
       "CorrelationArgFlag", ",", "UserArgName", ",", "UserArgValue", ",", 
       "\n", "XQfigureXrange", ",", "XQfigureYrange", ",", "Hist1figureNbin", 
       ",", "Hist1figureXrange", ",", "Hist1figureYrange", ",", "\n", 
       "ColorSeperator", ",", "\n", "Size", ",", "HighlightType", ",", 
       "HighlightMode", ",", "HighlightMode1", ",", "HighlightMode2", ",", 
       "\n", "processes", ",", "ExptList1", ",", "pdfsetexps", ",", 
       "processestitle", ",", "PDISNCtitle", ",", "NDISCCtitle", ",", 
       "PDISNCCCtitle", ",", "PVBPZtitle", ",", "PVBPWtitle", ",", "PJPtitle",
        ",", "hDISNCtitle", ",", "hDISCCtitle", ",", "hVBPZtitle", ",", 
       "pdfnamelable", ",", "PDFsetlabel", ",", "pdffile", ",", "corrfile", 
       ",", "pdfcorr", ",", "pdfcorrdr", ",", "deltaR", ",", "textsize", ",", 
       "Npttext", ",", "maxtext", ",", "maxmarker", ",", "mintext", ",", 
       "minmarker", ",", "cuttext", ",", "epilogxQ", ",", "epilogxQcorr", ",",
        "corrtitle1", ",", "corrdrtitle1", ",", "deltaRtitle1", ",", "title2",
        ",", "obsname", ",", "title3", ",", "title4", ",", "title", ",", 
       "xtitle", ",", "ytitle", ",", "xhisttitle", ",", "xhistabstitle", ",", 
       "yhisttitle", ",", "plotrange", ",", "stretchx", ",", "stretchy", ",", 
       "legendlabel", ",", "barseperator", ",", "binset", ",", "lineelement", 
       ",", "plotrangex", ",", "SM", ",", "SM1", ",", "SM2", ",", "SM3", ",", 
       "xQplotcorr", " ", ",", "histplotcorr1", ",", "histplotcorr2", ",", 
       "xQplotcorrdr", ",", "histplotcorrdr1", ",", "histplotcorrdr2", ",", 
       "xQplotdr", ",", "histplotdr2", ",", "myexpids", ",", "fmax", ",", 
       "fmax2", ",", "\n", "imgsize", ",", 
       RowBox[{"(*", 
        RowBox[{"title", ",", "xtitle", ",", "ytitle", ","}], "*)"}], 
       "lgdlabel", ",", "xrange", ",", "yrange", ",", "epilog", ",", 
       "titlesize", ",", "xtitlesize", ",", "ytitlesize", ",", "lgdlabelsize",
        ",", "ticklablesize", ",", "\n", "myplotstyle", ",", "myMarker", ",", 
       "\n", "lgdpos", ",", "xyrangeplot1", ",", "\n", "myplotsetting", ",", 
       "plot1data", ",", "plot1", ",", "processesplot1order", ",", "\n", 
       "dummy1", ",", "dummy2", ",", "percentagetext", ",", "hist1plotrangex",
        ",", "histautoxrange", ",", "hist2autoxrange", ",", "hist2plotrangex",
        ",", "xQautorange", ",", "unhighlightsize", ",", "highlightrange", 
       ",", "highlighttext", ",", "\n", "exptlist", ",", "expttype", ",", 
       "\n", "rows", ",", "exptnames", ",", "exptnamestable", ",", "\n", 
       "lineelement2", ",", "maxdata", ",", "\[IndentingNewLine]", 
       "barlegend", ",", "\[IndentingNewLine]", "histtitle", ",", 
       "histabstitle", ",", "yhistabstitle", ",", "HistAutoMode", ",", 
       "userdifinefuncfilename", ",", "\[IndentingNewLine]", 
       "hist1plotrangey", ",", "hist2plotrangey", ",", "BinWidth", ",", 
       "hist1plotrange", ",", "hist2plotrange", ",", "highlightlines", ",", 
       "\[IndentingNewLine]", "xmintmp", ",", "xmaxtmp", ",", "ymintmp", ",", 
       "hist1epilogtext", ",", "hist2epilogtext", ",", "hist1standardlines", 
       ",", "hist2standardlines", ",", "LineWidth", ",", 
       "HistAutoFixXrangeBool", ",", "\[IndentingNewLine]", "datemode", ",", 
       "HistDataList", ",", "HistAbsDataList", ",", "DataMax", ",", "DataMin",
        ",", "AbsDataMax", ",", "AbsDataMin", ",", "DataMean", ",", 
       "AbsDataMean", ",", "DataMedian", ",", "AbsDataMedian", ",", "DataSD", 
       ",", "AbsDataSD", ",", "\[IndentingNewLine]", "ColorPaletteMode", ",", 
       "PaletteMax", ",", "PaletteMin", ",", "\[IndentingNewLine]", 
       "groupnames", ",", "groupExptIDs", ",", "classifymode"}], "}"}], ",", 
     "\n", 
     RowBox[{"(*", 
      RowBox[{
      "read", " ", "arguments", " ", "in", " ", "config", " ", "file"}], 
      "*)"}], "\n", 
     RowBox[{"(*", 
      RowBox[{
      "===", "===", "===", "===", "===", "===", "===", "===", "===", "==="}], 
      "*)"}], "\n", 
     RowBox[{
      RowBox[{
       RowBox[{"{", 
        RowBox[{
        "Jobid", ",", "PDFname", ",", "FigureType", ",", "FigureFlag", ",", 
         "ExptidType", ",", "ExptidFlag", ",", "CorrelationArgType", ",", 
         "CorrelationArgFlag", ",", 
         RowBox[{"(*", 
          RowBox[{"UserArgName", ",", "UserArgValue", ","}], "*)"}], "\n", 
         "XQfigureXrange", ",", "XQfigureYrange", ",", "Hist1figureNbin", ",",
          "Hist1figureXrange", ",", "Hist1figureYrange", ",", "\n", 
         "ColorSeperator", ",", "\n", "Size", ",", "HighlightType", ",", 
         "HighlightMode", ",", "HighlightMode1", ",", "HighlightMode2"}], 
        "}"}], "=", "configarguments"}], ";", "\[IndentingNewLine]", 
      "\[IndentingNewLine]", 
      RowBox[{"(*", 
       RowBox[{"20171109", ":", " ", 
        RowBox[{"seperate", " ", "user", " ", "difine", " ", 
         RowBox[{"function", "/", "data"}], " ", "IO", " ", "and", " ", 
         "configure", " ", "file"}]}], "*)"}], 
      RowBox[{"(*", 
       RowBox[{
        RowBox[{
         RowBox[{"20171116", ":"}], " ", "->", "ReadUserFunctionV2"}], ",", 
        " ", 
        RowBox[{
        "which", " ", "read", " ", "Expression", " ", "from", " ", "the", " ",
          "file"}]}], "*)"}], "\[IndentingNewLine]", 
      RowBox[{"(*", 
       RowBox[{"20171119", " ", "new", " ", "user", " ", "function", " ", 
        RowBox[{"format", ":", " ", 
         RowBox[{"{", 
          RowBox[{
           RowBox[{"{", 
            RowBox[{
             RowBox[{"user", " ", "name", " ", "1"}], ",", " ", 
             RowBox[{"user", " ", "function", " ", "1"}]}], "}"}], ",", " ", 
           RowBox[{
            RowBox[{"{", 
             RowBox[{
              RowBox[{"user", " ", "name", " ", "2"}], ",", " ", 
              RowBox[{"user", " ", "function", " ", "2"}]}], "}"}], "..."}]}],
           "}"}]}]}], "*)"}], "\[IndentingNewLine]", 
      RowBox[{"userdifinefuncfilename", "=", "\"\<user_func.txt\>\""}], ";", 
      "\[IndentingNewLine]", 
      RowBox[{"(*", "\[IndentingNewLine]", 
       RowBox[{
        RowBox[{
         RowBox[{"{", 
          RowBox[{"UserArgName", ",", "UserArgValue"}], "}"}], "=", 
         RowBox[{"ReadUserFunctionV2", "[", 
          RowBox[{"\"\<./\>\"", ",", "userdifinefuncfilename"}], "]"}]}], 
        ";"}], "\[IndentingNewLine]", "*)"}], "\[IndentingNewLine]", 
      RowBox[{"UserArgName", "=", 
       RowBox[{"ReadUserFunctionV3", "[", 
        RowBox[{"\"\<./\>\"", ",", "userdifinefuncfilename"}], "]"}]}], ";", 
      "\[IndentingNewLine]", 
      RowBox[{"UserArgName", "=", 
       RowBox[{
        RowBox[{
         RowBox[{"#", "[", 
          RowBox[{"[", "1", "]"}], "]"}], "&"}], "/@", "UserArgName"}]}], ";",
       "\[IndentingNewLine]", "\[IndentingNewLine]", 
      RowBox[{"(*", 
       RowBox[{"20171109", ":", " ", 
        RowBox[{
        "shorten", " ", "the", " ", "tiles", " ", "of", " ", "figures"}]}], 
       "*)"}], "\[IndentingNewLine]", 
      RowBox[{"If", "[", 
       RowBox[{
        RowBox[{
        "PDFname", "\[Equal]", 
         "\"\<2017.1008.0954.-0500_CT14HERA2-jet.ev\>\""}], ",", 
        RowBox[{"PDFname", "=", "\"\<CT14HERA2-jet.ev\>\""}]}], "]"}], ";", 
      "\n", 
      RowBox[{"(*", 
       RowBox[{
       "===", "===", "===", "===", "===", "===", "===", "===", "===", "===", "===",
         "===", "===", "===", "===", "===", "===", "===", "===", "===", "===",
         "===", "===", "===", "===", "===", "===", "===", "===", "===", "===",
         "===", "===", "===", "===", "===", "===", "===", "===", "===", "===",
         "=="}], "*)"}], "\[IndentingNewLine]", 
      RowBox[{"(*", 
       RowBox[{
        RowBox[{"Data", " ", "organization"}], "===", "===", "===", "===", "===",
         "===", "===", "===", "===", "===", "===", 
        RowBox[{"==", 
         RowBox[{
         "===", "===", "===", "===", "===", "===", "===", "===", "===", "===",
           "===", "===", "===", "===", "===", "===", "===", "===", "===", 
          RowBox[{"==", 
           RowBox[{"===", "===", "===", "===", "=="}]}]}]}]}], "*)"}], 
      "\[IndentingNewLine]", 
      RowBox[{"(*", 
       RowBox[{
       "===", "===", "===", "===", "===", "===", "===", "===", "===", "===", "===",
         "===", "===", "===", "===", "===", "===", "===", "===", "===", "===",
         "===", "===", "===", "===", "===", "===", "===", "===", "===", "===",
         "===", "===", "===", "===", "===", "===", "===", "===", "===", "===",
         "=="}], "*)"}], "\[IndentingNewLine]", 
      RowBox[{"(*", 
       RowBox[{"read", " ", "exptlist"}], "*)"}], "\[IndentingNewLine]", 
      RowBox[{"exptlist", "=", 
       RowBox[{"{", "}"}]}], ";", "\n", 
      RowBox[{"If", "[", 
       RowBox[{
        RowBox[{
         RowBox[{"plottype", "==", "1"}], "  ", "||", " ", 
         RowBox[{"plottype", "==", "5"}], "  ", "||", " ", 
         RowBox[{"plottype", "==", "6"}]}], ",", 
        RowBox[{"exptlist", "=", 
         RowBox[{
          RowBox[{
           RowBox[{"Table", "[", 
            RowBox[{
             RowBox[{
              RowBox[{"#", "[", 
               RowBox[{"[", 
                RowBox[{"iexpt", ",", "6"}], "]"}], "]"}], "[", 
              RowBox[{"[", 
               RowBox[{"\"\<exptinfo\>\"", ",", "\"\<exptid\>\""}], "]"}], 
              "]"}], ",", 
             RowBox[{"{", 
              RowBox[{"iexpt", ",", "1", ",", 
               RowBox[{"Length", "[", "#", "]"}]}], "}"}]}], "]"}], "&"}], "/@",
           "corrfxQdtaobsclassin"}]}]}], " ", "]"}], ";", "\n", 
      RowBox[{"If", "[", 
       RowBox[{
        RowBox[{
         RowBox[{"plottype", "==", "2"}], "  ", "||", " ", 
         RowBox[{"plottype", "==", "3"}], "  ", "||", " ", 
         RowBox[{"plottype", "==", "4"}]}], ",", "\n", 
        RowBox[{"exptlist", "=", 
         RowBox[{
          RowBox[{
           RowBox[{"Table", "[", 
            RowBox[{
             RowBox[{
              RowBox[{"#", "[", 
               RowBox[{"[", "iexpt", "]"}], "]"}], "[", 
              RowBox[{"[", 
               RowBox[{"\"\<exptinfo\>\"", ",", "\"\<exptid\>\""}], "]"}], 
              "]"}], ",", 
             RowBox[{"{", 
              RowBox[{"iexpt", ",", "1", ",", 
               RowBox[{"Length", "[", "#", "]"}]}], "}"}]}], "]"}], "&"}], "/@",
           "corrfxQdtaobsclassin"}]}]}], " ", "]"}], ";", "\n", 
      RowBox[{"(*", "test", "*)"}], 
      RowBox[{"Print", "[", 
       RowBox[{"\"\<expts: \>\"", ",", "exptlist"}], "]"}], ";", 
      "\[IndentingNewLine]", "\[IndentingNewLine]", 
      RowBox[{"(*", 
       RowBox[{
        RowBox[{
        "20171126", " ", "classify", " ", "mode", " ", "for", " ", "data"}], 
        " ", "\[Rule]", " ", 
        RowBox[{
        "different", " ", "shape", " ", "for", " ", "each", " ", "group"}]}], 
       "*)"}], "\n", 
      RowBox[{"classifymode", "=", "\"\<single\>\""}], ";", "\n", "\n", 
      RowBox[{"(*", "********************************)"}], "\n", 
      RowBox[{"(*", 
       RowBox[{
       "prepare", " ", "for", " ", "data", " ", "input", " ", "to", " ", 
        "processdataplotsmultiexp"}], "*)"}], "\n", 
      RowBox[{"(*", "********************************)"}], "\n", 
      RowBox[{"(*", 
       RowBox[{
        RowBox[{
        "transf", " ", "format", " ", "from", " ", "LF", " ", "to", " ", 
         "LF1"}], ",", " ", 
        RowBox[{
        "since", " ", "plot", " ", "functions", " ", "use", " ", "LF1"}]}], 
       "*)"}], "\[IndentingNewLine]", "\[IndentingNewLine]", 
      RowBox[{"(*", 
       RowBox[{
        RowBox[{"if", " ", "dr", "*", "corr", " ", "or", " ", "corr"}], ",", 
        " ", 
        RowBox[{"data", " ", 
         RowBox[{"is", " ", "[", 
          RowBox[{"[", 
           RowBox[{"iexpt", ",", "flavour"}], "]"}], "]"}]}]}], "*)"}], 
      "\[IndentingNewLine]", 
      RowBox[{"(*", 
       RowBox[{
        RowBox[{
         RowBox[{"20170515", ":", " ", "pdfcorr"}], " ", "=", " ", 
         RowBox[{"{", 
          RowBox[{"group1data", ",", " ", "group2data", ",", " ", "..."}], 
          "}"}]}], ",", " ", 
        RowBox[{"groupNdata", " ", "=", " ", 
         RowBox[{"{", 
          RowBox[{
           RowBox[{"LF1", "[", 
            RowBox[{"x", ",", "Q", ",", "obs"}], "]"}], ",", "..."}], 
          "}"}]}]}], "*)"}], "\n", 
      RowBox[{"If", "[", "\n", 
       RowBox[{
        RowBox[{
         RowBox[{"plottype", "==", "5"}], "  ", "||", " ", 
         RowBox[{"plottype", "==", "6"}]}], ",", "\n", 
        RowBox[{
         RowBox[{"fmax", "=", 
          RowBox[{"Length", "[", 
           RowBox[{"corrfxQdtaobsclassin", "[", 
            RowBox[{"[", 
             RowBox[{"1", ",", "1"}], "]"}], "]"}], " ", "]"}]}], ";", "\n", 
         "\n", 
         RowBox[{"(*", 
          RowBox[{
           RowBox[{
            RowBox[{"data", " ", "format"}], " ", "\[Equal]", " ", 
            RowBox[{"{", 
             RowBox[{
              RowBox[{"LF", "[", 
               RowBox[{"x", ",", "Q", ",", "obs"}], "]"}], ",", "...", ",", 
              "..."}], "}"}]}], ",", " ", 
           RowBox[{"to", " ", "LF1"}]}], "*)"}], "\n", 
         RowBox[{"pdfcorr", "=", 
          RowBox[{
           RowBox[{
            RowBox[{"Table", "[", 
             RowBox[{
              RowBox[{
               RowBox[{
                RowBox[{"#", "[", 
                 RowBox[{"[", 
                  RowBox[{"iexpt", ",", 
                   RowBox[{"flavourin", "+", "6"}]}], "]"}], "]"}], "[", 
                RowBox[{"[", "\"\<data\>\"", "]"}], "]"}], "/.", 
               RowBox[{"LF", "->", "LF1"}]}], ",", 
              RowBox[{"{", 
               RowBox[{"iexpt", ",", "1", ",", 
                RowBox[{"Length", "[", "#", "]"}]}], "}"}]}], "]"}], "&"}], "/@",
            "corrfxQdtaobsclassin"}]}], ";", "\n", "\[IndentingNewLine]", 
         RowBox[{"(*", 
          RowBox[{"20171126", ":", " ", 
           RowBox[{
           "classify", " ", "exptid", " ", "by", " ", "defined", " ", 
            "groups", " ", "with", " ", "classifymode"}]}], "*)"}], 
         "\[IndentingNewLine]", 
         RowBox[{
          RowBox[{"{", 
           RowBox[{"groupnames", ",", "groupExptIDs", ",", 
            RowBox[{"(*", "groupdata", "*)"}], "pdfcorr"}], "}"}], "=", 
          RowBox[{"ClassifyPlottedData", "[", 
           RowBox[{
            RowBox[{"pdfcorr", "[", 
             RowBox[{"[", "1", "]"}], "]"}], ",", 
            RowBox[{"exptlist", "[", 
             RowBox[{"[", "1", "]"}], "]"}], ",", "classifymode"}], "]"}]}], 
         ";", "\[IndentingNewLine]", 
         RowBox[{"(*", 
          RowBox[{
           RowBox[{"pdfcorr", "=", 
            RowBox[{"Table", "[", 
             RowBox[{
              RowBox[{"Flatten", "[", 
               RowBox[{
                RowBox[{"pdfcorr", "[", 
                 RowBox[{"[", "igroup", "]"}], "]"}], ",", "1"}], "]"}], ",", 
              
              RowBox[{"{", 
               RowBox[{"igroup", ",", 
                RowBox[{"Length", "[", "pdfcorr", "]"}]}], "}"}]}], "]"}]}], 
           ";"}], "*)"}], "\[IndentingNewLine]", "\n", 
         RowBox[{"(*", 
          RowBox[{
           RowBox[{
           "merge", " ", "all", " ", "experimental", " ", "data", " ", "into",
             " ", "one"}], ",", " ", 
           RowBox[{"for", " ", "all", " ", "flavours"}]}], "*)"}], "\n", 
         RowBox[{"(*", 
          RowBox[{
           RowBox[{"ex", ":", " ", 
            RowBox[{"corrdataforplot", "[", 
             RowBox[{"[", 
              RowBox[{"iexpt", ",", "flavour", ",", "Npt"}], "]"}], "]"}]}], 
           " ", "\[Rule]", " ", 
           RowBox[{"orrdataforplot", "[", 
            RowBox[{"[", 
             RowBox[{"flavour", ",", "Npt"}], "]"}], "]"}]}], "*)"}], "\n", 
         RowBox[{"(*", 
          RowBox[{
           RowBox[{
            RowBox[{"{", 
             RowBox[{"pdfcorr", " ", ",", "dummy1", ",", "dummy2"}], "}"}], 
            "=", 
            RowBox[{"mergeplotdata", "[", 
             RowBox[{"{", 
              RowBox[{"pdfcorr", " ", ",", "pdfcorr", ",", "pdfcorr"}], "}"}],
              "]"}]}], ";"}], "*)"}], "\n", 
         RowBox[{"pdfcorr", "=", 
          RowBox[{
           RowBox[{
            RowBox[{"Flatten", "[", 
             RowBox[{"#", ",", "1"}], "]"}], "&"}], "/@", "pdfcorr"}]}], ";", 
         "\n", "\n", 
         RowBox[{"(*", " ", 
          RowBox[{"deletezerovalue", ":", " ", 
           RowBox[{
           "delete", " ", "data", " ", "with", " ", "0", " ", "value", " ", 
            RowBox[{"(", 
             RowBox[{
              RowBox[{
              "0", " ", "value", " ", "usually", " ", "from", " ", "mb"}], 
              ",", " ", 
              RowBox[{"mc", " ", "cut"}]}], ")"}]}]}], "*)"}], "\n", 
         RowBox[{"(*", 
          RowBox[{
           RowBox[{
            RowBox[{"{", 
             RowBox[{"pdfcorr", " ", ",", "dummy1", ",", "dummy2"}], "}"}], 
            "=", 
            RowBox[{"deletezerovalue", "[", 
             RowBox[{"{", 
              RowBox[{"pdfcorr", " ", ",", "pdfcorr", ",", "pdfcorr"}], "}"}],
              "]"}]}], ";"}], "*)"}], "\n", 
         RowBox[{"pdfcorr", "=", 
          RowBox[{"Table", "[", 
           RowBox[{
            RowBox[{"Select", "[", 
             RowBox[{
              RowBox[{"pdfcorr", "[", 
               RowBox[{"[", "igroup", "]"}], "]"}], ",", 
              RowBox[{
               RowBox[{
                RowBox[{"#", "[", 
                 RowBox[{"[", "3", "]"}], "]"}], "!=", "0"}], "&"}]}], "]"}], 
            ",", 
            RowBox[{"{", 
             RowBox[{"igroup", ",", "1", ",", 
              RowBox[{"Length", "[", "pdfcorr", "]"}]}], "}"}]}], "]"}]}], 
         ";", "\n", "\"\<dummy\>\""}]}], "\n", "]"}], ";", "\n", "\n", 
      RowBox[{"(*", 
       RowBox[{"data", " ", 
        RowBox[{"of", " ", "[", 
         RowBox[{"[", "iexpt", "]"}], "]"}]}], "*)"}], "\n", 
      RowBox[{"If", "[", "\n", 
       RowBox[{
        RowBox[{
         RowBox[{"plottype", "==", "2"}], " ", "||", " ", 
         RowBox[{"plottype", "==", "3"}], " ", "||", " ", 
         RowBox[{"plottype", "==", "4"}]}], ",", "\n", 
        RowBox[{"(*", 
         RowBox[{
          RowBox[{"take", " ", "data"}], ",", " ", 
          RowBox[{
          "and", " ", "format", " ", "from", " ", "LF", " ", "to", " ", "LF1",
            " ", 
           RowBox[{"(", 
            RowBox[{
            "LF1", " ", "is", " ", "format", " ", "to", " ", "input", " ", 
             "to", " ", "plot", " ", "functions"}], ")"}]}]}], "*)"}], "\n", 
        RowBox[{
         RowBox[{"pdfcorr", "=", 
          RowBox[{
           RowBox[{
            RowBox[{"Table", "[", 
             RowBox[{
              RowBox[{
               RowBox[{
                RowBox[{"#", "[", 
                 RowBox[{"[", "iexpt", "]"}], "]"}], "[", 
                RowBox[{"[", "\"\<data\>\"", "]"}], "]"}], "/.", 
               RowBox[{"LF", "->", "LF1"}]}], ",", 
              RowBox[{"{", 
               RowBox[{"iexpt", ",", "1", ",", 
                RowBox[{"Length", "[", "#", "]"}]}], "}"}]}], "]"}], "&"}], "/@",
            "corrfxQdtaobsclassin"}]}], ";", "\n", 
         RowBox[{"(*", 
          RowBox[{
          "20171108", " ", "expt", " ", "error", " ", "ratio", " ", "values", 
           " ", "should", " ", "be", " ", "absolute", " ", "value"}], "*)"}], 
         "\[IndentingNewLine]", 
         RowBox[{"If", "[", 
          RowBox[{
           RowBox[{"plottype", "==", "2"}], ",", 
           RowBox[{"pdfcorr", "=", 
            RowBox[{"pdfcorr", "/.", 
             RowBox[{
              RowBox[{"LF1", "[", "a__", "]"}], "\[RuleDelayed]", 
              RowBox[{"LF1", "[", 
               RowBox[{
                RowBox[{
                 RowBox[{"{", "a", "}"}], "[", 
                 RowBox[{"[", "1", "]"}], "]"}], ",", 
                RowBox[{
                 RowBox[{"{", "a", "}"}], "[", 
                 RowBox[{"[", "2", "]"}], "]"}], ",", 
                RowBox[{"Abs", "[", 
                 RowBox[{
                  RowBox[{"{", "a", "}"}], "[", 
                  RowBox[{"[", "3", "]"}], "]"}], " ", "]"}]}], " ", 
               "]"}]}]}]}]}], " ", "]"}], ";", "\n", 
         RowBox[{"(*", 
          RowBox[{"merge", " ", "all", " ", "data", " ", "into", " ", "one"}],
           "*)"}], "\n", 
         RowBox[{"pdfcorr", "=", 
          RowBox[{
           RowBox[{
            RowBox[{"Flatten", "[", 
             RowBox[{"#", ",", "1"}], "]"}], "&"}], "/@", "pdfcorr"}]}], ";", 
         "\n", "\"\<dummy\>\""}]}], "\n", "]"}], ";", "\n", 
      RowBox[{"(*", 
       RowBox[{"test", " ", "print"}], "*)"}], 
      RowBox[{"(*", 
       RowBox[{
        RowBox[{"Print", "[", "pdfcorr", " ", "]"}], ";", 
        RowBox[{"Print", "[", 
         RowBox[{"pdfcorr", "/.", 
          RowBox[{"LF1", "->", "LF2"}]}], " ", "]"}], ";", 
        RowBox[{"Print", "[", 
         RowBox[{"pdfcorr", "/.", 
          RowBox[{
           RowBox[{"LF1", "[", "a__", "]"}], ":>", 
           RowBox[{
            RowBox[{"{", "a", "}"}], "[", 
            RowBox[{"[", "2", "]"}], "]"}]}]}], " ", "]"}], ";"}], "*)"}], 
      "\n", "\[IndentingNewLine]", 
      RowBox[{"If", "[", "\n", 
       RowBox[{
        RowBox[{"plottype", "==", "1"}], ",", "\n", 
        RowBox[{
         RowBox[{"fmax", "=", 
          RowBox[{"Length", "[", 
           RowBox[{"corrfxQdtaobsclassin", "[", 
            RowBox[{"[", 
             RowBox[{"1", ",", "1"}], "]"}], "]"}], " ", "]"}]}], ";", "\n", 
         "\n", 
         RowBox[{"(*", 
          RowBox[{"set", " ", 
           RowBox[{"{", 
            RowBox[{
             RowBox[{"corr", "[", 
              RowBox[{"[", "flavour", "]"}], "]"}], ",", 
             RowBox[{"drcorr", "[", 
              RowBox[{"[", "flavour", "]"}], "]"}], ",", 
             RowBox[{"dr", "[", 
              RowBox[{"[", "flavour", "]"}], "]"}]}], "}"}]}], "*)"}], "\n", 
         RowBox[{"(*", 
          RowBox[{
          "they", " ", "are", " ", "used", " ", "to", "  ", "input", " ", 
           "into", " ", "processdataplotsmultiexp"}], "*)"}], "\n", 
         RowBox[{"(*", 
          RowBox[{
           RowBox[{"data", " ", "format"}], " ", "\[Equal]", " ", 
           RowBox[{"{", 
            RowBox[{
             RowBox[{"LF", "[", 
              RowBox[{"x", ",", "Q", ",", "obs"}], "]"}], ",", "...", ",", 
             "..."}], "}"}]}], "*)"}], "\n", 
         RowBox[{"pdfcorr", "=", 
          RowBox[{
           RowBox[{
            RowBox[{"Table", "[", 
             RowBox[{
              RowBox[{
               RowBox[{
                RowBox[{
                 RowBox[{"Datamethods", "[", 
                  RowBox[{"[", "\"\<take\>\"", "]"}], "]"}], "[", 
                 RowBox[{
                  RowBox[{"#", "[", 
                   RowBox[{"[", 
                    RowBox[{"iexpt", ",", 
                    RowBox[{"flavourin", "+", "6"}]}], "]"}], "]"}], ",", 
                  "2"}], "]"}], "[", 
                RowBox[{"[", "\"\<data\>\"", "]"}], "]"}], "/.", 
               RowBox[{"LF", "->", "LF1"}]}], ",", 
              RowBox[{"{", 
               RowBox[{"iexpt", ",", "1", ",", 
                RowBox[{"Length", "[", "#", "]"}]}], "}"}]}], "]"}], "&"}], "/@",
            "corrfxQdtaobsclassin"}]}], ";"}]}], "\n", "]"}], ";", 
      "\[IndentingNewLine]", 
      RowBox[{"(*", 
       RowBox[{
        RowBox[{
        "===", "===", "===", "===", "===", "===", "===", "===", "===", "===", 
         "===", "===", "===", "===", "===", "===", "===", "===", "===", "===",
          "===", "===", "===", "===", "===", "===", "===", "===", "===", "===",
          "===", "===", "===", "===", "==="}], "=", 
        RowBox[{"===", "===", "===", "===", 
         RowBox[{"==", "=="}], "==="}]}], "*)"}], "\[IndentingNewLine]", 
      RowBox[{"(*", 
       RowBox[{
        RowBox[{
         RowBox[{"Statistical", " ", "quantities", " ", "of", " ", "data"}], "===",
          "===", "===", "===", "===", "===", "===", "===", "===", "===", "===", 
         RowBox[{"==", 
          RowBox[{
          "===", "===", "===", "===", "===", "===", "===", "===", "===", "===",
            "===", "===", "===", "===", "===", 
           RowBox[{"==", 
            RowBox[{
            "===", "===", "===", "===", "===", "===", "===", "==="}]}]}]}]}], 
        "=", "="}], "*)"}], "\[IndentingNewLine]", 
      RowBox[{"(*", 
       RowBox[{
        RowBox[{
        "===", "===", "===", "===", "===", "===", "===", "===", "===", "===", 
         "===", "===", "===", "===", "===", "===", "===", "===", "===", "===",
          "===", "===", "===", "===", "===", "===", "===", "===", "===", "===",
          "===", 
         RowBox[{"==", 
          RowBox[{"===", "===", "===", "===", "=="}]}]}], "=", 
        RowBox[{"===", "===", "===", "===", "==="}]}], "*)"}], 
      "\[IndentingNewLine]", 
      RowBox[{"(*", "20171115", "*)"}], "\[IndentingNewLine]", 
      RowBox[{"{", 
       RowBox[{
       "HistDataList", ",", "HistAbsDataList", ",", "DataMax", ",", "DataMin",
         ",", "AbsDataMax", ",", "AbsDataMin", ",", "DataMean", ",", 
        "AbsDataMean", ",", "DataMedian", ",", "AbsDataMedian", ",", "DataSD",
         ",", "AbsDataSD"}], "}"}], ";", "\[IndentingNewLine]", 
      RowBox[{"If", "[", "\[IndentingNewLine]", 
       RowBox[{
        RowBox[{
         RowBox[{"plottype", "\[Equal]", "2"}], " ", "||", " ", 
         RowBox[{"plottype", "==", "3"}], " ", "||", " ", 
         RowBox[{"plottype", "==", "4"}], " ", "||", " ", 
         RowBox[{"plottype", "==", "5"}], " ", "||", " ", 
         RowBox[{"plottype", "\[Equal]", "6"}]}], ",", "\[IndentingNewLine]", 
        
        RowBox[{
         RowBox[{"HistDataList", "=", 
          RowBox[{
           RowBox[{"Flatten", "[", "pdfcorr", "]"}], "/.", 
           RowBox[{
            RowBox[{"LF1", "[", "a__", "]"}], "\[RuleDelayed]", 
            RowBox[{
             RowBox[{"{", "a", "}"}], "[", 
             RowBox[{"[", "3", "]"}], "]"}]}]}]}], ";", "\[IndentingNewLine]", 
         RowBox[{"HistAbsDataList", "=", 
          RowBox[{
           RowBox[{"Flatten", "[", "pdfcorr", "]"}], "/.", 
           RowBox[{
            RowBox[{"LF1", "[", "a__", "]"}], "\[RuleDelayed]", 
            RowBox[{"Abs", "[", 
             RowBox[{
              RowBox[{"{", "a", "}"}], "[", 
              RowBox[{"[", "3", "]"}], "]"}], " ", "]"}]}]}]}], ";", 
         "\[IndentingNewLine]", 
         RowBox[{"DataMax", "=", 
          RowBox[{"Max", "[", "HistDataList", "]"}]}], ";", 
         "\[IndentingNewLine]", 
         RowBox[{"DataMin", "=", 
          RowBox[{"Min", "[", "HistDataList", "]"}]}], ";", 
         "\[IndentingNewLine]", 
         RowBox[{"AbsDataMax", "=", 
          RowBox[{"Max", "[", "HistAbsDataList", "]"}]}], ";", 
         "\[IndentingNewLine]", 
         RowBox[{"AbsDataMin", "=", 
          RowBox[{"Min", "[", "HistAbsDataList", "]"}]}], ";", 
         "\[IndentingNewLine]", 
         RowBox[{"DataMean", "=", 
          RowBox[{"Mean", "[", "HistDataList", "]"}]}], ";", 
         "\[IndentingNewLine]", 
         RowBox[{"AbsDataMean", "=", 
          RowBox[{"Mean", "[", "HistAbsDataList", "]"}]}], ";", 
         "\[IndentingNewLine]", 
         RowBox[{"DataMedian", "=", 
          RowBox[{"Median", "[", "HistDataList", "]"}]}], ";", 
         "\[IndentingNewLine]", 
         RowBox[{"AbsDataMedian", "=", 
          RowBox[{"Median", "[", "HistAbsDataList", "]"}]}], ";", 
         "\[IndentingNewLine]", 
         RowBox[{"DataSD", "=", 
          RowBox[{"StandardDeviation", "[", "HistDataList", "]"}]}], ";", 
         "\[IndentingNewLine]", 
         RowBox[{"AbsDataSD", "=", 
          RowBox[{"StandardDeviation", "[", "HistAbsDataList", "]"}]}], ";", 
         "\[IndentingNewLine]", "\"\<dummy\>\""}]}], "\[IndentingNewLine]", 
       "]"}], ";", "\[IndentingNewLine]", 
      RowBox[{"(*", 
       RowBox[{
        RowBox[{
        "===", "===", "===", "===", "===", "===", "===", "===", "===", "===", 
         "===", "===", "===", "===", "===", "===", "===", "===", "===", "===",
          "===", "===", "===", "===", "===", "===", "===", "===", "===", "===",
          "==="}], "=", 
        RowBox[{"===", "===", "===", "===", 
         RowBox[{"==", "=="}], "===", "===", "===", "===", "==="}]}], "*)"}], 
      "\[IndentingNewLine]", 
      RowBox[{"(*", 
       RowBox[{
        RowBox[{
         RowBox[{"Highlight", " ", "range", " ", "setting"}], "===", "===", "===",
          "===", "===", "===", "===", "===", "===", "===", "===", 
         RowBox[{"==", 
          RowBox[{
          "===", "===", "===", "===", "===", "===", "===", "===", "===", "===",
            "===", 
           RowBox[{"==", 
            RowBox[{"===", "===", "===", "===", "=="}]}]}]}]}], "=", 
        RowBox[{
         RowBox[{"===", "===", "===", "===", "===", "===", "==="}], "=", 
         "="}]}], "*)"}], "\[IndentingNewLine]", 
      RowBox[{"(*", 
       RowBox[{
       "===", "===", "===", "===", "===", "===", "===", "===", "===", "===", "===",
         "===", "===", "===", "===", "===", "===", "===", "===", "===", "===",
         "===", "===", "===", "===", "===", "===", "===", "===", "===", "===",
         "===", "===", "===", "===", 
        RowBox[{"==", 
         RowBox[{"===", "===", "===", "===", "===", "==="}]}]}], "*)"}], 
      "\[IndentingNewLine]", "\[IndentingNewLine]", 
      RowBox[{"(*", 
       RowBox[{
        RowBox[{"for", " ", "no", " ", "highlight", " ", "mode"}], ",", " ", 
        RowBox[{
        "choose", " ", "size", " ", "of", " ", "data", " ", "point", " ", 
         "in", " ", "plot", " ", "by", " ", "Size", "\n", "for", " ", 
         "highlight", " ", "mode"}], ",", " ", 
        RowBox[{
        "set", " ", "size", " ", "of", " ", "unhighlighted", " ", "data", " ",
          "as", " ", "Size"}], ",", " ", 
        RowBox[{
        "size", " ", "of", " ", "highlighted", " ", "data", " ", "is", " ", 
         "larger", " ", "than", " ", "Size"}]}], "*)"}], 
      "\[IndentingNewLine]", 
      RowBox[{"(*", 
       RowBox[{
       "===", "===", "===", "===", "===", "===", "===", "===", "===", "==="}],
        "*)"}], "\[IndentingNewLine]", "\n", 
      RowBox[{"highlightrange", "=", "\n", 
       RowBox[{"Switch", "[", "\n", 
        RowBox[{
         RowBox[{"HighlightMode", "[", 
          RowBox[{"[", "plottype", "]"}], "]"}], ",", "\n", "0", ",", 
         RowBox[{"{", 
          RowBox[{"{", 
           RowBox[{"0.0", ",", "0.0"}], "}"}], "}"}], ",", 
         "\[IndentingNewLine]", 
         RowBox[{"(*", 
          RowBox[{"20171109", ":", " ", 
           RowBox[{
           "use", " ", "new", " ", "highlight", " ", "range", " ", 
            "convention"}]}], "*)"}], "\n", "1", ",", 
         RowBox[{"(*", 
          RowBox[{"{", 
           RowBox[{
            RowBox[{"HighlightMode1", "[", 
             RowBox[{"[", 
              RowBox[{
               RowBox[{"2", "*", "plottype"}], "-", "1"}], "]"}], "]"}], ",", 
            
            RowBox[{"HighlightMode1", "[", 
             RowBox[{"[", 
              RowBox[{"2", "*", "plottype"}], "]"}], "]"}]}], "}"}], "*)"}], 
         RowBox[{"HighlightMode1", "[", 
          RowBox[{"[", "plottype", "]"}], "]"}], ",", "\[IndentingNewLine]", 
         RowBox[{"(*", 
          RowBox[{"20171111", ":", " ", 
           RowBox[{"percentage", " ", "highlight"}], ":", " ", 
           RowBox[{
            RowBox[{"don", "'"}], "t", " ", "take", " ", "absolute", " ", 
            "values", " ", "for", " ", "data"}]}], "*)"}], "\n", "2", ",", 
         RowBox[{
          RowBox[{
           RowBox[{"GetDataPercentage", "[", 
            RowBox[{"(*", 
             RowBox[{
              RowBox[{"Flatten", "[", "pdfcorr", "]"}], "/.", 
              RowBox[{
               RowBox[{"LF1", "[", "a__", "]"}], "\[RuleDelayed]", 
               RowBox[{
                RowBox[{"{", "a", "}"}], "[", 
                RowBox[{"[", "3", "]"}], "]"}]}]}], "*)"}], 
            RowBox[{"HistDataList", ",", 
             RowBox[{"(*", 
              RowBox[{"{", 
               RowBox[{
                RowBox[{"HighlightMode2", "[", 
                 RowBox[{"[", 
                  RowBox[{
                   RowBox[{"2", "*", "plottype"}], "-", "1"}], "]"}], "]"}], 
                ",", 
                RowBox[{"HighlightMode2", "[", 
                 RowBox[{"[", 
                  RowBox[{"2", "*", "plottype"}], "]"}], "]"}]}], "}"}], 
              "*)"}], "#"}], "]"}], "&"}], "/@", 
          RowBox[{"HighlightMode2", "[", 
           RowBox[{"[", "plottype", "]"}], "]"}]}], "\n", 
         RowBox[{"(*", "\n", 
          RowBox[{"Which", "[", "\n", 
           RowBox[{
            RowBox[{
             RowBox[{"plottype", "\[Equal]", "5"}], "  ", "||", " ", 
             RowBox[{"plottype", "\[Equal]", "6"}]}], ",", "\n", 
            RowBox[{"GetDataPercentage", "[", 
             RowBox[{
              RowBox[{
               RowBox[{"pdfcorr", "[", 
                RowBox[{"[", 
                 RowBox[{"flavourin", "+", "6"}], "]"}], "]"}], "/.", 
               RowBox[{
                RowBox[{"LF1", "[", "a__", "]"}], "\[RuleDelayed]", 
                RowBox[{"Abs", "[", 
                 RowBox[{
                  RowBox[{"{", "a", "}"}], "[", 
                  RowBox[{"[", "3", "]"}], "]"}], " ", "]"}]}]}], " ", ",", 
              RowBox[{"{", 
               RowBox[{
                RowBox[{"HighlightMode2", "[", 
                 RowBox[{"[", 
                  RowBox[{
                   RowBox[{"2", "*", "plottype"}], "-", "1"}], "]"}], "]"}], 
                ",", 
                RowBox[{"HighlightMode2", "[", 
                 RowBox[{"[", 
                  RowBox[{"2", "*", "plottype"}], "]"}], "]"}]}], "}"}]}], 
             "]"}], ",", "\n", " ", 
            RowBox[{
             RowBox[{"plottype", "\[Equal]", "2"}], " ", "||", " ", 
             RowBox[{"plottype", "\[Equal]", "3"}], " ", "||", " ", 
             RowBox[{"plottype", "\[Equal]", "4"}]}], ",", "\n", 
            RowBox[{"GetDataPercentage", "[", 
             RowBox[{
              RowBox[{"pdfcorr", "/.", 
               RowBox[{
                RowBox[{"LF1", "[", "a__", "]"}], "\[RuleDelayed]", 
                RowBox[{"Abs", "[", 
                 RowBox[{
                  RowBox[{"{", "a", "}"}], "[", 
                  RowBox[{"[", "3", "]"}], "]"}], " ", "]"}]}]}], " ", ",", 
              RowBox[{"{", 
               RowBox[{
                RowBox[{"HighlightMode2", "[", 
                 RowBox[{"[", 
                  RowBox[{
                   RowBox[{"2", "*", "plottype"}], "-", "1"}], "]"}], "]"}], 
                ",", 
                RowBox[{"HighlightMode2", "[", 
                 RowBox[{"[", 
                  RowBox[{"2", "*", "plottype"}], "]"}], "]"}]}], "}"}]}], 
             "]"}], ",", "\n", "True", ",", 
            RowBox[{
             RowBox[{
             "Print", "[", "\"\<presently plottype is only 2~6 \>\"", "]"}], 
             ";", 
             RowBox[{"Abort", "[", "]"}]}]}], "\n", "]"}], "*)"}], ",", "\n", 
         "_", ",", 
         RowBox[{
          RowBox[{
          "Print", "[", "\"\<error, highlight mode should be 0, 1, 2\>\"", 
           "]"}], ";", 
          RowBox[{"Abort", "[", "]"}]}]}], "\n", "]"}]}], ";", 
      "\[IndentingNewLine]", "\[IndentingNewLine]", 
      RowBox[{"(*", 
       RowBox[{
        RowBox[{
        "===", "===", "===", "===", "===", "===", "===", "===", "===", "===", 
         "===", "===", "===", "===", "===", "===", "===", "===", "===", "===",
          "===", "===", "===", "===", "===", "===", "===", "===", "===", 
         "==="}], "=", 
        RowBox[{"===", "===", "===", "===", 
         RowBox[{"==", "=="}], "===", "===", "===", "===", "===", "==="}]}], 
       "*)"}], "\n", 
      RowBox[{"(*", 
       RowBox[{"title", ",", " ", "xtitle", ",", " ", 
        RowBox[{
         RowBox[{
         "ytitle", "===", "===", "===", "===", "===", "===", "===", "===", "===",
           "===", "===", 
          RowBox[{"==", 
           RowBox[{
           "===", "===", "===", "===", "===", "===", "===", "===", "===", "===", 
            RowBox[{"==", 
             RowBox[{"===", "===", "===", "===", "=="}]}]}]}]}], "=", 
         RowBox[{
          RowBox[{"===", "===", "===", "===", "===", "===", "===", "==="}], 
          "=", "="}]}]}], "*)"}], "\n", 
      RowBox[{"(*", 
       RowBox[{
        RowBox[{
        "===", "===", "===", "===", "===", "===", "===", "===", "===", "===", 
         "===", "===", "===", "===", "===", "===", "===", "===", "===", "===",
          "===", "===", "===", "===", "===", "===", "===", "===", "==="}], 
        "=", 
        RowBox[{"===", "===", "===", "===", 
         RowBox[{"==", "=="}], "===", "===", "===", "===", "===", "===", 
         "==="}]}], "*)"}], "\[IndentingNewLine]", "\n", 
      RowBox[{"(*", 
       RowBox[{
        RowBox[{"decide", " ", "title", " ", "by", " ", "PDFname"}], ",", " ",
         "FigureFlag", ",", " ", "CorrelationArgFlag", ",", " ", 
        RowBox[{"ex", ":", " ", 
         RowBox[{"Corr", 
          RowBox[{
           RowBox[{"(", 
            RowBox[{
             RowBox[{"f_j", 
              RowBox[{"(", 
               RowBox[{"x", ",", "Q"}], ")"}]}], ",", 
             RowBox[{"r_i", 
              RowBox[{"(", 
               RowBox[{"x", ",", "Q"}], ")"}]}]}], ")"}], ".", "\n", "if"}], 
          " ", "user", " ", "of", " ", "CorrelationArgFlag", " ", "is", " ", 
          "on"}]}], ",", " ", 
        RowBox[{"Corr", 
         RowBox[{"(", " ", 
          RowBox[{"user_input", ",", 
           RowBox[{"r_i", 
            RowBox[{"(", 
             RowBox[{"x", ",", "Q"}], ")"}]}]}], ")"}]}]}], "*)"}], 
      "\[IndentingNewLine]", 
      RowBox[{"(*", 
       RowBox[{
       "===", "===", "===", "===", "===", "===", "===", "===", "===", "==="}],
        "*)"}], "\[IndentingNewLine]", 
      RowBox[{"corrtitle1", "=", "\"\<Corr( \>\""}], ";", "\n", 
      RowBox[{"corrdrtitle1", "=", 
       RowBox[{"(*", 
        RowBox[{"\"\<\[Delta]r*Corr( \>\"", ";"}], "*)"}], 
       "\"\<Sensitivity to \>\""}], ";", "\n", 
      RowBox[{"(*", 
       RowBox[{
        RowBox[{"deltaRtitle1", "=", 
         RowBox[{"(*", 
          RowBox[{"\"\<\[Delta]r \>\"", ";"}], "*)"}], 
         RowBox[{"(*", 
          RowBox[{"\"\<PDF error \[Delta]r for residuals, \>\"", ";"}], 
          "*)"}], "\"\<\[Delta]r\>\""}], ";"}], "*)"}], "\n", 
      RowBox[{"title2", "=", 
       RowBox[{"(*", 
        RowBox[{"\"\<, r(x,\[Mu]))\>\"", ";"}], "*)"}], 
       "\"\<, \!\(\*SubscriptBox[\(r\), \(i\)]\))\>\""}], ";", "\n", 
      RowBox[{"title3", "=", 
       RowBox[{"(*", "\"\< for dataset of \>\"", "*)"}], 
       RowBox[{"\"\<, \>\"", "<>", "PDFname"}]}], ";", "\n", 
      RowBox[{"obsname", "=", "\"\<\>\""}], ";", 
      RowBox[{"(*", "initialize", "*)"}], "\n", 
      RowBox[{"pdfnamelable", "=", 
       RowBox[{"{", 
        RowBox[{
        "\"\<\\!\\(\\*OverscriptBox[\\(b\\), \\(_\\)]\\)(x,\[Mu])\>\"", ",", 
         "\"\<\\!\\(\\*OverscriptBox[\\(c\\), \\(_\\)]\\)(x,\[Mu])\>\"", ",", 
         "\"\<\\!\\(\\*OverscriptBox[\\(s\\), \\(_\\)]\\)(x,\[Mu])\>\"", ",", 
         "\"\<\\!\\(\\*OverscriptBox[\\(d\\), \\(_\\)]\\)(x,\[Mu])\>\"", ",", 
         "\"\<\\!\\(\\*OverscriptBox[\\(u\\), \\(_\\)]\\)(x,\[Mu])\>\"", ",", 
         "\"\<g(x,\[Mu])\>\"", ",", "\"\<u(x,\[Mu])\>\"", ",", 
         "\"\<d(x,\[Mu])\>\"", ",", "\"\<s(x,\[Mu])\>\"", ",", 
         "\"\<c(x,\[Mu])\>\"", ",", "\"\<b(x,\[Mu])\>\"", ",", 
         "\"\<\\!\\(\\*FractionBox[\\(\\*OverscriptBox[\\(d\\), \\(_\\)] \
\\((x, \[Mu])\\)\\), \\(\\*OverscriptBox[\\(u\\), \\(_\\)] \\((x, \
\[Mu])\\)\\)]\\)\>\"", ",", 
         "\"\<\\!\\(\\*FractionBox[\\(d \\((x, \[Mu])\\)\\), \\(u \\((x, \
\[Mu])\\)\\)]\\)\>\"", ",", 
         "\"\<\\!\\(\\*FractionBox[\\(s \\((x, \[Mu])\\) + \
\\*OverscriptBox[\\(s\\), \\(_\\)] \\((x, \[Mu])\\)\\), \
\\(\\*OverscriptBox[\\(u\\), \\(_\\)] \\((x, \[Mu])\\) + \
\\*OverscriptBox[\\(d\\), \\(_\\)] \\((x, \[Mu])\\)\\)]\\)\>\"", ",", 
         RowBox[{"Sequence", "@@", "UserArgName"}]}], 
        RowBox[{"(*", 
         RowBox[{
          RowBox[{"20171119", " ", "change", " ", "to", " ", "multi"}], "-", 
          RowBox[{"user", " ", "functions"}]}], "*)"}], "}"}]}], ";", "\n", 
      "\n", 
      RowBox[{"(*", 
       RowBox[{"20171107", ":", " ", 
        RowBox[{"simplify", " ", "title", " ", "labels"}]}], "*)"}], 
      "\[IndentingNewLine]", 
      RowBox[{"If", "[", "\n", 
       RowBox[{
        RowBox[{
         RowBox[{"plottype", ">=", "1"}], " ", "&&", " ", 
         RowBox[{"plottype", "<=", "6"}]}], ",", "\n", 
        RowBox[{
         RowBox[{"If", "[", "\n", 
          RowBox[{
           RowBox[{"plottype", "==", "1"}], " ", ",", "\n", 
           RowBox[{
            RowBox[{"obsname", "=", "\"\<\>\""}], ";"}]}], "\n", "]"}], ";", 
         "\n", 
         RowBox[{"If", "[", "\n", 
          RowBox[{
           RowBox[{"plottype", "==", "2"}], " ", ",", "\n", 
           RowBox[{
            RowBox[{
            "obsname", "=", 
             "\"\<\!\(\*SubscriptBox[\(\[Sigma]\), \
\(i\)]\)/\!\(\*SubscriptBox[\(D\), \(i\)]\)\>\""}], ";", "\n", 
            RowBox[{"title", "=", 
             RowBox[{"obsname", "<>", "title3"}]}], ";", 
            "\[IndentingNewLine]", 
            RowBox[{"histabstitle", "=", 
             RowBox[{
             "\"\<| \>\"", "<>", "obsname", "<>", "\"\< |\>\"", "<>", 
              "title3"}]}]}]}], "\n", "]"}], ";", "\n", 
         RowBox[{"If", "[", "\n", 
          RowBox[{
           RowBox[{"plottype", "==", "3"}], " ", ",", "\n", 
           RowBox[{
            RowBox[{
            "obsname", "=", 
             "\"\<\!\(\*SubscriptBox[\(r\), \(i\)]\) (Residual)\>\""}], ";", 
            "\n", 
            RowBox[{"title", "=", 
             RowBox[{"obsname", "<>", "title3"}]}], ";", 
            "\[IndentingNewLine]", 
            RowBox[{"histabstitle", "=", 
             RowBox[{
             "\"\<| \>\"", "<>", "obsname", "<>", "\"\< |\>\"", "<>", 
              "title3"}]}]}]}], "\n", "]"}], ";", "\n", 
         RowBox[{"If", "[", "\n", 
          RowBox[{
           RowBox[{"plottype", "==", "4"}], " ", ",", "\[IndentingNewLine]", 
           RowBox[{
            RowBox[{
            "obsname", "=", 
             "\"\<\!\(\*SubscriptBox[\(\[Delta]r\), \(i\)]\)\>\""}], ";", 
            "\n", 
            RowBox[{"(*", 
             RowBox[{
              RowBox[{"obsname", "=", 
               RowBox[{"deltaRtitle1", "<>", "PDFname"}]}], ";"}], "*)"}], 
            "\n", 
            RowBox[{"title", "=", 
             RowBox[{"obsname", "<>", "title3"}]}], ";", 
            "\[IndentingNewLine]", 
            RowBox[{"histabstitle", "=", 
             RowBox[{
             "\"\<| \>\"", "<>", "obsname", "<>", "\"\< |\>\"", "<>", 
              "title3"}]}]}]}], "\n", "]"}], ";", "\n", 
         RowBox[{"If", "[", "\n", 
          RowBox[{
           RowBox[{"plottype", "==", "5"}], " ", ",", "\n", 
           RowBox[{
            RowBox[{"obsname", "=", 
             RowBox[{"corrdrtitle1", "<>", 
              RowBox[{"pdfnamelable", "[", 
               RowBox[{"[", 
                RowBox[{"flavourin", "+", "6"}], "]"}], "]"}]}]}], 
            RowBox[{"(*", 
             RowBox[{"<>", "title2"}], "*)"}], ";", "\n", 
            RowBox[{"title", "=", 
             RowBox[{"obsname", "<>", "title3"}]}], ";", 
            "\[IndentingNewLine]", 
            RowBox[{"histabstitle", "=", 
             RowBox[{
             "\"\<| \>\"", "<>", "obsname", "<>", "\"\< |\>\"", "<>", 
              "title3"}]}]}]}], "\n", "]"}], ";", "\n", 
         RowBox[{"If", "[", "\n", 
          RowBox[{
           RowBox[{"plottype", "==", "6"}], " ", ",", "\n", 
           RowBox[{
            RowBox[{"obsname", "=", 
             RowBox[{"corrtitle1", "<>", 
              RowBox[{"pdfnamelable", "[", 
               RowBox[{"[", 
                RowBox[{"flavourin", "+", "6"}], "]"}], "]"}], "<>", 
              "title2"}]}], ";", "\n", 
            RowBox[{"title", "=", 
             RowBox[{"obsname", "<>", "title3"}]}], ";", 
            "\[IndentingNewLine]", 
            RowBox[{"histabstitle", "=", 
             RowBox[{
             "\"\<| \>\"", "<>", "obsname", "<>", "\"\< |\>\"", "<>", 
              "title3"}]}]}]}], "\n", "]"}], ";"}]}], "\n", "\n", "]"}], ";", 
      "\n", "\n", 
      RowBox[{"xtitle", "=", "\"\<x\>\""}], ";", "\n", 
      RowBox[{"ytitle", "=", "\"\<\[Mu] [GeV]\>\""}], ";", 
      "\[IndentingNewLine]", 
      RowBox[{"(*", 
       RowBox[{"20171109", ":", " ", 
        RowBox[{
         RowBox[{
         "histogram", " ", "title", " ", "for", " ", "data", " ", "and"}], 
         " ", "|", "data", "|"}]}], "*)"}], "\n", 
      RowBox[{"histtitle", "=", "title"}], ";", "\[IndentingNewLine]", 
      RowBox[{"xhisttitle", "=", "obsname"}], ";", "\[IndentingNewLine]", 
      RowBox[{"yhisttitle", "=", "\"\<#points\>\""}], ";", 
      "\[IndentingNewLine]", "\[IndentingNewLine]", 
      RowBox[{"histabstitle", "=", "histabstitle"}], ";", "\n", 
      RowBox[{"xhistabstitle", "=", 
       RowBox[{"\"\<| \>\"", "<>", "obsname", "<>", "\"\< |\>\""}]}], ";", 
      "\n", 
      RowBox[{"yhistabstitle", "=", "yhisttitle"}], ";", 
      "\[IndentingNewLine]", "\[IndentingNewLine]", 
      RowBox[{"(*", 
       RowBox[{
       "===", "===", "===", "===", "===", "===", "===", "===", "===", "===", "===",
         "===", "===", "===", "===", "===", "===", "===", "===", "===", "===",
         "===", "===", "===", "===", "===", "===", "===", "===", "===", "===",
         "===", "===", 
        RowBox[{"==", 
         RowBox[{"===", "===", "===", "===", "===", "===", "===", "==="}]}]}],
        "*)"}], "\[IndentingNewLine]", 
      RowBox[{"(*", 
       RowBox[{
        RowBox[{
         RowBox[{
          RowBox[{"Set", " ", 
           RowBox[{"(", 
            RowBox[{"x", ",", " ", "y"}], ")"}]}], "-", 
          RowBox[{"axis", " ", "range", " ", "of", " ", "figures"}]}], "===", 
         "===", "===", "===", "===", "===", "===", "===", "===", "===", "===",
          "===", "===", "===", "===", "===", "==="}], "=", 
        RowBox[{
         RowBox[{"===", "===", "===", "===", "=="}], "=", 
         RowBox[{
          RowBox[{
          "===", "===", "===", "===", "===", "===", "===", "===", "===", "===",
            "===", "===", "==="}], "=", "="}]}]}], "*)"}], 
      "\[IndentingNewLine]", 
      RowBox[{"(*", 
       RowBox[{
        RowBox[{
        "===", "===", "===", "===", "===", "===", "===", "===", "===", "===", 
         "===", "===", "===", "===", "===", "===", "===", "===", "===", "===",
          "===", "===", "===", "===", "===", "===", "===", "===", 
         RowBox[{"==", 
          RowBox[{"===", "===", "===", "===", "=="}]}]}], "=", 
        RowBox[{"===", "===", "===", "===", "===", "===", "===", "==="}]}], 
       "*)"}], "\[IndentingNewLine]", 
      RowBox[{"(*", 
       RowBox[{
        RowBox[{"20171109", ":", " ", 
         RowBox[{
         "set", " ", "different", " ", "modes", " ", "for", " ", "auto", " ", 
          "x"}]}], ",", " ", 
        RowBox[{"y", " ", "range", " ", "of", " ", "histogram"}]}], "*)"}], 
      "\[IndentingNewLine]", 
      RowBox[{"(*", 
       RowBox[{
        RowBox[{"mode", " ", "=", " ", "1"}], ",", " ", 
        RowBox[{
        "use", " ", "some", " ", "statistical", " ", "quantity", " ", "to", 
         " ", "estimate", " ", "a", " ", "reasonable", " ", "x"}], ",", " ", 
        RowBox[{"y", " ", "range"}]}], "*)"}], "\[IndentingNewLine]", 
      RowBox[{"(*", 
       RowBox[{
        RowBox[{"mode", " ", "=", " ", "2"}], ",", " ", 
        RowBox[{
        "fix", " ", "ranges", " ", "depend", " ", "on", " ", "their", " ", 
         "figure", " ", "type", " ", 
         RowBox[{"(", 
          RowBox[{"observables", " ", "of", " ", "data"}], ")"}]}]}], "*)"}], 
      "\[IndentingNewLine]", 
      RowBox[{"(*", 
       RowBox[{
        RowBox[{"mode", " ", "=", " ", "3"}], ",", " ", 
        RowBox[{
        "zoom", " ", "in", " ", "the", " ", "highlighted", " ", "ranges"}]}], 
       "*)"}], "\[IndentingNewLine]", 
      RowBox[{"(*", 
       RowBox[{
        RowBox[{"mode", " ", "=", " ", "4"}], ",", " ", 
        RowBox[{"use", " ", "the", " ", "max"}], ",", " ", 
        RowBox[{
        "min", " ", "of", " ", "data", " ", "as", " ", "the", " ", 
         "range"}]}], "*)"}], "\[IndentingNewLine]", 
      RowBox[{"HistAutoMode", "=", "4"}], ";", "\[IndentingNewLine]", 
      RowBox[{"(*", 
       RowBox[{
        RowBox[{"20171111", ":", " ", 
         RowBox[{
         "if", " ", "the", " ", "xrange", " ", "of", " ", "the", " ", 
          "histogram", " ", "is", " ", "fixed", " ", "by", " ", "static", " ",
           "values"}]}], ",", " ", 
        RowBox[{"set", " ", "true"}], ",", " ", 
        RowBox[{
         RowBox[{"ex", ":", " ", "HistAutoMode"}], "=", "2"}]}], "*)"}], 
      "\[IndentingNewLine]", 
      RowBox[{"(*", "\[IndentingNewLine]", 
       RowBox[{
        RowBox[{"HistAutoFixXrangeBool", "=", "False"}], ";"}], 
       "\[IndentingNewLine]", "*)"}], "\[IndentingNewLine]", "\n", 
      RowBox[{"(*", 
       RowBox[{
        RowBox[{
        "decide", " ", "xy", " ", "range", " ", "of", " ", "xQ", " ", 
         "plot"}], ",", " ", 
        RowBox[{"Nbin", " ", "of", " ", "histogram"}], ",", " ", 
        RowBox[{
        "xy", " ", "range", " ", "of", " ", "histogram", " ", "by", "\n", 
         "XQfigureXrange"}], ",", "XQfigureYrange", ",", "Hist1figureNbin", 
        ",", "Hist1figureXrange", ",", "Hist1figureYrange"}], "*)"}], "\n", 
      RowBox[{"(*", 
       RowBox[{
       "===", "===", "===", "===", "===", "===", "===", "===", "===", "==="}],
        "*)"}], "\[IndentingNewLine]", 
      RowBox[{"plotrange", "=", 
       RowBox[{
        RowBox[{"{", 
         RowBox[{"XQfigureXrange", ",", "XQfigureYrange"}], "}"}], "//", 
        "Flatten"}]}], ";", "\n", "\n", 
      RowBox[{"(*", 
       RowBox[{
        RowBox[{"plotrangex", "=", "Hist1figureXrange"}], ";"}], "*)"}], 
      RowBox[{"(*", 
       RowBox[{
        RowBox[{"for", " ", "histogram"}], ",", " ", 
        RowBox[{"how", " ", "to", " ", "deal", " ", "with", " ", 
         RowBox[{"auto", "?"}]}]}], "*)"}], "\n", 
      RowBox[{"hist1plotrangex", "=", "Hist1figureXrange"}], ";", 
      "\[IndentingNewLine]", "\[IndentingNewLine]", 
      RowBox[{"(*", 
       RowBox[{
       "20171102", " ", "xQ", " ", "plot", " ", "auto", " ", "range"}], 
       "*)"}], "\[IndentingNewLine]", 
      RowBox[{"If", "[", "\n", " ", 
       RowBox[{
        RowBox[{
         RowBox[{"plottype", "\[Equal]", "1"}], " ", "||", " ", 
         RowBox[{"plottype", "\[Equal]", "2"}], " ", "||", " ", 
         RowBox[{"plottype", "==", "3"}], " ", "||", " ", 
         RowBox[{"plottype", "==", "4"}], " ", "||", " ", 
         RowBox[{"plottype", "==", "5"}], " ", "||", " ", 
         RowBox[{"plottype", "\[Equal]", "6"}]}], " ", ",", "\n", 
        RowBox[{"xQautorange", "=", 
         RowBox[{"{", 
          RowBox[{
           RowBox[{"{", 
            RowBox[{
             SuperscriptBox["10", 
              RowBox[{"-", "5"}]], ",", "1"}], "}"}], ",", 
           RowBox[{"{", 
            RowBox[{"1", ",", "2000"}], "}"}]}], "}"}]}]}], "\n", "]"}], ";", 
      "\[IndentingNewLine]", 
      RowBox[{"If", "[", 
       RowBox[{
        RowBox[{
         RowBox[{"plotrange", "[", 
          RowBox[{"[", "1", "]"}], "]"}], "==", "\"\<auto\>\""}], ",", 
        RowBox[{
         RowBox[{"plotrange", "[", 
          RowBox[{"[", "1", "]"}], "]"}], "=", 
         RowBox[{"xQautorange", "[", 
          RowBox[{"[", 
           RowBox[{"1", ",", "1"}], "]"}], "]"}]}]}], " ", "]"}], ";", "\n", 
      RowBox[{"If", "[", 
       RowBox[{
        RowBox[{
         RowBox[{"plotrange", "[", 
          RowBox[{"[", "2", "]"}], "]"}], "==", "\"\<auto\>\""}], ",", 
        RowBox[{
         RowBox[{"plotrange", "[", 
          RowBox[{"[", "2", "]"}], "]"}], "=", 
         RowBox[{"xQautorange", "[", 
          RowBox[{"[", 
           RowBox[{"1", ",", "2"}], "]"}], "]"}]}]}], " ", "]"}], ";", 
      "\[IndentingNewLine]", 
      RowBox[{"If", "[", 
       RowBox[{
        RowBox[{
         RowBox[{"plotrange", "[", 
          RowBox[{"[", "3", "]"}], "]"}], "==", "\"\<auto\>\""}], ",", 
        RowBox[{
         RowBox[{"plotrange", "[", 
          RowBox[{"[", "3", "]"}], "]"}], "=", 
         RowBox[{"xQautorange", "[", 
          RowBox[{"[", 
           RowBox[{"2", ",", "1"}], "]"}], "]"}]}]}], " ", "]"}], ";", "\n", 
      RowBox[{"If", "[", 
       RowBox[{
        RowBox[{
         RowBox[{"plotrange", "[", 
          RowBox[{"[", "4", "]"}], "]"}], "==", "\"\<auto\>\""}], ",", 
        RowBox[{
         RowBox[{"plotrange", "[", 
          RowBox[{"[", "4", "]"}], "]"}], "=", 
         RowBox[{"xQautorange", "[", 
          RowBox[{"[", 
           RowBox[{"2", ",", "2"}], "]"}], "]"}]}]}], " ", "]"}], ";", 
      "\[IndentingNewLine]", "\[IndentingNewLine]", 
      RowBox[{"(*", 
       RowBox[{
        RowBox[{"20170515", ":", " ", 
         RowBox[{
         "for", " ", "statistics", " ", "of", " ", "total", " ", "data"}]}], 
        ",", " ", 
        RowBox[{
        "the", " ", "all", " ", "data", " ", "are", " ", "considered"}], ",", 
        " ", 
        RowBox[{
        "so", " ", "here", " ", "Flatten", " ", "the", " ", "data", " ", 
         "pdfcorr"}]}], "*)"}], "\[IndentingNewLine]", 
      RowBox[{"(*", 
       RowBox[{
        RowBox[{"20170515", ":", " ", 
         RowBox[{"for", " ", "auto", " ", "mode"}]}], ",", " ", "correlation",
         ",", " ", "deltaR", ",", " ", 
        RowBox[{
        "dR", "*", "correlation", " ", "should", " ", "have", " ", 
         "histogram", " ", "of", " ", "roughly", " ", "1"}]}], "*)"}], 
      "\[IndentingNewLine]", 
      RowBox[{"(*", 
       RowBox[{"20171109", ":", " ", 
        RowBox[{
        "set", " ", "auto", " ", "the", " ", "hist", " ", "xrange", " ", 
         "depends", " ", "on", " ", "HistAutoMode"}]}], "*)"}], 
      "\[IndentingNewLine]", 
      RowBox[{"If", "[", "\[IndentingNewLine]", 
       RowBox[{
        RowBox[{"HistAutoMode", "==", "1"}], ",", "\n", 
        RowBox[{
         RowBox[{"If", "[", "\n", 
          RowBox[{
           RowBox[{"plottype", "==", "2"}], " ", 
           RowBox[{"(*", 
            RowBox[{"||", " ", 
             RowBox[{"plottype", "==", "3"}], " ", "||", " ", 
             RowBox[{"plottype", "==", "4"}], " ", "||", " ", 
             RowBox[{"plottype", "==", "5"}], "  ", "||", " ", 
             RowBox[{"plottype", "==", "6"}]}], "*)"}], ",", "\n", 
           RowBox[{
            RowBox[{"histautoxrange", "=", 
             RowBox[{"3", "*", "AbsDataMedian"}]}], 
            RowBox[{"(*", 
             RowBox[{"Median", "[", 
              RowBox[{
               RowBox[{"Flatten", "[", "pdfcorr", "]"}], "/.", 
               RowBox[{
                RowBox[{"LF1", "[", "a__", "]"}], ":>", 
                RowBox[{"Abs", "[", 
                 RowBox[{
                  RowBox[{"{", "a", "}"}], "[", 
                  RowBox[{"[", "3", "]"}], "]"}], " ", "]"}]}]}], " ", "]"}], 
             "*)"}], ";", "\[IndentingNewLine]", 
            RowBox[{"(*", 
             RowBox[{"20171114", ":", " ", 
              RowBox[{"histautoxrange", " ", "format", " ", "becomes", " ", 
               RowBox[{"{", 
                RowBox[{"min", ",", "max"}], "}"}]}]}], "*)"}], 
            "\[IndentingNewLine]", 
            RowBox[{"histautoxrange", "=", 
             RowBox[{"{", 
              RowBox[{
               RowBox[{"-", "histautoxrange"}], ",", "histautoxrange"}], 
              "}"}]}], ";", "\[IndentingNewLine]", 
            RowBox[{"hist2autoxrange", "=", 
             RowBox[{"{", 
              RowBox[{"0.0", ",", 
               RowBox[{"histautoxrange", "[", 
                RowBox[{"[", "2", "]"}], "]"}]}], "}"}]}]}]}], "\n", "]"}], 
         ";", "\n", 
         RowBox[{"If", "[", "\n", 
          RowBox[{
           RowBox[{
            RowBox[{"plottype", "==", "3"}], " ", "||", " ", 
            RowBox[{"plottype", "==", "4"}], " ", "||", " ", 
            RowBox[{"plottype", "==", "5"}]}], " ", ",", "\n", 
           RowBox[{"(*", 
            RowBox[{
             RowBox[{"histautoxrange", "=", 
              RowBox[{"Max", "[", 
               RowBox[{
                RowBox[{"3", "*", 
                 RowBox[{"Median", "[", 
                  RowBox[{
                   RowBox[{"Flatten", "[", "pdfcorr", "]"}], "/.", 
                   RowBox[{
                    RowBox[{"LF1", "[", "a__", "]"}], ":>", 
                    RowBox[{"Abs", "[", 
                    RowBox[{
                    RowBox[{"{", "a", "}"}], "[", 
                    RowBox[{"[", "3", "]"}], "]"}], " ", "]"}]}]}], " ", 
                  "]"}]}], ",", "1.0"}], "]"}]}], ";"}], "*)"}], 
           "\[IndentingNewLine]", 
           RowBox[{
            RowBox[{"histautoxrange", "=", 
             RowBox[{"Max", "[", 
              RowBox[{
               RowBox[{"3", "*", "AbsDataMedian"}], ",", "1.0"}], "]"}]}], 
            ";", "\[IndentingNewLine]", 
            RowBox[{"(*", 
             RowBox[{
              RowBox[{"20171111", ":", " ", 
               RowBox[{
               "if", " ", "the", " ", "xrange", " ", "of", " ", "the", " ", 
                "histogram", " ", "is", " ", "fixed", " ", "by", " ", 
                "static", " ", "values"}]}], ",", " ", 
              RowBox[{"set", " ", "true"}], ",", " ", 
              RowBox[{
               RowBox[{"ex", ":", " ", "HistAutoMode"}], "=", "2"}]}], "*)"}],
             "\[IndentingNewLine]", 
            RowBox[{"(*", "\[IndentingNewLine]", 
             RowBox[{
              RowBox[{"If", "[", 
               RowBox[{
                RowBox[{
                 RowBox[{"histautoxrange", ">", "1.0"}], " ", "&&", " ", 
                 RowBox[{
                  RowBox[{"hist1plotrangex", "[", 
                   RowBox[{"[", "1", "]"}], "]"}], "\[Equal]", 
                  "\"\<auto\>\""}], " ", "&&", " ", 
                 RowBox[{
                  RowBox[{"hist1plotrangex", "[", 
                   RowBox[{"[", "2", "]"}], "]"}], "\[Equal]", 
                  "\"\<auto\>\""}]}], ",", 
                RowBox[{"Hist1AutoFixXrangeBool", "=", "True"}]}], "]"}], ";",
               "\[IndentingNewLine]", 
              RowBox[{"If", "[", 
               RowBox[{
                RowBox[{
                 RowBox[{"histautoxrange", ">", "1.0"}], " ", "&&", " ", 
                 RowBox[{
                  RowBox[{"hist2plotrangex", "[", 
                   RowBox[{"[", "1", "]"}], "]"}], "\[Equal]", 
                  "\"\<auto\>\""}], " ", "&&", " ", 
                 RowBox[{
                  RowBox[{"hist2plotrangex", "[", 
                   RowBox[{"[", "2", "]"}], "]"}], "\[Equal]", 
                  "\"\<auto\>\""}]}], ",", 
                RowBox[{"Hist2AutoFixXrangeBool", "=", "True"}]}], "]"}]}], 
             "\[IndentingNewLine]", "*)"}], "\[IndentingNewLine]", 
            RowBox[{"(*", 
             RowBox[{"20171114", ":", " ", 
              RowBox[{"histautoxrange", " ", "format", " ", "becomes", " ", 
               RowBox[{"{", 
                RowBox[{"min", ",", "max"}], "}"}]}]}], "*)"}], 
            "\[IndentingNewLine]", 
            RowBox[{"histautoxrange", "=", 
             RowBox[{"{", 
              RowBox[{
               RowBox[{"-", "histautoxrange"}], ",", "histautoxrange"}], 
              "}"}]}], ";", "\[IndentingNewLine]", 
            RowBox[{"hist2autoxrange", "=", 
             RowBox[{"{", 
              RowBox[{"0.0", ",", 
               RowBox[{"histautoxrange", "[", 
                RowBox[{"[", "2", "]"}], "]"}]}], "}"}]}]}]}], "\n", "]"}], 
         ";", "\[IndentingNewLine]", "\[IndentingNewLine]", 
         "\"\<dummy\>\""}]}], "\[IndentingNewLine]", "]"}], ";", 
      "\[IndentingNewLine]", "\[IndentingNewLine]", 
      RowBox[{"If", "[", "\[IndentingNewLine]", 
       RowBox[{
        RowBox[{"HistAutoMode", "\[Equal]", "2"}], ",", "\n", 
        RowBox[{
         RowBox[{"If", "[", "\n", 
          RowBox[{
           RowBox[{"plottype", "==", "2"}], " ", 
           RowBox[{"(*", 
            RowBox[{"||", " ", 
             RowBox[{"plottype", "==", "3"}], " ", "||", " ", 
             RowBox[{"plottype", "==", "4"}], " ", "||", " ", 
             RowBox[{"plottype", "==", "5"}], "  ", "||", " ", 
             RowBox[{"plottype", "==", "6"}]}], "*)"}], ",", "\n", 
           RowBox[{
            RowBox[{"histautoxrange", "=", "0.3"}], ";", 
            "\[IndentingNewLine]", 
            RowBox[{"(*", 
             RowBox[{"20171114", ":", " ", 
              RowBox[{"histautoxrange", " ", "format", " ", "becomes", " ", 
               RowBox[{"{", 
                RowBox[{"min", ",", "max"}], "}"}]}]}], "*)"}], 
            "\[IndentingNewLine]", 
            RowBox[{"histautoxrange", "=", 
             RowBox[{"{", 
              RowBox[{
               RowBox[{"-", "histautoxrange"}], ",", "histautoxrange"}], 
              "}"}]}], ";", "\[IndentingNewLine]", 
            RowBox[{"hist2autoxrange", "=", 
             RowBox[{"{", 
              RowBox[{"0.0", ",", 
               RowBox[{"histautoxrange", "[", 
                RowBox[{"[", "2", "]"}], "]"}]}], "}"}]}]}]}], "\n", "]"}], 
         ";", "\n", 
         RowBox[{"If", "[", "\n", 
          RowBox[{
           RowBox[{
            RowBox[{"plottype", "==", "3"}], " ", "||", " ", 
            RowBox[{"plottype", "==", "4"}], " ", "||", " ", 
            RowBox[{"plottype", "==", "5"}]}], " ", ",", "\n", 
           RowBox[{
            RowBox[{"histautoxrange", "=", "3.0"}], ";", 
            "\[IndentingNewLine]", 
            RowBox[{"(*", 
             RowBox[{"20171114", ":", " ", 
              RowBox[{"histautoxrange", " ", "format", " ", "becomes", " ", 
               RowBox[{"{", 
                RowBox[{"min", ",", "max"}], "}"}]}]}], "*)"}], 
            "\[IndentingNewLine]", 
            RowBox[{"histautoxrange", "=", 
             RowBox[{"{", 
              RowBox[{
               RowBox[{"-", "histautoxrange"}], ",", "histautoxrange"}], 
              "}"}]}], ";", "\[IndentingNewLine]", 
            RowBox[{"hist2autoxrange", "=", 
             RowBox[{"{", 
              RowBox[{"0.0", ",", 
               RowBox[{"histautoxrange", "[", 
                RowBox[{"[", "2", "]"}], "]"}]}], "}"}]}]}]}], "\n", "]"}], 
         ";", "\[IndentingNewLine]", 
         RowBox[{"(*", 
          RowBox[{
           RowBox[{"20171111", ":", " ", 
            RowBox[{
            "if", " ", "the", " ", "xrange", " ", "of", " ", "the", " ", 
             "histogram", " ", "is", " ", "fixed", " ", "by", " ", "static", 
             " ", "values"}]}], ",", " ", 
           RowBox[{"set", " ", "true"}], ",", " ", 
           RowBox[{
            RowBox[{"ex", ":", " ", "HistAutoMode"}], "=", "2"}]}], "*)"}], 
         "\[IndentingNewLine]", 
         RowBox[{"(*", "\[IndentingNewLine]", 
          RowBox[{
           RowBox[{"If", "[", 
            RowBox[{
             RowBox[{
              RowBox[{
               RowBox[{"hist1plotrangex", "[", 
                RowBox[{"[", "1", "]"}], "]"}], "\[Equal]", "\"\<auto\>\""}], 
              " ", "&&", " ", 
              RowBox[{
               RowBox[{"hist1plotrangex", "[", 
                RowBox[{"[", "2", "]"}], "]"}], "\[Equal]", 
               "\"\<auto\>\""}]}], ",", 
             RowBox[{"Hist1AutoFixXrangeBool", "=", "True"}]}], "]"}], ";", 
           "\[IndentingNewLine]", 
           RowBox[{"If", "[", 
            RowBox[{
             RowBox[{
              RowBox[{
               RowBox[{"hist2plotrangex", "[", 
                RowBox[{"[", "1", "]"}], "]"}], "\[Equal]", "\"\<auto\>\""}], 
              " ", "&&", " ", 
              RowBox[{
               RowBox[{"hist2plotrangex", "[", 
                RowBox[{"[", "2", "]"}], "]"}], "\[Equal]", 
               "\"\<auto\>\""}]}], ",", 
             RowBox[{"Hist2AutoFixXrangeBool", "=", "True"}]}], "]"}]}], 
          "\[IndentingNewLine]", "*)"}], "\[IndentingNewLine]", 
         "\"\<dummy\>\""}]}], "\[IndentingNewLine]", "]"}], ";", 
      "\[IndentingNewLine]", "\[IndentingNewLine]", 
      RowBox[{"If", "[", "\[IndentingNewLine]", 
       RowBox[{
        RowBox[{"HistAutoMode", "\[Equal]", "4"}], ",", "\n", 
        RowBox[{
         RowBox[{"If", "[", "\n", 
          RowBox[{
           RowBox[{
            RowBox[{"plottype", "==", "2"}], " ", "||", " ", 
            RowBox[{"plottype", "==", "3"}], " ", "||", " ", 
            RowBox[{"plottype", "==", "4"}], " ", "||", " ", 
            RowBox[{"plottype", "==", "5"}]}], ",", "\[IndentingNewLine]", 
           RowBox[{"(*", 
            RowBox[{"20171114", ":", " ", 
             RowBox[{"histautoxrange", " ", "format", " ", "becomes", " ", 
              RowBox[{"{", 
               RowBox[{"min", ",", "max"}], "}"}]}]}], "*)"}], 
           "\[IndentingNewLine]", 
           RowBox[{
            RowBox[{"histautoxrange", "=", 
             RowBox[{"{", 
              RowBox[{"DataMin", ",", "DataMax"}], "}"}]}], ";", 
            "\[IndentingNewLine]", 
            RowBox[{"hist2autoxrange", "=", 
             RowBox[{"{", 
              RowBox[{"AbsDataMin", ",", "AbsDataMax"}], "}"}]}], ";", 
            "\[IndentingNewLine]", 
            RowBox[{"(*", "\n", 
             RowBox[{
              RowBox[{"histautoxrange", "=", 
               RowBox[{"{", 
                RowBox[{
                 RowBox[{"Min", "[", 
                  RowBox[{
                   RowBox[{"Flatten", "[", "pdfcorr", "]"}], "/.", 
                   RowBox[{
                    RowBox[{"LF1", "[", "a__", "]"}], ":>", 
                    RowBox[{
                    RowBox[{"{", "a", "}"}], "[", 
                    RowBox[{"[", "3", "]"}], "]"}]}]}], " ", "]"}], ",", 
                 RowBox[{"Max", "[", 
                  RowBox[{
                   RowBox[{"Flatten", "[", "pdfcorr", "]"}], "/.", 
                   RowBox[{
                    RowBox[{"LF1", "[", "a__", "]"}], ":>", 
                    RowBox[{
                    RowBox[{"{", "a", "}"}], "[", 
                    RowBox[{"[", "3", "]"}], "]"}]}]}], " ", "]"}]}], "}"}]}],
               ";", "\[IndentingNewLine]", 
              RowBox[{"hist2autoxrange", "=", 
               RowBox[{"{", 
                RowBox[{
                 RowBox[{"Min", "[", 
                  RowBox[{
                   RowBox[{"Flatten", "[", "pdfcorr", "]"}], "/.", 
                   RowBox[{
                    RowBox[{"LF1", "[", "a__", "]"}], "\[RuleDelayed]", 
                    RowBox[{"Abs", "[", 
                    RowBox[{
                    RowBox[{"{", "a", "}"}], "[", 
                    RowBox[{"[", "3", "]"}], "]"}], " ", "]"}]}]}], " ", 
                  "]"}], ",", 
                 RowBox[{"Max", "[", 
                  RowBox[{
                   RowBox[{"Flatten", "[", "pdfcorr", "]"}], "/.", 
                   RowBox[{
                    RowBox[{"LF1", "[", "a__", "]"}], "\[RuleDelayed]", 
                    RowBox[{"Abs", "[", 
                    RowBox[{
                    RowBox[{"{", "a", "}"}], "[", 
                    RowBox[{"[", "3", "]"}], "]"}], " ", "]"}]}]}], " ", 
                  "]"}]}], "}"}]}]}], "\[IndentingNewLine]", "*)"}], 
            "\[IndentingNewLine]", "\"\<dummy\>\""}]}], "\n", "]"}], ";", 
         "\[IndentingNewLine]", "\[IndentingNewLine]", "\"\<dummy\>\""}]}], 
       "\[IndentingNewLine]", "]"}], ";", "\[IndentingNewLine]", 
      "\[IndentingNewLine]", 
      RowBox[{"(*", 
       RowBox[{
        RowBox[{"for", " ", "correlation", " ", "histogram"}], ",", " ", 
        RowBox[{"always", " ", "set", " ", "range", " ", 
         RowBox[{"(", 
          RowBox[{
           RowBox[{"-", "1"}], ",", "1"}], ")"}]}]}], "*)"}], "\n", 
      RowBox[{"(*", 
       RowBox[{
        RowBox[{"20171111", ":", " ", 
         RowBox[{
         "if", " ", "the", " ", "xrange", " ", "of", " ", "the", " ", 
          "histogram", " ", "is", " ", "fixed", " ", "by", " ", "static", " ",
           "values"}]}], ",", " ", 
        RowBox[{"set", " ", "true"}], ",", " ", 
        RowBox[{
         RowBox[{"ex", ":", " ", "HistAutoMode"}], "=", "2"}]}], "*)"}], 
      "\[IndentingNewLine]", 
      RowBox[{"(*", 
       RowBox[{"20171114", ":", " ", 
        RowBox[{"histautoxrange", " ", "format", " ", "becomes", " ", 
         RowBox[{"{", 
          RowBox[{"min", ",", "max"}], "}"}]}]}], "*)"}], 
      "\[IndentingNewLine]", 
      RowBox[{"(*", 
       RowBox[{
        RowBox[{"If", "[", 
         RowBox[{
          RowBox[{"plottype", "==", "6"}], ",", 
          RowBox[{"histautoxrange", "=", "1.0"}]}], 
         RowBox[{"(*", 
          RowBox[{";", 
           RowBox[{"HistAutoFixXrangeBool", "=", "True"}]}], "*)"}], "]"}], 
        ";"}], "*)"}], "\[IndentingNewLine]", 
      RowBox[{"If", "[", 
       RowBox[{
        RowBox[{"plottype", "==", "6"}], ",", 
        RowBox[{
         RowBox[{"histautoxrange", "=", 
          RowBox[{"{", 
           RowBox[{
            RowBox[{"-", "1.0"}], ",", "1.0"}], "}"}]}], ";", 
         RowBox[{"hist2autoxrange", "=", 
          RowBox[{"{", 
           RowBox[{"0.0", ",", "1.0"}], "}"}]}]}]}], "]"}], ";", 
      "\[IndentingNewLine]", 
      RowBox[{"(*", 
       RowBox[{"test", " ", "print"}], "*)"}], 
      RowBox[{"(*", 
       RowBox[{
        RowBox[{"Print", "[", 
         RowBox[{
         "\"\<hist auto xrange: \>\"", ",", "histautoxrange", ",", 
          "\"\<, plottype & HistAutoMode\>\"", ",", 
          RowBox[{"{", 
           RowBox[{"plottype", ",", "HistAutoMode"}], "}"}]}], "]"}], ";", 
        RowBox[{"Abort", "[", "]"}], ";"}], "*)"}], "\n", 
      RowBox[{"(*", 
       RowBox[{
        RowBox[{"20171106", ":", " ", 
         RowBox[{"if", " ", "highlight", " ", "mode", " ", "on"}]}], ",", " ", 
        RowBox[{
        "auto", " ", "range", " ", "set", " ", "as", " ", "the", " ", "range",
          " ", "of", " ", "highlight"}]}], "*)"}], 
      RowBox[{"(*", 
       RowBox[{"20171108", ":", " ", 
        RowBox[{
        "ranges", " ", "of", " ", "all", " ", "modes", " ", "are", " ", "the",
          " ", "same"}]}], "*)"}], "\[IndentingNewLine]", 
      RowBox[{"(*", "\[IndentingNewLine]", 
       RowBox[{
        RowBox[{"If", "[", "\[IndentingNewLine]", 
         RowBox[{
          RowBox[{
           RowBox[{
            RowBox[{"HighlightMode", "[", 
             RowBox[{"[", "plottype", "]"}], "]"}], "==", "1"}], " ", "||", 
           " ", 
           RowBox[{
            RowBox[{"HighlightMode", "[", 
             RowBox[{"[", "plottype", "]"}], "]"}], "==", "2"}]}], ",", 
          "\[IndentingNewLine]", 
          RowBox[{"histautoxrange", "=", 
           RowBox[{"1.1", "*", 
            RowBox[{"highlightrange", "[", 
             RowBox[{"[", "2", "]"}], "]"}]}]}]}], "\[IndentingNewLine]", 
         "]"}], ";"}], "\[IndentingNewLine]", "*)"}], "\[IndentingNewLine]", 
      "\[IndentingNewLine]", 
      RowBox[{"If", "[", "\n", 
       RowBox[{
        RowBox[{
         RowBox[{"plottype", "==", "2"}], " ", "||", " ", 
         RowBox[{"plottype", "==", "3"}], " ", "||", " ", 
         RowBox[{"plottype", "==", "4"}], " ", "||", " ", 
         RowBox[{"plottype", "==", "5"}], " ", "||", " ", 
         RowBox[{"plottype", "\[Equal]", "6"}]}], ",", "\n", 
        RowBox[{"(*", 
         RowBox[{"20171114", ":", " ", 
          RowBox[{"histautoxrange", " ", "format", " ", "becomes", " ", 
           RowBox[{"{", 
            RowBox[{"min", ",", "max"}], "}"}]}]}], "*)"}], 
        "\[IndentingNewLine]", 
        RowBox[{
         RowBox[{"hist2plotrangex", "=", "hist1plotrangex"}], ";", 
         "\[IndentingNewLine]", 
         RowBox[{"If", "[", 
          RowBox[{
           RowBox[{
            RowBox[{"hist1plotrangex", "[", 
             RowBox[{"[", "1", "]"}], "]"}], "==", "\"\<auto\>\""}], ",", 
           RowBox[{
            RowBox[{"hist1plotrangex", "[", 
             RowBox[{"[", "1", "]"}], "]"}], "=", 
            RowBox[{"histautoxrange", "[", 
             RowBox[{"[", "1", "]"}], "]"}]}]}], " ", "]"}], ";", "\n", 
         RowBox[{"If", "[", 
          RowBox[{
           RowBox[{
            RowBox[{"hist1plotrangex", "[", 
             RowBox[{"[", "2", "]"}], "]"}], "==", "\"\<auto\>\""}], ",", 
           RowBox[{
            RowBox[{"hist1plotrangex", "[", 
             RowBox[{"[", "2", "]"}], "]"}], "=", 
            RowBox[{"histautoxrange", "[", 
             RowBox[{"[", "2", "]"}], "]"}]}]}], " ", "]"}], ";", 
         "\[IndentingNewLine]", 
         RowBox[{"If", "[", 
          RowBox[{
           RowBox[{
            RowBox[{"hist2plotrangex", "[", 
             RowBox[{"[", "1", "]"}], "]"}], "==", "\"\<auto\>\""}], ",", 
           RowBox[{
            RowBox[{"hist2plotrangex", "[", 
             RowBox[{"[", "1", "]"}], "]"}], "=", 
            RowBox[{"hist2autoxrange", "[", 
             RowBox[{"[", "1", "]"}], "]"}]}]}], " ", "]"}], ";", "\n", 
         RowBox[{"If", "[", 
          RowBox[{
           RowBox[{
            RowBox[{"hist2plotrangex", "[", 
             RowBox[{"[", "2", "]"}], "]"}], "==", "\"\<auto\>\""}], ",", 
           RowBox[{
            RowBox[{"hist2plotrangex", "[", 
             RowBox[{"[", "2", "]"}], "]"}], "=", 
            RowBox[{"hist2autoxrange", "[", 
             RowBox[{"[", "2", "]"}], "]"}]}]}], " ", "]"}], ";", "\n", 
         RowBox[{"(*", 
          RowBox[{
           RowBox[{"Print", "[", 
            RowBox[{"histautoxrange", ",", "hist1plotrangex"}], "]"}], ";"}], 
          "*)"}], "\n", "\n", 
         RowBox[{"If", "[", 
          RowBox[{
           RowBox[{
            RowBox[{"hist2plotrangex", "[", 
             RowBox[{"[", "1", "]"}], "]"}], "<", "0.0"}], ",", 
           RowBox[{
            RowBox[{"hist2plotrangex", "[", 
             RowBox[{"[", "1", "]"}], "]"}], "=", "0.0"}]}], "]"}], ";", 
         "\[IndentingNewLine]", "\"\<dummy\>\""}]}], "\[IndentingNewLine]", 
       "]"}], ";", "\[IndentingNewLine]", "\[IndentingNewLine]", 
      RowBox[{"(*", 
       RowBox[{
        RowBox[{
        "20171126", " ", "draw", " ", "plot", " ", "type", " ", "1", " ", 
         "and", " ", "return", " ", "the", " ", "figure"}], ",", " ", 
        RowBox[{"end", " ", "this", " ", "function"}]}], "*)"}], 
      "\[IndentingNewLine]", 
      RowBox[{"If", "[", "\[IndentingNewLine]", 
       RowBox[{
        RowBox[{"plottype", "\[Equal]", "1"}], ",", "\[IndentingNewLine]", 
        RowBox[{"Return", "[", 
         RowBox[{"PlotDataTypeOne", "[", 
          RowBox[{"corrfxQdtaobsclassin", ",", 
           RowBox[{"pdfcorr", "[", 
            RowBox[{"[", "1", "]"}], "]"}], ",", 
           RowBox[{"exptlist", "[", 
            RowBox[{"[", "1", "]"}], "]"}], ",", "plotrange", ",", 
           RowBox[{"(*", "classifymode", "*)"}], "classifymode", ",", 
           "configarguments"}], "]"}], " ", "]"}]}], "\[IndentingNewLine]", 
       "]"}], ";", "\[IndentingNewLine]", 
      RowBox[{"(*", 
       RowBox[{
       "===", "===", "===", "===", "===", "===", "===", "===", "===", "===", "===",
         "===", "===", "===", "===", "===", "===", "===", "===", "===", "===",
         "===", "===", "===", "===", "===", "===", "===", "===", "===", 
        RowBox[{"==", 
         RowBox[{
         "===", "===", "===", "===", "===", "===", "===", "===", "===", "===",
           "==="}]}]}], "*)"}], "\[IndentingNewLine]", 
      RowBox[{"(*", 
       RowBox[{
        RowBox[{"Histograms", ":", " ", 
         RowBox[{
          RowBox[{"Nbin", " ", "and", " ", "hist", " ", "yrange"}], "===", "===",
           "===", "===", "===", "===", "===", "===", "===", "===", "===", 
          RowBox[{"==", 
           RowBox[{"===", "===", "===", "===", "===", "===", "===", "===", 
            RowBox[{"==", 
             RowBox[{"===", "===", "===", "===", "=="}]}]}]}]}]}], "=", 
        RowBox[{
         RowBox[{
         "===", "===", "===", "===", "===", "===", "===", "===", "===", 
          "==="}], "=", "="}]}], "*)"}], "\[IndentingNewLine]", 
      RowBox[{"(*", 
       RowBox[{
        RowBox[{
        "===", "===", "===", "===", "===", "===", "===", "===", "===", "===", 
         "===", "===", "===", "===", "===", "===", "===", "===", "===", "===",
          "===", "===", "===", "===", "==="}], "=", 
        RowBox[{"===", "===", "===", "===", 
         RowBox[{"==", "=="}], "===", "===", "===", "===", "===", "===", "===",
          "===", "===", "===", "==="}]}], "*)"}], "\[IndentingNewLine]", 
      RowBox[{"{", 
       RowBox[{
       "hist1plotrangey", ",", "hist2plotrangey", ",", "BinWidth", ",", 
        "hist1plotrange", ",", "hist2plotrange", ",", "highlightlines"}], 
       "}"}], ";", "\[IndentingNewLine]", 
      RowBox[{"Hist1figureNbin", "=", "Hist1figureNbin"}], ";", 
      "\[IndentingNewLine]", 
      RowBox[{"hist1plotrangey", "=", "Hist1figureYrange"}], ";", 
      "\[IndentingNewLine]", 
      RowBox[{"hist2plotrangey", "=", "Hist1figureYrange"}], ";", 
      "\[IndentingNewLine]", "\[IndentingNewLine]", 
      RowBox[{"(*", 
       RowBox[{"20171111", " ", "Nbin", " ", "auto"}], "*)"}], 
      "\[IndentingNewLine]", 
      RowBox[{"If", "[", 
       RowBox[{
        RowBox[{"Hist1figureNbin", "\[Equal]", "\"\<auto\>\""}], ",", 
        RowBox[{"Hist1figureNbin", "=", "20"}]}], "]"}], ";", 
      "\[IndentingNewLine]", 
      RowBox[{"(*", "20171111", "*)"}], "\[IndentingNewLine]", 
      RowBox[{"(*", 
       RowBox[{
       "set", " ", "default", " ", "y", " ", "max", " ", "by", " ", "the", 
        " ", "max", " ", "value", " ", "of", " ", "of", " ", "the", " ", 
        "histogram"}], "*)"}], "\[IndentingNewLine]", 
      RowBox[{"If", "[", "\n", " ", 
       RowBox[{
        RowBox[{
         RowBox[{"plottype", "==", "2"}], " ", "||", " ", 
         RowBox[{"plottype", "==", "3"}], " ", "||", " ", 
         RowBox[{"plottype", "==", "4"}], " ", "||", " ", 
         RowBox[{"plottype", "==", "5"}], " ", "||", " ", 
         RowBox[{"plottype", "\[Equal]", "6"}]}], ",", "\[IndentingNewLine]", 
        "\[IndentingNewLine]", 
        RowBox[{
         RowBox[{"BinWidth", "=", 
          RowBox[{
           RowBox[{"(", 
            RowBox[{
             RowBox[{"hist1plotrangex", "[", 
              RowBox[{"[", "2", "]"}], "]"}], "-", 
             RowBox[{"hist1plotrangex", "[", 
              RowBox[{"[", "1", "]"}], "]"}]}], ")"}], "/", 
           "Hist1figureNbin"}]}], ";", "\[IndentingNewLine]", 
         RowBox[{"If", "[", 
          RowBox[{
           RowBox[{
            RowBox[{"hist1plotrangey", "[", 
             RowBox[{"[", "1", "]"}], "]"}], "\[Equal]", "\"\<auto\>\""}], 
           ",", 
           RowBox[{
            RowBox[{"hist1plotrangey", "[", 
             RowBox[{"[", "1", "]"}], "]"}], "=", "0.0"}]}], " ", "]"}], ";", 
         "\[IndentingNewLine]", 
         RowBox[{"If", "[", 
          RowBox[{
           RowBox[{
            RowBox[{"hist1plotrangey", "[", 
             RowBox[{"[", "2", "]"}], "]"}], "\[Equal]", "\"\<auto\>\""}], 
           ",", 
           RowBox[{
            RowBox[{"hist1plotrangey", "[", 
             RowBox[{"[", "2", "]"}], "]"}], "=", 
            RowBox[{"Max", "[", 
             RowBox[{
              RowBox[{"HistogramList", "[", 
               RowBox[{
                RowBox[{
                 RowBox[{"Flatten", "[", "pdfcorr", "]"}], "/.", 
                 RowBox[{
                  RowBox[{"LF1", "[", "a__", "]"}], ":>", 
                  RowBox[{
                   RowBox[{"{", "a", "}"}], "[", 
                   RowBox[{"[", "3", "]"}], "]"}]}]}], ",", 
                RowBox[{"{", "BinWidth", "}"}]}], "]"}], "[", 
              RowBox[{"[", "2", "]"}], "]"}], " ", "]"}]}]}], " ", "]"}], ";",
          "\[IndentingNewLine]", 
         RowBox[{"(*", 
          RowBox[{
          "set", " ", "bin", " ", "width", " ", "of", " ", "two", " ", 
           "histograms", " ", "the", " ", "same"}], "*)"}], 
         RowBox[{"(*", 
          RowBox[{
           RowBox[{"BinWidth", "=", 
            RowBox[{
             RowBox[{"(", 
              RowBox[{
               RowBox[{"hist2plotrangex", "[", 
                RowBox[{"[", "2", "]"}], "]"}], "-", 
               RowBox[{"hist2plotrangex", "[", 
                RowBox[{"[", "1", "]"}], "]"}]}], ")"}], "/", 
             "Hist1figureNbin"}]}], ";"}], "*)"}], "\[IndentingNewLine]", 
         RowBox[{"If", "[", 
          RowBox[{
           RowBox[{
            RowBox[{"hist2plotrangey", "[", 
             RowBox[{"[", "1", "]"}], "]"}], "\[Equal]", "\"\<auto\>\""}], 
           ",", 
           RowBox[{
            RowBox[{"hist2plotrangey", "[", 
             RowBox[{"[", "1", "]"}], "]"}], "=", "0.0"}]}], " ", "]"}], ";", 
         "\[IndentingNewLine]", 
         RowBox[{"If", "[", 
          RowBox[{
           RowBox[{
            RowBox[{"hist2plotrangey", "[", 
             RowBox[{"[", "2", "]"}], "]"}], "\[Equal]", "\"\<auto\>\""}], 
           ",", 
           RowBox[{
            RowBox[{"hist2plotrangey", "[", 
             RowBox[{"[", "2", "]"}], "]"}], "=", 
            RowBox[{"Max", "[", 
             RowBox[{
              RowBox[{"HistogramList", "[", 
               RowBox[{
                RowBox[{
                 RowBox[{"Flatten", "[", "pdfcorr", "]"}], "/.", 
                 RowBox[{
                  RowBox[{"LF1", "[", "a__", "]"}], "\[RuleDelayed]", 
                  RowBox[{"Abs", "[", 
                   RowBox[{
                    RowBox[{"{", "a", "}"}], "[", 
                    RowBox[{"[", "3", "]"}], "]"}], " ", "]"}]}]}], ",", 
                RowBox[{"{", "BinWidth", "}"}]}], "]"}], "[", 
              RowBox[{"[", "2", "]"}], "]"}], " ", "]"}]}]}], " ", "]"}], ";",
          "\[IndentingNewLine]", "\[IndentingNewLine]", 
         RowBox[{"hist1plotrange", "=", 
          RowBox[{"Flatten", "[", 
           RowBox[{"{", 
            RowBox[{"hist1plotrangex", ",", "hist1plotrangey"}], "}"}], 
           "]"}]}], ";", "\[IndentingNewLine]", 
         RowBox[{"hist2plotrange", "=", 
          RowBox[{"Flatten", "[", 
           RowBox[{"{", 
            RowBox[{"hist2plotrangex", ",", "hist2plotrangey"}], "}"}], 
           "]"}]}], ";", "\[IndentingNewLine]", "\"\<dummy\>\""}]}], 
       "\[IndentingNewLine]", "]"}], ";", "\[IndentingNewLine]", 
      RowBox[{"(*", 
       RowBox[{"correlation", " ", "histogram"}], "*)"}], 
      "\[IndentingNewLine]", "\[IndentingNewLine]", 
      RowBox[{"(*", 
       RowBox[{
        RowBox[{"binset", ":", " ", 
         RowBox[{
          RowBox[{"for", " ", "Nbin"}], "\[Equal]", "\"\<auto\>\""}]}], ",", 
        " ", 
        RowBox[{"define", " ", "auto", " ", "binset"}]}], "*)"}], 
      "\[IndentingNewLine]", 
      RowBox[{"(*", 
       RowBox[{
       "set", " ", "auto", " ", "bin", " ", "as", " ", "10", " ", "bins", " ",
         "in", " ", "first", " ", "color", " ", "bar", " ", "seperator"}], 
       " ", "*)"}], "\n", 
      RowBox[{"(*", 
       RowBox[{
        RowBox[{
         RowBox[{"20171108", ":", " ", 
          RowBox[{"set", " ", "auto", " ", "bin", " ", "as", " ", "N"}]}], 
         " ", "=", " ", 
         RowBox[{
         "20", " ", "in", " ", "positive", " ", "side", " ", "of", " ", 
          "xrange"}]}], ",", " ", 
        RowBox[{
         RowBox[{"bin", " ", "width"}], " ", "=", " ", 
         RowBox[{"xrange", 
          RowBox[{
           RowBox[{"(", "+", ")"}], "/", "20"}]}]}]}], " ", "*)"}], "\n", 
      RowBox[{"(*", "\n", 
       RowBox[{
        RowBox[{"binset", "=", 
         RowBox[{"{", 
          RowBox[{"Table", "[", 
           RowBox[{
            RowBox[{"i", "*", 
             RowBox[{
              RowBox[{"barseperator", "[", 
               RowBox[{"[", 
                RowBox[{
                 RowBox[{
                  RowBox[{"Length", "[", "barseperator", "]"}], "/", "2"}], 
                 "+", "1"}], "]"}], "]"}], "/", "10.0"}]}], ",", 
            RowBox[{"{", 
             RowBox[{"i", ",", 
              RowBox[{"-", "100"}], ",", "100"}], "}"}]}], "]"}], "}"}]}], 
        ";"}], "\[IndentingNewLine]", "*)"}], "\n", 
      RowBox[{"(*", 
       RowBox[{
        RowBox[{
         RowBox[{"20111111", ":", " ", 
          RowBox[{
          "use", " ", "new", " ", "bins", " ", "format", " ", "in", " ", 
           "histplot5", "\n", "binset"}]}], "=", 
         RowBox[{"{", 
          RowBox[{"Table", "[", 
           RowBox[{
            RowBox[{"i", "*", 
             RowBox[{
              RowBox[{"hist1plotrangex", "[", 
               RowBox[{"[", "2", "]"}], "]"}], "/", "20.0"}]}], ",", 
            RowBox[{"{", 
             RowBox[{"i", ",", 
              RowBox[{"-", "100"}], ",", "100"}], "}"}]}], "]"}], "}"}]}], 
        ";"}], "\[IndentingNewLine]", "*)"}], "\[IndentingNewLine]", 
      RowBox[{"(*", 
       RowBox[{
        RowBox[{
        "===", "===", "===", "===", "===", "===", "===", "===", "===", "===", 
         "===", "===", "===", "===", "===", "===", "===", "===", "===", "===",
          "===", "===", "===", "===", "===", "===", "===", 
         RowBox[{"==", 
          RowBox[{"===", "===", "===", "===", "=="}]}]}], "=", 
        RowBox[{
        "===", "===", "===", "===", "===", "===", "===", "===", "==="}]}], 
       "*)"}], "\[IndentingNewLine]", 
      RowBox[{"(*", 
       RowBox[{
        RowBox[{"2", 
         RowBox[{"DxQ", ":", " ", 
          RowBox[{
           RowBox[{
           "color", " ", "palette", " ", "and", " ", "color", " ", "bar"}], "===",
            "==="}]}]}], "=", 
        RowBox[{
         RowBox[{"==", 
          RowBox[{
          "===", "===", "===", "===", "===", "===", "===", "===", "===", "===",
            "===", "===", "===", "===", "===", "===", "===", 
           RowBox[{"==", "=="}], "===", "===", "===", "===", "===", "===", "===",
            "===", "===", "===", "===", "===", "===", "==="}]}], "=", "="}]}],
        "*)"}], "\[IndentingNewLine]", 
      RowBox[{"(*", 
       RowBox[{
        RowBox[{
        "===", "===", "===", "===", "===", "===", "===", "===", "===", "===", 
         "===", "===", "===", "===", "===", "===", "===", "===", "===", "===",
          "===", "===", "===", "===", "===", "===", "===", 
         RowBox[{"==", 
          RowBox[{"===", "===", "===", "===", "=="}]}]}], "=", 
        RowBox[{
        "===", "===", "===", "===", "===", "===", "===", "===", "==="}]}], 
       "*)"}], "\[IndentingNewLine]", 
      RowBox[{"(*", 
       RowBox[{"20171114", ":", " ", 
        RowBox[{
        "different", " ", "mode", " ", "for", " ", "color", " ", 
         "palette"}]}], "*)"}], "\[IndentingNewLine]", 
      RowBox[{"(*", 
       RowBox[{
       "mode", " ", "1", " ", "depends", " ", "on", " ", "some", " ", 
        "statistical", " ", "quantities", " ", "of", " ", "the", " ", 
        "data"}], "*)"}], "\[IndentingNewLine]", 
      RowBox[{"(*", 
       RowBox[{
        RowBox[{"mode", " ", "2"}], ":", " ", 
        RowBox[{
        "fix", " ", "palette", " ", "by", " ", "plot", " ", "type"}]}], 
       "*)"}], "\[IndentingNewLine]", 
      RowBox[{"(*", 
       RowBox[{
        RowBox[{"mode", " ", "3"}], ":", " ", 
        RowBox[{"depend", " ", "on", " ", "highlight", " ", "range"}]}], 
       "*)"}], "\[IndentingNewLine]", 
      RowBox[{"(*", 
       RowBox[{
        RowBox[{"mode", " ", "4"}], ":", " ", 
        RowBox[{
        "depend", " ", "on", " ", "max", " ", "and", " ", "min", " ", "of", 
         " ", "data"}]}], "*)"}], "\[IndentingNewLine]", 
      RowBox[{"(*", 
       RowBox[{
        RowBox[{"mode", " ", "5"}], ":", " ", 
        RowBox[{
        "depend", " ", "on", " ", "the", " ", "range", " ", "of", " ", 
         "histogram"}]}], "*)"}], "\[IndentingNewLine]", 
      RowBox[{"(*", 
       RowBox[{
        RowBox[{"mode", " ", "6"}], ":", " ", 
        RowBox[{
         RowBox[{
         "depend", " ", "on", " ", "the", " ", "percentage", " ", "of"}], " ",
          "|", "data", "|"}]}], "*)"}], "\[IndentingNewLine]", 
      RowBox[{"ColorPaletteMode", "=", "5"}], ";", "\[IndentingNewLine]", 
      RowBox[{"(*", 
       RowBox[{
        RowBox[{"20170515", ":", " ", 
         RowBox[{
         "for", " ", "statistics", " ", "of", " ", "total", " ", "data"}]}], 
        ",", " ", 
        RowBox[{
        "the", " ", "all", " ", "data", " ", "are", " ", "considered"}], ",", 
        " ", 
        RowBox[{
        "so", " ", "here", " ", "Flatten", " ", "the", " ", "data", " ", 
         "pdfcorr"}]}], "*)"}], "\[IndentingNewLine]", 
      RowBox[{"If", "[", "\[IndentingNewLine]", 
       RowBox[{
        RowBox[{"ColorPaletteMode", "\[Equal]", "6"}], ",", "\n", 
        RowBox[{
         RowBox[{"If", "[", "\n", " ", 
          RowBox[{
           RowBox[{
            RowBox[{"plottype", "==", "2"}], " ", "||", " ", 
            RowBox[{"plottype", "==", "3"}], " ", "||", " ", 
            RowBox[{"plottype", "==", "4"}], " ", "||", " ", 
            RowBox[{"plottype", "==", "5"}], " ", "||", " ", 
            RowBox[{"plottype", "\[Equal]", "6"}]}], ",", "\n", 
           RowBox[{
            RowBox[{"legendlabel", "=", "\"\<\>\""}], ";", "\n", 
            RowBox[{"barseperator", "=", 
             RowBox[{"GetDataPercentage", "[", 
              RowBox[{
               RowBox[{
                RowBox[{"Flatten", "[", "pdfcorr", "]"}], "/.", 
                RowBox[{
                 RowBox[{"LF1", "[", "a__", "]"}], ":>", 
                 RowBox[{"Abs", "[", 
                  RowBox[{
                   RowBox[{"{", "a", "}"}], "[", 
                   RowBox[{"[", "3", "]"}], "]"}], " ", "]"}]}]}], " ", ",", 
               RowBox[{"Join", "[", 
                RowBox[{"ColorSeperator", ",", 
                 RowBox[{"{", "100", "}"}]}], "]"}]}], " ", "]"}]}], ";", 
            RowBox[{"(*", 
             RowBox[{
             "20170606", "make", " ", "sure", " ", "100", "%", " ", "data", 
              " ", "included"}], "*)"}], 
            RowBox[{
             RowBox[{"barseperator", "[", 
              RowBox[{"[", "4", "]"}], "]"}], "=", 
             RowBox[{"1.001", "*", 
              RowBox[{"barseperator", "[", 
               RowBox[{"[", "4", "]"}], "]"}]}]}], ";", "\n", 
            RowBox[{"barseperator", "=", 
             RowBox[{"{", 
              RowBox[{
               RowBox[{"-", 
                RowBox[{"barseperator", "[", 
                 RowBox[{"[", "4", "]"}], "]"}]}], ",", 
               RowBox[{"-", 
                RowBox[{"barseperator", "[", 
                 RowBox[{"[", "3", "]"}], "]"}]}], ",", 
               RowBox[{"-", 
                RowBox[{"barseperator", "[", 
                 RowBox[{"[", "2", "]"}], "]"}]}], ",", 
               RowBox[{"-", 
                RowBox[{"barseperator", "[", 
                 RowBox[{"[", "1", "]"}], "]"}]}], ",", 
               RowBox[{"barseperator", "[", 
                RowBox[{"[", "1", "]"}], "]"}], ",", 
               RowBox[{"barseperator", "[", 
                RowBox[{"[", "2", "]"}], "]"}], ",", 
               RowBox[{"barseperator", "[", 
                RowBox[{"[", "3", "]"}], "]"}], ",", 
               RowBox[{"barseperator", "[", 
                RowBox[{"[", "4", "]"}], "]"}]}], "}"}]}], ";", "\n", 
            RowBox[{"epilogxQ", "=", 
             RowBox[{"{", 
              RowBox[{"Npttext", ",", 
               RowBox[{"(*", 
                RowBox[{
                "maxtext", ",", "maxmarker", ",", "mintext", ",", 
                 "minmarker"}], "*)"}], "percentagetext"}], "}"}]}], ";", 
            "\n", "\n", "\"\<dummy\>\""}]}], "\n", 
          RowBox[{"(*", 
           RowBox[{
            RowBox[{"corr", " ", "plot", " ", "cut", " ", "by"}], " ", "|", 
            "data", "|", 
            RowBox[{"<", "0.5"}]}], "*)"}], "\n", "]"}], ";", 
         "\[IndentingNewLine]", "\[IndentingNewLine]", "\"\<dummy\>\""}]}], 
       "\[IndentingNewLine]", "]"}], ";", "\[IndentingNewLine]", "\n", 
      RowBox[{"If", "[", "\[IndentingNewLine]", 
       RowBox[{
        RowBox[{"ColorPaletteMode", "\[Equal]", "2"}], ",", 
        "\[IndentingNewLine]", 
        RowBox[{
         RowBox[{"If", "[", "\n", 
          RowBox[{
           RowBox[{"plottype", "==", "6"}], ",", "\n", 
           RowBox[{
            RowBox[{"legendlabel", "=", "\"\<\>\""}], ";", "\n", 
            RowBox[{"barseperator", "=", 
             RowBox[{"{", 
              RowBox[{
               RowBox[{"-", "1"}], ",", 
               RowBox[{"-", "0.85"}], ",", 
               RowBox[{"-", "0.7"}], ",", 
               RowBox[{"-", "0.5"}], ",", "0.5", ",", "0.7", ",", "0.85", ",",
                "1"}], "}"}]}], ";", "\n", 
            RowBox[{"epilogxQ", "=", 
             RowBox[{"{", "Npttext", "}"}]}], ";", "\n", "\n", 
            "\"\<dummy\>\""}]}], "\n", 
          RowBox[{"(*", 
           RowBox[{
            RowBox[{"corr", " ", "plot", " ", "cut", " ", "by"}], " ", "|", 
            "data", "|", 
            RowBox[{"<", "0.5"}]}], "*)"}], "\n", "]"}], ";", "\n", 
         RowBox[{"(*", 
          RowBox[{"20170517", ":", " ", 
           RowBox[{
           "the", " ", "most", " ", "important", " ", "of", " ", "dr", "*", 
            "corr", " ", "is", " ", "to", " ", "show", " ", 
            RowBox[{"it", "'"}], "s", " ", "absolute", " ", "value", 
            RowBox[{"(", 
             RowBox[{
             "how", " ", "many", " ", "data", " ", "larger", " ", "than", " ",
               "1"}], ")"}]}]}], "*)"}], "\n", 
         RowBox[{"If", "[", "\n", 
          RowBox[{"(*", 
           RowBox[{
            RowBox[{"plottype", "==", "3"}], " ", "||", " ", 
            RowBox[{"plottype", "==", "4"}], " ", "||"}], " ", "*)"}], 
          RowBox[{
           RowBox[{"plottype", "==", "5"}], ",", "\n", 
           RowBox[{
            RowBox[{"legendlabel", "=", "\"\<\>\""}], ";", 
            "\[IndentingNewLine]", 
            RowBox[{"(*", 
             RowBox[{
             "20171025", " ", "set", " ", "bar", " ", "seperator", " ", "as", 
              " ", 
              RowBox[{"{", 
               RowBox[{
                RowBox[{"-", "100"}], ",", 
                RowBox[{"-", "5.0"}], ",", 
                RowBox[{"-", "2.0"}], ",", 
                RowBox[{"-", "0.5"}], ",", "0.5", ",", "2.0", ",", "5.0", ",",
                 "100"}], "}"}]}], "*)"}], "\[IndentingNewLine]", 
            RowBox[{"(*", "\n", 
             RowBox[{
              RowBox[{"barseperator", "=", 
               RowBox[{"{", 
                RowBox[{
                 RowBox[{"-", "100"}], ",", 
                 RowBox[{"-", "0.85"}], ",", 
                 RowBox[{"-", "0.7"}], ",", 
                 RowBox[{"-", "0.5"}], ",", "0.5", ",", "0.7", ",", "0.85", 
                 ",", "100"}], "}"}]}], ";"}], "\[IndentingNewLine]", "*)"}], 
            "\[IndentingNewLine]", 
            RowBox[{"barseperator", "=", 
             RowBox[{"{", 
              RowBox[{
               RowBox[{"-", "100"}], ",", 
               RowBox[{"-", "5.0"}], ",", 
               RowBox[{"-", "2.0"}], ",", 
               RowBox[{"-", "0.5"}], ",", "0.5", ",", "2.0", ",", "5.0", ",", 
               "100"}], "}"}]}], ";", "\n", 
            RowBox[{"epilogxQ", "=", 
             RowBox[{"{", "Npttext", "}"}]}], ";", "\n", "\n", 
            "\"\<dummy\>\""}]}], "\n", "]"}], ";", "\n", 
         RowBox[{"(*", 
          RowBox[{
           RowBox[{
            RowBox[{
             RowBox[{"10170606", ":", " ", "deltaR"}], " ", "&"}], " ", 
            "residual", " ", 
            RowBox[{"central", ":", " ", 
             RowBox[{
             "scale", " ", "should", " ", "be", " ", "very", " ", 
              "small"}]}]}], ",", " ", 
           RowBox[{"close", " ", "to", " ", "1"}], ",", " ", "large", ",", 
           " ", 
           RowBox[{"very", " ", "large"}]}], "*)"}], "\n", 
         RowBox[{"If", "[", "\n", 
          RowBox[{
           RowBox[{"plottype", "==", "3"}], " ", 
           RowBox[{"(*", 
            RowBox[{"||", " ", 
             RowBox[{"plottype", "==", "4"}]}], "*)"}], ",", "\n", 
           RowBox[{
            RowBox[{"legendlabel", "=", "\"\<\>\""}], ";", "\n", 
            RowBox[{"barseperator", "=", 
             RowBox[{"{", 
              RowBox[{
               RowBox[{"-", "100"}], ",", 
               RowBox[{"-", "5.0"}], ",", 
               RowBox[{"-", "2.0"}], ",", 
               RowBox[{"-", "0.5"}], ",", "0.5", ",", "2.0", ",", "5.0", ",", 
               "100"}], "}"}]}], ";", "\n", 
            RowBox[{"epilogxQ", "=", 
             RowBox[{"{", "Npttext", "}"}]}], ";", "\n", "\n", 
            "\"\<dummy\>\""}]}], "\n", "]"}], ";", "\[IndentingNewLine]", 
         RowBox[{"(*", 
          RowBox[{"20171108", ":", " ", 
           RowBox[{
           "residual", " ", "error", " ", "are", " ", "always", " ", 
            "positive"}]}], "*)"}], "\[IndentingNewLine]", 
         RowBox[{"If", "[", "\n", 
          RowBox[{
           RowBox[{"plottype", "==", "4"}], ",", "\n", 
           RowBox[{
            RowBox[{"legendlabel", "=", "\"\<\>\""}], ";", "\n", 
            RowBox[{"barseperator", "=", 
             RowBox[{"{", 
              RowBox[{"0", ",", "0.5", ",", "2.0", ",", "5.0", ",", "100"}], 
              "}"}]}], ";", "\n", 
            RowBox[{"epilogxQ", "=", 
             RowBox[{"{", "Npttext", "}"}]}], ";", "\n", "\n", 
            "\"\<dummy\>\""}]}], "\n", "]"}], ";", "\[IndentingNewLine]", 
         "\[IndentingNewLine]", 
         RowBox[{"(*", 
          RowBox[{"20171107", ":", " ", 
           RowBox[{"set", " ", "seperator", " ", "of", " ", 
            RowBox[{"\[Sigma]", "/", "D"}]}]}], "*)"}], 
         RowBox[{"(*", 
          RowBox[{"20171108", ":", " ", 
           RowBox[{
            RowBox[{"\[Sigma]", "/", "D"}], " ", "are", " ", "always", " ", 
            "positive"}]}], "*)"}], "\[IndentingNewLine]", 
         RowBox[{"If", "[", "\n", 
          RowBox[{
           RowBox[{"plottype", "\[Equal]", "2"}], ",", "\n", 
           RowBox[{
            RowBox[{"legendlabel", "=", "\"\<\>\""}], ";", "\n", 
            RowBox[{"barseperator", "=", 
             RowBox[{"{", 
              RowBox[{"(*", 
               RowBox[{
                RowBox[{"-", "100"}], ",", 
                RowBox[{"-", "0.3"}], ",", 
                RowBox[{"-", "0.1"}], ",", 
                RowBox[{"-", "0.05"}]}], "*)"}], 
              RowBox[{"0", ",", "0.05", ",", "0.1", ",", "0.3", ",", "100"}], 
              "}"}]}], ";", "\n", 
            RowBox[{"epilogxQ", "=", 
             RowBox[{"{", "Npttext", "}"}]}], ";", "\n", "\"\<dummy\>\""}]}], 
          "\n", "]"}], ";", "\n", "\[IndentingNewLine]", "\"\<dummy\>\""}]}], 
       "\[IndentingNewLine]", "]"}], ";", "\[IndentingNewLine]", 
      "\[IndentingNewLine]", 
      RowBox[{"(*", 
       RowBox[{
       "20171115", " ", "color", " ", "palette", " ", "by", " ", "histogram", 
        " ", "range"}], "*)"}], "\[IndentingNewLine]", 
      RowBox[{"If", "[", "\[IndentingNewLine]", 
       RowBox[{
        RowBox[{
         RowBox[{"ColorPaletteMode", "\[Equal]", "4"}], " ", "||", " ", 
         RowBox[{"ColorPaletteMode", "\[Equal]", "5"}]}], ",", 
        "\[IndentingNewLine]", 
        RowBox[{"(*", 
         RowBox[{
          RowBox[{"20171125", ":", " ", 
           RowBox[{"set", " ", "max"}]}], ",", " ", 
          RowBox[{
          "min", " ", "of", " ", "the", " ", "color", " ", "palette", " ", 
           "range", " ", "by", " ", "mode"}]}], "*)"}], "\[IndentingNewLine]", 
        RowBox[{
         RowBox[{"If", "[", "\[IndentingNewLine]", 
          RowBox[{
           RowBox[{"ColorPaletteMode", "\[Equal]", "4"}], ",", 
           "\[IndentingNewLine]", 
           RowBox[{
            RowBox[{"PaletteMax", "=", "DataMax"}], ";", 
            "\[IndentingNewLine]", 
            RowBox[{"PaletteMin", "=", "DataMin"}]}]}], "\[IndentingNewLine]",
           "]"}], ";", "\[IndentingNewLine]", 
         RowBox[{"If", "[", "\[IndentingNewLine]", 
          RowBox[{
           RowBox[{"ColorPaletteMode", "\[Equal]", "5"}], ",", 
           "\[IndentingNewLine]", 
           RowBox[{
            RowBox[{"PaletteMax", "=", 
             RowBox[{"hist1plotrange", "[", 
              RowBox[{"[", "2", "]"}], "]"}]}], ";", "\[IndentingNewLine]", 
            RowBox[{"PaletteMin", "=", 
             RowBox[{"hist1plotrange", "[", 
              RowBox[{"[", "1", "]"}], "]"}]}]}]}], "\[IndentingNewLine]", 
          "]"}], ";", "\[IndentingNewLine]", "\n", 
         RowBox[{"If", "[", "\n", " ", 
          RowBox[{"(*", 
           RowBox[{
            RowBox[{"plottype", "==", "3"}], " ", "||"}], " ", "*)"}], 
          RowBox[{
           RowBox[{"plottype", "==", "5"}], ",", "\n", 
           RowBox[{
            RowBox[{"legendlabel", "=", "\"\<\>\""}], ";", 
            "\[IndentingNewLine]", 
            RowBox[{"(*", 
             RowBox[{
              RowBox[{"20171125", ":", " ", 
               RowBox[{
               "use", " ", "log", " ", "scale", " ", "to", " ", "seperate", 
                " ", "the", " ", "colors", " ", "min"}]}], ",", " ", 
              RowBox[{"min", "/", "3"}], ",", " ", 
              RowBox[{"min", "/", "9"}], ",", " ", 
              RowBox[{"min", "/", "27"}], ",", " ", 
              RowBox[{"max", "/", "27"}], ",", 
              RowBox[{"max", "/", "9"}], ",", 
              RowBox[{"max", "/", "3"}], ",", "max"}], "*)"}], 
            "\[IndentingNewLine]", 
            RowBox[{"barseperator", "=", 
             RowBox[{"Table", "[", 
              RowBox[{
               RowBox[{
                RowBox[{"(", 
                 RowBox[{"DataMin", "+", 
                  RowBox[{"0.5", "*", 
                   RowBox[{"(", 
                    RowBox[{"DataMax", "-", "DataMin"}], ")"}]}]}], " ", 
                 ")"}], "+", 
                RowBox[{
                 RowBox[{"If", "[", 
                  RowBox[{
                   RowBox[{"isep", ">", "0"}], ",", "1.0", ",", 
                   RowBox[{"-", "1.0"}]}], "]"}], "*", 
                 SuperscriptBox[
                  RowBox[{"(", 
                   RowBox[{"1", "/", "3"}], ")"}], 
                  RowBox[{
                   RowBox[{"Abs", "[", "isep", "]"}], "-", "1"}]], "*", 
                 RowBox[{"(", 
                  RowBox[{"0.5", "*", 
                   RowBox[{"(", 
                    RowBox[{"DataMax", "-", "DataMin"}], ")"}]}], " ", 
                  ")"}]}]}], ",", 
               RowBox[{"{", 
                RowBox[{"isep", ",", 
                 RowBox[{"{", 
                  RowBox[{
                   RowBox[{"-", "1"}], ",", 
                   RowBox[{"-", "2"}], ",", 
                   RowBox[{"-", "3"}], ",", 
                   RowBox[{"-", "4"}], ",", "4", ",", "3", ",", "2", ",", 
                   "1"}], "}"}]}], "}"}]}], "]"}]}], ";", 
            "\[IndentingNewLine]", 
            RowBox[{"(*", "\n", 
             RowBox[{
              RowBox[{"barseperator", "=", 
               RowBox[{"Table", "[", 
                RowBox[{
                 RowBox[{"DataMin", "+", 
                  RowBox[{"isep", "*", 
                   RowBox[{
                    RowBox[{"(", 
                    RowBox[{"DataMax", "-", "DataMin"}], ")"}], "/", 
                    "7.0"}]}]}], ",", 
                 RowBox[{"{", 
                  RowBox[{"isep", ",", "0", ",", "7"}], "}"}]}], "]"}]}], 
              ";"}], "\[IndentingNewLine]", "*)"}], "\[IndentingNewLine]", 
            RowBox[{
             RowBox[{"barseperator", "[", 
              RowBox[{"[", 
               RowBox[{"-", "1"}], "]"}], "]"}], "=", 
             RowBox[{
              RowBox[{"barseperator", "[", 
               RowBox[{"[", 
                RowBox[{"-", "1"}], "]"}], "]"}], "*", "1.001"}]}], ";", 
            RowBox[{"(*", 
             RowBox[{"add", " ", "a", " ", "width"}], "*)"}], "\n", 
            RowBox[{"epilogxQ", "=", 
             RowBox[{"{", "Npttext", "}"}]}], ";", "\n", "\n", 
            "\"\<dummy\>\""}]}], "\n", 
          RowBox[{"(*", 
           RowBox[{
            RowBox[{"corr", " ", "plot", " ", "cut", " ", "by"}], " ", "|", 
            "data", "|", 
            RowBox[{"<", "0.5"}]}], "*)"}], "\n", "]"}], ";", 
         "\[IndentingNewLine]", "\[IndentingNewLine]", 
         RowBox[{"If", "[", "\n", " ", 
          RowBox[{
           RowBox[{"plottype", "==", "3"}], 
           RowBox[{"(*", " ", 
            RowBox[{"||", " ", 
             RowBox[{"plottype", "==", "5"}]}], "*)"}], ",", "\n", 
           RowBox[{
            RowBox[{"legendlabel", "=", "\"\<\>\""}], ";", 
            "\[IndentingNewLine]", 
            RowBox[{"(*", 
             RowBox[{
              RowBox[{"20171125", ":", " ", 
               RowBox[{
               "use", " ", "log", " ", "scale", " ", "to", " ", "seperate", 
                " ", "the", " ", "colors", " ", "min"}]}], ",", " ", 
              RowBox[{"min", "/", "3"}], ",", " ", 
              RowBox[{"min", "/", "9"}], ",", " ", 
              RowBox[{"min", "/", "27"}], ",", " ", 
              RowBox[{"max", "/", "27"}], ",", 
              RowBox[{"max", "/", "9"}], ",", 
              RowBox[{"max", "/", "3"}], ",", "max"}], "*)"}], 
            "\[IndentingNewLine]", 
            RowBox[{"barseperator", "=", 
             RowBox[{"Table", "[", 
              RowBox[{
               RowBox[{
                RowBox[{"(", 
                 RowBox[{"DataMin", "+", 
                  RowBox[{"0.5", "*", 
                   RowBox[{"(", 
                    RowBox[{"DataMax", "-", "DataMin"}], ")"}]}]}], " ", 
                 ")"}], "+", 
                RowBox[{
                 RowBox[{"If", "[", 
                  RowBox[{
                   RowBox[{"isep", ">", "0"}], ",", "1.0", ",", 
                   RowBox[{"-", "1.0"}]}], "]"}], "*", 
                 SuperscriptBox[
                  RowBox[{"(", 
                   RowBox[{"1", "/", "1.5"}], ")"}], 
                  RowBox[{
                   RowBox[{"Abs", "[", "isep", "]"}], "-", "1"}]], "*", 
                 RowBox[{"(", 
                  RowBox[{"0.5", "*", 
                   RowBox[{"(", 
                    RowBox[{"DataMax", "-", "DataMin"}], ")"}]}], " ", 
                  ")"}]}]}], ",", 
               RowBox[{"{", 
                RowBox[{"isep", ",", 
                 RowBox[{"{", 
                  RowBox[{
                   RowBox[{"-", "1"}], ",", 
                   RowBox[{"-", "2"}], ",", 
                   RowBox[{"-", "3"}], ",", 
                   RowBox[{"-", "4"}], ",", "4", ",", "3", ",", "2", ",", 
                   "1"}], "}"}]}], "}"}]}], "]"}]}], ";", 
            "\[IndentingNewLine]", 
            RowBox[{"(*", "\n", 
             RowBox[{
              RowBox[{"barseperator", "=", 
               RowBox[{"Table", "[", 
                RowBox[{
                 RowBox[{"DataMin", "+", 
                  RowBox[{"isep", "*", 
                   RowBox[{
                    RowBox[{"(", 
                    RowBox[{"DataMax", "-", "DataMin"}], ")"}], "/", 
                    "7.0"}]}]}], ",", 
                 RowBox[{"{", 
                  RowBox[{"isep", ",", "0", ",", "7"}], "}"}]}], "]"}]}], 
              ";"}], "\[IndentingNewLine]", "*)"}], "\[IndentingNewLine]", 
            RowBox[{
             RowBox[{"barseperator", "[", 
              RowBox[{"[", 
               RowBox[{"-", "1"}], "]"}], "]"}], "=", 
             RowBox[{
              RowBox[{"barseperator", "[", 
               RowBox[{"[", 
                RowBox[{"-", "1"}], "]"}], "]"}], "*", "1.001"}]}], ";", 
            RowBox[{"(*", 
             RowBox[{"add", " ", "a", " ", "width"}], "*)"}], "\n", 
            RowBox[{"epilogxQ", "=", 
             RowBox[{"{", "Npttext", "}"}]}], ";", "\n", "\n", 
            "\"\<dummy\>\""}]}], "\n", 
          RowBox[{"(*", 
           RowBox[{
            RowBox[{"corr", " ", "plot", " ", "cut", " ", "by"}], " ", "|", 
            "data", "|", 
            RowBox[{"<", "0.5"}]}], "*)"}], "\n", "]"}], ";", 
         "\[IndentingNewLine]", "\[IndentingNewLine]", 
         RowBox[{"If", "[", "\n", 
          RowBox[{
           RowBox[{"plottype", "\[Equal]", "4"}], ",", "\n", 
           RowBox[{
            RowBox[{"legendlabel", "=", "\"\<\>\""}], ";", 
            "\[IndentingNewLine]", 
            RowBox[{"(*", 
             RowBox[{
              RowBox[{"20171125", ":", " ", 
               RowBox[{
               "use", " ", "log", " ", "scale", " ", "to", " ", "seperate", 
                " ", "the", " ", "colors", " ", "min"}]}], ",", " ", 
              RowBox[{"min", "/", "3"}], ",", " ", 
              RowBox[{"min", "/", "9"}], ",", " ", 
              RowBox[{"min", "/", "27"}], ",", " ", 
              RowBox[{"max", "/", "27"}], ",", 
              RowBox[{"max", "/", "9"}], ",", 
              RowBox[{"max", "/", "3"}], ",", "max"}], "*)"}], 
            "\[IndentingNewLine]", 
            RowBox[{"barseperator", "=", 
             RowBox[{
              RowBox[{"{", "0", "}"}], "~", "Join", "~", 
              RowBox[{"Table", "[", 
               RowBox[{
                RowBox[{
                 SuperscriptBox[
                  RowBox[{"(", 
                   RowBox[{"1", "/", "1.5"}], ")"}], 
                  RowBox[{
                   RowBox[{"Abs", "[", "isep", "]"}], "-", "1"}]], "*", 
                 RowBox[{"(", "DataMax", " ", ")"}]}], ",", 
                RowBox[{"{", 
                 RowBox[{"isep", ",", 
                  RowBox[{"{", 
                   RowBox[{"4", ",", "3", ",", "2", ",", "1"}], "}"}]}], 
                 "}"}]}], "]"}]}]}], ";", "\[IndentingNewLine]", 
            RowBox[{"(*", "\n", 
             RowBox[{
              RowBox[{"barseperator", "=", 
               RowBox[{"Table", "[", 
                RowBox[{
                 RowBox[{"DataMin", "+", 
                  RowBox[{"isep", "*", 
                   RowBox[{
                    RowBox[{"(", 
                    RowBox[{"DataMax", "-", "DataMin"}], ")"}], "/", 
                    "7.0"}]}]}], ",", 
                 RowBox[{"{", 
                  RowBox[{"isep", ",", "0", ",", "7"}], "}"}]}], "]"}]}], 
              ";"}], "\[IndentingNewLine]", "*)"}], "\[IndentingNewLine]", 
            RowBox[{
             RowBox[{"barseperator", "[", 
              RowBox[{"[", 
               RowBox[{"-", "1"}], "]"}], "]"}], "=", 
             RowBox[{
              RowBox[{"barseperator", "[", 
               RowBox[{"[", 
                RowBox[{"-", "1"}], "]"}], "]"}], "*", "1.001"}]}], ";", 
            RowBox[{"(*", 
             RowBox[{"add", " ", "a", " ", "width"}], "*)"}], "\n", 
            RowBox[{"epilogxQ", "=", 
             RowBox[{"{", "Npttext", "}"}]}], ";", "\n", "\n", 
            "\"\<dummy\>\""}]}], "\n", 
          RowBox[{"(*", 
           RowBox[{
            RowBox[{"corr", " ", "plot", " ", "cut", " ", "by"}], " ", "|", 
            "data", "|", 
            RowBox[{"<", "0.5"}]}], "*)"}], "\n", "]"}], ";", 
         "\[IndentingNewLine]", "\[IndentingNewLine]", 
         RowBox[{"If", "[", "\n", " ", 
          RowBox[{
           RowBox[{"plottype", "\[Equal]", "2"}], 
           RowBox[{"(*", " ", 
            RowBox[{"||", "  ", 
             RowBox[{"plottype", "\[Equal]", "4"}]}], "*)"}], ",", "\n", 
           RowBox[{
            RowBox[{"legendlabel", "=", "\"\<\>\""}], ";", 
            "\[IndentingNewLine]", 
            RowBox[{"(*", 
             RowBox[{"20171125", ":", " ", 
              RowBox[{
              "use", " ", "log", " ", "scale", " ", "to", " ", "seperate", 
               " ", "the", " ", "colors", " ", 
               RowBox[{"{", 
                RowBox[{"0", ",", " ", 
                 RowBox[{"max", "/", "27"}], ",", 
                 RowBox[{"max", "/", "9"}], ",", 
                 RowBox[{"max", "/", "3"}], ",", "max"}], "}"}]}]}], "*)"}], 
            "\[IndentingNewLine]", 
            RowBox[{"barseperator", "=", 
             RowBox[{
              RowBox[{"{", "0", "}"}], "~", "Join", "~", 
              RowBox[{"Table", "[", 
               RowBox[{
                RowBox[{
                 SuperscriptBox[
                  RowBox[{"(", 
                   RowBox[{"1", "/", "2"}], ")"}], 
                  RowBox[{
                   RowBox[{"Abs", "[", "isep", "]"}], "-", "1"}]], "*", 
                 RowBox[{"(", "DataMax", " ", ")"}]}], ",", 
                RowBox[{"{", 
                 RowBox[{"isep", ",", 
                  RowBox[{"{", 
                   RowBox[{"4", ",", "3", ",", "2", ",", "1"}], "}"}]}], 
                 "}"}]}], "]"}]}]}], ";", "\[IndentingNewLine]", 
            RowBox[{"(*", "\n", 
             RowBox[{
              RowBox[{"barseperator", "=", 
               RowBox[{"Table", "[", 
                RowBox[{
                 RowBox[{"isep", "*", 
                  RowBox[{
                   RowBox[{"(", "AbsDataMax", ")"}], "/", "4.0"}]}], ",", 
                 RowBox[{"{", 
                  RowBox[{"isep", ",", "0", ",", "4"}], "}"}]}], "]"}]}], 
              ";"}], "\[IndentingNewLine]", "*)"}], "\[IndentingNewLine]", 
            RowBox[{
             RowBox[{"barseperator", "[", 
              RowBox[{"[", 
               RowBox[{"-", "1"}], "]"}], "]"}], "=", 
             RowBox[{
              RowBox[{"barseperator", "[", 
               RowBox[{"[", 
                RowBox[{"-", "1"}], "]"}], "]"}], "*", "1.001"}]}], ";", 
            RowBox[{"(*", 
             RowBox[{"add", " ", "a", " ", "width"}], "*)"}], "\n", 
            RowBox[{"epilogxQ", "=", 
             RowBox[{"{", "Npttext", "}"}]}], ";", "\n", "\n", 
            "\"\<dummy\>\""}]}], "\n", 
          RowBox[{"(*", 
           RowBox[{
            RowBox[{"corr", " ", "plot", " ", "cut", " ", "by"}], " ", "|", 
            "data", "|", 
            RowBox[{"<", "0.5"}]}], "*)"}], "\n", "]"}], ";", 
         "\[IndentingNewLine]", 
         RowBox[{"(*", "\[IndentingNewLine]", 
          RowBox[{
           RowBox[{"If", "[", "\n", " ", 
            RowBox[{
             RowBox[{"plottype", "\[Equal]", "4"}], ",", "\n", 
             RowBox[{
              RowBox[{"legendlabel", "=", "\"\<\>\""}], ";", 
              "\[IndentingNewLine]", 
              RowBox[{"(*", 
               RowBox[{"20171125", ":", " ", 
                RowBox[{
                "use", " ", "log", " ", "scale", " ", "to", " ", "seperate", 
                 " ", "the", " ", "colors", " ", 
                 RowBox[{"{", 
                  RowBox[{"0", ",", " ", 
                   RowBox[{"max", "/", "27"}], ",", 
                   RowBox[{"max", "/", "9"}], ",", 
                   RowBox[{"max", "/", "3"}], ",", "max"}], "}"}]}]}], "*)"}],
               "\[IndentingNewLine]", 
              RowBox[{"barseperator", "=", 
               RowBox[{
                RowBox[{"{", "0", "}"}], "~", "Join", "~", 
                RowBox[{"Table", "[", 
                 RowBox[{
                  RowBox[{"DataMax", "-", 
                   RowBox[{
                    SuperscriptBox[
                    RowBox[{"(", 
                    RowBox[{"1", "/", "2"}], ")"}], 
                    RowBox[{"Abs", "[", "isep", "]"}]], "*", 
                    RowBox[{"(", "DataMax", " ", ")"}]}]}], ",", 
                  RowBox[{"{", 
                   RowBox[{"isep", ",", 
                    RowBox[{"{", 
                    RowBox[{"1", ",", "2", ",", "3", ",", "4"}], "}"}]}], 
                   "}"}]}], "]"}]}]}], ";", "\[IndentingNewLine]", 
              RowBox[{"(*", "\n", 
               RowBox[{
                RowBox[{"barseperator", "=", 
                 RowBox[{"Table", "[", 
                  RowBox[{
                   RowBox[{"isep", "*", 
                    RowBox[{
                    RowBox[{"(", "AbsDataMax", ")"}], "/", "4.0"}]}], ",", 
                   RowBox[{"{", 
                    RowBox[{"isep", ",", "0", ",", "4"}], "}"}]}], "]"}]}], 
                ";"}], "\[IndentingNewLine]", "*)"}], "\[IndentingNewLine]", 
              RowBox[{
               RowBox[{"barseperator", "[", 
                RowBox[{"[", 
                 RowBox[{"-", "1"}], "]"}], "]"}], "=", 
               RowBox[{
                RowBox[{"barseperator", "[", 
                 RowBox[{"[", 
                  RowBox[{"-", "1"}], "]"}], "]"}], "*", "1.001"}]}], ";", 
              RowBox[{"(*", 
               RowBox[{"add", " ", "a", " ", "width"}], "*)"}], "\n", 
              RowBox[{"epilogxQ", "=", 
               RowBox[{"{", "Npttext", "}"}]}], ";", "\n", "\n", 
              "\"\<dummy\>\""}]}], "\n", 
            RowBox[{"(*", 
             RowBox[{
              RowBox[{"corr", " ", "plot", " ", "cut", " ", "by"}], " ", "|", 
              "data", "|", 
              RowBox[{"<", "0.5"}]}], "*)"}], "\n", "]"}], ";"}], 
          "\[IndentingNewLine]", "*)"}], "\[IndentingNewLine]", 
         "\[IndentingNewLine]", 
         RowBox[{"If", "[", "\n", 
          RowBox[{
           RowBox[{"plottype", "==", "6"}], ",", "\n", 
           RowBox[{
            RowBox[{"legendlabel", "=", "\"\<\>\""}], ";", "\n", 
            RowBox[{"barseperator", "=", 
             RowBox[{"{", 
              RowBox[{
               RowBox[{"-", "1"}], ",", 
               RowBox[{"-", "0.85"}], ",", 
               RowBox[{"-", "0.7"}], ",", 
               RowBox[{"-", "0.5"}], ",", "0.5", ",", "0.7", ",", "0.85", ",",
                "1"}], "}"}]}], ";", "\n", 
            RowBox[{"epilogxQ", "=", 
             RowBox[{"{", "Npttext", "}"}]}], ";", "\n", "\n", 
            "\"\<dummy\>\""}]}], "\n", 
          RowBox[{"(*", 
           RowBox[{
            RowBox[{"corr", " ", "plot", " ", "cut", " ", "by"}], " ", "|", 
            "data", "|", 
            RowBox[{"<", "0.5"}]}], "*)"}], "\n", "]"}], ";", 
         "\[IndentingNewLine]", "\[IndentingNewLine]", "\"\<dummy\>\""}]}], 
       "\[IndentingNewLine]", "]"}], ";", "\[IndentingNewLine]", 
      "\[IndentingNewLine]", 
      RowBox[{"(*", 
       RowBox[{
        RowBox[{"plot", " ", "type", " ", "1"}], ":", " ", 
        RowBox[{
        "just", " ", "need", " ", "barseperator", " ", "so", " ", "that", " ",
          "function", " ", 
         RowBox[{"doesn", "'"}], "t", " ", "break"}]}], "*)"}], 
      "\[IndentingNewLine]", 
      RowBox[{"If", "[", "\n", 
       RowBox[{
        RowBox[{"plottype", "==", "1"}], ",", "\n", 
        RowBox[{
         RowBox[{"barseperator", "=", 
          RowBox[{"{", 
           RowBox[{
            RowBox[{"-", "1"}], ",", 
            RowBox[{"-", "0.85"}], ",", 
            RowBox[{"-", "0.7"}], ",", 
            RowBox[{"-", "0.5"}], ",", "0.5", ",", "0.7", ",", "0.85", ",", 
            "1"}], "}"}]}], ";"}]}], "\n", "]"}], ";", "\[IndentingNewLine]", 
      
      RowBox[{"(*", 
       RowBox[{
        RowBox[{
         RowBox[{"20170517", ":", " ", 
          RowBox[{"if", " ", "highlight", " ", "mode"}]}], " ", "=", " ", 
         RowBox[{"1", " ", "&&", " ", 
          RowBox[{"not", " ", "correlation", " ", "data"}]}]}], ",", " ", 
        RowBox[{
         RowBox[{"then", " ", "if", " ", "highlight", " ", "uplimit"}], " ", 
         ">", " ", 
         RowBox[{"max", " ", "of", " ", "data"}]}], ",", " ", 
        RowBox[{
        "automatically", " ", "adjust", " ", "it", " ", "to", " ", "the", " ",
          "max", " ", "of", " ", "the", " ", "data"}]}], "*)"}], 
      "\[IndentingNewLine]", 
      RowBox[{"(*", 
       RowBox[{
        RowBox[{"20171106", ":", " ", 
         RowBox[{
          RowBox[{"don", "'"}], "t", " ", "choose", " ", "max", " ", "of", 
          " ", "data", " ", "as", " ", 
          RowBox[{"highlightrange", "[", 
           RowBox[{"[", "2", "]"}], "]"}]}]}], ",", " ", 
        RowBox[{
        "just", " ", "use", " ", "the", " ", "input", " ", "number"}]}], 
       "*)"}], "\[IndentingNewLine]", 
      RowBox[{"(*", "\[IndentingNewLine]", 
       RowBox[{
        RowBox[{"If", "[", "\n", 
         RowBox[{
          RowBox[{
           RowBox[{
            RowBox[{"HighlightMode", "[", 
             RowBox[{"[", "plottype", "]"}], "]"}], "==", "1"}], "&&", 
           RowBox[{"plottype", "!=", "6"}], "&&", 
           RowBox[{"plottype", "!=", "1"}]}], ",", "\n", 
          RowBox[{
           RowBox[{"maxdata", "=", 
            RowBox[{"Max", "[", 
             RowBox[{
              RowBox[{"Flatten", "[", "pdfcorr", "]"}], "/.", 
              RowBox[{
               RowBox[{"LF1", "[", "a__", "]"}], ":>", 
               RowBox[{"Abs", "[", 
                RowBox[{
                 RowBox[{"{", "a", "}"}], "[", 
                 RowBox[{"[", "3", "]"}], "]"}], " ", "]"}]}]}], " ", "]"}]}],
            ";", "\[IndentingNewLine]", "\[IndentingNewLine]", 
           RowBox[{"If", "[", "\n", 
            RowBox[{
             RowBox[{"maxdata", ">", 
              RowBox[{"highlightrange", "[", 
               RowBox[{"[", "1", "]"}], "]"}]}], ",", "\n", 
             RowBox[{
              RowBox[{
               RowBox[{"highlightrange", "[", 
                RowBox[{"[", "2", "]"}], "]"}], "=", 
               RowBox[{"Min", "[", 
                RowBox[{
                 RowBox[{"highlightrange", "[", 
                  RowBox[{"[", "2", "]"}], "]"}], ",", "maxdata"}], "]"}]}], 
              ";"}]}], "\n", "]"}], ";", "\n", "\"\<dummy\>\""}]}], " ", 
         "]"}], ";"}], "\[IndentingNewLine]", "*)"}], "\[IndentingNewLine]", 
      "\n", 
      RowBox[{"(*", 
       RowBox[{"20171106", " ", "set", " ", "highlight", " ", "barlegend"}], 
       "*)"}], 
      RowBox[{"(*", 
       RowBox[{"20171108", ":", " ", 
        RowBox[{
        "all", " ", "modes", " ", "use", " ", "the", " ", "same", " ", 
         "color", " ", "palette", " ", 
         RowBox[{"(", "barlegend", ")"}]}]}], "*)"}], "\[IndentingNewLine]", 
      RowBox[{"legendlabel", "=", "\"\<\>\""}], ";", "\[IndentingNewLine]", 
      RowBox[{"If", "[", "\[IndentingNewLine]", 
       RowBox[{
        RowBox[{"(", 
         RowBox[{
          RowBox[{
           RowBox[{"HighlightMode", "[", 
            RowBox[{"[", "plottype", "]"}], "]"}], "\[Equal]", "0"}], " ", "||",
           " ", 
          RowBox[{
           RowBox[{"HighlightMode", "[", 
            RowBox[{"[", "plottype", "]"}], "]"}], "\[Equal]", "1"}], " ", "||",
           " ", 
          RowBox[{
           RowBox[{"HighlightMode", "[", 
            RowBox[{"[", "plottype", "]"}], "]"}], "\[Equal]", "2"}]}], ")"}],
         ",", "\[IndentingNewLine]", 
        RowBox[{
         RowBox[{"If", "[", "\[IndentingNewLine]", 
          RowBox[{
           RowBox[{"(", 
            RowBox[{
             RowBox[{"plottype", "==", "3"}], "||", " ", 
             RowBox[{"plottype", "==", "5"}], "  ", "||", " ", 
             RowBox[{"plottype", "\[Equal]", "6"}]}], ")"}], ",", 
           "\[IndentingNewLine]", 
           RowBox[{"barlegend", "=", 
            RowBox[{"Set2DxqBarLegend", "[", 
             RowBox[{"barseperator", ",", "legendlabel"}], "]"}]}]}], " ", 
          "\[IndentingNewLine]", "]"}], ";", "\[IndentingNewLine]", 
         RowBox[{"If", "[", "\[IndentingNewLine]", 
          RowBox[{
           RowBox[{"(", 
            RowBox[{
             RowBox[{"plottype", "==", "2"}], " ", "||", " ", 
             RowBox[{"plottype", "==", "4"}]}], ")"}], ",", 
           "\[IndentingNewLine]", 
           RowBox[{"barlegend", "=", 
            RowBox[{"Set2DxqRedBarLegend", "[", 
             RowBox[{"barseperator", ",", "legendlabel"}], "]"}]}]}], " ", 
          "\[IndentingNewLine]", "]"}], ";", "\[IndentingNewLine]", 
         "\"\<dummy\>\""}]}], "\[IndentingNewLine]", "]"}], ";", 
      "\[IndentingNewLine]", 
      RowBox[{"(*", "\[IndentingNewLine]", 
       RowBox[{
        RowBox[{"If", "[", 
         RowBox[{
          RowBox[{
           RowBox[{
            RowBox[{"HighlightMode", "[", 
             RowBox[{"[", "plottype", "]"}], "]"}], "\[Equal]", "1"}], " ", "||",
            " ", 
           RowBox[{
            RowBox[{"HighlightMode", "[", 
             RowBox[{"[", "plottype", "]"}], "]"}], "\[Equal]", "2"}]}], ",", 
          
          RowBox[{"barlegend", "=", 
           RowBox[{"(*", 
            RowBox[{"Set2DxqHighlightBarLegend", "[", 
             RowBox[{"legendlabel", ",", "highlightrange"}], "]"}], "*)"}], 
           RowBox[{"Set2DxqBarLegend", "[", 
            RowBox[{"barseperator", ",", "legendlabel"}], "]"}]}]}], " ", 
         "]"}], ";"}], "\[IndentingNewLine]", "*)"}], "\[IndentingNewLine]", 
      "\[IndentingNewLine]", 
      RowBox[{"(*", 
       RowBox[{
        RowBox[{
        "===", "===", "===", "===", "===", "===", "===", "===", "===", "===", 
         "===", "===", "===", "===", "===", "===", "===", "===", "===", "===",
          "===", "===", "===", "===", "===", "===", "==="}], "=", 
        RowBox[{"===", "===", "===", "===", 
         RowBox[{"==", "=="}], "===", "===", "===", "===", "===", "===", "===",
          "===", "==="}]}], "*)"}], "\[IndentingNewLine]", 
      RowBox[{"(*", 
       RowBox[{
        RowBox[{"2", 
         RowBox[{"DxQ", ":", " ", 
          RowBox[{
           RowBox[{"size", " ", "of", " ", "points"}], "===", "===", "===", "===",
            "===", "===", "===", "===", "===", "===", "===", 
           RowBox[{"==", 
            RowBox[{
            "===", "===", "===", "===", "===", "===", "===", "==="}]}]}]}]}], 
        "=", 
        RowBox[{
         RowBox[{"===", "===", "===", "===", 
          RowBox[{"==", "=="}], "===", "===", "===", "===", "===", "===", "===",
           "===", "===", "==="}], "=", "="}]}], "*)"}], "\[IndentingNewLine]", 
      RowBox[{"(*", 
       RowBox[{
        RowBox[{
        "===", "===", "===", "===", "===", "===", "===", "===", "===", "===", 
         "===", "===", "===", "===", "===", "===", "===", "===", "===", "===",
          "===", "===", "===", "===", "===", "===", 
         RowBox[{"==", 
          RowBox[{"===", "===", "===", "===", "=="}]}]}], "=", 
        RowBox[{
        "===", "===", "===", "===", "===", "===", "===", "===", "===", 
         "==="}]}], "*)"}], "\[IndentingNewLine]", "\[IndentingNewLine]", 
      RowBox[{"(*", 
       RowBox[{
        RowBox[{"for", " ", "highlight", " ", "mode"}], ",", " ", 
        RowBox[{
        "always", " ", "only", " ", "have", " ", "no", " ", "choice", " ", 
         "of", " ", "size"}]}], "*)"}], "\n", 
      RowBox[{"If", "[", 
       RowBox[{
        RowBox[{
         RowBox[{
          RowBox[{"HighlightMode", "[", 
           RowBox[{"[", "plottype", "]"}], "]"}], "==", "1"}], " ", "||", " ", 
         RowBox[{
          RowBox[{"HighlightMode", "[", 
           RowBox[{"[", "plottype", "]"}], "]"}], "==", "2"}]}], ",", 
        RowBox[{"Size", "=", 
         RowBox[{"(*", 
          RowBox[{"20171126", "\[Rule]", "tiny"}], "*)"}], 
         RowBox[{"(*", "\"\<small\>\"", "*)"}], "\"\<tiny\>\""}]}], "]"}], 
      ";", "\n", 
      RowBox[{"(*", 
       RowBox[{"set", " ", "size"}], "*)"}], "\n", 
      RowBox[{"unhighlightsize", "=", "\n", 
       RowBox[{"Switch", "[", 
        RowBox[{
        "Size", ",", "\"\<tiny\>\"", ",", "0.005", ",", "\"\<small\>\"", ",", 
         "0.0075", ",", "\"\<medium\>\"", ",", "0.01", ",", "\"\<large\>\"", 
         ",", "0.0125", ",", "_", ",", 
         RowBox[{
          RowBox[{
          "Print", "[", "\"\<error,size type is not correct\>\"", "]"}], ";", 
          
          RowBox[{"Abort", "[", "]"}]}]}], " ", "]"}]}], ";", 
      "\[IndentingNewLine]", "\[IndentingNewLine]", 
      RowBox[{"(*", 
       RowBox[{
        RowBox[{
        "===", "===", "===", "===", "===", "===", "===", "===", "===", "===", 
         "===", "===", "===", "===", "===", "===", "===", "===", "===", "===",
          "===", "===", "===", "===", "===", "===", 
         RowBox[{"==", 
          RowBox[{"===", "===", "===", "===", "=="}]}]}], "=", 
        RowBox[{
        "===", "===", "===", "===", "===", "===", "===", "===", "===", 
         "==="}]}], "*)"}], "\[IndentingNewLine]", 
      RowBox[{"(*", 
       RowBox[{
        RowBox[{"2", 
         RowBox[{"DxQ", ":", " ", 
          RowBox[{
          "legend", "===", "===", "===", "===", "===", "===", "===", "===", "===",
            "===", "===", 
           RowBox[{"==", 
            RowBox[{
            "===", "===", "===", "===", "===", "===", "===", "===", "===", "===", 
             RowBox[{"==", 
              RowBox[{"===", "===", "===", "===", "=="}]}]}]}]}]}]}], "=", 
        RowBox[{
         RowBox[{"===", "===", "===", "===", "===", "===", "===", "==="}], 
         "=", "="}]}], "*)"}], "\[IndentingNewLine]", 
      RowBox[{"(*", 
       RowBox[{
       "===", "===", "===", "===", "===", "===", "===", "===", "===", "===", "===",
         "===", "===", "===", "===", "===", "===", "===", "===", "===", "===",
         "===", "===", "===", "===", "===", "===", "===", "===", "===", "===", 
        RowBox[{"==", 
         RowBox[{
         "===", "===", "===", "===", "===", "===", "===", "===", "===", 
          "==="}]}]}], "*)"}], "\n", "\n", 
      RowBox[{"(*", 
       RowBox[{
        RowBox[{
         RowBox[{"make", " ", "expt", " ", "name"}], " ", "&"}], " ", "ID", 
        " ", "table"}], "*)"}], "\n", 
      RowBox[{"(*", 
       RowBox[{
       "===", "===", "===", "===", "===", "===", "===", "===", "===", "==="}],
        "*)"}], "\n", "\n", 
      RowBox[{"(*", "output", "*)"}], "\[IndentingNewLine]", 
      RowBox[{"(*", 
       RowBox[{
       "===", "===", "===", "===", "===", "===", "===", "===", "===", "==="}],
        "*)"}], "\[IndentingNewLine]", "title", ";", "\[IndentingNewLine]", 
      RowBox[{"(*", "\n", 
       RowBox[{
        RowBox[{"GraphicsGrid", "[", 
         RowBox[{"{", 
          RowBox[{
           RowBox[{"{", "xQplotcorr", "}"}], ",", 
           RowBox[{"{", 
            RowBox[{"histplotcorr1", ",", "histplotcorr2"}], "}"}]}], "}"}], 
         "]"}], ";", "\n", 
        RowBox[{"{", 
         RowBox[{
          RowBox[{"{", "xQplotcorr", "}"}], ",", 
          RowBox[{"{", 
           RowBox[{"histplotcorr1", ",", "histplotcorr2"}], "}"}]}], "}"}], 
        ";"}], "\n", "*)"}], "\[IndentingNewLine]", "\n", 
      RowBox[{"(*", 
       RowBox[{"make", "  ", "exptname", " ", "table"}], "*)"}], "\n", 
      RowBox[{"(*", 
       RowBox[{
        RowBox[{"20170515", ":", " ", 
         RowBox[{"when", " ", "show", " ", "all", " ", "experiments"}]}], ",",
         " ", 
        RowBox[{
        "show", " ", "expts", " ", "of", " ", "all", " ", "groups"}]}], 
       "*)"}], "\n", 
      RowBox[{"(*", 
       RowBox[{"20171109", ":", " ", 
        RowBox[{"plottype1", " ", 
         RowBox[{"don", "'"}], "t", " ", "generate", " ", "the", " ", 
         "legend"}]}], "*)"}], "\n", 
      RowBox[{"If", "[", "\n", " ", 
       RowBox[{
        RowBox[{
         RowBox[{"plottype", "==", "2"}], " ", "||", " ", 
         RowBox[{"plottype", "==", "3"}], " ", "||", " ", 
         RowBox[{"plottype", "==", "4"}], " ", "||", " ", 
         RowBox[{"plottype", "==", "5"}], "  ", "||", " ", 
         RowBox[{"plottype", "==", "6"}]}], ",", "\n", 
        RowBox[{
         RowBox[{"rows", "=", "3"}], ";", "\[IndentingNewLine]", 
         RowBox[{"(*", 
          RowBox[{"20171126", ":", " ", 
           RowBox[{
           "set", " ", "labels", " ", "depend", " ", "on", " ", "different", 
            " ", "classifymode"}]}], "*)"}], "\[IndentingNewLine]", 
         RowBox[{"If", "[", "\[IndentingNewLine]", 
          RowBox[{
           RowBox[{"classifymode", "\[Equal]", "\"\<single\>\""}], ",", "\n", 
           
           RowBox[{
            RowBox[{"exptnames", "=", 
             RowBox[{"Table", "[", 
              RowBox[{
               RowBox[{
                RowBox[{"ToString", "[", 
                 RowBox[{
                  RowBox[{"PlotMarkerList", "[", "]"}], "[", 
                  RowBox[{"[", 
                   RowBox[{"1", ",", "iexpt"}], "]"}], "]"}], " ", "]"}], "<>", 
                RowBox[{"ExptIDtoName", "[", 
                 RowBox[{
                  RowBox[{"Flatten", "[", "exptlist", "]"}], "[", 
                  RowBox[{"[", "iexpt", "]"}], "]"}], " ", "]"}], "<>", 
                "\"\<(\>\"", "<>", 
                RowBox[{"ToString", "[", 
                 RowBox[{
                  RowBox[{"Flatten", "[", "exptlist", "]"}], "[", 
                  RowBox[{"[", "iexpt", "]"}], "]"}], " ", "]"}], "<>", 
                "\"\<)\>\""}], ",", 
               RowBox[{"{", 
                RowBox[{"iexpt", ",", "1", ",", 
                 RowBox[{"Length", "[", 
                  RowBox[{"exptlist", "//", "Flatten"}], "]"}]}], "}"}]}], 
              "]"}]}], ";", "\[IndentingNewLine]", "\"\<dummy\>\""}]}], 
          "\[IndentingNewLine]", "]"}], ";", "\[IndentingNewLine]", 
         RowBox[{"If", "[", "\[IndentingNewLine]", 
          RowBox[{
           RowBox[{"classifymode", "\[Equal]", "\"\<all\>\""}], ",", "\n", 
           RowBox[{
            RowBox[{"exptnames", "=", 
             RowBox[{"Table", "[", 
              RowBox[{
               RowBox[{
                RowBox[{"ExptIDtoName", "[", 
                 RowBox[{
                  RowBox[{"Flatten", "[", "exptlist", "]"}], "[", 
                  RowBox[{"[", "iexpt", "]"}], "]"}], " ", "]"}], "<>", 
                "\"\<(\>\"", "<>", 
                RowBox[{"ToString", "[", 
                 RowBox[{
                  RowBox[{"Flatten", "[", "exptlist", "]"}], "[", 
                  RowBox[{"[", "iexpt", "]"}], "]"}], " ", "]"}], "<>", 
                "\"\<)\>\""}], ",", 
               RowBox[{"{", 
                RowBox[{"iexpt", ",", "1", ",", 
                 RowBox[{"Length", "[", 
                  RowBox[{"exptlist", "//", "Flatten"}], "]"}]}], "}"}]}], 
              "]"}]}], ";", "\[IndentingNewLine]", "\"\<dummy\>\""}]}], 
          "\[IndentingNewLine]", "]"}], ";", "\n", 
         RowBox[{
         "Print", "[", 
          "\"\<making table of experiments included in plots\>\"", "]"}], ";",
          "\[IndentingNewLine]", 
         RowBox[{"datemode", "=", "False"}], ";", "\n", 
         RowBox[{"exptnamestable", "=", 
          RowBox[{"makeGrid2", "[", 
           RowBox[{"exptnames", ",", "rows", ",", 
            RowBox[{"title", "<>", "\"\<\\n\\n\>\""}], ",", "datemode"}], 
           "]"}]}], ";", "\[IndentingNewLine]", "\"\<dummy\>\""}]}], 
       "\[IndentingNewLine]", "]"}], ";", "\[IndentingNewLine]", 
      "\[IndentingNewLine]", 
      RowBox[{"(*", 
       RowBox[{
       "===", "===", "===", "===", "===", "===", "===", "===", "===", "===", "===",
         "===", "===", "===", "===", "===", "===", "===", "===", "===", "===",
         "===", "===", "===", "===", "===", "===", "===", "===", "===", 
        RowBox[{"==", 
         RowBox[{
         "===", "===", "===", "===", "===", "===", "===", "===", "===", "===",
           "==="}]}]}], "*)"}], "\[IndentingNewLine]", 
      RowBox[{"(*", 
       RowBox[{
        RowBox[{"2", 
         RowBox[{"DxQ", ":", " ", 
          RowBox[{
          "epilogs", "===", "===", "===", "===", "===", "===", "===", "===", "===",
            "===", "===", 
           RowBox[{"==", 
            RowBox[{
            "===", "===", "===", "===", "===", "===", "===", "===", "===", "===",
              "===", "===", "===", "===", 
             RowBox[{"==", 
              RowBox[{
              "===", "===", "===", "===", "===", "===", "===", "===", 
               "==="}]}]}]}]}]}]}], "=", "="}], "*)"}], "\[IndentingNewLine]", 
      RowBox[{"(*", 
       RowBox[{
       "===", "===", "===", "===", "===", "===", "===", "===", "===", "===", "===",
         "===", "===", "===", "===", "===", "===", "===", "===", "===", "===",
         "===", "===", "===", "===", "===", "===", "===", "===", "===", 
        RowBox[{"==", 
         RowBox[{
         "===", "===", "===", "===", "===", "===", "===", "===", "===", "===",
           "==="}]}]}], "*)"}], "\[IndentingNewLine]", "\n", 
      RowBox[{"(*", 
       RowBox[{
       "setup", " ", "texts", " ", "and", " ", "lines", " ", "in", " ", 
        "plots"}], "*)"}], "\n", 
      RowBox[{"(*", 
       RowBox[{
       "===", "===", "===", "===", "===", "===", "===", "===", "===", "==="}],
        "*)"}], "\n", 
      RowBox[{"(*", 
       RowBox[{
       "set", " ", "outlayer", " ", "points", " ", "label", " ", "in", " ", 
        "plot"}], "*)"}], "\[IndentingNewLine]", 
      RowBox[{"textsize", "=", "16"}], ";", "\n", 
      RowBox[{"Npttext", "=", 
       RowBox[{"Text", "[", 
        RowBox[{
         RowBox[{"Style", "[", 
          RowBox[{
           RowBox[{"\"\<Npt: \>\"", "<>", 
            RowBox[{"ToString", "[", 
             RowBox[{"Length", "[", 
              RowBox[{"pdfcorr", "//", "Flatten"}], "]"}], " ", "]"}]}], ",", 
           "textsize", ",", "Black"}], "]"}], ",", 
         RowBox[{"Scaled", "[", 
          RowBox[{"{", 
           RowBox[{"0.1", ",", "0.9"}], "}"}], "]"}]}], " ", "]"}]}], ";", 
      "\n", 
      RowBox[{"maxtext", "=", 
       RowBox[{"Text", "[", 
        RowBox[{
         RowBox[{"Style", "[", 
          RowBox[{
           RowBox[{
            RowBox[{"ToString", "[", 
             RowBox[{"ColorSeperator", "[", 
              RowBox[{"[", "3", "]"}], "]"}], " ", "]"}], "<>", "\"\<%\>\""}],
            ",", "textsize", ",", "Black"}], "]"}], ",", 
         RowBox[{"Scaled", "[", 
          RowBox[{"{", 
           RowBox[{"0.1", ",", "0.8"}], "}"}], "]"}]}], " ", "]"}]}], ";", 
      "\n", 
      RowBox[{"maxmarker", "=", 
       RowBox[{"{", 
        RowBox[{"Red", ",", 
         RowBox[{"PointSize", "->", "0.02"}], ",", 
         RowBox[{"Point", "[", 
          RowBox[{"Scaled", "[", 
           RowBox[{"{", 
            RowBox[{"0.175", ",", "0.8"}], "}"}], "]"}], " ", "]"}]}], 
        "}"}]}], ";", "\n", 
      RowBox[{"mintext", "=", 
       RowBox[{"Text", "[", 
        RowBox[{
         RowBox[{"Style", "[", 
          RowBox[{
           RowBox[{
            RowBox[{"ToString", "[", 
             RowBox[{"ColorSeperator", "[", 
              RowBox[{"[", "3", "]"}], "]"}], " ", "]"}], "<>", 
            "\"\<%(-)\>\""}], ",", "textsize", ",", "Black"}], "]"}], ",", 
         RowBox[{"Scaled", "[", 
          RowBox[{"{", 
           RowBox[{"0.1", ",", "0.7"}], "}"}], "]"}]}], " ", "]"}]}], ";", 
      "\n", 
      RowBox[{"minmarker", "=", 
       RowBox[{"{", 
        RowBox[{"Blue", ",", 
         RowBox[{"PointSize", "->", "0.02"}], ",", 
         RowBox[{"Point", "[", 
          RowBox[{"Scaled", "[", 
           RowBox[{"{", 
            RowBox[{"0.175", ",", "0.7"}], "}"}], "]"}], " ", "]"}]}], 
        "}"}]}], ";", "\n", 
      RowBox[{"cuttext", "=", 
       RowBox[{"Text", "[", 
        RowBox[{
         RowBox[{"Style", "[", 
          RowBox[{"\"\<cut: |data|<0.5\>\"", ",", "textsize", ",", "Black"}], 
          "]"}], ",", 
         RowBox[{"Scaled", "[", 
          RowBox[{"{", 
           RowBox[{"0.15", ",", "0.6"}], "}"}], "]"}]}], " ", "]"}]}], ";", 
      "\n", 
      RowBox[{"percentagetext", "=", 
       RowBox[{"Text", "[", 
        RowBox[{
         RowBox[{"Style", "[", 
          RowBox[{
           RowBox[{"\"\<percentage of colors:\\n\>\"", "<>", 
            RowBox[{"ToString", "[", 
             RowBox[{"ColorSeperator", "[", 
              RowBox[{"[", "1", "]"}], "]"}], " ", "]"}], "<>", "\"\<%\>\"", "<>", 
            RowBox[{"ToString", "[", 
             RowBox[{"ColorSeperator", "[", 
              RowBox[{"[", "2", "]"}], "]"}], " ", "]"}], "<>", "\"\<%\>\"", "<>", 
            RowBox[{"ToString", "[", 
             RowBox[{"ColorSeperator", "[", 
              RowBox[{"[", "3", "]"}], "]"}], " ", "]"}], "<>", "\"\<%\>\""}],
            ",", "textsize", ",", "Black"}], "]"}], ",", 
         RowBox[{"Scaled", "[", 
          RowBox[{"{", 
           RowBox[{"0.2", ",", "0.8"}], "}"}], "]"}]}], " ", "]"}]}], ";", 
      "\[IndentingNewLine]", "\[IndentingNewLine]", "\[IndentingNewLine]", 
      RowBox[{"If", "[", "\n", 
       RowBox[{
        RowBox[{
         RowBox[{"HighlightMode", "[", 
          RowBox[{"[", "plottype", "]"}], "]"}], "==", "1"}], ",", "\n", 
        RowBox[{
         RowBox[{"highlighttext", "=", 
          RowBox[{"Text", "[", 
           RowBox[{
            RowBox[{"Style", "[", 
             RowBox[{
              RowBox[{"\"\<highlighted range:\\n\>\"", "<>", 
               RowBox[{"ToString", "[", "highlightrange", "]"}]}], ",", 
              "textsize", ",", "Black"}], "]"}], ",", 
            RowBox[{"Scaled", "[", 
             RowBox[{"{", 
              RowBox[{"0.2", ",", "0.7"}], "}"}], "]"}]}], " ", "]"}]}], ";", 
         "\n", "\"\<dummy\>\""}]}], "\n", "]"}], ";", "\n", 
      RowBox[{"(*", 
       RowBox[{"20171108", ":", " ", 
        RowBox[{"only", " ", "show", " ", "3", " ", "digits"}]}], " ", "*)"}],
       "\[IndentingNewLine]", 
      RowBox[{"If", "[", "\n", 
       RowBox[{
        RowBox[{
         RowBox[{"HighlightMode", "[", 
          RowBox[{"[", "plottype", "]"}], "]"}], "==", "2"}], ",", "\n", 
        RowBox[{
         RowBox[{"highlighttext", "=", "\[IndentingNewLine]", 
          RowBox[{"(*", 
           RowBox[{
            RowBox[{
            "20171109", " ", "use", " ", "new", " ", "highlight", " ", 
             "convention", "\[IndentingNewLine]", 
             RowBox[{"Text", "[", 
              RowBox[{
               RowBox[{"Style", "[", 
                RowBox[{
                 RowBox[{"\"\<highlighted range:\\n\>\"", "<>", "\"\<(\>\"", "<>", 
                  RowBox[{"ToString", "[", 
                   RowBox[{"HighlightMode2", "[", 
                    RowBox[{"[", 
                    RowBox[{
                    RowBox[{"2", "*", "plottype"}], "-", "1"}], "]"}], "]"}], 
                   " ", "]"}], "<>", "\"\<% ~ \>\"", "<>", 
                  RowBox[{"ToString", "[", 
                   RowBox[{"HighlightMode2", "[", 
                    RowBox[{"[", 
                    RowBox[{"2", "*", "plottype"}], "]"}], "]"}], " ", "]"}], 
                  "<>", "\"\<%)\\n\>\"", "<>", 
                  RowBox[{"ToString", "[", 
                   RowBox[{"NumberForm", "[", 
                    RowBox[{"highlightrange", ",", 
                    RowBox[{"{", 
                    RowBox[{"100", ",", "2"}], "}"}]}], "]"}], " ", "]"}]}], 
                 ",", "textsize", ",", "Black"}], "]"}], ",", 
               RowBox[{"Scaled", "[", 
                RowBox[{"{", 
                 RowBox[{"0.2", ",", "0.6"}], "}"}], "]"}]}], " ", "]"}]}], 
            ";"}], "\[IndentingNewLine]", "*)"}], "\[IndentingNewLine]", 
          RowBox[{"(*", 
           RowBox[{"20171111", ":", " ", 
            RowBox[{
             RowBox[{"percentage", " ", "text", " ", "is", " ", 
              RowBox[{"long", ".", " ", "move"}], " ", "it", " ", "to", " ", 
              "right"}], "-", 
             RowBox[{
             "up", " ", "to", " ", "avoid", " ", "the", " ", "text", " ", 
              "cutted", " ", "by", " ", "edge"}]}]}], "*)"}], 
          "\[IndentingNewLine]", 
          RowBox[{"Text", "[", 
           RowBox[{
            RowBox[{"Style", "[", 
             RowBox[{
              RowBox[{"\"\<highlighted range:\\n\>\"", "<>", 
               RowBox[{"ToString", "[", 
                RowBox[{"Map", "[", 
                 RowBox[{
                  RowBox[{
                   RowBox[{"(", 
                    RowBox[{
                    RowBox[{"ToString", "[", "#", "]"}], "<>", "\"\<%\>\""}], 
                    ")"}], "&"}], ",", 
                  RowBox[{"HighlightMode2", "[", 
                   RowBox[{"[", "plottype", "]"}], "]"}], ",", 
                  RowBox[{"{", "2", "}"}]}], "]"}], " ", "]"}], "<>", 
               "\"\<\\n\>\"", "<>", 
               RowBox[{"ToString", "[", 
                RowBox[{"NumberForm", "[", 
                 RowBox[{"highlightrange", ",", 
                  RowBox[{"{", 
                   RowBox[{"100", ",", "2"}], "}"}]}], "]"}], " ", "]"}]}], 
              ",", "textsize", ",", "Black"}], "]"}], ",", 
            RowBox[{"Scaled", "[", 
             RowBox[{"{", 
              RowBox[{"0.25", ",", "0.7"}], "}"}], "]"}]}], " ", "]"}]}], ";",
          "\n", "\"\<dummy\>\""}]}], "\n", "]"}], ";", "\n", 
      RowBox[{"If", "[", 
       RowBox[{
        RowBox[{
         RowBox[{"HighlightMode", "[", 
          RowBox[{"[", "plottype", "]"}], "]"}], "!=", "0"}], ",", 
        RowBox[{"epilogxQ", "=", 
         RowBox[{"Append", "[", 
          RowBox[{"epilogxQ", ",", "highlighttext"}], "]"}]}]}], " ", "]"}], 
      ";", "\[IndentingNewLine]", "\[IndentingNewLine]", 
      "\[IndentingNewLine]", 
      RowBox[{"(*", 
       RowBox[{
        RowBox[{
        "===", "===", "===", "===", "===", "===", "===", "===", "===", "===", 
         "===", "===", "===", "===", "===", "===", "===", "===", "===", "===",
          "===", "===", "===", "===", "==="}], "=", 
        RowBox[{"===", "===", "===", "===", 
         RowBox[{"==", "=="}], "===", "===", "===", "===", "===", "===", "===",
          "===", "===", "===", "==="}]}], "*)"}], "\[IndentingNewLine]", 
      RowBox[{"(*", 
       RowBox[{
        RowBox[{"Histograms", ":", " ", 
         RowBox[{
         "epilogs", "===", "===", "===", "===", "===", "===", "===", "===", "===",
           "===", "===", 
          RowBox[{"==", 
           RowBox[{
           "===", "===", "===", "===", "===", "===", "===", "===", "===", "===",
             "===", 
            RowBox[{"==", 
             RowBox[{
             "===", "===", "===", "===", "===", "===", "===", "===", "===", "===",
               "===", "==="}]}]}]}]}]}], "=", "="}], "*)"}], 
      "\[IndentingNewLine]", 
      RowBox[{"(*", 
       RowBox[{
        RowBox[{
        "===", "===", "===", "===", "===", "===", "===", "===", "===", "===", 
         "===", "===", "===", "===", "===", "===", "===", "===", "===", "===",
          "===", "===", "===", "===", "==="}], "=", 
        RowBox[{"===", "===", "===", "===", 
         RowBox[{"==", "=="}], "===", "===", "===", "===", "===", "===", "===",
          "===", "===", "===", "==="}]}], "*)"}], "\[IndentingNewLine]", 
      RowBox[{"{", 
       RowBox[{
       "xmintmp", ",", "xmaxtmp", ",", "ymintmp", ",", "hist1epilogtext", ",",
         "hist2epilogtext"}], "}"}], ";", "\[IndentingNewLine]", 
      RowBox[{"(*", 
       RowBox[{"2011111", ":", " ", 
        RowBox[{
        "set", " ", "lines", " ", "to", " ", "represent", " ", "the", " ", 
         "highlight", " ", "ranges"}]}], " ", "*)"}], "\[IndentingNewLine]", 
      RowBox[{"If", "[", "\n", " ", 
       RowBox[{
        RowBox[{
         RowBox[{"plottype", "==", "2"}], " ", "||", " ", 
         RowBox[{"plottype", "==", "3"}], " ", "||", " ", 
         RowBox[{"plottype", "==", "4"}], " ", "||", " ", 
         RowBox[{"plottype", "==", "5"}], " ", "||", " ", 
         RowBox[{"plottype", "\[Equal]", "6"}]}], ",", "\[IndentingNewLine]", 
        
        RowBox[{
         RowBox[{"LineWidth", "=", "Thick"}], ";", "\[IndentingNewLine]", 
         RowBox[{"highlightlines", "=", "\[IndentingNewLine]", 
          RowBox[{"Table", "[", "\[IndentingNewLine]", 
           RowBox[{
            RowBox[{
             RowBox[{"xmintmp", "=", 
              RowBox[{
               RowBox[{"highlightrange", "[", 
                RowBox[{"[", "irange", "]"}], "]"}], "[", 
               RowBox[{"[", "1", "]"}], "]"}]}], ";", "\[IndentingNewLine]", 
             RowBox[{"xmaxtmp", "=", 
              RowBox[{
               RowBox[{"highlightrange", "[", 
                RowBox[{"[", "irange", "]"}], "]"}], "[", 
               RowBox[{"[", "2", "]"}], "]"}]}], ";", "\[IndentingNewLine]", 
             RowBox[{"(*", 
              RowBox[{"set", " ", "lines", " ", "at", " ", "x", " ", "axis"}],
               "*)"}], "\[IndentingNewLine]", 
             RowBox[{"ymintmp", "=", 
              RowBox[{"hist1plotrange", "[", 
               RowBox[{"[", "3", "]"}], "]"}]}], ";", "\[IndentingNewLine]", 
             RowBox[{"Style", "[", 
              RowBox[{
               RowBox[{"Line", "[", 
                RowBox[{"{", 
                 RowBox[{
                  RowBox[{"{", 
                   RowBox[{"xmintmp", ",", "ymintmp"}], "}"}], ",", 
                  RowBox[{"{", 
                   RowBox[{"xmaxtmp", ",", "ymintmp"}], "}"}]}], " ", "}"}], 
                "]"}], ",", 
               RowBox[{"Darker", "[", 
                RowBox[{"Blue", ",", "0.3"}], "]"}]}], " ", "]"}]}], ",", 
            "\[IndentingNewLine]", 
            RowBox[{"{", 
             RowBox[{"irange", ",", 
              RowBox[{"Length", "[", "highlightrange", "]"}]}], "}"}]}], 
           "\[IndentingNewLine]", "]"}]}], ";", "\[IndentingNewLine]", 
         RowBox[{"highlightlines", "=", 
          RowBox[{"Prepend", "[", 
           RowBox[{"highlightlines", ",", "LineWidth"}], "]"}]}], ";", 
         "\[IndentingNewLine]", "\"\<dummy\>\""}]}], "\[IndentingNewLine]", 
       "]"}], ";", "\[IndentingNewLine]", "\[IndentingNewLine]", 
      RowBox[{"If", "[", "\n", 
       RowBox[{
        RowBox[{"plottype", "==", "2"}], ",", "\[IndentingNewLine]", 
        RowBox[{"(*", 
         RowBox[{"20171108", ":", " ", 
          RowBox[{
           RowBox[{"\[Sigma]", "/", "D"}], " ", "only", " ", "has", " ", 
           "posive", " ", "data"}]}], "*)"}], "\[IndentingNewLine]", 
        RowBox[{"(*", "\n", 
         RowBox[{
          RowBox[{"lineelement", "=", 
           RowBox[{"{", 
            RowBox[{
             RowBox[{"{", 
              RowBox[{
               RowBox[{"barseperator", "[", 
                RowBox[{"[", "2", "]"}], "]"}], ",", 
               RowBox[{
                RowBox[{"ToString", "[", 
                 RowBox[{"ColorSeperator", "[", 
                  RowBox[{"[", "3", "]"}], "]"}], " ", "]"}], "<>", 
                "\"\<%\>\""}], ",", "Blue"}], "}"}], ",", 
             RowBox[{"{", 
              RowBox[{
               RowBox[{"barseperator", "[", 
                RowBox[{"[", "3", "]"}], "]"}], ",", 
               RowBox[{
                RowBox[{"ToString", "[", 
                 RowBox[{"ColorSeperator", "[", 
                  RowBox[{"[", "2", "]"}], "]"}], " ", "]"}], "<>", 
                "\"\<%\>\""}], ",", "Blue"}], "}"}], ",", 
             RowBox[{"{", 
              RowBox[{
               RowBox[{"barseperator", "[", 
                RowBox[{"[", "4", "]"}], "]"}], ",", 
               RowBox[{
                RowBox[{"ToString", "[", 
                 RowBox[{"ColorSeperator", "[", 
                  RowBox[{"[", "1", "]"}], "]"}], " ", "]"}], "<>", 
                "\"\<%\>\""}], ",", "Blue"}], "}"}], ",", 
             RowBox[{"{", 
              RowBox[{
               RowBox[{"barseperator", "[", 
                RowBox[{"[", "5", "]"}], "]"}], ",", 
               RowBox[{
                RowBox[{"ToString", "[", 
                 RowBox[{"ColorSeperator", "[", 
                  RowBox[{"[", "1", "]"}], "]"}], " ", "]"}], "<>", 
                "\"\<%\>\""}], ",", "Blue"}], "}"}], ",", 
             RowBox[{"{", 
              RowBox[{
               RowBox[{"barseperator", "[", 
                RowBox[{"[", "6", "]"}], "]"}], ",", 
               RowBox[{
                RowBox[{"ToString", "[", 
                 RowBox[{"ColorSeperator", "[", 
                  RowBox[{"[", "2", "]"}], "]"}], " ", "]"}], "<>", 
                "\"\<%\>\""}], ",", "Blue"}], "}"}], ",", 
             RowBox[{"{", 
              RowBox[{
               RowBox[{"barseperator", "[", 
                RowBox[{"[", "7", "]"}], "]"}], ",", 
               RowBox[{
                RowBox[{"ToString", "[", 
                 RowBox[{"ColorSeperator", "[", 
                  RowBox[{"[", "3", "]"}], "]"}], " ", "]"}], "<>", 
                "\"\<%\>\""}], ",", "Blue"}], "}"}]}], "}"}]}], ";"}], 
         "\[IndentingNewLine]", "*)"}], "\[IndentingNewLine]", 
        RowBox[{
         RowBox[{"lineelement", "=", 
          RowBox[{"{", 
           RowBox[{
            RowBox[{"{", 
             RowBox[{
              RowBox[{"-", "0.1"}], ",", "\"\<\>\"", ",", 
              RowBox[{"Darker", "[", 
               RowBox[{"Red", ",", "0.3"}], "]"}]}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"0.1", ",", "\"\<\>\"", ",", 
              RowBox[{"Darker", "[", 
               RowBox[{"Red", ",", "0.3"}], "]"}]}], "}"}]}], "}"}]}], ";", 
         "\n", 
         RowBox[{"lineelement2", "=", 
          RowBox[{"(*", 
           RowBox[{"Take", "[", 
            RowBox[{"lineelement", ",", 
             RowBox[{"-", "3"}]}], "]"}], "*)"}], 
          RowBox[{"{", 
           RowBox[{"{", 
            RowBox[{"0.1", ",", "\"\<\>\"", ",", 
             RowBox[{"Darker", "[", 
              RowBox[{"Red", ",", "0.3"}], "]"}]}], "}"}], "}"}]}], ";"}]}], 
       "\n", "]"}], ";", "\n", 
      RowBox[{"(*", 
       RowBox[{
        RowBox[{"if", " ", "correlation", " ", "histogram"}], ",", " ", 
        RowBox[{
         RowBox[{"don", "'"}], "t", " ", "need", " ", "show", " ", "lines", 
         " ", "to", " ", "represent", " ", "the", " ", "%", " ", "of", " ", 
         "data"}]}], " ", "*)"}], "\n", 
      RowBox[{"If", "[", " ", 
       RowBox[{
        RowBox[{
         RowBox[{"plottype", "==", "3"}], " ", "||", " ", 
         RowBox[{"plottype", "==", "4"}], " ", "||", " ", 
         RowBox[{"plottype", "==", "5"}]}], ",", 
        RowBox[{
         RowBox[{"lineelement", "=", 
          RowBox[{"{", 
           RowBox[{
            RowBox[{"{", 
             RowBox[{
              RowBox[{"-", "1"}], ",", "\"\<\>\"", ",", 
              RowBox[{"Darker", "[", 
               RowBox[{"Red", ",", "0.3"}], "]"}]}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"1", ",", "\"\<\>\"", ",", 
              RowBox[{"Darker", "[", 
               RowBox[{"Red", ",", "0.3"}], "]"}]}], "}"}]}], "}"}]}], ";", 
         RowBox[{"lineelement2", "=", 
          RowBox[{"{", 
           RowBox[{"{", 
            RowBox[{"1", ",", "\"\<\>\"", ",", 
             RowBox[{"Darker", "[", 
              RowBox[{"Red", ",", "0.3"}], "]"}]}], "}"}], "}"}]}], ";", 
         "\"\<dummy\>\""}]}], "]"}], ";", "\n", 
      RowBox[{"If", "[", " ", 
       RowBox[{
        RowBox[{"plottype", "==", "6"}], ",", 
        RowBox[{
         RowBox[{"lineelement", "=", 
          RowBox[{"{", 
           RowBox[{
            RowBox[{"{", 
             RowBox[{
              RowBox[{"-", "0.7"}], ",", "\"\<\>\"", ",", 
              RowBox[{"Darker", "[", 
               RowBox[{"Red", ",", "0.3"}], "]"}]}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"0.7", ",", "\"\<\>\"", ",", 
              RowBox[{"Darker", "[", 
               RowBox[{"Red", ",", "0.3"}], "]"}]}], "}"}]}], "}"}]}], ";", 
         RowBox[{"lineelement2", "=", 
          RowBox[{"{", 
           RowBox[{"{", 
            RowBox[{"0.7", ",", "\"\<\>\"", ",", 
             RowBox[{"Darker", "[", 
              RowBox[{"Red", ",", "0.3"}], "]"}]}], "}"}], "}"}]}], ";", 
         "\"\<dummy\>\""}]}], "]"}], ";", "\[IndentingNewLine]", 
      "\[IndentingNewLine]", 
      RowBox[{"(*", 
       RowBox[{"20171106", ":", " ", 
        RowBox[{
        "bin", " ", "line", " ", "in", " ", "histogram", " ", "for", " ", 
         "highlight", " ", "mode"}]}], "*)"}], 
      RowBox[{"(*", 
       RowBox[{"20171108", ":", " ", 
        RowBox[{
         RowBox[{"don", "'"}], "t", " ", "add", " ", "it", " ", 
         "presently"}]}], "*)"}], "\[IndentingNewLine]", 
      RowBox[{"(*", "\[IndentingNewLine]", 
       RowBox[{
        RowBox[{"If", "[", "\[IndentingNewLine]", 
         RowBox[{
          RowBox[{
           RowBox[{
            RowBox[{"HighlightMode", "[", 
             RowBox[{"[", "plottype", "]"}], "]"}], "\[Equal]", "1"}], " ", "||",
            " ", 
           RowBox[{
            RowBox[{"HighlightMode", "[", 
             RowBox[{"[", "plottype", "]"}], "]"}], "\[Equal]", "2"}]}], ",", 
          "\[IndentingNewLine]", 
          RowBox[{
           RowBox[{"lineelement", "=", 
            RowBox[{"{", 
             RowBox[{
              RowBox[{"{", 
               RowBox[{
                RowBox[{"-", 
                 RowBox[{"highlightrange", "[", 
                  RowBox[{"[", "1", "]"}], "]"}]}], ",", "\"\<\>\"", ",", 
                "Red"}], "}"}], ",", 
              RowBox[{"{", 
               RowBox[{
                RowBox[{"-", 
                 RowBox[{"highlightrange", "[", 
                  RowBox[{"[", "2", "]"}], "]"}]}], ",", "\"\<\>\"", ",", 
                "Red"}], "}"}], ",", 
              RowBox[{"{", 
               RowBox[{
                RowBox[{"highlightrange", "[", 
                 RowBox[{"[", "1", "]"}], "]"}], ",", "\"\<\>\"", ",", 
                "Red"}], "}"}], ",", 
              RowBox[{"{", 
               RowBox[{
                RowBox[{"highlightrange", "[", 
                 RowBox[{"[", "2", "]"}], "]"}], ",", "\"\<\>\"", ",", 
                "Red"}], "}"}]}], "}"}]}], ";", "\[IndentingNewLine]", 
           RowBox[{"lineelement2", "=", 
            RowBox[{"{", 
             RowBox[{
              RowBox[{"{", 
               RowBox[{
                RowBox[{"highlightrange", "[", 
                 RowBox[{"[", "1", "]"}], "]"}], ",", "\"\<\>\"", ",", 
                "Red"}], "}"}], ",", 
              RowBox[{"{", 
               RowBox[{
                RowBox[{"highlightrange", "[", 
                 RowBox[{"[", "2", "]"}], "]"}], ",", "\"\<\>\"", ",", 
                "Red"}], "}"}]}], "}"}]}], ";", " ", "\[IndentingNewLine]", 
           RowBox[{"binset", "=", 
            RowBox[{"{", 
             RowBox[{"Table", "[", 
              RowBox[{
               RowBox[{"i", "*", 
                RowBox[{
                 RowBox[{"(", 
                  RowBox[{
                   RowBox[{"highlightrange", "[", 
                    RowBox[{"[", "2", "]"}], "]"}], "-", 
                   RowBox[{"highlightrange", "[", 
                    RowBox[{"[", "1", "]"}], "]"}]}], ")"}], "/", "20.0"}]}], 
               ",", 
               RowBox[{"{", 
                RowBox[{"i", ",", 
                 RowBox[{"-", "100"}], ",", "100"}], "}"}]}], "]"}], 
             "}"}]}]}]}], "\[IndentingNewLine]", 
         RowBox[{"(*", "\[IndentingNewLine]", 
          RowBox[{
           RowBox[{"binset", "=", 
            RowBox[{"{", 
             RowBox[{"Table", "[", 
              RowBox[{
               RowBox[{"i", "*", 
                RowBox[{
                 RowBox[{"barseperator", "[", 
                  RowBox[{"[", 
                   RowBox[{
                    RowBox[{
                    RowBox[{"Length", "[", "barseperator", "]"}], "/", "2"}], 
                    "+", "1"}], "]"}], "]"}], "/", "10.0"}]}], ",", 
               RowBox[{"{", 
                RowBox[{"i", ",", 
                 RowBox[{"-", "100"}], ",", "100"}], "}"}]}], "]"}], "}"}]}], 
           ";"}], 
          RowBox[{"(*", "test", "*)"}], "\[IndentingNewLine]", "*)"}], 
         "\[IndentingNewLine]", "]"}], ";"}], "\[IndentingNewLine]", "*)"}], 
      "\[IndentingNewLine]", 
      RowBox[{"(*", 
       RowBox[{
       "20171111", " ", "set", " ", "lines", " ", "for", " ", "y", " ", 
        "direction"}], "*)"}], "\[IndentingNewLine]", 
      RowBox[{"If", "[", "\n", " ", 
       RowBox[{
        RowBox[{
         RowBox[{"plottype", "==", "2"}], " ", "||", " ", 
         RowBox[{"plottype", "==", "3"}], " ", "||", " ", 
         RowBox[{"plottype", "==", "4"}], " ", "||", " ", 
         RowBox[{"plottype", "==", "5"}], " ", "||", " ", 
         RowBox[{"plottype", "\[Equal]", "6"}]}], ",", "\[IndentingNewLine]", 
        
        RowBox[{
         RowBox[{"hist1standardlines", "=", 
          RowBox[{"setxlineinplot2", "[", 
           RowBox[{
            RowBox[{
             RowBox[{"Flatten", "[", "pdfcorr", "]"}], "/.", 
             RowBox[{
              RowBox[{"LF1", "[", "a__", "]"}], ":>", 
              RowBox[{
               RowBox[{"{", "a", "}"}], "[", 
               RowBox[{"[", "3", "]"}], "]"}]}]}], ",", "lineelement", ",", 
            RowBox[{"{", 
             RowBox[{
              RowBox[{"hist1plotrange", "[", 
               RowBox[{"[", "3", "]"}], "]"}], ",", 
              RowBox[{"hist1plotrange", "[", 
               RowBox[{"[", "4", "]"}], "]"}]}], "}"}]}], "]"}]}], ";", 
         "\[IndentingNewLine]", 
         RowBox[{"hist2standardlines", "=", 
          RowBox[{"setxlineinplot2", "[", 
           RowBox[{
            RowBox[{
             RowBox[{"Flatten", "[", "pdfcorr", "]"}], "/.", 
             RowBox[{
              RowBox[{"LF1", "[", "a__", "]"}], "\[RuleDelayed]", 
              RowBox[{"Abs", "[", 
               RowBox[{
                RowBox[{"{", "a", "}"}], "[", 
                RowBox[{"[", "3", "]"}], "]"}], " ", "]"}]}]}], ",", 
            "lineelement2", ",", 
            RowBox[{"{", 
             RowBox[{
              RowBox[{"hist2plotrange", "[", 
               RowBox[{"[", "3", "]"}], "]"}], ",", 
              RowBox[{"hist2plotrange", "[", 
               RowBox[{"[", "4", "]"}], "]"}]}], "}"}]}], "]"}]}], ";", 
         "\[IndentingNewLine]", 
         RowBox[{"hist1standardlines", "=", 
          RowBox[{"Prepend", "[", 
           RowBox[{"hist1standardlines", ",", "LineWidth"}], "]"}]}], ";", 
         "\[IndentingNewLine]", 
         RowBox[{"hist2standardlines", "=", 
          RowBox[{"Prepend", "[", 
           RowBox[{"hist2standardlines", ",", "LineWidth"}], "]"}]}], ";", 
         "\[IndentingNewLine]", "\"\<dummy\>\""}]}], "\[IndentingNewLine]", 
       "]"}], ";", "\[IndentingNewLine]", 
      RowBox[{"(*", 
       RowBox[{
       "===", "===", "===", "===", "===", "===", "===", "===", "===", "===", "===",
         "===", "===", "===", "===", "===", "===", "===", "===", "===", "===",
         "===", "===", "===", "===", "===", "===", "===", "===", 
        RowBox[{"==", 
         RowBox[{
         "===", "===", "===", "===", "===", "===", "===", "===", "===", "===",
           "===", "==="}]}]}], "*)"}], "\[IndentingNewLine]", 
      RowBox[{"(*", 
       RowBox[{
        RowBox[{"2", 
         RowBox[{"DxQ", ":", " ", 
          RowBox[{
           RowBox[{"generate", " ", "plots"}], "===", "===", "===", "===", "===",
            "===", "===", "===", "===", "===", "===", 
           RowBox[{"==", 
            RowBox[{"===", "===", "===", "===", "===", "===", 
             RowBox[{"==", 
              RowBox[{"===", "===", "===", "===", "=="}]}]}]}]}]}]}], "=", 
        RowBox[{
         RowBox[{
         "===", "===", "===", "===", "===", "===", "===", "===", "===", "===",
           "===", "==="}], "=", "="}]}], "*)"}], "\[IndentingNewLine]", 
      RowBox[{"(*", 
       RowBox[{
        RowBox[{
        "===", "===", "===", "===", "===", "===", "===", "===", "===", "===", 
         "===", "===", "===", "===", "===", "===", "===", "===", "===", "===",
          "===", "===", "===", "===", "==="}], "=", 
        RowBox[{"===", "===", "===", "===", 
         RowBox[{"==", "=="}], "===", "===", "===", "===", "===", "===", "===",
          "===", "===", "===", "==="}]}], "*)"}], "\[IndentingNewLine]", 
      "\[IndentingNewLine]", 
      RowBox[{"stretchx", "=", "1"}], ";", 
      RowBox[{"stretchy", "=", "1"}], ";", "\[IndentingNewLine]", 
      "\[IndentingNewLine]", 
      RowBox[{"If", "[", 
       RowBox[{
        RowBox[{"PlotTitleBool", "==", "False"}], ",", 
        RowBox[{"title", "=", "\"\<\>\""}]}], "]"}], ";", "\n", 
      RowBox[{"If", "[", "\n", " ", 
       RowBox[{
        RowBox[{
         RowBox[{"plottype", "==", "2"}], " ", "||", " ", 
         RowBox[{"plottype", "==", "3"}], " ", "||", " ", 
         RowBox[{"plottype", "==", "4"}], " ", "||", " ", 
         RowBox[{"plottype", "==", "5"}], "  ", "||", " ", 
         RowBox[{"plottype", "==", "6"}]}], ",", "\n", 
        RowBox[{
         RowBox[{"xQplotcorr", "=", 
          RowBox[{"PDFCorrelationplot8", "[", 
           RowBox[{
           "pdfcorr", ",", "title", ",", "xtitle", ",", "ytitle", ",", 
            "plotrange", ",", "stretchx", ",", "stretchy", ",", "barlegend", 
            ",", 
            RowBox[{"(*", 
             RowBox[{"barseperator", ",", "legendlabel", ","}], "*)"}], 
            RowBox[{"(*", 
             RowBox[{"Append", "[", 
              RowBox[{"epilogxQ", ",", "cuttext"}], "]"}], "*)"}], "epilogxQ",
             ",", "highlightrange", ",", "unhighlightsize"}], " ", "]"}]}], 
         ";", "\n", "\"\<dummy\>\""}]}], "\n", "]"}], ";", 
      "\[IndentingNewLine]", "\[IndentingNewLine]", 
      RowBox[{"(*", 
       RowBox[{
       "===", "===", "===", "===", "===", "===", "===", "===", "===", "===", "===",
         "===", "===", "===", "===", "===", "===", "===", "===", "===", "===",
         "===", "===", "===", "===", "===", "===", "===", "===", 
        RowBox[{"==", 
         RowBox[{
         "===", "===", "===", "===", "===", "===", "===", "===", "===", "===",
           "===", "==="}]}]}], "*)"}], "\[IndentingNewLine]", 
      RowBox[{"(*", 
       RowBox[{
        RowBox[{"Histogram", ":", " ", 
         RowBox[{
          RowBox[{"generate", " ", "plots"}], "===", "===", "===", "===", "===",
           "===", "===", "===", "===", "===", "===", "===", "===", "===", "===",
           "===", "===", "===", "===", "===", "===", 
          RowBox[{"==", "=="}], "===", "===", "===", "===", "===", "===", "===",
           "===", "===", "===", "===", "===", "==="}]}], "=", "="}], "*)"}], 
      "\[IndentingNewLine]", 
      RowBox[{"(*", 
       RowBox[{
        RowBox[{
        "===", "===", "===", "===", "===", "===", "===", "===", "===", "===", 
         "===", "===", "===", "===", "===", "===", "===", "===", "===", "===",
          "===", "===", "===", "===", "==="}], "=", 
        RowBox[{"===", "===", "===", "===", 
         RowBox[{"==", "=="}], "===", "===", "===", "===", "===", "===", "===",
          "===", "===", "===", "==="}]}], "*)"}], "\[IndentingNewLine]", 
      RowBox[{"(*", 
       RowBox[{"20171111", " ", "new", " ", "histplot", " ", "function"}], 
       "*)"}], "\[IndentingNewLine]", 
      RowBox[{"hist1epilogtext", "=", 
       RowBox[{"{", 
        RowBox[{"hist1standardlines", ",", "highlightlines", ",", "Npttext"}],
         "}"}]}], ";", "\[IndentingNewLine]", 
      RowBox[{"hist2epilogtext", "=", 
       RowBox[{"{", 
        RowBox[{"hist2standardlines", ",", "highlightlines", ",", "Npttext"}],
         "}"}]}], ";", "\[IndentingNewLine]", 
      RowBox[{"(*", 
       RowBox[{
        RowBox[{
        "20171111", " ", "if", " ", "xrange", " ", "of", " ", "histograms", 
         " ", "are", " ", "fixed"}], ",", " ", 
        RowBox[{"then", " ", "we", " ", 
         RowBox[{"don", "'"}], "t", " ", "need", " ", "to", " ", "show", " ", 
         "red", " ", "lines", " ", "because", " ", "red", " ", "lines", " ", 
         "are", " ", "one", " ", "the", " ", "boarder", " ", "of", " ", "the",
          " ", "figure"}]}], "*)"}], "\[IndentingNewLine]", 
      RowBox[{"(*", "\[IndentingNewLine]", 
       RowBox[{
        RowBox[{"If", "[", "\[IndentingNewLine]", 
         RowBox[{
          RowBox[{
           RowBox[{"(", 
            RowBox[{"HistAutoFixXrangeBool", "==", "True"}], ")"}], " ", "&&",
            " ", 
           RowBox[{"(", " ", 
            RowBox[{
             RowBox[{"plottype", "==", "2"}], " ", "||", " ", 
             RowBox[{"plottype", "==", "3"}], " ", "||", " ", 
             RowBox[{"plottype", "==", "4"}], " ", "||", " ", 
             RowBox[{"plottype", "==", "5"}]}], ")"}]}], ",", 
          "\[IndentingNewLine]", 
          RowBox[{
           RowBox[{"hist1epilogtext", "=", 
            RowBox[{"{", 
             RowBox[{"highlightlines", ",", "Npttext"}], "}"}]}], ";", 
           "\[IndentingNewLine]", 
           RowBox[{"hist2epilogtext", "=", 
            RowBox[{"{", 
             RowBox[{"highlightlines", ",", "Npttext"}], "}"}]}], ";", 
           "\[IndentingNewLine]", "\"\<dummy\>\""}]}], "\[IndentingNewLine]", 
         "]"}], ";"}], "\[IndentingNewLine]", "*)"}], "\[IndentingNewLine]", 
      RowBox[{"(*", 
       RowBox[{"20171111", ":", " ", 
        RowBox[{
        "check", " ", "whether", " ", "the", " ", "red", " ", "lines", " ", 
         "are", " ", "on", " ", "the", " ", "boarder", " ", "of", " ", 
         RowBox[{"(", 
          RowBox[{"or", " ", "in", " ", "the"}], ")"}], " ", "figure", " ", 
         "frames"}]}], "*)"}], "\[IndentingNewLine]", 
      RowBox[{"(*", 
       RowBox[{
        RowBox[{
        "if", " ", "it", " ", "is", " ", "on", " ", "the", " ", "boarder", 
         " ", "or", " ", "larger", " ", "than", " ", "the", " ", "boarder"}], 
        ",", " ", 
        RowBox[{
         RowBox[{"don", "'"}], "t", " ", "draw", " ", "it"}]}], "*)"}], 
      "\[IndentingNewLine]", 
      RowBox[{"If", "[", "\[IndentingNewLine]", " ", 
       RowBox[{
        RowBox[{"plottype", "==", "2"}], ",", "\[IndentingNewLine]", 
        RowBox[{
         RowBox[{"If", "[", " ", 
          RowBox[{
           RowBox[{
            RowBox[{
             RowBox[{"hist1plotrange", "[", 
              RowBox[{"[", "2", "]"}], "]"}], "<=", "0.1"}], " ", "&&", "  ", 
            
            RowBox[{
             RowBox[{"hist1plotrange", "[", 
              RowBox[{"[", "1", "]"}], "]"}], ">=", 
             RowBox[{"-", "0.1"}]}]}], ",", 
           RowBox[{"hist1epilogtext", "=", 
            RowBox[{"{", 
             RowBox[{"highlightlines", ",", "Npttext"}], "}"}]}]}], "]"}], 
         ";", "\[IndentingNewLine]", 
         RowBox[{"If", "[", " ", 
          RowBox[{
           RowBox[{
            RowBox[{"hist2plotrange", "[", 
             RowBox[{"[", "2", "]"}], "]"}], "<=", "0.1"}], ",", 
           RowBox[{"hist2epilogtext", "=", 
            RowBox[{"{", 
             RowBox[{"highlightlines", ",", "Npttext"}], "}"}]}]}], "]"}], 
         ";", "\[IndentingNewLine]", "\"\<dummy\>\""}]}], 
       "\[IndentingNewLine]", "]"}], ";", "\[IndentingNewLine]", 
      RowBox[{"If", "[", "\[IndentingNewLine]", 
       RowBox[{
        RowBox[{"(", " ", 
         RowBox[{
          RowBox[{"plottype", "==", "3"}], " ", "||", " ", 
          RowBox[{"plottype", "==", "4"}], " ", "||", " ", 
          RowBox[{"plottype", "==", "5"}]}], ")"}], ",", 
        "\[IndentingNewLine]", 
        RowBox[{
         RowBox[{"If", "[", " ", 
          RowBox[{
           RowBox[{
            RowBox[{
             RowBox[{"hist1plotrange", "[", 
              RowBox[{"[", "2", "]"}], "]"}], "<=", "1.0"}], " ", "&&", "  ", 
            
            RowBox[{
             RowBox[{"hist1plotrange", "[", 
              RowBox[{"[", "1", "]"}], "]"}], ">=", 
             RowBox[{"-", "1.0"}]}]}], ",", 
           RowBox[{"hist1epilogtext", "=", 
            RowBox[{"{", 
             RowBox[{"highlightlines", ",", "Npttext"}], "}"}]}]}], "]"}], 
         ";", "\[IndentingNewLine]", 
         RowBox[{"If", "[", " ", 
          RowBox[{
           RowBox[{
            RowBox[{"hist2plotrange", "[", 
             RowBox[{"[", "2", "]"}], "]"}], "<=", "1.0"}], ",", 
           RowBox[{"hist2epilogtext", "=", 
            RowBox[{"{", 
             RowBox[{"highlightlines", ",", "Npttext"}], "}"}]}]}], "]"}], 
         ";", "\[IndentingNewLine]", "\"\<dummy\>\""}]}], 
       "\[IndentingNewLine]", "]"}], ";", "\[IndentingNewLine]", 
      "\[IndentingNewLine]", "\[IndentingNewLine]", 
      RowBox[{"If", "[", "\n", " ", 
       RowBox[{
        RowBox[{
         RowBox[{"plottype", "==", "2"}], " ", "||", " ", 
         RowBox[{"plottype", "==", "3"}], " ", "||", " ", 
         RowBox[{"plottype", "==", "4"}], " ", "||", " ", 
         RowBox[{"plottype", "==", "5"}], "  ", "||", " ", 
         RowBox[{"plottype", "==", "6"}]}], ",", "\n", 
        RowBox[{"(*", 
         RowBox[{"hist1", ":", " ", 
          RowBox[{"data", " ", "with", " ", "no", " ", "absolute"}]}], "*)"}],
         "\[IndentingNewLine]", 
        RowBox[{"(*", 
         RowBox[{"20171111", ":", " ", 
          RowBox[{"use", " ", "new", " ", "histplot5", " ", "function"}]}], 
         "*)"}], "\[IndentingNewLine]", 
        RowBox[{"(*", "\n", 
         RowBox[{"(*", 
          RowBox[{"20170515", ":", " ", 
           RowBox[{
           "temporary", " ", "use", " ", "data", " ", "of", " ", "all", " ", 
            "groups", " ", "to", " ", "draw", " ", "the", " ", "histogram", 
            " ", "in", " ", "one", " ", "color"}]}], "*)"}], "\n", 
         RowBox[{
          RowBox[{"histplotcorr1", "=", 
           RowBox[{"histplot4", "[", 
            RowBox[{
             RowBox[{
              RowBox[{"Flatten", "[", "pdfcorr", "]"}], "/.", 
              RowBox[{
               RowBox[{"LF1", "[", "a__", "]"}], ":>", 
               RowBox[{
                RowBox[{"{", "a", "}"}], "[", 
                RowBox[{"[", "3", "]"}], "]"}]}]}], ",", "histtitle", ",", 
             "xhisttitle", ",", "yhisttitle", ",", "binset", ",", 
             "lineelement", ",", "hist1plotrangex", ",", "Hist1figureNbin"}], 
            "]"}]}], ";", "\n", 
          RowBox[{"(*", 
           RowBox[{"hist1", ":", " ", 
            RowBox[{"data", " ", "with", " ", "absolute", 
             RowBox[{"(", 
              RowBox[{"|", "data", "|"}], ")"}]}]}], "*)"}], "\n", 
          RowBox[{"histplotcorr2", "=", 
           RowBox[{"histplot4", "[", 
            RowBox[{
             RowBox[{
              RowBox[{"Flatten", "[", "pdfcorr", "]"}], "/.", 
              RowBox[{
               RowBox[{"LF1", "[", "a__", "]"}], ":>", 
               RowBox[{"Abs", "[", 
                RowBox[{
                 RowBox[{"{", "a", "}"}], "[", 
                 RowBox[{"[", "3", "]"}], "]"}], " ", "]"}]}]}], ",", 
             "histabstitle", ",", "xhistabstitle", ",", "yhistabstitle", ",", 
             "binset", ",", 
             RowBox[{"(*", 
              RowBox[{"Take", "[", 
               RowBox[{"lineelement", ",", 
                RowBox[{"-", "3"}]}], "]"}], "*)"}], "lineelement2", ",", 
             "hist2plotrangex", ",", "Hist1figureNbin"}], "]"}]}], ";"}], 
         "\[IndentingNewLine]", "*)"}], "\[IndentingNewLine]", 
        RowBox[{
         RowBox[{"histplotcorr1", "=", 
          RowBox[{"histplot5", "[", 
           RowBox[{
            RowBox[{
             RowBox[{"Flatten", "[", "pdfcorr", "]"}], "/.", 
             RowBox[{
              RowBox[{"LF1", "[", "a__", "]"}], ":>", 
              RowBox[{
               RowBox[{"{", "a", "}"}], "[", 
               RowBox[{"[", "3", "]"}], "]"}]}]}], ",", "histtitle", ",", 
            "xhisttitle", ",", "yhisttitle", ",", "hist1plotrange", ",", 
            "BinWidth", ",", "hist1epilogtext"}], "]"}]}], ";", 
         "\[IndentingNewLine]", 
         RowBox[{"histplotcorr2", "=", 
          RowBox[{"histplot5", "[", 
           RowBox[{
            RowBox[{
             RowBox[{"Flatten", "[", "pdfcorr", "]"}], "/.", 
             RowBox[{
              RowBox[{"LF1", "[", "a__", "]"}], ":>", 
              RowBox[{"Abs", "[", 
               RowBox[{
                RowBox[{"{", "a", "}"}], "[", 
                RowBox[{"[", "3", "]"}], "]"}], " ", "]"}]}]}], ",", 
            "histabstitle", ",", "xhistabstitle", ",", "yhistabstitle", ",", 
            "hist2plotrange", ",", "BinWidth", ",", "hist2epilogtext"}], 
           "]"}]}], ";", "\n", "\"\<dummy\>\""}]}], "\n", "]"}], ";", 
      "\[IndentingNewLine]", "\[IndentingNewLine]", 
      RowBox[{"(*", 
       RowBox[{
       "===", "===", "===", "===", "===", "===", "===", "===", "===", "===", "===",
         "===", "===", "===", "===", "===", "===", "===", "===", "===", "===",
         "===", "===", "===", "===", "===", "===", "===", "===", 
        RowBox[{"==", 
         RowBox[{
         "===", "===", "===", "===", "===", "===", "===", "===", "===", "===",
           "===", "==="}]}]}], "*)"}], "\[IndentingNewLine]", 
      RowBox[{"(*", 
       RowBox[{
        RowBox[{
         RowBox[{"plot", " ", "type", " ", "1"}], ":", " ", 
         RowBox[{
          RowBox[{"generate", " ", "plots"}], "===", "===", "===", "===", "===",
           "===", "===", "===", "===", "===", "===", "===", "===", "===", "===", 
          RowBox[{"==", 
           RowBox[{"===", "===", "===", "===", 
            RowBox[{"==", 
             RowBox[{
             "===", "===", "===", "===", "===", "===", "===", "===", "===", "===",
               "===", "===", "===", "===", "==="}]}]}]}]}]}], "=", "="}], 
       "*)"}], "\[IndentingNewLine]", 
      RowBox[{"(*", 
       RowBox[{
        RowBox[{
        "===", "===", "===", "===", "===", "===", "===", "===", "===", "===", 
         "===", "===", "===", "===", "===", "===", "===", "===", "===", "===",
          "===", "===", "===", "===", "==="}], "=", 
        RowBox[{"===", "===", "===", "===", 
         RowBox[{"==", "=="}], "===", "===", "===", "===", "===", "===", "===",
          "===", "===", "===", "==="}]}], "*)"}], "\[IndentingNewLine]", 
      "\[IndentingNewLine]", 
      RowBox[{"If", "[", "\n", " ", 
       RowBox[{
        RowBox[{"plottype", "==", "1"}], ",", "\n", 
        RowBox[{"(*", "plot1", "*)"}], "\n", "\n", 
        RowBox[{
         RowBox[{"expttype", "=", "\"\<multi\>\""}], ";", "\n", 
         RowBox[{"(*", 
          RowBox[{
           RowBox[{"20170515", " ", "groups", " ", "of", " ", "data"}], ",", 
           " ", 
           RowBox[{
           "legend", " ", "is", " ", "exptids", " ", "in", " ", "all", " ", 
            "groups"}], ",", " ", 
           RowBox[{"using", " ", "Flatten"}], ",", " ", 
           RowBox[{
           "PDFname", " ", "should", " ", "be", " ", "took", " ", "cared"}]}],
           "*)"}], "\n", 
         RowBox[{"myplotsetting", "=", 
          RowBox[{"setplotsetting", "[", 
           RowBox[{
            RowBox[{"Flatten", "[", 
             RowBox[{"corrfxQdtaobsclassin", ",", "1"}], "]"}], ",", 
            RowBox[{"exptlist", "//", "Flatten"}], ",", "expttype", ",", "1", 
            ",", "\"\<test\>\"", ",", "\"\<test\>\""}], "]"}]}], ";", "\n", 
         RowBox[{"imgsize", "=", 
          RowBox[{"myplotsetting", "[", 
           RowBox[{"[", "\"\<imgsize\>\"", "]"}], "]"}]}], ";", "\n", 
         RowBox[{"title", "=", 
          RowBox[{"myplotsetting", "[", 
           RowBox[{"[", "\"\<title\>\"", "]"}], "]"}]}], ";", "\n", 
         RowBox[{"xtitle", "=", 
          RowBox[{"myplotsetting", "[", 
           RowBox[{"[", "\"\<xtitle\>\"", "]"}], "]"}]}], ";", "\n", 
         RowBox[{"ytitle", "=", 
          RowBox[{"myplotsetting", "[", 
           RowBox[{"[", "\"\<ytitle\>\"", "]"}], "]"}]}], ";", "\n", 
         RowBox[{"lgdlabel", "=", 
          RowBox[{"myplotsetting", "[", 
           RowBox[{"[", "\"\<lgdlabel\>\"", "]"}], "]"}]}], ";", "\n", 
         RowBox[{"xrange", "=", 
          RowBox[{"myplotsetting", "[", 
           RowBox[{"[", "\"\<xrange\>\"", "]"}], "]"}]}], ";", "\n", 
         RowBox[{"yrange", "=", 
          RowBox[{"myplotsetting", "[", 
           RowBox[{"[", "\"\<yrange\>\"", "]"}], "]"}]}], ";", "\n", 
         RowBox[{"epilog", "=", 
          RowBox[{"myplotsetting", "[", 
           RowBox[{"[", "\"\<epilog\>\"", "]"}], "]"}]}], ";", "\n", 
         RowBox[{"titlesize", "=", 
          RowBox[{"myplotsetting", "[", 
           RowBox[{"[", "\"\<titlesize\>\"", "]"}], "]"}]}], ";", "\n", 
         RowBox[{"xtitlesize", "=", 
          RowBox[{"myplotsetting", "[", 
           RowBox[{"[", "\"\<xtitlesize\>\"", "]"}], "]"}]}], ";", "\n", 
         RowBox[{"ytitlesize", "=", 
          RowBox[{"myplotsetting", "[", 
           RowBox[{"[", "\"\<ytitlesize\>\"", "]"}], "]"}]}], ";", "\n", 
         RowBox[{"lgdlabelsize", "=", 
          RowBox[{"myplotsetting", "[", 
           RowBox[{"[", "\"\<lgdlabelsize\>\"", "]"}], "]"}]}], ";", "\n", 
         RowBox[{"ticklablesize", "=", 
          RowBox[{"myplotsetting", "[", 
           RowBox[{"[", "\"\<ticklablesize\>\"", "]"}], "]"}]}], ";", "\n", 
         "\n", 
         RowBox[{"myplotstyle", "=", 
          RowBox[{"myplotsetting", "[", 
           RowBox[{"[", "\"\<plotstyle\>\"", "]"}], "]"}]}], ";", "\n", 
         RowBox[{"myMarker", "=", 
          RowBox[{"myplotsetting", "[", 
           RowBox[{"[", "\"\<marker\>\"", "]"}], "]"}]}], ";", "\n", "\n", 
         RowBox[{"title", "=", 
          RowBox[{
          "\"\<Experimental data in \>\"", "<>", "PDFname", "<>", 
           "\"\< analysis\>\""}]}], ";", "\n", 
         RowBox[{"lgdpos", "=", 
          RowBox[{"{", 
           RowBox[{"0.25", ",", "0.725"}], "}"}]}], ";", "\n", 
         RowBox[{"xyrangeplot1", "=", "plotrange"}], ";", 
         RowBox[{"(*", 
          RowBox[{
           RowBox[{"20170307", " ", "change", " ", 
            RowBox[{"it", "'"}], "s", " ", "name"}], ",", " ", 
           RowBox[{"avoid", " ", "duplicate"}]}], "*)"}], "\n", 
         RowBox[{"(*", 
          RowBox[{"20170515", ":", " ", 
           RowBox[{
           "consider", " ", "expts", " ", "in", " ", "all", " ", "groups"}]}],
           "*)"}], "\n", 
         RowBox[{"(*", 
          RowBox[{
           RowBox[{"20170515", ":", " ", 
            RowBox[{
            "consider", " ", "expts", " ", "of", " ", "all", " ", 
             "groups"}]}], ",", " ", 
           RowBox[{"so", " ", "use", " ", 
            RowBox[{"Flatten", "[", 
             RowBox[{"data", ",", "1"}], "]"}]}]}], " ", "*)"}], "\n", "\n", 
         RowBox[{"(*", "\n", 
          RowBox[{
           RowBox[{"Print", "[", 
            RowBox[{"\"\<dim of p1: \>\"", ",", 
             RowBox[{"Dimensions", "[", "pdfcorr", "]"}]}], " ", "]"}], ";", 
           "\n", 
           RowBox[{"Print", "[", 
            RowBox[{"\"\<dim of p1: \>\"", ",", 
             RowBox[{"Dimensions", "[", 
              RowBox[{"Flatten", "[", 
               RowBox[{"pdfcorr", ",", "1"}], "]"}], " ", "]"}]}], "]"}], ";",
            "\n", 
           RowBox[{"Print", "[", 
            RowBox[{"\"\<data of p1: \>\"", ",", 
             RowBox[{
              RowBox[{"Flatten", "[", 
               RowBox[{"pdfcorr", ",", "1"}], "]"}], "[", 
              RowBox[{"[", "1", "]"}], "]"}]}], " ", "]"}], ";", "\n", 
           RowBox[{"Print", "[", 
            RowBox[{"\"\<data of p1: \>\"", ",", 
             RowBox[{
              RowBox[{"Flatten", "[", 
               RowBox[{"pdfcorr", ",", "1"}], "]"}], "[", 
              RowBox[{"[", "2", "]"}], "]"}]}], " ", "]"}], ";", "\n", 
           RowBox[{"Print", "[", 
            RowBox[{"\"\<data of p1: \>\"", ",", 
             RowBox[{
              RowBox[{"Flatten", "[", 
               RowBox[{"pdfcorr", ",", "1"}], "]"}], "[", 
              RowBox[{"[", "3", "]"}], "]"}]}], " ", "]"}], ";", "\n", 
           RowBox[{"Print", "[", 
            RowBox[{"\"\<data of p1: \>\"", ",", 
             RowBox[{
              RowBox[{"Flatten", "[", 
               RowBox[{"pdfcorr", ",", "1"}], "]"}], "[", 
              RowBox[{"[", "4", "]"}], "]"}]}], " ", "]"}], ";", "\n", 
           RowBox[{"PDFloglogplot", "[", 
            RowBox[{
             RowBox[{
              RowBox[{"Flatten", "[", 
               RowBox[{"pdfcorr", ",", "1"}], "]"}], "/.", 
              RowBox[{"LF1", "\[Rule]", "List"}]}], ",", "myMarker", ",", 
             "myplotstyle", ",", "title", ",", "xtitle", ",", "ytitle", ",", 
             "xyrangeplot1", ",", "lgdlabel", ",", "lgdpos", ",", "imgsize"}],
             "]"}], ";", "\n", 
           RowBox[{"Abort", "[", "]"}], ";"}], "\n", "*)"}], "\n", "\n", 
         RowBox[{"plot1", "=", 
          RowBox[{"PDFloglogplot", "[", 
           RowBox[{
            RowBox[{"Flatten", "[", 
             RowBox[{"pdfcorr", ",", "1"}], "]"}], ",", "myMarker", ",", 
            "myplotstyle", ",", "title", ",", "xtitle", ",", "ytitle", ",", 
            "xyrangeplot1", ",", "lgdlabel", ",", "lgdpos", ",", "imgsize"}], 
           "]"}]}], ";"}]}], "\n", "]"}], ";", "\[IndentingNewLine]", 
      "\[IndentingNewLine]", 
      RowBox[{"(*", 
       RowBox[{
        RowBox[{
        "===", "===", "===", "===", "===", "===", "===", "===", "===", "===", 
         "===", "===", "===", "===", "===", "===", "===", "===", "===", "===",
          "===", "===", "===", "===", 
         RowBox[{"==", 
          RowBox[{"===", "===", "===", "===", "=="}]}]}], "=", 
        RowBox[{
        "===", "===", "===", "===", "===", "===", "===", "===", "===", "===", 
         "===", "==="}]}], "*)"}], "\[IndentingNewLine]", 
      RowBox[{"(*", 
       RowBox[{
        RowBox[{
        "Output", "===", "===", "===", "===", "===", "===", "===", "===", "===",
          "===", "===", 
         RowBox[{"==", 
          RowBox[{
          "===", "===", "===", "===", "===", "===", "===", "===", "===", "===",
            "==="}]}]}], "=", 
        RowBox[{
         RowBox[{"===", "===", "===", "===", 
          RowBox[{"==", "=="}], "===", "===", "===", "===", "===", "===", 
          "==="}], "=", "="}]}], "*)"}], "\n", 
      RowBox[{"(*", 
       RowBox[{
       "===", "===", "===", "===", "===", "===", "===", "===", "===", "===", "===",
         "===", "===", "===", "===", "===", "===", "===", "===", "===", "===",
         "===", "===", "===", "===", "===", "===", "===", "===", 
        RowBox[{"==", 
         RowBox[{
         "===", "===", "===", "===", "===", "===", "===", "===", "===", "===",
           "===", "==="}]}]}], "*)"}], "\[IndentingNewLine]", 
      "\[IndentingNewLine]", 
      RowBox[{"Which", "[", "\n", " ", 
       RowBox[{
        RowBox[{
         RowBox[{"plottype", "==", "2"}], " ", "||", " ", 
         RowBox[{"plottype", "==", "3"}], " ", "||", " ", 
         RowBox[{"plottype", "==", "4"}], " ", "||", " ", 
         RowBox[{"plottype", "==", "5"}], "  ", "||", " ", 
         RowBox[{"plottype", "==", "6"}]}], ",", "\n", 
        RowBox[{"{", 
         RowBox[{
          RowBox[{"{", 
           RowBox[{"xQplotcorr", ",", "exptnamestable"}], "}"}], ",", 
          RowBox[{"{", 
           RowBox[{"histplotcorr1", ",", "histplotcorr2"}], "}"}]}], "}"}], 
        ",", "\n", 
        RowBox[{"plottype", "==", "1"}], ",", "\n", 
        RowBox[{"{", "plot1", "}"}]}], "\n", "]"}]}]}], "\n", 
    "\[IndentingNewLine]", 
    RowBox[{"(*", 
     RowBox[{
      RowBox[{
      "===", "===", "===", "===", "===", "===", "===", "===", "===", "===", "===",
        "===", "===", "===", "===", "===", "===", "===", "===", "===", "===", 
       "===", "===", "===", 
       RowBox[{"==", 
        RowBox[{"===", "===", "===", "===", "=="}]}]}], "=", 
      RowBox[{
      "===", "===", "===", "===", "===", "===", "===", "===", "===", "===", "===",
        "==="}]}], "*)"}], "\n", 
    RowBox[{"(*", 
     RowBox[{
      RowBox[{
      "End", "===", "===", "===", "===", "===", "===", "===", "===", "===", "===",
        "===", 
       RowBox[{"==", 
        RowBox[{
        "===", "===", "===", "===", "===", "===", "===", "===", "===", "===", 
         "==="}]}]}], "=", 
      RowBox[{
       RowBox[{"===", "===", "===", "===", 
        RowBox[{"==", "=="}], "===", "===", "===", "===", "===", "===", 
        "==="}], "=", "="}]}], "*)"}], "\n", 
    RowBox[{"(*", 
     RowBox[{
     "===", "===", "===", "===", "===", "===", "===", "===", "===", "===", "===",
       "===", "===", "===", "===", "===", "===", "===", "===", "===", "===", "===",
       "===", "===", "===", "===", "===", "===", "===", 
      RowBox[{"==", 
       RowBox[{
       "===", "===", "===", "===", "===", "===", "===", "===", "===", "===", "===",
         "==="}]}]}], "*)"}], "\n", "\n", "\[IndentingNewLine]", 
    RowBox[{"(*", 
     RowBox[{
      RowBox[{"base", " ", "on", " ", "FigureFlag"}], ",", " ", 
      RowBox[{
      "decide", " ", "the", " ", "plot", " ", "type", " ", "of", " ", 
       "output", " ", "plots", " ", 
       RowBox[{"(", 
        RowBox[{
        "which", " ", "data", " ", "is", " ", "used", " ", "to", " ", 
         "plot"}], ")"}]}], ",", " ", "\n", 
      RowBox[{
       RowBox[{"ex", ":", " ", 
        RowBox[{"if", " ", "correlation", " ", "flag"}]}], " ", "=", " ", 
       "1"}], ",", " ", 
      RowBox[{"use", " ", "correlation", " ", "data"}]}], "*)"}], "\n", 
    RowBox[{"(*", 
     RowBox[{
     "===", "===", "===", "===", "===", "===", "===", "===", "===", "==="}], 
     "*)"}], "\[IndentingNewLine]", "\n", "\n", 
    RowBox[{"(*", 
     RowBox[{"btw", " ", "test"}], "*)"}], 
    RowBox[{"(*", 
     RowBox[{
      RowBox[{"Print", "[", 
       RowBox[{"\"\<test: \>\"", ",", "plottype"}], "]"}], ";"}], "*)"}], 
    "\n", "\n", 
    RowBox[{"(*", 
     RowBox[{
     "decide", " ", "the", " ", "data", " ", "include", " ", "by", " ", 
      "ExptidFlag", " ", 
      RowBox[{"<<", " ", "perhaps"}], " ", "could", " ", "be", " ", "done", 
      " ", "before", " ", "function"}], "*)"}], "\[IndentingNewLine]", 
    RowBox[{"(*", 
     RowBox[{
     "===", "===", "===", "===", "===", "===", "===", "===", "===", "==="}], 
     "*)"}], "\[IndentingNewLine]", 
    RowBox[{"(*", 
     RowBox[{
     "make", " ", "text", " ", "for", " ", "Npt", " ", "of", " ", "data"}], 
     "*)"}], "\[IndentingNewLine]", "\[IndentingNewLine]", 
    "\[IndentingNewLine]", "\[IndentingNewLine]", "\n", "\n", 
    RowBox[{"(*", "\n", 
     RowBox[{
      RowBox[{"If", "[", "\n", 
       RowBox[{
        RowBox[{
         RowBox[{"plottype", "\[Equal]", "5"}], "  ", "||", " ", 
         RowBox[{"plottype", "\[Equal]", "6"}]}], ",", "\n", 
        RowBox[{
         RowBox[{"histautoxrange", "=", 
          RowBox[{"3", "*", 
           RowBox[{"Median", "[", 
            RowBox[{
             RowBox[{"pdfcorr", "[", 
              RowBox[{"[", 
               RowBox[{"flavourin", "+", "6"}], "]"}], "]"}], "/.", 
             RowBox[{
              RowBox[{"LF1", "[", "a__", "]"}], "\[RuleDelayed]", 
              RowBox[{"Abs", "[", 
               RowBox[{
                RowBox[{"{", "a", "}"}], "[", 
                RowBox[{"[", "3", "]"}], "]"}], " ", "]"}]}]}], " ", 
            "]"}]}]}], ";"}]}], "\n", "]"}], ";"}], "\n", "*)"}], "\n", "\n", 
    "\n", "\n", 
    RowBox[{"(*", 
     RowBox[{
      RowBox[{"for", " ", "correlation"}], ",", " ", 
      RowBox[{"set", " ", "color", " ", "seperator", " ", "by", " ", "0.5"}], 
      ",", " ", "0.7", ",", " ", "0.85", ",", " ", "1"}], "*)"}], "\n", 
    RowBox[{"(*", 
     RowBox[{
      RowBox[{"for", " ", "uncertainty", " ", "of", " ", "theory"}], ",", " ",
       "experiment", ",", " ", 
      RowBox[{"also", " ", "0.5"}], ",", " ", "0.7", ",", " ", "0.85", ",", 
      " ", "1"}], "*)"}], "\n", 
    RowBox[{"(*", 
     RowBox[{
      RowBox[{"for", " ", "residual", " ", "central", " ", "value"}], ",", 
      " ", "deltaR", ",", " ", 
      RowBox[{"dr", "*", "corr"}], ",", " ", 
      RowBox[{
       RowBox[{"since", " ", "value", " ", "could", " ", "be"}], " ", ">", 
       " ", 
       RowBox[{
       "1", " ", "and", " ", "even", " ", "very", " ", "large", "\n", "color",
         " ", "seperator", " ", "decided", " ", "by", " ", 
        "ColorSeperator"}]}]}], "*)"}], "\n", 
    RowBox[{"(*", 
     RowBox[{
     "===", "===", "===", "===", "===", "===", "===", "===", "===", "==="}], 
     "*)"}], "\n", 
    RowBox[{"(*", "\n", 
     RowBox[{
      RowBox[{"If", "[", "\n", 
       RowBox[{
        RowBox[{"plottype", "\[Equal]", "5"}], ",", "\n", 
        RowBox[{
         RowBox[{"legendlabel", "=", "\"\<\>\""}], ";", "\n", 
         RowBox[{"barseperator", "=", 
          RowBox[{"GetDataPercentage", "[", 
           RowBox[{
            RowBox[{
             RowBox[{"pdfcorr", "[", 
              RowBox[{"[", 
               RowBox[{"flavourin", "+", "6"}], "]"}], "]"}], "/.", 
             RowBox[{
              RowBox[{"LF1", "[", "a__", "]"}], "\[RuleDelayed]", 
              RowBox[{"Abs", "[", 
               RowBox[{
                RowBox[{"{", "a", "}"}], "[", 
                RowBox[{"[", "3", "]"}], "]"}], " ", "]"}]}]}], " ", ",", 
            RowBox[{"Join", "[", 
             RowBox[{"ColorSeperator", ",", 
              RowBox[{"{", "100", "}"}]}], "]"}]}], " ", "]"}]}], ";", "\n", 
         RowBox[{"barseperator", "=", 
          RowBox[{"{", 
           RowBox[{
            RowBox[{"-", 
             RowBox[{"barseperator", "[", 
              RowBox[{"[", "4", "]"}], "]"}]}], ",", 
            RowBox[{"-", 
             RowBox[{"barseperator", "[", 
              RowBox[{"[", "3", "]"}], "]"}]}], ",", 
            RowBox[{"-", 
             RowBox[{"barseperator", "[", 
              RowBox[{"[", "2", "]"}], "]"}]}], ",", 
            RowBox[{"-", 
             RowBox[{"barseperator", "[", 
              RowBox[{"[", "1", "]"}], "]"}]}], ",", 
            RowBox[{"barseperator", "[", 
             RowBox[{"[", "1", "]"}], "]"}], ",", 
            RowBox[{"barseperator", "[", 
             RowBox[{"[", "2", "]"}], "]"}], ",", 
            RowBox[{"barseperator", "[", 
             RowBox[{"[", "3", "]"}], "]"}], ",", 
            RowBox[{"barseperator", "[", 
             RowBox[{"[", "4", "]"}], "]"}]}], "}"}]}], ";", "\n", 
         RowBox[{"epilogxQ", "=", 
          RowBox[{"{", 
           RowBox[{"Npttext", ",", 
            RowBox[{"(*", 
             RowBox[{
             "maxtext", ",", "maxmarker", ",", "mintext", ",", "minmarker"}], 
             "*)"}], "percentagetext"}], "}"}]}], ";", "\n", "\n", 
         "\"\<dummy\>\""}]}], "\n", 
       RowBox[{"(*", 
        RowBox[{
         RowBox[{"corr", " ", "plot", " ", "cut", " ", "by"}], " ", "|", 
         "data", "|", 
         RowBox[{"<", "0.5"}]}], "*)"}], "\n", "]"}], ";"}], "\n", "*)"}], 
    "\n", 
    RowBox[{"(*", 
     RowBox[{
      RowBox[{
       RowBox[{"same", " ", "as", " ", "plottype"}], "=", "5"}], ",", " ", 
      RowBox[{
      "but", " ", "data", " ", "strucure", " ", "pdfcorr", " ", "is", " ", 
       "different"}]}], "*)"}], "\n", "\n", "\[IndentingNewLine]", 
    "\[IndentingNewLine]", "\n", "\n", 
    RowBox[{"(*", 
     RowBox[{
      RowBox[{"Print", "[", 
       RowBox[{"\"\<max of data and highlight: \>\"", ",", 
        RowBox[{"{", 
         RowBox[{
          RowBox[{"highlightrange", "[", 
           RowBox[{"[", "2", "]"}], "]"}], ",", "maxdata"}], "}"}]}], "]"}], 
      ";"}], "*)"}], "\n", "\n", "\n", "\n", "\n", "\n", 
    RowBox[{"(*", 
     RowBox[{
      RowBox[{"Print", "[", 
       RowBox[{"\"\<highlight range: \>\"", ",", "highlightrange"}], "]"}], 
      ";"}], "*)"}], "\n", "\n", 
    RowBox[{"(*", 
     RowBox[{
      RowBox[{"for", " ", "histogram"}], ",", " ", 
      RowBox[{
      "setup", " ", "highlighted", " ", "value", " ", "range", " ", "by", " ",
        "red", " ", "line", " ", "and", " ", "color", " ", "seperator", " ", 
       "value", " ", "by", " ", "blue", " ", "line"}]}], "*)"}], "\n", 
    RowBox[{"(*", 
     RowBox[{
      RowBox[{"make", " ", "histogram", " ", "of", " ", "data", " ", "and"}], 
      " ", "|", "data", "|"}], "*)"}], "\n", 
    RowBox[{"(*", 
     RowBox[{
     "===", "===", "===", "===", "===", "===", "===", "===", "===", "==="}], 
     "*)"}], "\n", "\n", 
    RowBox[{"(*", 
     RowBox[{
      RowBox[{
      "set", " ", "xtitle", " ", "by", " ", "observable", " ", "part", " ", 
       "of", " ", "title"}], ",", " ", 
      RowBox[{"ex", ":", " ", 
       RowBox[{"|", 
        RowBox[{"Corr", 
         RowBox[{"(", 
          RowBox[{
           RowBox[{"f_j", 
            RowBox[{"(", 
             RowBox[{"x", ",", "Q"}], ")"}]}], ",", 
           RowBox[{"r_i", 
            RowBox[{"(", 
             RowBox[{"x", ",", "Q"}], ")"}]}]}], ")"}]}], "|"}]}]}], "*)"}], 
    "\n", 
    RowBox[{"(*", 
     RowBox[{
     "===", "===", "===", "===", "===", "===", "===", "===", "===", "==="}], 
     "*)"}], "\[IndentingNewLine]", "\n", "\n", 
    RowBox[{"(*", 
     RowBox[{
      RowBox[{"plot", " ", "x"}], ",", 
      RowBox[{
      "Q", " ", "data", " ", "by", " ", "size", " ", "for", " ", "all", " ", 
       "quarks", 
       RowBox[{"(", "CorrelationArgFlag", ")"}]}], ",", " ", 
      RowBox[{"and", " ", "plot", " ", "corresponding", " ", "histogram"}]}], 
     "*)"}], "\n", 
    RowBox[{"(*", 
     RowBox[{
      RowBox[{"GridGraphic", " ", "x"}], ",", 
      RowBox[{
      "Q", " ", "data", " ", "by", " ", "size", " ", "and", " ", 
       "histograms"}]}], "*)"}], "\n", 
    RowBox[{"(*", 
     RowBox[{
     "===", "===", "===", "===", "===", "===", "===", "===", "===", "==="}], 
     "*)"}], "\n", "\n", "\n", 
    RowBox[{"(*", 
     RowBox[{"correlation", " ", "plot"}], "*)"}], "\n", 
    RowBox[{"(*", "\n", 
     RowBox[{
      RowBox[{"If", "[", "\n", 
       RowBox[{
        RowBox[{
         RowBox[{"plottype", "\[Equal]", "5"}], "  ", "||", " ", 
         RowBox[{"plottype", "\[Equal]", "6"}]}], ",", "\n", 
        RowBox[{
         RowBox[{"xQplotcorr", "=", 
          RowBox[{"PDFCorrelationplot8", "[", 
           RowBox[{
            RowBox[{"pdfcorr", "[", 
             RowBox[{"[", 
              RowBox[{"flavourin", "+", "6"}], "]"}], "]"}], ",", "title", 
            ",", "xtitle", ",", "ytitle", ",", "plotrange", ",", "stretchx", 
            ",", "stretchy", ",", "barseperator", ",", "legendlabel", ",", 
            RowBox[{"(*", 
             RowBox[{"Append", "[", 
              RowBox[{"epilogxQ", ",", "cuttext"}], "]"}], "*)"}], "epilogxQ",
             ",", "highlightrange", ",", "unhighlightsize"}], " ", "]"}]}], 
         ";", "\n", "\"\<dummy\>\""}]}], "\n", "]"}], ";"}], "\n", "*)"}], 
    "\n", 
    RowBox[{"(*", 
     RowBox[{"test", " ", "print"}], "*)"}], "\n", 
    RowBox[{"(*", "\n", 
     RowBox[{
      RowBox[{"Print", "[", "\"\<test print\>\"", "]"}], ";", "\n", 
      RowBox[{"Print", "[", "\"\<highlight mode 1\>\"", "]"}], ";", "\n", 
      RowBox[{"Print", "[", "pdfcorr", "]"}], ";", "\n", 
      RowBox[{"Print", "[", "HighlightMode1", "]"}], ";", "\n", 
      RowBox[{"Print", "[", 
       RowBox[{"{", 
        RowBox[{
        "xtitle", ",", "ytitle", ",", "plotrange", ",", "stretchx", ",", 
         "stretchy", ",", "barseperator", ",", "legendlabel", ",", "epilogxQ",
          ",", "highlightrange", ",", "unhighlightsize"}], " ", "}"}], "]"}], 
      ";"}], "\n", "*)"}], "\n", "\n", "\n", "\n", 
    RowBox[{"(*", 
     RowBox[{
      RowBox[{"lineelement", "=", 
       RowBox[{"{", 
        RowBox[{
         RowBox[{"{", 
          RowBox[{
           RowBox[{"barseperator", "[", 
            RowBox[{"[", "2", "]"}], "]"}], ",", "\"\<\>\"", ",", "Blue"}], 
          "}"}], ",", 
         RowBox[{"{", 
          RowBox[{
           RowBox[{"barseperator", "[", 
            RowBox[{"[", "3", "]"}], "]"}], ",", "\"\<\>\"", ",", "Blue"}], 
          "}"}], ",", 
         RowBox[{"{", 
          RowBox[{
           RowBox[{"barseperator", "[", 
            RowBox[{"[", "4", "]"}], "]"}], ",", "\"\<\>\"", ",", "Blue"}], 
          "}"}], ",", 
         RowBox[{"{", 
          RowBox[{
           RowBox[{"barseperator", "[", 
            RowBox[{"[", "5", "]"}], "]"}], ",", "\"\<\>\"", ",", "Blue"}], 
          "}"}], ",", 
         RowBox[{"{", 
          RowBox[{
           RowBox[{"barseperator", "[", 
            RowBox[{"[", "6", "]"}], "]"}], ",", "\"\<\>\"", ",", "Blue"}], 
          "}"}], ",", 
         RowBox[{"{", 
          RowBox[{
           RowBox[{"barseperator", "[", 
            RowBox[{"[", "7", "]"}], "]"}], ",", "\"\<\>\"", ",", "Blue"}], 
          "}"}]}], "}"}]}], ";"}], "*)"}], "\n", "\n", 
    RowBox[{"(*", "test", "*)"}], 
    RowBox[{"(*", 
     RowBox[{
      RowBox[{"Print", "[", "binset", "]"}], ";", 
      RowBox[{"Print", "[", "lineelement2", "]"}], ";"}], "*)"}], "\n", "\n", 
    
    RowBox[{"(*", 
     RowBox[{"20170307", ":", " ", 
      RowBox[{"bin", " ", "from", " ", "argument"}]}], "*)"}], "\n", 
    RowBox[{"(*", "\n", 
     RowBox[{
      RowBox[{"If", "[", "\n", 
       RowBox[{
        RowBox[{"Hist1figureNbin", "==", "\"\<auto\>\""}], ",", "\n", 
        RowBox[{
         RowBox[{"binset", "=", "barseperator"}], ";", "\n", 
         RowBox[{"binset", "=", 
          RowBox[{"Insert", "[", 
           RowBox[{"binset", ",", "0.0", ",", "5"}], "]"}]}]}]}], "\n", "]"}],
       ";"}], "\n", "*)"}], "\n", 
    RowBox[{"(*", "\n", 
     RowBox[{
      RowBox[{"If", "[", "\n", 
       RowBox[{
        RowBox[{
         RowBox[{"plottype", "\[Equal]", "5"}], "  ", "||", " ", 
         RowBox[{"plottype", "\[Equal]", "6"}]}], ",", "\n", 
        RowBox[{"(*", 
         RowBox[{"hist1", ":", " ", 
          RowBox[{"data", " ", "with", " ", "no", " ", "absolute"}]}], "*)"}],
         "\n", 
        RowBox[{
         RowBox[{"histplotcorr1", "=", 
          RowBox[{"histplot4", "[", 
           RowBox[{
            RowBox[{
             RowBox[{"pdfcorr", "[", 
              RowBox[{"[", 
               RowBox[{"flavourin", "+", "6"}], "]"}], "]"}], "/.", 
             RowBox[{
              RowBox[{"LF1", "[", "a__", "]"}], "\[RuleDelayed]", 
              RowBox[{
               RowBox[{"{", "a", "}"}], "[", 
               RowBox[{"[", "3", "]"}], "]"}]}]}], ",", "title", ",", 
            "xhisttitle", ",", "yhisttitle", ",", "binset", ",", 
            "lineelement", ",", "hist1plotrangex", ",", "Hist1figureNbin"}], 
           "]"}]}], ";", "\n", 
         RowBox[{"(*", 
          RowBox[{"hist1", ":", " ", 
           RowBox[{"data", " ", "with", " ", "absolute", 
            RowBox[{"(", 
             RowBox[{"|", "data", "|"}], ")"}]}]}], "*)"}], "\n", 
         RowBox[{"histplotcorr2", "=", 
          RowBox[{"histplot4", "[", 
           RowBox[{
            RowBox[{
             RowBox[{"pdfcorr", "[", 
              RowBox[{"[", 
               RowBox[{"flavourin", "+", "6"}], "]"}], "]"}], "/.", 
             RowBox[{
              RowBox[{"LF1", "[", "a__", "]"}], "\[RuleDelayed]", 
              RowBox[{"Abs", "[", 
               RowBox[{
                RowBox[{"{", "a", "}"}], "[", 
                RowBox[{"[", "3", "]"}], "]"}], " ", "]"}]}]}], ",", "title", 
            ",", "xhistabstitle", ",", "yhisttitle", ",", "binset", ",", 
            RowBox[{"Take", "[", 
             RowBox[{"lineelement", ",", 
              RowBox[{"-", "3"}]}], "]"}], ",", "hist2plotrangex", ",", 
            "Hist1figureNbin"}], "]"}]}], ";", "\n", "\"\<dummy\>\""}]}], 
       "\n", "]"}], ";"}], "\n", "*)"}], "\n", "\n", "\n", "]"}]}]}]], "Input",\

 InitializationCell->True,
 CellChangeTimes->{{3.719191350439296*^9, 3.719191351444817*^9}, {
   3.7191913915234013`*^9, 3.719191542948613*^9}, {3.719191579916553*^9, 
   3.719191608650613*^9}, {3.71919227592983*^9, 3.719192288781296*^9}, {
   3.7191923331675873`*^9, 3.7191923866844063`*^9}, {3.7191924359464827`*^9, 
   3.719192510042478*^9}, {3.719192540110292*^9, 3.719192590689439*^9}, {
   3.7191926289901857`*^9, 3.71919264133893*^9}, {3.719192705618341*^9, 
   3.719192775000009*^9}, {3.7191928207204847`*^9, 3.7191929214824*^9}, {
   3.719192988237002*^9, 3.719192991894369*^9}, {3.7191930997034483`*^9, 
   3.719193108867979*^9}, {3.719193251526259*^9, 3.719193262072785*^9}, {
   3.7191933781344*^9, 3.71919338543708*^9}, {3.719193444086508*^9, 
   3.719193469747447*^9}, {3.719193562493108*^9, 3.719193577993537*^9}, {
   3.71919373787492*^9, 3.719193740748376*^9}, {3.7191937910345163`*^9, 
   3.7191938059509697`*^9}, {3.719193884246745*^9, 3.719193934538932*^9}, {
   3.719194022420391*^9, 3.719194046647883*^9}, {3.719194076769895*^9, 
   3.719194086872014*^9}, {3.719194192431547*^9, 3.719194258995154*^9}, 
   3.71919439159704*^9, {3.719194429618018*^9, 3.719194432631043*^9}, {
   3.71919450143403*^9, 3.719194529182914*^9}, {3.719194635646356*^9, 
   3.7191946536721153`*^9}, {3.7191946950828238`*^9, 3.719194708174732*^9}, {
   3.7191947955228157`*^9, 3.719194848070615*^9}, {3.7191949463400717`*^9, 
   3.719194960747587*^9}, {3.719195036771473*^9, 3.7191950778321857`*^9}, {
   3.7191951677811403`*^9, 3.719195291171475*^9}, {3.719195328406781*^9, 
   3.719195343911694*^9}, {3.719212457840344*^9, 3.719212465643208*^9}, {
   3.7192124964794693`*^9, 3.7192126548279057`*^9}, {3.7192127724438457`*^9, 
   3.719212822123301*^9}, 3.719212860835353*^9, {3.719212891451104*^9, 
   3.719212960456065*^9}, {3.7192132853251457`*^9, 3.719213484780237*^9}, {
   3.719213515608519*^9, 3.719213547278957*^9}, {3.719213590311339*^9, 
   3.7192136125315847`*^9}, {3.719213698453277*^9, 3.719213730590592*^9}, {
   3.719213789299914*^9, 3.719213834906002*^9}, {3.719213882242855*^9, 
   3.7192139044347486`*^9}, {3.719213936787261*^9, 3.719213985464634*^9}, {
   3.719214097234009*^9, 3.719214151577786*^9}, {3.7192146897077637`*^9, 
   3.7192146898857107`*^9}, {3.719215614845934*^9, 3.7192156150917063`*^9}, {
   3.71922046828438*^9, 3.71922050065518*^9}, {3.719220645423839*^9, 
   3.71922064863894*^9}, {3.719220861754607*^9, 3.71922095481752*^9}, {
   3.719221035577244*^9, 3.7192210654184237`*^9}, {3.719221117344846*^9, 
   3.719221160936112*^9}, {3.719221263262035*^9, 3.719221309521122*^9}, {
   3.7192214233647346`*^9, 3.7192214348505898`*^9}, {3.719221520075737*^9, 
   3.7192215770495033`*^9}, {3.719221751786022*^9, 3.719221779006188*^9}, {
   3.719222119450335*^9, 3.719222156463868*^9}, {3.719222772112879*^9, 
   3.719222777822998*^9}, {3.71922333354941*^9, 3.7192233425927477`*^9}, {
   3.719223373727326*^9, 3.7192233756177177`*^9}, {3.719224222841838*^9, 
   3.719224230384398*^9}, {3.719225408102343*^9, 3.7192254473635178`*^9}, {
   3.719225599562457*^9, 3.719225628277442*^9}, {3.719225686853244*^9, 
   3.719225717747253*^9}, {3.719225806056829*^9, 3.7192258086633167`*^9}, {
   3.719226291568231*^9, 3.719226323429061*^9}, {3.71922637563286*^9, 
   3.719226381610854*^9}, {3.719226667507865*^9, 3.7192267227290907`*^9}, {
   3.719226766351672*^9, 3.71922676719886*^9}, {3.7192303331103477`*^9, 
   3.7192303361274433`*^9}, {3.719233359306839*^9, 3.719233448509202*^9}, {
   3.7193723494649343`*^9, 3.7193724161865873`*^9}, {3.7193728567509003`*^9, 
   3.719372992750545*^9}, {3.719373047062029*^9, 3.719373117239787*^9}, {
   3.719373343655808*^9, 3.7193734044837837`*^9}, {3.719373542547351*^9, 
   3.719373548722864*^9}, {3.7193737382242813`*^9, 3.719373799090427*^9}, {
   3.719373950631941*^9, 3.719374018003107*^9}, 3.7193740598087873`*^9, {
   3.719374098830105*^9, 3.71937411946563*^9}, {3.719374214737276*^9, 
   3.7193742306450243`*^9}, {3.719374274271574*^9, 3.719374277209031*^9}, {
   3.719374349486148*^9, 3.71937436215309*^9}, {3.7193746599495687`*^9, 
   3.719374662460743*^9}, {3.719374706889711*^9, 3.719374709762846*^9}, {
   3.719374756913718*^9, 3.7193747598637342`*^9}, {3.719374800636602*^9, 
   3.7193748272222757`*^9}, {3.719374893467725*^9, 3.719374966221829*^9}, 
   3.719375082014297*^9, {3.7193751711853743`*^9, 3.719375209571512*^9}, {
   3.7193753775305758`*^9, 3.719375424993235*^9}, {3.719375491493847*^9, 
   3.719375542253042*^9}, {3.719375574880682*^9, 3.719375579720907*^9}, {
   3.719375613837223*^9, 3.719375654611128*^9}, {3.719375706509927*^9, 
   3.7193758110118303`*^9}, {3.719375893231751*^9, 3.719375959350172*^9}, {
   3.7193763029011993`*^9, 3.719376353822229*^9}, {3.7193764138563833`*^9, 
   3.719376535101802*^9}, {3.719376626616325*^9, 3.719376651871345*^9}, {
   3.719376717455179*^9, 3.719376778402616*^9}, {3.719376808596657*^9, 
   3.7193769432016973`*^9}, {3.719376973593143*^9, 3.719376975261236*^9}, {
   3.719377012332148*^9, 3.719377059122686*^9}, {3.719377777584405*^9, 
   3.7193778091483297`*^9}, 3.719377971008458*^9, {3.719378026878957*^9, 
   3.7193781024583597`*^9}, {3.719378140048925*^9, 3.7193782521946783`*^9}, {
   3.719378287786497*^9, 3.719378316569647*^9}, {3.719378502906801*^9, 
   3.719378548818185*^9}, {3.719378611881403*^9, 3.7193786131000347`*^9}, {
   3.719378757709013*^9, 3.719378759461516*^9}, {3.719379415274158*^9, 
   3.71937942513279*^9}, {3.719379482108552*^9, 3.719379537498927*^9}, {
   3.719379580315465*^9, 3.719379587974066*^9}, {3.719379636244514*^9, 
   3.7193796685696707`*^9}, {3.719379771235111*^9, 3.719379774583075*^9}, {
   3.719379942972769*^9, 3.719379944218351*^9}, {3.719380239883707*^9, 
   3.719380247110546*^9}, {3.7193802926629143`*^9, 3.719380321300606*^9}, {
   3.719380383426834*^9, 3.719380384371234*^9}, {3.719410927602684*^9, 
   3.719410947531323*^9}, {3.71941115570693*^9, 3.719411182375504*^9}, {
   3.719411323018412*^9, 3.719411374914762*^9}, {3.719411932566101*^9, 
   3.71941194131717*^9}, {3.719412494882868*^9, 3.719412524529385*^9}, {
   3.719429521184019*^9, 3.719429539354175*^9}, {3.719430243596363*^9, 
   3.7194302455907297`*^9}, {3.719431998264893*^9, 3.719432001094755*^9}, {
   3.719432681645471*^9, 3.7194327083301764`*^9}, {3.719435094405047*^9, 
   3.719435164419894*^9}, {3.71943540639283*^9, 3.719435418729204*^9}, {
   3.719435622241881*^9, 3.719435622319841*^9}, {3.7194455776690483`*^9, 
   3.719445590139872*^9}, {3.719445621438319*^9, 3.7194458312676153`*^9}, {
   3.719445883628224*^9, 3.719445949230064*^9}, {3.7194459838120193`*^9, 
   3.7194460205993*^9}, {3.719446482632455*^9, 3.719446516453521*^9}, {
   3.719446551570148*^9, 3.719446717643243*^9}, {3.71944875286518*^9, 
   3.719448756623694*^9}, {3.719448786792386*^9, 3.7194488535836687`*^9}, {
   3.719448911621567*^9, 3.719448942061219*^9}, {3.719449378295261*^9, 
   3.719449661274048*^9}, {3.719449730269857*^9, 3.719449800176487*^9}, {
   3.719449833360957*^9, 3.71944996028517*^9}, {3.719450067201412*^9, 
   3.71945010377172*^9}, {3.719450309663664*^9, 3.7194503884549417`*^9}, {
   3.719451554410502*^9, 3.719451554464432*^9}, {3.719452621959433*^9, 
   3.719452622067562*^9}, {3.71973030754456*^9, 3.7197303175345383`*^9}, {
   3.719730362633093*^9, 3.719730367124958*^9}, {3.7197304427850657`*^9, 
   3.7197304537174997`*^9}, {3.719734610317069*^9, 3.719734635678891*^9}, {
   3.7197347001255493`*^9, 3.7197347051271553`*^9}, {3.719735207206112*^9, 
   3.719735271869824*^9}, {3.7197353762858458`*^9, 3.7197353902536173`*^9}, {
   3.719735423748863*^9, 3.7197354986609573`*^9}, {3.719735537888715*^9, 
   3.719735645930702*^9}, {3.719735691986335*^9, 3.719735707550108*^9}, {
   3.7197358584135647`*^9, 3.719735860752963*^9}, {3.719736648880659*^9, 
   3.719736679662773*^9}, {3.7197369467181396`*^9, 3.7197369644445744`*^9}, {
   3.719737175765066*^9, 3.719737241360602*^9}, {3.7197374722253237`*^9, 
   3.719737546227788*^9}, {3.719737669398809*^9, 3.719737669494697*^9}, {
   3.719737933611417*^9, 3.7197379718437443`*^9}, {3.719738181845558*^9, 
   3.7197381854317923`*^9}, {3.719738251418407*^9, 3.719738337124282*^9}, {
   3.719738370672596*^9, 3.719738545569077*^9}, {3.719738689538014*^9, 
   3.7197387630659733`*^9}, {3.719738855535997*^9, 3.71973891756887*^9}, {
   3.719739094751033*^9, 3.719739094831616*^9}, {3.719739184956101*^9, 
   3.719739185031064*^9}, {3.719739238827668*^9, 3.7197392389167557`*^9}, {
   3.719739289723925*^9, 3.719739519713244*^9}, {3.7197453857056303`*^9, 
   3.7197454292406197`*^9}, {3.7197454886506844`*^9, 
   3.7197456331659813`*^9}, {3.719745789818274*^9, 3.719745838482885*^9}, {
   3.719745930785759*^9, 3.719745955173485*^9}, {3.719746101843025*^9, 
   3.719746198433139*^9}, {3.719746240005314*^9, 3.7197463417030973`*^9}, {
   3.7197464164099083`*^9, 3.719746420321539*^9}, {3.71974666095483*^9, 
   3.719746732757098*^9}, {3.719746769347896*^9, 3.719746779637402*^9}, {
   3.719746843460355*^9, 3.719746915600006*^9}, {3.719747009422263*^9, 
   3.7197473655944033`*^9}, {3.719747400702529*^9, 3.719747452907586*^9}, {
   3.719747577933001*^9, 3.719747697584831*^9}, {3.719747743520114*^9, 
   3.719747748346672*^9}, {3.719747795360474*^9, 3.719747801366164*^9}, {
   3.719747873840131*^9, 3.7197479074564867`*^9}, {3.719747977234586*^9, 
   3.719747980608316*^9}, {3.719748014809596*^9, 3.719748041831657*^9}, {
   3.719748185164146*^9, 3.7197482853152723`*^9}, {3.719749302320261*^9, 
   3.71974930384836*^9}, {3.719749381812298*^9, 3.719749421947859*^9}, {
   3.719749507213346*^9, 3.71974950810254*^9}, {3.719749673305876*^9, 
   3.719749688476239*^9}, {3.719750779100937*^9, 3.719750779160798*^9}, {
   3.719751007967667*^9, 3.719751009056855*^9}, {3.719754328273507*^9, 
   3.719754359921247*^9}, {3.719755117860854*^9, 3.719755128818756*^9}, {
   3.719755253871963*^9, 3.7197552745061893`*^9}, {3.719824532607543*^9, 
   3.71982458799199*^9}, {3.720130389826198*^9, 3.7201303903474607`*^9}, {
   3.720130475651126*^9, 3.720130540227475*^9}, {3.720130613516943*^9, 
   3.7201306475107307`*^9}, {3.7201309372452507`*^9, 3.720130937365878*^9}, {
   3.720132239810392*^9, 3.720132240023964*^9}, {3.720630048792336*^9, 
   3.720630071132453*^9}, {3.720630222736999*^9, 3.7206302533724937`*^9}, 
   3.720630294915011*^9, {3.720630346133216*^9, 3.7206303935104094`*^9}, {
   3.720630425632263*^9, 3.720630447168253*^9}, {3.72063064322199*^9, 
   3.7206306677146597`*^9}, {3.720630813948081*^9, 3.720630847799562*^9}, {
   3.7206308852932587`*^9, 3.7206310605159483`*^9}, {3.7206311668320017`*^9, 
   3.720631167738859*^9}, {3.720631486215749*^9, 3.720631487645629*^9}, {
   3.720631547001309*^9, 3.720631565159815*^9}, {3.7206316245127077`*^9, 
   3.720631631251802*^9}, {3.7206316791759377`*^9, 3.7206317164067993`*^9}, {
   3.720632058453725*^9, 3.72063205854086*^9}, {3.720632275080412*^9, 
   3.72063228630508*^9}, {3.720632510100124*^9, 3.7206325422154827`*^9}, {
   3.720632593336327*^9, 3.7206325974580297`*^9}, {3.7206326704680634`*^9, 
   3.7206326705730352`*^9}, {3.720634852158196*^9, 3.720634963062826*^9}, 
   3.72063502987082*^9, {3.72063507313945*^9, 3.720635114967638*^9}, {
   3.720635192620606*^9, 3.720635195681109*^9}, 3.720635253478383*^9, {
   3.7206353210630608`*^9, 3.720635321118186*^9}, {3.720635405690898*^9, 
   3.720635409900752*^9}, {3.720635445131652*^9, 3.720635477077651*^9}, {
   3.7206355182959003`*^9, 3.7206355183551197`*^9}, {3.720635878950655*^9, 
   3.720635879553233*^9}, {3.7206364834733067`*^9, 3.720636487569153*^9}, {
   3.720636624139971*^9, 3.720636625317734*^9}, {3.7206366992383204`*^9, 
   3.720636731639377*^9}, {3.720637073646166*^9, 3.720637191978167*^9}, {
   3.720637254003458*^9, 3.720637290812704*^9}, {3.720678894207802*^9, 
   3.720678978873992*^9}, {3.72067903416343*^9, 3.7206790779100227`*^9}, {
   3.720679709811699*^9, 3.720679747948186*^9}, 3.720679809061594*^9, {
   3.720680530821375*^9, 3.720680552705038*^9}, {3.720684626218635*^9, 
   3.7206846281618834`*^9}, {3.720684900424103*^9, 3.720684911492807*^9}, {
   3.720685456257711*^9, 3.720685456499976*^9}, {3.720711445608337*^9, 
   3.720711563701641*^9}, {3.720711594485352*^9, 3.720711597449399*^9}, {
   3.72071176564924*^9, 3.7207117667886*^9}, {3.720712269252139*^9, 
   3.720712269790185*^9}, {3.720712730269505*^9, 3.7207128447533827`*^9}, {
   3.720712947102788*^9, 3.72071294760005*^9}, {3.7207129788088818`*^9, 
   3.720713074200501*^9}, {3.7207138565670757`*^9, 3.720713903964205*^9}, {
   3.720713949476252*^9, 3.720713958155899*^9}, {3.720714172289364*^9, 
   3.720714176525723*^9}, {3.720718081048695*^9, 3.7207181008620443`*^9}}],

Cell[BoxData[
 RowBox[{
  RowBox[{"(*", 
   RowBox[{
    RowBox[{
     RowBox[{
      RowBox[{"modify", " ", "of", " ", "3"}], ":", " ", 
      RowBox[{"when", " ", "plottype"}]}], " ", "=", " ", "5"}], ",", " ", 
    "6", ",", " ", 
    RowBox[{
    "extract", " ", "data", " ", "of", " ", "that", " ", "flavour"}]}], 
   "*)"}], "\n", 
  RowBox[{"(*", 
   RowBox[{
    RowBox[{
     RowBox[{"modify", " ", "of", " ", "4"}], ":", " ", 
     RowBox[{
      RowBox[{"don", "'"}], "t", " ", "set", " ", "local", " ", "variable", 
      " ", "of", " ", "corrfxQdtaobsclassin"}]}], ",", " ", 
    RowBox[{
    "avoiding", " ", "time", " ", "to", " ", "copy", " ", "large", " ", 
     "data", " ", "to", " ", "local", " ", "variable"}], ",", " ", 
    RowBox[{"for", " ", "mode", " ", "5"}], ",", 
    RowBox[{
    "6", " ", "only", " ", "deal", " ", "with", " ", "\n", "corresponding", 
     " ", "flavour", " ", "data", " ", 
     RowBox[{"(", 
      RowBox[{"by", " ", "flavourin"}], ")"}]}]}], "*)"}], "\n", 
  RowBox[{
   RowBox[{"processdataplotsmultiexp5percentageGrid", "[", 
    RowBox[{
    "corrfxQdtaobsclassin_", ",", "configargumentsin_", ",", "plottypein_", 
     ",", "flavourin_"}], "]"}], ":=", "\n", 
   RowBox[{"Module", "[", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{"(*", 
       RowBox[{
        RowBox[{"corrfxQdtaobsclass", "=", "corrfxQdtaobsclassin"}], ","}], 
       "*)"}], 
      RowBox[{
       RowBox[{"configarguments", "=", "configargumentsin"}], ",", "\n", 
       RowBox[{"plottype", "=", "plottypein"}], ",", 
       RowBox[{"(*", 
        RowBox[{
         RowBox[{"flavour", "=", "flavourin"}], ","}], "*)"}], "flavour", ",",
        "\n", "Jobid", ",", "PDFname", ",", "FigureType", ",", "FigureFlag", 
       ",", "ExptidType", ",", "ExptidFlag", ",", "CorrelationArgType", ",", 
       "CorrelationArgFlag", ",", "UserArgName", ",", "UserArgValue", ",", 
       "\n", "XQfigureXrange", ",", "XQfigureYrange", ",", "Hist1figureNbin", 
       ",", "Hist1figureXrange", ",", "Hist1figureYrange", ",", "\n", 
       "ColorSeperator", ",", "\n", "Size", ",", "HighlightType", ",", 
       "HighlightMode", ",", "HighlightMode1", ",", "HighlightMode2", ",", 
       "\n", "processes", ",", "ExptList1", ",", "pdfsetexps", ",", 
       "processestitle", ",", "PDISNCtitle", ",", "NDISCCtitle", ",", 
       "PDISNCCCtitle", ",", "PVBPZtitle", ",", "PVBPWtitle", ",", "PJPtitle",
        ",", "hDISNCtitle", ",", "hDISCCtitle", ",", "hVBPZtitle", ",", 
       "pdfnamelable", ",", "PDFsetlabel", ",", "pdffile", ",", "corrfile", 
       ",", "pdfcorr", ",", "pdfcorrdr", ",", "deltaR", ",", "textsize", ",", 
       "Npttext", ",", "maxtext", ",", "maxmarker", ",", "mintext", ",", 
       "minmarker", ",", "cuttext", ",", "epilogxQ", ",", "epilogxQcorr", ",",
        "corrtitle1", ",", "corrdrtitle1", ",", "deltaRtitle1", ",", "title2",
        ",", "obsname", ",", "title3", ",", "title4", ",", "title", ",", 
       "xtitle", ",", "ytitle", ",", "xhisttitle", ",", "xhistabstitle", ",", 
       "yhisttitle", ",", "plotrange", ",", "stretchx", ",", "stretchy", ",", 
       "legendlabel", ",", "barseperator", ",", "binset", ",", "lineelement", 
       ",", "plotrangex", ",", "SM", ",", "SM1", ",", "SM2", ",", "SM3", ",", 
       "xQplotcorr", " ", ",", "histplotcorr1", ",", "histplotcorr2", ",", 
       "xQplotcorrdr", ",", "histplotcorrdr1", ",", "histplotcorrdr2", ",", 
       "xQplotdr", ",", "histplotdr2", ",", "myexpids", ",", "fmax", ",", 
       "fmax2", ",", "\n", "imgsize", ",", 
       RowBox[{"(*", 
        RowBox[{"title", ",", "xtitle", ",", "ytitle", ","}], "*)"}], 
       "lgdlabel", ",", "xrange", ",", "yrange", ",", "epilog", ",", 
       "titlesize", ",", "xtitlesize", ",", "ytitlesize", ",", "lgdlabelsize",
        ",", "ticklablesize", ",", "\n", "myplotstyle", ",", "myMarker", ",", 
       "\n", "lgdpos", ",", "xyrangeplot1", ",", "\n", "myplotsetting", ",", 
       "plot1data", ",", "plot1", ",", "processesplot1order", ",", "\n", 
       "dummy1", ",", "dummy2", ",", "percentagetext", ",", "hist1plotrangex",
        ",", "histautoxrange", ",", "hist2plotrangex", ",", "unhighlightsize",
        ",", "highlightrange", ",", "highlighttext", ",", "\n", "exptlist", 
       ",", "expttype", ",", "\n", "rows", ",", "exptnames", ",", 
       "exptnamestable"}], "}"}], ",", "\n", 
     RowBox[{"(*", 
      RowBox[{
      "read", " ", "arguments", " ", "in", " ", "config", " ", "file"}], 
      "*)"}], "\n", 
     RowBox[{"(*", 
      RowBox[{
      "===", "===", "===", "===", "===", "===", "===", "===", "===", "==="}], 
      "*)"}], "\n", 
     RowBox[{
      RowBox[{
       RowBox[{"{", 
        RowBox[{
        "Jobid", ",", "PDFname", ",", "FigureType", ",", "FigureFlag", ",", 
         "ExptidType", ",", "ExptidFlag", ",", "CorrelationArgType", ",", 
         "CorrelationArgFlag", ",", "UserArgName", ",", "UserArgValue", ",", 
         "\n", "XQfigureXrange", ",", "XQfigureYrange", ",", 
         "Hist1figureNbin", ",", "Hist1figureXrange", ",", 
         "Hist1figureYrange", ",", "\n", "ColorSeperator", ",", "\n", "Size", 
         ",", "HighlightType", ",", "HighlightMode", ",", "HighlightMode1", 
         ",", "HighlightMode2"}], "}"}], "=", "configarguments"}], ";", "\n", 
      "\n", 
      RowBox[{"(*", 
       RowBox[{"read", " ", "exptlist"}], "*)"}], "\n", 
      RowBox[{"exptlist", "=", 
       RowBox[{"{", "}"}]}], ";", "\n", 
      RowBox[{"If", "[", 
       RowBox[{
        RowBox[{
         RowBox[{"plottype", "==", "1"}], "  ", "||", " ", 
         RowBox[{"plottype", "==", "5"}], "  ", "||", " ", 
         RowBox[{"plottype", "==", "6"}]}], ",", 
        RowBox[{"exptlist", "=", 
         RowBox[{"Table", "[", 
          RowBox[{
           RowBox[{
            RowBox[{"corrfxQdtaobsclassin", "[", 
             RowBox[{"[", 
              RowBox[{"iexpt", ",", "6"}], "]"}], "]"}], "[", 
            RowBox[{"[", 
             RowBox[{"\"\<exptinfo\>\"", ",", "\"\<exptid\>\""}], "]"}], 
            "]"}], ",", 
           RowBox[{"{", 
            RowBox[{"iexpt", ",", "1", ",", 
             RowBox[{"Length", "[", "corrfxQdtaobsclassin", "]"}]}], "}"}]}], 
          "]"}]}]}], " ", "]"}], ";", "\n", 
      RowBox[{"If", "[", 
       RowBox[{
        RowBox[{
         RowBox[{"plottype", "==", "2"}], "  ", "||", " ", 
         RowBox[{"plottype", "==", "3"}], "  ", "||", " ", 
         RowBox[{"plottype", "==", "4"}]}], ",", 
        RowBox[{"exptlist", "=", 
         RowBox[{"Table", "[", 
          RowBox[{
           RowBox[{
            RowBox[{"corrfxQdtaobsclassin", "[", 
             RowBox[{"[", 
              RowBox[{"iexpt", ",", "6"}], "]"}], "]"}], "[", 
            RowBox[{"[", 
             RowBox[{"\"\<exptinfo\>\"", ",", "\"\<exptid\>\""}], "]"}], 
            "]"}], ",", 
           RowBox[{"{", 
            RowBox[{"iexpt", ",", "1", ",", 
             RowBox[{"Length", "[", "corrfxQdtaobsclassin", "]"}]}], "}"}]}], 
          "]"}]}]}], " ", "]"}], ";", "\n", 
      RowBox[{"(*", 
       RowBox[{
        RowBox[{"base", " ", "on", " ", "FigureFlag"}], ",", " ", 
        RowBox[{
        "decide", " ", "the", " ", "plot", " ", "type", " ", "of", " ", 
         "output", " ", "plots", " ", 
         RowBox[{"(", 
          RowBox[{
          "which", " ", "data", " ", "is", " ", "used", " ", "to", " ", 
           "plot"}], ")"}]}], ",", " ", "\n", 
        RowBox[{
         RowBox[{"ex", ":", " ", 
          RowBox[{"if", " ", "correlation", " ", "flag"}]}], " ", "=", " ", 
         "1"}], ",", " ", 
        RowBox[{"use", " ", "correlation", " ", "data"}]}], "*)"}], "\n", 
      RowBox[{"(*", 
       RowBox[{
       "===", "===", "===", "===", "===", "===", "===", "===", "===", "==="}],
        "*)"}], "\n", "\n", 
      RowBox[{"(*", 
       RowBox[{
        RowBox[{"decide", " ", "title", " ", "by", " ", "PDFname"}], ",", " ",
         "FigureFlag", ",", " ", "CorrelationArgFlag", ",", " ", 
        RowBox[{"ex", ":", " ", 
         RowBox[{"Corr", 
          RowBox[{
           RowBox[{"(", 
            RowBox[{
             RowBox[{"f_j", 
              RowBox[{"(", 
               RowBox[{"x", ",", "Q"}], ")"}]}], ",", 
             RowBox[{"r_i", 
              RowBox[{"(", 
               RowBox[{"x", ",", "Q"}], ")"}]}]}], ")"}], ".", "\n", "if"}], 
          " ", "user", " ", "of", " ", "CorrelationArgFlag", " ", "is", " ", 
          "on"}]}], ",", " ", 
        RowBox[{"Corr", 
         RowBox[{"(", " ", 
          RowBox[{"user_input", ",", 
           RowBox[{"r_i", 
            RowBox[{"(", 
             RowBox[{"x", ",", "Q"}], ")"}]}]}], ")"}]}]}], "*)"}], "\n", 
      RowBox[{"(*", 
       RowBox[{
       "===", "===", "===", "===", "===", "===", "===", "===", "===", "==="}],
        "*)"}], "\n", 
      RowBox[{"corrtitle1", "=", "\"\<Corr( \>\""}], ";", "\n", 
      RowBox[{"corrdrtitle1", "=", 
       RowBox[{"(*", 
        RowBox[{"\"\<\[Delta]r*Corr( \>\"", ";"}], "*)"}], 
       "\"\<Sensitivity to \>\""}], ";", "\n", 
      RowBox[{"deltaRtitle1", "=", 
       RowBox[{"(*", 
        RowBox[{"\"\<\[Delta]r \>\"", ";"}], "*)"}], 
       "\"\<PDF error \[Delta]r for residuals, \>\""}], ";", "\n", 
      RowBox[{"title2", "=", "\"\<, r(x,\[Mu]))\>\""}], ";", "\n", 
      RowBox[{"title3", "=", 
       RowBox[{"\"\< for dataset of \>\"", "<>", "PDFname"}]}], ";", "\n", 
      RowBox[{"obsname", "=", "\"\<\>\""}], ";", 
      RowBox[{"(*", "initialize", "*)"}], "\n", 
      RowBox[{"pdfnamelable", "=", 
       RowBox[{"{", 
        RowBox[{
        "\"\<\\!\\(\\*OverscriptBox[\\(b\\), \\(_\\)]\\)(x,\[Mu])\>\"", ",", 
         "\"\<\\!\\(\\*OverscriptBox[\\(c\\), \\(_\\)]\\)(x,\[Mu])\>\"", ",", 
         "\"\<\\!\\(\\*OverscriptBox[\\(s\\), \\(_\\)]\\)(x,\[Mu])\>\"", ",", 
         "\"\<\\!\\(\\*OverscriptBox[\\(d\\), \\(_\\)]\\)(x,\[Mu])\>\"", ",", 
         "\"\<\\!\\(\\*OverscriptBox[\\(u\\), \\(_\\)]\\)(x,\[Mu])\>\"", ",", 
         "\"\<g(x,\[Mu])\>\"", ",", "\"\<u(x,\[Mu])\>\"", ",", 
         "\"\<d(x,\[Mu])\>\"", ",", "\"\<s(x,\[Mu])\>\"", ",", 
         "\"\<c(x,\[Mu])\>\"", ",", "\"\<b(x,\[Mu])\>\"", ",", 
         "\"\<\\!\\(\\*FractionBox[\\(\\*OverscriptBox[\\(d\\), \\(_\\)] \
\\((x, \[Mu])\\)\\), \\(\\*OverscriptBox[\\(u\\), \\(_\\)] \\((x, \
\[Mu])\\)\\)]\\)\>\"", ",", 
         "\"\<\\!\\(\\*FractionBox[\\(d \\((x, \[Mu])\\)\\), \\(u \\((x, \
\[Mu])\\)\\)]\\)\>\"", ",", 
         "\"\<\\!\\(\\*FractionBox[\\(s \\((x, \[Mu])\\) + \
\\*OverscriptBox[\\(s\\), \\(_\\)] \\((x, \[Mu])\\)\\), \
\\(\\*OverscriptBox[\\(u\\), \\(_\\)] \\((x, \[Mu])\\) + \
\\*OverscriptBox[\\(d\\), \\(_\\)] \\((x, \[Mu])\\)\\)]\\)\>\"", ",", 
         "UserArgName"}], "}"}]}], ";", "\n", "\n", 
      RowBox[{"If", "[", "\n", 
       RowBox[{
        RowBox[{
         RowBox[{"plottype", ">=", "1"}], " ", "&&", " ", 
         RowBox[{"plottype", "<=", "6"}]}], ",", "\n", 
        RowBox[{
         RowBox[{"If", "[", "\n", 
          RowBox[{
           RowBox[{"plottype", "==", "1"}], " ", ",", "\n", 
           RowBox[{
            RowBox[{"obsname", "=", "\"\<\>\""}], ";"}]}], "\n", "]"}], ";", 
         "\n", 
         RowBox[{"If", "[", "\n", 
          RowBox[{
           RowBox[{"plottype", "==", "2"}], " ", ",", "\n", 
           RowBox[{
            RowBox[{"obsname", "=", "\"\<Expt Uncertainty Ratio\>\""}], ";", 
            "\n", 
            RowBox[{"title", "=", 
             RowBox[{"obsname", "<>", "title3"}]}], ";"}]}], "\n", "]"}], ";",
          "\n", 
         RowBox[{"If", "[", "\n", 
          RowBox[{
           RowBox[{"plottype", "==", "3"}], " ", ",", "\n", 
           RowBox[{
            RowBox[{"obsname", "=", "\"\<Residual(central value)\>\""}], ";", 
            "\n", 
            RowBox[{"title", "=", 
             RowBox[{"obsname", "<>", "title3"}]}], ";"}]}], "\n", "]"}], ";",
          "\n", 
         RowBox[{"If", "[", "\n", 
          RowBox[{
           RowBox[{"plottype", "==", "4"}], " ", ",", "\n", 
           RowBox[{
            RowBox[{"obsname", "=", 
             RowBox[{"deltaRtitle1", "<>", "PDFname"}]}], ";", "\n", 
            RowBox[{"title", "=", "obsname"}], ";"}]}], "\n", "]"}], ";", 
         "\n", 
         RowBox[{"If", "[", "\n", 
          RowBox[{
           RowBox[{"plottype", "==", "5"}], " ", ",", "\n", 
           RowBox[{
            RowBox[{"obsname", "=", 
             RowBox[{"corrdrtitle1", "<>", 
              RowBox[{"pdfnamelable", "[", 
               RowBox[{"[", 
                RowBox[{"flavourin", "+", "6"}], "]"}], "]"}], 
              RowBox[{"(*", 
               RowBox[{"<>", "title2"}], "*)"}], "<>", "\"\<, \>\"", "<>", 
              "PDFname"}]}], ";", "\n", 
            RowBox[{"title", "=", "obsname"}], ";"}]}], "\n", "]"}], ";", 
         "\n", 
         RowBox[{"If", "[", "\n", 
          RowBox[{
           RowBox[{"plottype", "==", "6"}], " ", ",", "\n", 
           RowBox[{
            RowBox[{"obsname", "=", 
             RowBox[{"corrtitle1", "<>", 
              RowBox[{"pdfnamelable", "[", 
               RowBox[{"[", 
                RowBox[{"flavourin", "+", "6"}], "]"}], "]"}], "<>", 
              "title2"}]}], ";", "\n", 
            RowBox[{"title", "=", 
             RowBox[{"obsname", "<>", "title3"}]}], ";"}]}], "\n", "]"}], 
         ";"}]}], "\n", "\n", "]"}], ";", "\n", "\n", "\n", 
      RowBox[{"xtitle", "=", "\"\<x\>\""}], ";", "\n", 
      RowBox[{"ytitle", "=", "\"\<\[Mu] [GeV]\>\""}], ";", "\n", 
      RowBox[{"xhisttitle", "=", "obsname"}], ";", "\n", 
      RowBox[{"xhistabstitle", "=", 
       RowBox[{"\"\<| \>\"", "<>", "obsname", "<>", "\"\< |\>\""}]}], ";", 
      "\n", 
      RowBox[{"yhisttitle", "=", "\"\<#points\>\""}], ";", "\n", "\n", 
      RowBox[{"(*", 
       RowBox[{"btw", " ", "test"}], "*)"}], 
      RowBox[{"(*", 
       RowBox[{
        RowBox[{"Print", "[", 
         RowBox[{"\"\<test: \>\"", ",", "plottype"}], "]"}], ";"}], "*)"}], 
      "\n", "\n", 
      RowBox[{"(*", 
       RowBox[{
       "decide", " ", "the", " ", "data", " ", "include", " ", "by", " ", 
        "ExptidFlag", " ", 
        RowBox[{"<<", " ", "perhaps"}], " ", "could", " ", "be", " ", "done", 
        " ", "before", " ", "function"}], "*)"}], "\n", 
      RowBox[{"(*", 
       RowBox[{
       "===", "===", "===", "===", "===", "===", "===", "===", "===", "==="}],
        "*)"}], "\n", 
      RowBox[{"(*", 
       RowBox[{
       "make", " ", "text", " ", "for", " ", "Npt", " ", "of", " ", "data"}], 
       "*)"}], "\n", 
      RowBox[{"(*", "********************************)"}], "\n", 
      RowBox[{"(*", 
       RowBox[{
       "prepare", " ", "for", " ", "data", " ", "input", " ", "to", " ", 
        "processdataplotsmultiexp"}], "*)"}], "\n", 
      RowBox[{"(*", "********************************)"}], "\n", 
      RowBox[{"(*", 
       RowBox[{
        RowBox[{
        "transf", " ", "format", " ", "from", " ", "LF", " ", "to", " ", 
         "LF1"}], ",", " ", 
        RowBox[{
        "since", " ", "plot", " ", "functions", " ", "use", " ", "LF1"}]}], 
       "*)"}], "\n", "\n", 
      RowBox[{"(*", 
       RowBox[{
        RowBox[{"if", " ", "dr", "*", "corr", " ", "or", " ", "corr"}], ",", 
        " ", 
        RowBox[{"data", " ", 
         RowBox[{"is", " ", "[", 
          RowBox[{"[", 
           RowBox[{"iexpt", ",", "flavour"}], "]"}], "]"}]}]}], "*)"}], "\n", 
      
      RowBox[{"If", "[", "\n", 
       RowBox[{
        RowBox[{
         RowBox[{"plottype", "==", "2"}], " ", "||", " ", 
         RowBox[{"plottype", "==", "3"}], " ", "||", " ", 
         RowBox[{"plottype", "==", "4"}], " ", "||", " ", 
         RowBox[{"plottype", "==", "5"}], "  ", "||", " ", 
         RowBox[{"plottype", "==", "6"}]}], ",", "\n", 
        RowBox[{
         RowBox[{"fmax", "=", 
          RowBox[{"Length", "[", 
           RowBox[{"corrfxQdtaobsclassin", "[", 
            RowBox[{"[", "1", "]"}], "]"}], " ", "]"}]}], ";", "\n", "\n", 
         RowBox[{"(*", 
          RowBox[{
           RowBox[{
            RowBox[{"data", " ", "format"}], " ", "\[Equal]", " ", 
            RowBox[{"{", 
             RowBox[{
              RowBox[{"LF", "[", 
               RowBox[{"x", ",", "Q", ",", "obs"}], "]"}], ",", "...", ",", 
              "..."}], "}"}]}], ",", " ", 
           RowBox[{"to", " ", "LF1"}]}], "*)"}], "\n", 
         RowBox[{"pdfcorr", "=", 
          RowBox[{"Table", "[", 
           RowBox[{
            RowBox[{
             RowBox[{
              RowBox[{"corrfxQdtaobsclassin", "[", 
               RowBox[{"[", 
                RowBox[{"iexpt", ",", 
                 RowBox[{"flavourin", "+", "6"}]}], "]"}], "]"}], "[", 
              RowBox[{"[", "\"\<data\>\"", "]"}], "]"}], "/.", 
             RowBox[{"LF", "->", "LF1"}]}], ",", 
            RowBox[{"{", 
             RowBox[{"iexpt", ",", "1", ",", 
              RowBox[{"Length", "[", "corrfxQdtaobsclassin", "]"}]}], "}"}]}],
            "]"}]}], ";", "\n", "\n", 
         RowBox[{"(*", 
          RowBox[{
           RowBox[{
           "merge", " ", "all", " ", "experimental", " ", "data", " ", "into",
             " ", "one"}], ",", " ", 
           RowBox[{"for", " ", "all", " ", "flavours"}]}], "*)"}], "\n", 
         RowBox[{"(*", 
          RowBox[{
           RowBox[{"ex", ":", " ", 
            RowBox[{"corrdataforplot", "[", 
             RowBox[{"[", 
              RowBox[{"iexpt", ",", "flavour", ",", "Npt"}], "]"}], "]"}]}], 
           " ", "\[Rule]", " ", 
           RowBox[{"orrdataforplot", "[", 
            RowBox[{"[", 
             RowBox[{"flavour", ",", "Npt"}], "]"}], "]"}]}], "*)"}], "\n", 
         RowBox[{"(*", 
          RowBox[{
           RowBox[{
            RowBox[{"{", 
             RowBox[{"pdfcorr", " ", ",", "dummy1", ",", "dummy2"}], "}"}], 
            "=", 
            RowBox[{"mergeplotdata", "[", 
             RowBox[{"{", 
              RowBox[{"pdfcorr", " ", ",", "pdfcorr", ",", "pdfcorr"}], "}"}],
              "]"}]}], ";"}], "*)"}], "\n", 
         RowBox[{"pdfcorr", "=", 
          RowBox[{"Flatten", "[", 
           RowBox[{"pdfcorr", ",", "1"}], "]"}]}], ";", "\n", "\n", 
         RowBox[{"(*", " ", 
          RowBox[{"deletezerovalue", ":", " ", 
           RowBox[{
           "delete", " ", "data", " ", "with", " ", "0", " ", "value", " ", 
            RowBox[{"(", 
             RowBox[{
              RowBox[{
              "0", " ", "value", " ", "usually", " ", "from", " ", "mb"}], 
              ",", " ", 
              RowBox[{"mc", " ", "cut"}]}], ")"}]}]}], "*)"}], "\n", 
         RowBox[{"(*", 
          RowBox[{
           RowBox[{
            RowBox[{"{", 
             RowBox[{"pdfcorr", " ", ",", "dummy1", ",", "dummy2"}], "}"}], 
            "=", 
            RowBox[{"deletezerovalue", "[", 
             RowBox[{"{", 
              RowBox[{"pdfcorr", " ", ",", "pdfcorr", ",", "pdfcorr"}], "}"}],
              "]"}]}], ";"}], "*)"}], "\n", 
         RowBox[{"pdfcorr", "=", 
          RowBox[{"Select", "[", 
           RowBox[{"pdfcorr", ",", 
            RowBox[{
             RowBox[{
              RowBox[{"#", "[", 
               RowBox[{"[", "3", "]"}], "]"}], "!=", "0"}], "&"}]}], "]"}]}], 
         ";", "\n", "\"\<dummy\>\""}]}], "\n", "]"}], ";", "\n", "\n", 
      RowBox[{"If", "[", "\n", 
       RowBox[{
        RowBox[{"plottype", "==", "1"}], ",", "\n", 
        RowBox[{
         RowBox[{"fmax", "=", 
          RowBox[{"Length", "[", 
           RowBox[{"corrfxQdtaobsclassin", "[", 
            RowBox[{"[", "1", "]"}], "]"}], " ", "]"}]}], ";", "\n", "\n", 
         RowBox[{"(*", 
          RowBox[{"set", " ", 
           RowBox[{"{", 
            RowBox[{
             RowBox[{"corr", "[", 
              RowBox[{"[", "flavour", "]"}], "]"}], ",", 
             RowBox[{"drcorr", "[", 
              RowBox[{"[", "flavour", "]"}], "]"}], ",", 
             RowBox[{"dr", "[", 
              RowBox[{"[", "flavour", "]"}], "]"}]}], "}"}]}], "*)"}], "\n", 
         RowBox[{"(*", 
          RowBox[{
          "they", " ", "are", " ", "used", " ", "to", "  ", "input", " ", 
           "into", " ", "processdataplotsmultiexp"}], "*)"}], "\n", 
         RowBox[{"(*", 
          RowBox[{
           RowBox[{"data", " ", "format"}], " ", "\[Equal]", " ", 
           RowBox[{"{", 
            RowBox[{
             RowBox[{"LF", "[", 
              RowBox[{"x", ",", "Q", ",", "obs"}], "]"}], ",", "...", ",", 
             "..."}], "}"}]}], "*)"}], "\n", 
         RowBox[{"pdfcorr", "=", 
          RowBox[{"Table", "[", 
           RowBox[{
            RowBox[{
             RowBox[{
              RowBox[{
               RowBox[{"Datamethods", "[", 
                RowBox[{"[", "\"\<take\>\"", "]"}], "]"}], "[", 
               RowBox[{
                RowBox[{"corrfxQdtaobsclassin", "[", 
                 RowBox[{"[", 
                  RowBox[{"iexpt", ",", 
                   RowBox[{"flavourin", "+", "6"}]}], "]"}], "]"}], ",", 
                "2"}], "]"}], "[", 
              RowBox[{"[", "\"\<data\>\"", "]"}], "]"}], "/.", 
             RowBox[{"LF", "->", "LF1"}]}], ",", 
            RowBox[{"{", 
             RowBox[{"iexpt", ",", "1", ",", 
              RowBox[{"Length", "[", "corrfxQdtaobsclassin", "]"}]}], "}"}]}],
            "]"}]}], ";"}]}], "\n", "]"}], ";", "\n", "\n", 
      RowBox[{"(*", 
       RowBox[{
        RowBox[{
        "decide", " ", "xy", " ", "range", " ", "of", " ", "xQ", " ", 
         "plot"}], ",", " ", 
        RowBox[{"Nbin", " ", "of", " ", "histogram"}], ",", " ", 
        RowBox[{
        "xy", " ", "range", " ", "of", " ", "histogram", " ", "by", "\n", 
         "XQfigureXrange"}], ",", "XQfigureYrange", ",", "Hist1figureNbin", 
        ",", "Hist1figureXrange", ",", "Hist1figureYrange"}], "*)"}], "\n", 
      RowBox[{"(*", 
       RowBox[{
       "===", "===", "===", "===", "===", "===", "===", "===", "===", "==="}],
        "*)"}], "\n", 
      RowBox[{"plotrange", "=", 
       RowBox[{
        RowBox[{"{", 
         RowBox[{"XQfigureXrange", ",", "XQfigureYrange"}], "}"}], "//", 
        "Flatten"}]}], ";", "\n", "\n", 
      RowBox[{"(*", 
       RowBox[{
        RowBox[{"plotrangex", "=", "Hist1figureXrange"}], ";"}], "*)"}], 
      RowBox[{"(*", 
       RowBox[{
        RowBox[{"for", " ", "histogram"}], ",", " ", 
        RowBox[{"how", " ", "to", " ", "deal", " ", "with", " ", 
         RowBox[{"auto", "?"}]}]}], "*)"}], "\n", 
      RowBox[{"hist1plotrangex", "=", "Hist1figureXrange"}], ";", "\n", 
      RowBox[{"(*", "\n", 
       RowBox[{
        RowBox[{"If", "[", "\n", 
         RowBox[{
          RowBox[{
           RowBox[{"plottype", "\[Equal]", "5"}], "  ", "||", " ", 
           RowBox[{"plottype", "\[Equal]", "6"}]}], ",", "\n", 
          RowBox[{
           RowBox[{"histautoxrange", "=", 
            RowBox[{"3", "*", 
             RowBox[{"Median", "[", 
              RowBox[{
               RowBox[{"pdfcorr", "[", 
                RowBox[{"[", 
                 RowBox[{"flavourin", "+", "6"}], "]"}], "]"}], "/.", 
               RowBox[{
                RowBox[{"LF1", "[", "a__", "]"}], "\[RuleDelayed]", 
                RowBox[{"Abs", "[", 
                 RowBox[{
                  RowBox[{"{", "a", "}"}], "[", 
                  RowBox[{"[", "3", "]"}], "]"}], " ", "]"}]}]}], " ", 
              "]"}]}]}], ";"}]}], "\n", "]"}], ";"}], "\n", "*)"}], "\n", 
      RowBox[{"If", "[", "\n", 
       RowBox[{
        RowBox[{
         RowBox[{"plottype", "==", "2"}], " ", "||", " ", 
         RowBox[{"plottype", "==", "3"}], " ", "||", " ", 
         RowBox[{"plottype", "==", "4"}], " ", "||", " ", 
         RowBox[{"plottype", "==", "5"}], "  ", "||", " ", 
         RowBox[{"plottype", "==", "6"}]}], ",", "\n", 
        RowBox[{
         RowBox[{"histautoxrange", "=", 
          RowBox[{"3", "*", 
           RowBox[{"Median", "[", 
            RowBox[{"pdfcorr", "/.", 
             RowBox[{
              RowBox[{"LF1", "[", "a__", "]"}], ":>", 
              RowBox[{"Abs", "[", 
               RowBox[{
                RowBox[{"{", "a", "}"}], "[", 
                RowBox[{"[", "3", "]"}], "]"}], " ", "]"}]}]}], " ", 
            "]"}]}]}], ";"}]}], "\n", "]"}], ";", "\n", 
      RowBox[{"If", "[", 
       RowBox[{
        RowBox[{
         RowBox[{"hist1plotrangex", "[", 
          RowBox[{"[", "1", "]"}], "]"}], "==", "\"\<auto\>\""}], ",", 
        RowBox[{
         RowBox[{"hist1plotrangex", "[", 
          RowBox[{"[", "1", "]"}], "]"}], "=", 
         RowBox[{"-", "histautoxrange"}]}]}], "]"}], ";", "\n", 
      RowBox[{"If", "[", 
       RowBox[{
        RowBox[{
         RowBox[{"hist1plotrangex", "[", 
          RowBox[{"[", "2", "]"}], "]"}], "==", "\"\<auto\>\""}], ",", 
        RowBox[{
         RowBox[{"hist1plotrangex", "[", 
          RowBox[{"[", "2", "]"}], "]"}], "=", "histautoxrange"}]}], "]"}], 
      ";", "\n", 
      RowBox[{"(*", 
       RowBox[{
        RowBox[{"Print", "[", 
         RowBox[{"histautoxrange", ",", "hist1plotrangex"}], "]"}], ";"}], 
       "*)"}], "\n", "\n", 
      RowBox[{"hist2plotrangex", "=", "hist1plotrangex"}], ";", 
      RowBox[{"If", "[", 
       RowBox[{
        RowBox[{
         RowBox[{"hist2plotrangex", "[", 
          RowBox[{"[", "1", "]"}], "]"}], "<", "0.0"}], ",", 
        RowBox[{
         RowBox[{"hist2plotrangex", "[", 
          RowBox[{"[", "1", "]"}], "]"}], "=", "0.0"}]}], "]"}], ";", "\n", 
      RowBox[{"(*", 
       RowBox[{
        RowBox[{"for", " ", "correlation", " ", "histogram"}], ",", " ", 
        RowBox[{"set", " ", "range", " ", 
         RowBox[{"(", 
          RowBox[{
           RowBox[{"-", "1"}], ",", "1"}], ")"}]}]}], "*)"}], "\n", 
      RowBox[{"If", "[", 
       RowBox[{
        RowBox[{"plottype", "==", "6"}], ",", 
        RowBox[{
         RowBox[{"hist1plotrangex", "=", 
          RowBox[{"{", 
           RowBox[{
            RowBox[{"-", "1"}], ",", "1"}], "}"}]}], ";", 
         RowBox[{"hist2plotrangex", "=", 
          RowBox[{"{", 
           RowBox[{"0", ",", "1"}], "}"}]}], ";"}]}], "]"}], ";", "\n", 
      RowBox[{"stretchx", "=", "1"}], ";", 
      RowBox[{"stretchy", "=", "1"}], ";", "\n", 
      RowBox[{"Hist1figureNbin", "=", "Hist1figureNbin"}], ";", "\n", "\n", 
      RowBox[{"(*", 
       RowBox[{
       "setup", " ", "texts", " ", "and", " ", "lines", " ", "in", " ", 
        "plots"}], "*)"}], "\n", 
      RowBox[{"(*", 
       RowBox[{
       "===", "===", "===", "===", "===", "===", "===", "===", "===", "==="}],
        "*)"}], "\n", 
      RowBox[{"(*", 
       RowBox[{
       "set", " ", "outlayer", " ", "points", " ", "label", " ", "in", " ", 
        "plot"}], "*)"}], "\n", 
      RowBox[{"textsize", "=", "16"}], ";", "\n", 
      RowBox[{"Npttext", "=", 
       RowBox[{"Text", "[", 
        RowBox[{
         RowBox[{"Style", "[", 
          RowBox[{
           RowBox[{"\"\<Npt: \>\"", "<>", 
            RowBox[{"ToString", "[", 
             RowBox[{"Length", "[", 
              RowBox[{"pdfcorr", "//", "Flatten"}], "]"}], " ", "]"}]}], ",", 
           "textsize", ",", "Black"}], "]"}], ",", 
         RowBox[{"Scaled", "[", 
          RowBox[{"{", 
           RowBox[{"0.1", ",", "0.9"}], "}"}], "]"}]}], " ", "]"}]}], ";", 
      "\n", 
      RowBox[{"maxtext", "=", 
       RowBox[{"Text", "[", 
        RowBox[{
         RowBox[{"Style", "[", 
          RowBox[{
           RowBox[{
            RowBox[{"ToString", "[", 
             RowBox[{"ColorSeperator", "[", 
              RowBox[{"[", "3", "]"}], "]"}], " ", "]"}], "<>", "\"\<%\>\""}],
            ",", "textsize", ",", "Black"}], "]"}], ",", 
         RowBox[{"Scaled", "[", 
          RowBox[{"{", 
           RowBox[{"0.1", ",", "0.8"}], "}"}], "]"}]}], " ", "]"}]}], ";", 
      "\n", 
      RowBox[{"maxmarker", "=", 
       RowBox[{"{", 
        RowBox[{"Red", ",", 
         RowBox[{"PointSize", "->", "0.02"}], ",", 
         RowBox[{"Point", "[", 
          RowBox[{"Scaled", "[", 
           RowBox[{"{", 
            RowBox[{"0.175", ",", "0.8"}], "}"}], "]"}], " ", "]"}]}], 
        "}"}]}], ";", "\n", 
      RowBox[{"mintext", "=", 
       RowBox[{"Text", "[", 
        RowBox[{
         RowBox[{"Style", "[", 
          RowBox[{
           RowBox[{
            RowBox[{"ToString", "[", 
             RowBox[{"ColorSeperator", "[", 
              RowBox[{"[", "3", "]"}], "]"}], " ", "]"}], "<>", 
            "\"\<%(-)\>\""}], ",", "textsize", ",", "Black"}], "]"}], ",", 
         RowBox[{"Scaled", "[", 
          RowBox[{"{", 
           RowBox[{"0.1", ",", "0.7"}], "}"}], "]"}]}], " ", "]"}]}], ";", 
      "\n", 
      RowBox[{"minmarker", "=", 
       RowBox[{"{", 
        RowBox[{"Blue", ",", 
         RowBox[{"PointSize", "->", "0.02"}], ",", 
         RowBox[{"Point", "[", 
          RowBox[{"Scaled", "[", 
           RowBox[{"{", 
            RowBox[{"0.175", ",", "0.7"}], "}"}], "]"}], " ", "]"}]}], 
        "}"}]}], ";", "\n", 
      RowBox[{"cuttext", "=", 
       RowBox[{"Text", "[", 
        RowBox[{
         RowBox[{"Style", "[", 
          RowBox[{"\"\<cut: |data|<0.5\>\"", ",", "textsize", ",", "Black"}], 
          "]"}], ",", 
         RowBox[{"Scaled", "[", 
          RowBox[{"{", 
           RowBox[{"0.15", ",", "0.6"}], "}"}], "]"}]}], " ", "]"}]}], ";", 
      "\n", 
      RowBox[{"percentagetext", "=", 
       RowBox[{"Text", "[", 
        RowBox[{
         RowBox[{"Style", "[", 
          RowBox[{
           RowBox[{"\"\<percentage of colors:\\n\>\"", "<>", 
            RowBox[{"ToString", "[", 
             RowBox[{"ColorSeperator", "[", 
              RowBox[{"[", "1", "]"}], "]"}], " ", "]"}], "<>", "\"\<%\>\"", "<>", 
            RowBox[{"ToString", "[", 
             RowBox[{"ColorSeperator", "[", 
              RowBox[{"[", "2", "]"}], "]"}], " ", "]"}], "<>", "\"\<%\>\"", "<>", 
            RowBox[{"ToString", "[", 
             RowBox[{"ColorSeperator", "[", 
              RowBox[{"[", "3", "]"}], "]"}], " ", "]"}], "<>", "\"\<%\>\""}],
            ",", "textsize", ",", "Black"}], "]"}], ",", 
         RowBox[{"Scaled", "[", 
          RowBox[{"{", 
           RowBox[{"0.2", ",", "0.8"}], "}"}], "]"}]}], " ", "]"}]}], ";", 
      "\n", "\n", 
      RowBox[{"(*", 
       RowBox[{
        RowBox[{"for", " ", "correlation"}], ",", " ", 
        RowBox[{
        "set", " ", "color", " ", "seperator", " ", "by", " ", "0.5"}], ",", 
        " ", "0.7", ",", " ", "0.85", ",", " ", "1"}], "*)"}], "\n", 
      RowBox[{"(*", 
       RowBox[{
        RowBox[{"for", " ", "uncertainty", " ", "of", " ", "theory"}], ",", 
        " ", "experiment", ",", " ", 
        RowBox[{"also", " ", "0.5"}], ",", " ", "0.7", ",", " ", "0.85", ",", 
        " ", "1"}], "*)"}], "\n", 
      RowBox[{"(*", 
       RowBox[{
        RowBox[{"for", " ", "residual", " ", "central", " ", "value"}], ",", 
        " ", "deltaR", ",", " ", 
        RowBox[{"dr", "*", "corr"}], ",", " ", 
        RowBox[{
         RowBox[{"since", " ", "value", " ", "could", " ", "be"}], " ", ">", 
         " ", 
         RowBox[{
         "1", " ", "and", " ", "even", " ", "very", " ", "large", "\n", 
          "color", " ", "seperator", " ", "decided", " ", "by", " ", 
          "ColorSeperator"}]}]}], "*)"}], "\n", 
      RowBox[{"(*", 
       RowBox[{
       "===", "===", "===", "===", "===", "===", "===", "===", "===", "==="}],
        "*)"}], "\n", 
      RowBox[{"(*", "\n", 
       RowBox[{
        RowBox[{"If", "[", "\n", 
         RowBox[{
          RowBox[{"plottype", "\[Equal]", "5"}], ",", "\n", 
          RowBox[{
           RowBox[{"legendlabel", "=", "\"\<\>\""}], ";", "\n", 
           RowBox[{"barseperator", "=", 
            RowBox[{"GetDataPercentage", "[", 
             RowBox[{
              RowBox[{
               RowBox[{"pdfcorr", "[", 
                RowBox[{"[", 
                 RowBox[{"flavourin", "+", "6"}], "]"}], "]"}], "/.", 
               RowBox[{
                RowBox[{"LF1", "[", "a__", "]"}], "\[RuleDelayed]", 
                RowBox[{"Abs", "[", 
                 RowBox[{
                  RowBox[{"{", "a", "}"}], "[", 
                  RowBox[{"[", "3", "]"}], "]"}], " ", "]"}]}]}], " ", ",", 
              RowBox[{"Join", "[", 
               RowBox[{"ColorSeperator", ",", 
                RowBox[{"{", "100", "}"}]}], "]"}]}], " ", "]"}]}], ";", "\n", 
           RowBox[{"barseperator", "=", 
            RowBox[{"{", 
             RowBox[{
              RowBox[{"-", 
               RowBox[{"barseperator", "[", 
                RowBox[{"[", "4", "]"}], "]"}]}], ",", 
              RowBox[{"-", 
               RowBox[{"barseperator", "[", 
                RowBox[{"[", "3", "]"}], "]"}]}], ",", 
              RowBox[{"-", 
               RowBox[{"barseperator", "[", 
                RowBox[{"[", "2", "]"}], "]"}]}], ",", 
              RowBox[{"-", 
               RowBox[{"barseperator", "[", 
                RowBox[{"[", "1", "]"}], "]"}]}], ",", 
              RowBox[{"barseperator", "[", 
               RowBox[{"[", "1", "]"}], "]"}], ",", 
              RowBox[{"barseperator", "[", 
               RowBox[{"[", "2", "]"}], "]"}], ",", 
              RowBox[{"barseperator", "[", 
               RowBox[{"[", "3", "]"}], "]"}], ",", 
              RowBox[{"barseperator", "[", 
               RowBox[{"[", "4", "]"}], "]"}]}], "}"}]}], ";", "\n", 
           RowBox[{"epilogxQ", "=", 
            RowBox[{"{", 
             RowBox[{"Npttext", ",", 
              RowBox[{"(*", 
               RowBox[{
               "maxtext", ",", "maxmarker", ",", "mintext", ",", 
                "minmarker"}], "*)"}], "percentagetext"}], "}"}]}], ";", "\n",
            "\n", "\"\<dummy\>\""}]}], "\n", 
         RowBox[{"(*", 
          RowBox[{
           RowBox[{"corr", " ", "plot", " ", "cut", " ", "by"}], " ", "|", 
           "data", "|", 
           RowBox[{"<", "0.5"}]}], "*)"}], "\n", "]"}], ";"}], "\n", "*)"}], 
      "\n", 
      RowBox[{"(*", 
       RowBox[{
        RowBox[{
         RowBox[{"same", " ", "as", " ", "plottype"}], "=", "5"}], ",", " ", 
        RowBox[{
        "but", " ", "data", " ", "strucure", " ", "pdfcorr", " ", "is", " ", 
         "different"}]}], "*)"}], "\n", 
      RowBox[{"If", "[", "\n", " ", 
       RowBox[{
        RowBox[{
         RowBox[{"plottype", "==", "2"}], " ", "||", " ", 
         RowBox[{"plottype", "==", "3"}], " ", "||", " ", 
         RowBox[{"plottype", "==", "4"}], " ", "||", " ", 
         RowBox[{"plottype", "==", "5"}]}], ",", "\n", 
        RowBox[{
         RowBox[{"legendlabel", "=", "\"\<\>\""}], ";", "\n", 
         RowBox[{"barseperator", "=", 
          RowBox[{"GetDataPercentage", "[", 
           RowBox[{
            RowBox[{"pdfcorr", "/.", 
             RowBox[{
              RowBox[{"LF1", "[", "a__", "]"}], ":>", 
              RowBox[{"Abs", "[", 
               RowBox[{
                RowBox[{"{", "a", "}"}], "[", 
                RowBox[{"[", "3", "]"}], "]"}], " ", "]"}]}]}], " ", ",", 
            RowBox[{"Join", "[", 
             RowBox[{"ColorSeperator", ",", 
              RowBox[{"{", "100", "}"}]}], "]"}]}], " ", "]"}]}], ";", "\n", 
         RowBox[{"barseperator", "=", 
          RowBox[{"{", 
           RowBox[{
            RowBox[{"-", 
             RowBox[{"barseperator", "[", 
              RowBox[{"[", "4", "]"}], "]"}]}], ",", 
            RowBox[{"-", 
             RowBox[{"barseperator", "[", 
              RowBox[{"[", "3", "]"}], "]"}]}], ",", 
            RowBox[{"-", 
             RowBox[{"barseperator", "[", 
              RowBox[{"[", "2", "]"}], "]"}]}], ",", 
            RowBox[{"-", 
             RowBox[{"barseperator", "[", 
              RowBox[{"[", "1", "]"}], "]"}]}], ",", 
            RowBox[{"barseperator", "[", 
             RowBox[{"[", "1", "]"}], "]"}], ",", 
            RowBox[{"barseperator", "[", 
             RowBox[{"[", "2", "]"}], "]"}], ",", 
            RowBox[{"barseperator", "[", 
             RowBox[{"[", "3", "]"}], "]"}], ",", 
            RowBox[{"barseperator", "[", 
             RowBox[{"[", "4", "]"}], "]"}]}], "}"}]}], ";", "\n", 
         RowBox[{"epilogxQ", "=", 
          RowBox[{"{", 
           RowBox[{"Npttext", ",", 
            RowBox[{"(*", 
             RowBox[{
             "maxtext", ",", "maxmarker", ",", "mintext", ",", "minmarker"}], 
             "*)"}], "percentagetext"}], "}"}]}], ";", "\n", "\n", 
         "\"\<dummy\>\""}]}], "\n", 
       RowBox[{"(*", 
        RowBox[{
         RowBox[{"corr", " ", "plot", " ", "cut", " ", "by"}], " ", "|", 
         "data", "|", 
         RowBox[{"<", "0.5"}]}], "*)"}], "\n", "]"}], ";", "\n", "\n", 
      RowBox[{"If", "[", "\n", 
       RowBox[{
        RowBox[{"plottype", "==", "6"}], ",", "\n", 
        RowBox[{
         RowBox[{"legendlabel", "=", "\"\<\>\""}], ";", "\n", 
         RowBox[{"barseperator", "=", 
          RowBox[{"{", 
           RowBox[{
            RowBox[{"-", "1"}], ",", 
            RowBox[{"-", "0.85"}], ",", 
            RowBox[{"-", "0.7"}], ",", 
            RowBox[{"-", "0.5"}], ",", "0.5", ",", "0.7", ",", "0.85", ",", 
            "1"}], "}"}]}], ";", "\n", 
         RowBox[{"epilogxQ", "=", 
          RowBox[{"{", "Npttext", "}"}]}], ";", "\n", "\n", 
         "\"\<dummy\>\""}]}], "\n", 
       RowBox[{"(*", 
        RowBox[{
         RowBox[{"corr", " ", "plot", " ", "cut", " ", "by"}], " ", "|", 
         "data", "|", 
         RowBox[{"<", "0.5"}]}], "*)"}], "\n", "]"}], ";", "\n", 
      RowBox[{"(*", 
       RowBox[{
        RowBox[{"plot", " ", "type", " ", "1"}], ":", " ", 
        RowBox[{
        "just", " ", "need", " ", "barseperator", " ", "so", " ", "that", " ",
          "function", " ", 
         RowBox[{"doesn", "'"}], "t", " ", "break"}]}], "*)"}], "\n", 
      RowBox[{"If", "[", "\n", 
       RowBox[{
        RowBox[{"plottype", "==", "1"}], ",", "\n", 
        RowBox[{
         RowBox[{"barseperator", "=", 
          RowBox[{"{", 
           RowBox[{
            RowBox[{"-", "1"}], ",", 
            RowBox[{"-", "0.85"}], ",", 
            RowBox[{"-", "0.7"}], ",", 
            RowBox[{"-", "0.5"}], ",", "0.5", ",", "0.7", ",", "0.85", ",", 
            "1"}], "}"}]}], ";"}]}], "\n", "]"}], ";", "\n", "\n", 
      RowBox[{"(*", 
       RowBox[{
        RowBox[{"for", " ", "no", " ", "highlight", " ", "mode"}], ",", " ", 
        RowBox[{
        "choose", " ", "size", " ", "of", " ", "data", " ", "point", " ", 
         "in", " ", "plot", " ", "by", " ", "Size", "\n", "for", " ", 
         "highlight", " ", "mode"}], ",", " ", 
        RowBox[{
        "set", " ", "size", " ", "of", " ", "unhighlighted", " ", "data", " ",
          "as", " ", "Size"}], ",", " ", 
        RowBox[{
        "size", " ", "of", " ", "highlighted", " ", "data", " ", "is", " ", 
         "larger", " ", "than", " ", "Size"}]}], "*)"}], "\n", 
      RowBox[{"(*", 
       RowBox[{
       "===", "===", "===", "===", "===", "===", "===", "===", "===", "==="}],
        "*)"}], "\n", 
      RowBox[{"(*", 
       RowBox[{
        RowBox[{"Print", "[", "HighlightMode", "]"}], ";"}], "*)"}], "\n", 
      "\n", 
      RowBox[{"highlightrange", "=", "\n", 
       RowBox[{"Switch", "[", "\n", 
        RowBox[{
         RowBox[{"HighlightMode", "[", 
          RowBox[{"[", "plottype", "]"}], "]"}], ",", "\n", "0", ",", 
         RowBox[{"{", 
          RowBox[{"0.0", ",", "0.0"}], "}"}], ",", "\n", "1", ",", 
         RowBox[{"{", 
          RowBox[{
           RowBox[{"HighlightMode1", "[", 
            RowBox[{"[", 
             RowBox[{
              RowBox[{"2", "*", "plottype"}], "-", "1"}], "]"}], "]"}], ",", 
           RowBox[{"HighlightMode1", "[", 
            RowBox[{"[", 
             RowBox[{"2", "*", "plottype"}], "]"}], "]"}]}], "}"}], ",", "\n",
          "2", ",", 
         RowBox[{"GetDataPercentage", "[", 
          RowBox[{
           RowBox[{"pdfcorr", "/.", 
            RowBox[{
             RowBox[{"LF1", "[", "a__", "]"}], ":>", 
             RowBox[{"Abs", "[", 
              RowBox[{
               RowBox[{"{", "a", "}"}], "[", 
               RowBox[{"[", "3", "]"}], "]"}], " ", "]"}]}]}], " ", ",", 
           RowBox[{"{", 
            RowBox[{
             RowBox[{"HighlightMode2", "[", 
              RowBox[{"[", 
               RowBox[{
                RowBox[{"2", "*", "plottype"}], "-", "1"}], "]"}], "]"}], ",", 
             RowBox[{"HighlightMode2", "[", 
              RowBox[{"[", 
               RowBox[{"2", "*", "plottype"}], "]"}], "]"}]}], "}"}]}], "]"}],
          "\n", 
         RowBox[{"(*", "\n", 
          RowBox[{"Which", "[", "\n", 
           RowBox[{
            RowBox[{
             RowBox[{"plottype", "\[Equal]", "5"}], "  ", "||", " ", 
             RowBox[{"plottype", "\[Equal]", "6"}]}], ",", "\n", 
            RowBox[{"GetDataPercentage", "[", 
             RowBox[{
              RowBox[{
               RowBox[{"pdfcorr", "[", 
                RowBox[{"[", 
                 RowBox[{"flavourin", "+", "6"}], "]"}], "]"}], "/.", 
               RowBox[{
                RowBox[{"LF1", "[", "a__", "]"}], "\[RuleDelayed]", 
                RowBox[{"Abs", "[", 
                 RowBox[{
                  RowBox[{"{", "a", "}"}], "[", 
                  RowBox[{"[", "3", "]"}], "]"}], " ", "]"}]}]}], " ", ",", 
              RowBox[{"{", 
               RowBox[{
                RowBox[{"HighlightMode2", "[", 
                 RowBox[{"[", 
                  RowBox[{
                   RowBox[{"2", "*", "plottype"}], "-", "1"}], "]"}], "]"}], 
                ",", 
                RowBox[{"HighlightMode2", "[", 
                 RowBox[{"[", 
                  RowBox[{"2", "*", "plottype"}], "]"}], "]"}]}], "}"}]}], 
             "]"}], ",", "\n", " ", 
            RowBox[{
             RowBox[{"plottype", "\[Equal]", "2"}], " ", "||", " ", 
             RowBox[{"plottype", "\[Equal]", "3"}], " ", "||", " ", 
             RowBox[{"plottype", "\[Equal]", "4"}]}], ",", "\n", 
            RowBox[{"GetDataPercentage", "[", 
             RowBox[{
              RowBox[{"pdfcorr", "/.", 
               RowBox[{
                RowBox[{"LF1", "[", "a__", "]"}], "\[RuleDelayed]", 
                RowBox[{"Abs", "[", 
                 RowBox[{
                  RowBox[{"{", "a", "}"}], "[", 
                  RowBox[{"[", "3", "]"}], "]"}], " ", "]"}]}]}], " ", ",", 
              RowBox[{"{", 
               RowBox[{
                RowBox[{"HighlightMode2", "[", 
                 RowBox[{"[", 
                  RowBox[{
                   RowBox[{"2", "*", "plottype"}], "-", "1"}], "]"}], "]"}], 
                ",", 
                RowBox[{"HighlightMode2", "[", 
                 RowBox[{"[", 
                  RowBox[{"2", "*", "plottype"}], "]"}], "]"}]}], "}"}]}], 
             "]"}], ",", "\n", "True", ",", 
            RowBox[{
             RowBox[{
             "Print", "[", "\"\<presently plottype is only 2~6 \>\"", "]"}], 
             ";", 
             RowBox[{"Abort", "[", "]"}]}]}], "\n", "]"}], "*)"}], ",", "\n", 
         "_", ",", 
         RowBox[{
          RowBox[{
          "Print", "[", "\"\<error, highlight mode should be 0, 1, 2\>\"", 
           "]"}], ";", 
          RowBox[{"Abort", "[", "]"}]}]}], "\n", "]"}]}], ";", 
      "\[IndentingNewLine]", 
      RowBox[{"(*", 
       RowBox[{
        RowBox[{"20171106", ":", " ", 
         RowBox[{"if", " ", "percentage", " ", "highlight"}]}], ",", " ", 
        RowBox[{
        "add", " ", "a", " ", "small", " ", "width", " ", "to", " ", "avoid", 
         " ", "data", " ", "problems", " ", "at", " ", "boundary"}]}], " ", 
       "*)"}], "\[IndentingNewLine]", 
      RowBox[{"If", "[", 
       RowBox[{
        RowBox[{
         RowBox[{"HighlightMode", "[", 
          RowBox[{"[", "plottype", "]"}], "]"}], "\[Equal]", "2"}], ",", 
        RowBox[{
         RowBox[{
          RowBox[{"highlightrange", "[", 
           RowBox[{"[", "1", "]"}], "]"}], "=", 
          RowBox[{"0.99999", "*", 
           RowBox[{"highlightrange", "[", 
            RowBox[{"[", "1", "]"}], "]"}]}]}], ";", 
         RowBox[{
          RowBox[{"highlightrange", "[", 
           RowBox[{"[", "2", "]"}], "]"}], "=", 
          RowBox[{"1.00001", "*", 
           RowBox[{"highlightrange", "[", 
            RowBox[{"[", "2", "]"}], "]"}]}]}]}]}], " ", "]"}], ";", 
      "\[IndentingNewLine]", "\n", 
      RowBox[{"(*", 
       RowBox[{
        RowBox[{"for", " ", "highlight", " ", "mode"}], ",", " ", 
        RowBox[{
        "always", " ", "only", " ", "have", " ", "no", " ", "choice", " ", 
         "of", " ", "size"}]}], "*)"}], "\n", 
      RowBox[{"If", "[", 
       RowBox[{
        RowBox[{
         RowBox[{
          RowBox[{"HighlightMode", "[", 
           RowBox[{"[", "plottype", "]"}], "]"}], "==", "1"}], " ", "||", " ", 
         RowBox[{
          RowBox[{"HighlightMode", "[", 
           RowBox[{"[", "plottype", "]"}], "]"}], "==", "2"}]}], ",", 
        RowBox[{"Size", "=", "\"\<small\>\""}]}], "]"}], ";", "\n", 
      RowBox[{"(*", 
       RowBox[{"set", " ", "size"}], "*)"}], "\n", 
      RowBox[{"unhighlightsize", "=", "\n", 
       RowBox[{"Switch", "[", 
        RowBox[{
        "Size", ",", "\"\<tiny\>\"", ",", "0.005", ",", "\"\<small\>\"", ",", 
         "0.0075", ",", "\"\<medium\>\"", ",", "0.01", ",", "\"\<large\>\"", 
         ",", "0.0125", ",", "_", ",", 
         RowBox[{
          RowBox[{
          "Print", "[", "\"\<error,size type is not correct\>\"", "]"}], ";", 
          
          RowBox[{"Abort", "[", "]"}]}]}], " ", "]"}]}], ";", "\n", "\n", 
      RowBox[{"highlighttext", "=", 
       RowBox[{"Text", "[", 
        RowBox[{
         RowBox[{"Style", "[", 
          RowBox[{
           RowBox[{"\"\<highlight range:\\n\>\"", "<>", 
            RowBox[{"ToString", "[", "highlightrange", "]"}]}], ",", 
           "textsize", ",", "Black"}], "]"}], ",", 
         RowBox[{"Scaled", "[", 
          RowBox[{"{", 
           RowBox[{"0.2", ",", "0.7"}], "}"}], "]"}]}], " ", "]"}]}], ";", 
      "\n", 
      RowBox[{"If", "[", 
       RowBox[{
        RowBox[{
         RowBox[{"HighlightMode", "[", 
          RowBox[{"[", "plottype", "]"}], "]"}], "!=", "0"}], ",", 
        RowBox[{"epilogxQ", "=", 
         RowBox[{"Append", "[", 
          RowBox[{"epilogxQ", ",", "highlighttext"}], "]"}]}]}], " ", "]"}], 
      ";", "\n", "\n", 
      RowBox[{"(*", 
       RowBox[{
        RowBox[{"Print", "[", 
         RowBox[{"\"\<highlight range: \>\"", ",", "highlightrange"}], "]"}], 
        ";"}], "*)"}], "\n", "\n", 
      RowBox[{"(*", 
       RowBox[{
        RowBox[{"for", " ", "histogram"}], ",", " ", 
        RowBox[{
        "setup", " ", "highlighted", " ", "value", " ", "range", " ", "by", 
         " ", "red", " ", "line", " ", "and", " ", "color", " ", "seperator", 
         " ", "value", " ", "by", " ", "blue", " ", "line"}]}], "*)"}], "\n", 
      
      RowBox[{"(*", 
       RowBox[{
        RowBox[{
        "make", " ", "histogram", " ", "of", " ", "data", " ", "and"}], " ", 
        "|", "data", "|"}], "*)"}], "\n", 
      RowBox[{"(*", 
       RowBox[{
       "===", "===", "===", "===", "===", "===", "===", "===", "===", "==="}],
        "*)"}], "\n", "\n", 
      RowBox[{"(*", 
       RowBox[{
        RowBox[{
        "set", " ", "xtitle", " ", "by", " ", "observable", " ", "part", " ", 
         "of", " ", "title"}], ",", " ", 
        RowBox[{"ex", ":", " ", 
         RowBox[{"|", 
          RowBox[{"Corr", 
           RowBox[{"(", 
            RowBox[{
             RowBox[{"f_j", 
              RowBox[{"(", 
               RowBox[{"x", ",", "Q"}], ")"}]}], ",", 
             RowBox[{"r_i", 
              RowBox[{"(", 
               RowBox[{"x", ",", "Q"}], ")"}]}]}], ")"}]}], "|"}]}]}], "*)"}],
       "\n", 
      RowBox[{"(*", 
       RowBox[{
       "===", "===", "===", "===", "===", "===", "===", "===", "===", "==="}],
        "*)"}], "\n", "\n", "\n", 
      RowBox[{"(*", 
       RowBox[{
        RowBox[{"plot", " ", "x"}], ",", 
        RowBox[{
        "Q", " ", "data", " ", "by", " ", "size", " ", "for", " ", "all", " ",
          "quarks", 
         RowBox[{"(", "CorrelationArgFlag", ")"}]}], ",", " ", 
        RowBox[{
        "and", " ", "plot", " ", "corresponding", " ", "histogram"}]}], 
       "*)"}], "\n", 
      RowBox[{"(*", 
       RowBox[{
        RowBox[{"GridGraphic", " ", "x"}], ",", 
        RowBox[{
        "Q", " ", "data", " ", "by", " ", "size", " ", "and", " ", 
         "histograms"}]}], "*)"}], "\n", 
      RowBox[{"(*", 
       RowBox[{
       "===", "===", "===", "===", "===", "===", "===", "===", "===", "==="}],
        "*)"}], "\n", "\n", "\n", 
      RowBox[{"(*", 
       RowBox[{"correlation", " ", "plot"}], "*)"}], "\n", 
      RowBox[{"(*", "\n", 
       RowBox[{
        RowBox[{"If", "[", "\n", 
         RowBox[{
          RowBox[{
           RowBox[{"plottype", "\[Equal]", "5"}], "  ", "||", " ", 
           RowBox[{"plottype", "\[Equal]", "6"}]}], ",", "\n", 
          RowBox[{
           RowBox[{"xQplotcorr", "=", 
            RowBox[{"PDFCorrelationplot7", "[", 
             RowBox[{
              RowBox[{"pdfcorr", "[", 
               RowBox[{"[", 
                RowBox[{"flavourin", "+", "6"}], "]"}], "]"}], ",", "title", 
              ",", "xtitle", ",", "ytitle", ",", "plotrange", ",", "stretchx",
               ",", "stretchy", ",", "barseperator", ",", "legendlabel", ",", 
              
              RowBox[{"(*", 
               RowBox[{"Append", "[", 
                RowBox[{"epilogxQ", ",", "cuttext"}], "]"}], "*)"}], 
              "epilogxQ", ",", "highlightrange", ",", "unhighlightsize"}], 
             " ", "]"}]}], ";", "\n", "\"\<dummy\>\""}]}], "\n", "]"}], ";"}],
        "\n", "*)"}], "\n", 
      RowBox[{"(*", 
       RowBox[{"test", " ", "print"}], "*)"}], "\n", 
      RowBox[{"(*", "\n", 
       RowBox[{
        RowBox[{"Print", "[", "\"\<test print\>\"", "]"}], ";", "\n", 
        RowBox[{"Print", "[", "\"\<highlight mode 1\>\"", "]"}], ";", "\n", 
        RowBox[{"Print", "[", "pdfcorr", "]"}], ";", "\n", 
        RowBox[{"Print", "[", "HighlightMode1", "]"}], ";", "\n", 
        RowBox[{"Print", "[", 
         RowBox[{"{", 
          RowBox[{
          "xtitle", ",", "ytitle", ",", "plotrange", ",", "stretchx", ",", 
           "stretchy", ",", "barseperator", ",", "legendlabel", ",", 
           "epilogxQ", ",", "highlightrange", ",", "unhighlightsize"}], " ", 
          "}"}], "]"}], ";"}], "\n", "*)"}], "\n", "\n", 
      RowBox[{"If", "[", "\n", " ", 
       RowBox[{
        RowBox[{
         RowBox[{"plottype", "==", "2"}], " ", "||", " ", 
         RowBox[{"plottype", "==", "3"}], " ", "||", " ", 
         RowBox[{"plottype", "==", "4"}], " ", "||", " ", 
         RowBox[{"plottype", "==", "5"}], "  ", "||", " ", 
         RowBox[{"plottype", "==", "6"}]}], ",", "\n", 
        RowBox[{
         RowBox[{"xQplotcorr", "=", 
          RowBox[{"PDFCorrelationplot7", "[", 
           RowBox[{
           "pdfcorr", ",", "\"\<\>\"", ",", "xtitle", ",", "ytitle", ",", 
            "plotrange", ",", "stretchx", ",", "stretchy", ",", 
            "barseperator", ",", "legendlabel", ",", 
            RowBox[{"(*", 
             RowBox[{"Append", "[", 
              RowBox[{"epilogxQ", ",", "cuttext"}], "]"}], "*)"}], "epilogxQ",
             ",", "highlightrange", ",", "unhighlightsize"}], " ", "]"}]}], 
         ";", "\n", "\"\<dummy\>\""}]}], "\n", "]"}], ";", "\n", 
      RowBox[{"(*", 
       RowBox[{"correlation", " ", "histogram"}], "*)"}], "\n", "\n", 
      RowBox[{"(*", 
       RowBox[{
        RowBox[{"binset", ":", " ", 
         RowBox[{
          RowBox[{"for", " ", "Nbin"}], "\[Equal]", "\"\<auto\>\""}]}], ",", 
        " ", 
        RowBox[{"define", " ", "auto", " ", "binset"}]}], "*)"}], "\n", 
      RowBox[{"(*", 
       RowBox[{
       "set", " ", "auto", " ", "bin", " ", "as", " ", "5", " ", "bins", " ", 
        "in", " ", "first", " ", "color", " ", "bar", " ", "seperator"}], " ",
        "*)"}], "\n", 
      RowBox[{"binset", "=", 
       RowBox[{"{", 
        RowBox[{"Table", "[", 
         RowBox[{
          RowBox[{"i", "*", 
           RowBox[{
            RowBox[{"barseperator", "[", 
             RowBox[{"[", 
              RowBox[{
               RowBox[{
                RowBox[{"Length", "[", "barseperator", "]"}], "/", "2"}], "+",
                "1"}], "]"}], "]"}], "/", "5.0"}]}], ",", 
          RowBox[{"{", 
           RowBox[{"i", ",", 
            RowBox[{"-", "100"}], ",", "100"}], "}"}]}], "]"}], "}"}]}], ";", 
      "\n", "\n", 
      RowBox[{"(*", 
       RowBox[{
        RowBox[{"lineelement", "=", 
         RowBox[{"{", 
          RowBox[{
           RowBox[{"{", 
            RowBox[{
             RowBox[{"barseperator", "[", 
              RowBox[{"[", "2", "]"}], "]"}], ",", "\"\<\>\"", ",", "Blue"}], 
            "}"}], ",", 
           RowBox[{"{", 
            RowBox[{
             RowBox[{"barseperator", "[", 
              RowBox[{"[", "3", "]"}], "]"}], ",", "\"\<\>\"", ",", "Blue"}], 
            "}"}], ",", 
           RowBox[{"{", 
            RowBox[{
             RowBox[{"barseperator", "[", 
              RowBox[{"[", "4", "]"}], "]"}], ",", "\"\<\>\"", ",", "Blue"}], 
            "}"}], ",", 
           RowBox[{"{", 
            RowBox[{
             RowBox[{"barseperator", "[", 
              RowBox[{"[", "5", "]"}], "]"}], ",", "\"\<\>\"", ",", "Blue"}], 
            "}"}], ",", 
           RowBox[{"{", 
            RowBox[{
             RowBox[{"barseperator", "[", 
              RowBox[{"[", "6", "]"}], "]"}], ",", "\"\<\>\"", ",", "Blue"}], 
            "}"}], ",", 
           RowBox[{"{", 
            RowBox[{
             RowBox[{"barseperator", "[", 
              RowBox[{"[", "7", "]"}], "]"}], ",", "\"\<\>\"", ",", "Blue"}], 
            "}"}]}], "}"}]}], ";"}], "*)"}], "\n", 
      RowBox[{"lineelement", "=", 
       RowBox[{"{", 
        RowBox[{
         RowBox[{"{", 
          RowBox[{
           RowBox[{"barseperator", "[", 
            RowBox[{"[", "2", "]"}], "]"}], ",", 
           RowBox[{
            RowBox[{"ToString", "[", 
             RowBox[{"ColorSeperator", "[", 
              RowBox[{"[", "3", "]"}], "]"}], " ", "]"}], "<>", "\"\<%\>\""}],
            ",", "Blue"}], "}"}], ",", 
         RowBox[{"{", 
          RowBox[{
           RowBox[{"barseperator", "[", 
            RowBox[{"[", "3", "]"}], "]"}], ",", 
           RowBox[{
            RowBox[{"ToString", "[", 
             RowBox[{"ColorSeperator", "[", 
              RowBox[{"[", "2", "]"}], "]"}], " ", "]"}], "<>", "\"\<%\>\""}],
            ",", "Blue"}], "}"}], ",", 
         RowBox[{"{", 
          RowBox[{
           RowBox[{"barseperator", "[", 
            RowBox[{"[", "4", "]"}], "]"}], ",", 
           RowBox[{
            RowBox[{"ToString", "[", 
             RowBox[{"ColorSeperator", "[", 
              RowBox[{"[", "1", "]"}], "]"}], " ", "]"}], "<>", "\"\<%\>\""}],
            ",", "Blue"}], "}"}], ",", 
         RowBox[{"{", 
          RowBox[{
           RowBox[{"barseperator", "[", 
            RowBox[{"[", "5", "]"}], "]"}], ",", 
           RowBox[{
            RowBox[{"ToString", "[", 
             RowBox[{"ColorSeperator", "[", 
              RowBox[{"[", "1", "]"}], "]"}], " ", "]"}], "<>", "\"\<%\>\""}],
            ",", "Blue"}], "}"}], ",", 
         RowBox[{"{", 
          RowBox[{
           RowBox[{"barseperator", "[", 
            RowBox[{"[", "6", "]"}], "]"}], ",", 
           RowBox[{
            RowBox[{"ToString", "[", 
             RowBox[{"ColorSeperator", "[", 
              RowBox[{"[", "2", "]"}], "]"}], " ", "]"}], "<>", "\"\<%\>\""}],
            ",", "Blue"}], "}"}], ",", 
         RowBox[{"{", 
          RowBox[{
           RowBox[{"barseperator", "[", 
            RowBox[{"[", "7", "]"}], "]"}], ",", 
           RowBox[{
            RowBox[{"ToString", "[", 
             RowBox[{"ColorSeperator", "[", 
              RowBox[{"[", "3", "]"}], "]"}], " ", "]"}], "<>", "\"\<%\>\""}],
            ",", "Blue"}], "}"}]}], "}"}]}], ";", "\n", 
      RowBox[{"(*", 
       RowBox[{"20170307", ":", " ", 
        RowBox[{"bin", " ", "from", " ", "argument"}]}], "*)"}], "\n", 
      RowBox[{"(*", "\n", 
       RowBox[{
        RowBox[{"If", "[", "\n", 
         RowBox[{
          RowBox[{"Hist1figureNbin", "==", "\"\<auto\>\""}], ",", "\n", 
          RowBox[{
           RowBox[{"binset", "=", "barseperator"}], ";", "\n", 
           RowBox[{"binset", "=", 
            RowBox[{"Insert", "[", 
             RowBox[{"binset", ",", "0.0", ",", "5"}], "]"}]}]}]}], "\n", 
         "]"}], ";"}], "\n", "*)"}], "\n", 
      RowBox[{"(*", "\n", 
       RowBox[{
        RowBox[{"If", "[", "\n", 
         RowBox[{
          RowBox[{
           RowBox[{"plottype", "\[Equal]", "5"}], "  ", "||", " ", 
           RowBox[{"plottype", "\[Equal]", "6"}]}], ",", "\n", 
          RowBox[{"(*", 
           RowBox[{"hist1", ":", " ", 
            RowBox[{"data", " ", "with", " ", "no", " ", "absolute"}]}], 
           "*)"}], "\n", 
          RowBox[{
           RowBox[{"histplotcorr1", "=", 
            RowBox[{"histplot4", "[", 
             RowBox[{
              RowBox[{
               RowBox[{"pdfcorr", "[", 
                RowBox[{"[", 
                 RowBox[{"flavourin", "+", "6"}], "]"}], "]"}], "/.", 
               RowBox[{
                RowBox[{"LF1", "[", "a__", "]"}], "\[RuleDelayed]", 
                RowBox[{
                 RowBox[{"{", "a", "}"}], "[", 
                 RowBox[{"[", "3", "]"}], "]"}]}]}], ",", "title", ",", 
              "xhisttitle", ",", "yhisttitle", ",", "binset", ",", 
              "lineelement", ",", "hist1plotrangex", ",", "Hist1figureNbin"}],
              "]"}]}], ";", "\n", 
           RowBox[{"(*", 
            RowBox[{"hist1", ":", " ", 
             RowBox[{"data", " ", "with", " ", "absolute", 
              RowBox[{"(", 
               RowBox[{"|", "data", "|"}], ")"}]}]}], "*)"}], "\n", 
           RowBox[{"histplotcorr2", "=", 
            RowBox[{"histplot4", "[", 
             RowBox[{
              RowBox[{
               RowBox[{"pdfcorr", "[", 
                RowBox[{"[", 
                 RowBox[{"flavourin", "+", "6"}], "]"}], "]"}], "/.", 
               RowBox[{
                RowBox[{"LF1", "[", "a__", "]"}], "\[RuleDelayed]", 
                RowBox[{"Abs", "[", 
                 RowBox[{
                  RowBox[{"{", "a", "}"}], "[", 
                  RowBox[{"[", "3", "]"}], "]"}], " ", "]"}]}]}], ",", 
              "title", ",", "xhistabstitle", ",", "yhisttitle", ",", "binset",
               ",", 
              RowBox[{"Take", "[", 
               RowBox[{"lineelement", ",", 
                RowBox[{"-", "3"}]}], "]"}], ",", "hist2plotrangex", ",", 
              "Hist1figureNbin"}], "]"}]}], ";", "\n", "\"\<dummy\>\""}]}], 
         "\n", "]"}], ";"}], "\n", "*)"}], "\n", 
      RowBox[{"If", "[", "\n", " ", 
       RowBox[{
        RowBox[{
         RowBox[{"plottype", "==", "2"}], " ", "||", " ", 
         RowBox[{"plottype", "==", "3"}], " ", "||", " ", 
         RowBox[{"plottype", "==", "4"}], " ", "||", " ", 
         RowBox[{"plottype", "==", "5"}], "  ", "||", " ", 
         RowBox[{"plottype", "==", "6"}]}], ",", "\n", 
        RowBox[{"(*", 
         RowBox[{"hist1", ":", " ", 
          RowBox[{"data", " ", "with", " ", "no", " ", "absolute"}]}], "*)"}],
         "\n", 
        RowBox[{
         RowBox[{"histplotcorr1", "=", 
          RowBox[{"histplot4", "[", 
           RowBox[{
            RowBox[{"pdfcorr", "/.", 
             RowBox[{
              RowBox[{"LF1", "[", "a__", "]"}], ":>", 
              RowBox[{
               RowBox[{"{", "a", "}"}], "[", 
               RowBox[{"[", "3", "]"}], "]"}]}]}], ",", "\"\<\>\"", ",", 
            "xhisttitle", ",", "yhisttitle", ",", "binset", ",", 
            "lineelement", ",", "hist1plotrangex", ",", "Hist1figureNbin"}], 
           "]"}]}], ";", "\n", 
         RowBox[{"(*", 
          RowBox[{"hist1", ":", " ", 
           RowBox[{"data", " ", "with", " ", "absolute", 
            RowBox[{"(", 
             RowBox[{"|", "data", "|"}], ")"}]}]}], "*)"}], "\n", 
         RowBox[{"histplotcorr2", "=", 
          RowBox[{"histplot4", "[", 
           RowBox[{
            RowBox[{"pdfcorr", "/.", 
             RowBox[{
              RowBox[{"LF1", "[", "a__", "]"}], ":>", 
              RowBox[{"Abs", "[", 
               RowBox[{
                RowBox[{"{", "a", "}"}], "[", 
                RowBox[{"[", "3", "]"}], "]"}], " ", "]"}]}]}], ",", 
            "\"\<\>\"", ",", "xhistabstitle", ",", "yhisttitle", ",", 
            "binset", ",", 
            RowBox[{"Take", "[", 
             RowBox[{"lineelement", ",", 
              RowBox[{"-", "3"}]}], "]"}], ",", "hist2plotrangex", ",", 
            "Hist1figureNbin"}], "]"}]}], ";", "\n", "\"\<dummy\>\""}]}], 
       "\n", "]"}], ";", "\n", "\n", 
      RowBox[{"If", "[", "\n", " ", 
       RowBox[{
        RowBox[{"plottype", "==", "1"}], ",", "\n", 
        RowBox[{"(*", "plot1", "*)"}], "\n", "\n", 
        RowBox[{
         RowBox[{"expttype", "=", "\"\<multi\>\""}], ";", "\n", 
         RowBox[{"myplotsetting", "=", 
          RowBox[{"setplotsetting", "[", 
           RowBox[{
           "corrfxQdtaobsclassin", ",", "exptlist", ",", "expttype", ",", "1",
             ",", "\"\<test\>\"", ",", "\"\<test\>\""}], "]"}]}], ";", "\n", 
         RowBox[{"imgsize", "=", 
          RowBox[{"myplotsetting", "[", 
           RowBox[{"[", "\"\<imgsize\>\"", "]"}], "]"}]}], ";", "\n", 
         RowBox[{"title", "=", 
          RowBox[{"myplotsetting", "[", 
           RowBox[{"[", "\"\<title\>\"", "]"}], "]"}]}], ";", "\n", 
         RowBox[{"xtitle", "=", 
          RowBox[{"myplotsetting", "[", 
           RowBox[{"[", "\"\<xtitle\>\"", "]"}], "]"}]}], ";", "\n", 
         RowBox[{"ytitle", "=", 
          RowBox[{"myplotsetting", "[", 
           RowBox[{"[", "\"\<ytitle\>\"", "]"}], "]"}]}], ";", "\n", 
         RowBox[{"lgdlabel", "=", 
          RowBox[{"myplotsetting", "[", 
           RowBox[{"[", "\"\<lgdlabel\>\"", "]"}], "]"}]}], ";", "\n", 
         RowBox[{"xrange", "=", 
          RowBox[{"myplotsetting", "[", 
           RowBox[{"[", "\"\<xrange\>\"", "]"}], "]"}]}], ";", "\n", 
         RowBox[{"yrange", "=", 
          RowBox[{"myplotsetting", "[", 
           RowBox[{"[", "\"\<yrange\>\"", "]"}], "]"}]}], ";", "\n", 
         RowBox[{"epilog", "=", 
          RowBox[{"myplotsetting", "[", 
           RowBox[{"[", "\"\<epilog\>\"", "]"}], "]"}]}], ";", "\n", 
         RowBox[{"titlesize", "=", 
          RowBox[{"myplotsetting", "[", 
           RowBox[{"[", "\"\<titlesize\>\"", "]"}], "]"}]}], ";", "\n", 
         RowBox[{"xtitlesize", "=", 
          RowBox[{"myplotsetting", "[", 
           RowBox[{"[", "\"\<xtitlesize\>\"", "]"}], "]"}]}], ";", "\n", 
         RowBox[{"ytitlesize", "=", 
          RowBox[{"myplotsetting", "[", 
           RowBox[{"[", "\"\<ytitlesize\>\"", "]"}], "]"}]}], ";", "\n", 
         RowBox[{"lgdlabelsize", "=", 
          RowBox[{"myplotsetting", "[", 
           RowBox[{"[", "\"\<lgdlabelsize\>\"", "]"}], "]"}]}], ";", "\n", 
         RowBox[{"ticklablesize", "=", 
          RowBox[{"myplotsetting", "[", 
           RowBox[{"[", "\"\<ticklablesize\>\"", "]"}], "]"}]}], ";", "\n", 
         "\n", 
         RowBox[{"myplotstyle", "=", 
          RowBox[{"myplotsetting", "[", 
           RowBox[{"[", "\"\<plotstyle\>\"", "]"}], "]"}]}], ";", "\n", 
         RowBox[{"myMarker", "=", 
          RowBox[{"myplotsetting", "[", 
           RowBox[{"[", "\"\<marker\>\"", "]"}], "]"}]}], ";", "\n", "\n", 
         RowBox[{"title", "=", 
          RowBox[{
          "\"\<Experimental data in \>\"", "<>", "PDFname", "<>", 
           "\"\< analysis\>\""}]}], ";", "\n", 
         RowBox[{"lgdpos", "=", 
          RowBox[{"{", 
           RowBox[{"0.25", ",", "0.725"}], "}"}]}], ";", "\n", 
         RowBox[{"xyrangeplot1", "=", "plotrange"}], ";", 
         RowBox[{"(*", 
          RowBox[{
           RowBox[{"20170307", " ", "change", " ", 
            RowBox[{"it", "'"}], "s", " ", "name"}], ",", " ", 
           RowBox[{"avoid", " ", "duplicate"}]}], "*)"}], "\n", 
         RowBox[{"plot1", "=", 
          RowBox[{"PDFloglogplot", "[", 
           RowBox[{
           "pdfcorr", ",", "myMarker", ",", "myplotstyle", ",", "title", ",", 
            "xtitle", ",", "ytitle", ",", "xyrangeplot1", ",", "lgdlabel", 
            ",", "lgdpos", ",", "imgsize"}], "]"}]}], ";"}]}], "\n", "]"}], 
      ";", "\n", "\n", "\n", 
      RowBox[{"(*", 
       RowBox[{
        RowBox[{
         RowBox[{"make", " ", "expt", " ", "name"}], " ", "&"}], " ", "ID", 
        " ", "table"}], "*)"}], "\n", 
      RowBox[{"(*", 
       RowBox[{
       "===", "===", "===", "===", "===", "===", "===", "===", "===", "==="}],
        "*)"}], "\n", "\n", 
      RowBox[{"(*", "output", "*)"}], "\n", 
      RowBox[{"(*", 
       RowBox[{
       "===", "===", "===", "===", "===", "===", "===", "===", "===", "==="}],
        "*)"}], "\n", "title", ";", "\n", 
      RowBox[{"(*", "\n", 
       RowBox[{
        RowBox[{"GraphicsGrid", "[", 
         RowBox[{"{", 
          RowBox[{
           RowBox[{"{", "xQplotcorr", "}"}], ",", 
           RowBox[{"{", 
            RowBox[{"histplotcorr1", ",", "histplotcorr2"}], "}"}]}], "}"}], 
         "]"}], ";", "\n", 
        RowBox[{"{", 
         RowBox[{
          RowBox[{"{", "xQplotcorr", "}"}], ",", 
          RowBox[{"{", 
           RowBox[{"histplotcorr1", ",", "histplotcorr2"}], "}"}]}], "}"}], 
        ";"}], "\n", "*)"}], "\n", "\n", 
      RowBox[{"(*", 
       RowBox[{"make", "  ", "exptname", " ", "table"}], "*)"}], "\n", 
      RowBox[{"rows", "=", "3"}], ";", "\n", 
      RowBox[{"exptnames", "=", 
       RowBox[{"Table", "[", 
        RowBox[{
         RowBox[{
          RowBox[{"ExptIDtoName", "[", 
           RowBox[{"exptlist", "[", 
            RowBox[{"[", "iexpt", "]"}], "]"}], " ", "]"}], "<>", "\"\<(\>\"",
           "<>", 
          RowBox[{"ToString", "[", 
           RowBox[{"exptlist", "[", 
            RowBox[{"[", "iexpt", "]"}], "]"}], " ", "]"}], "<>", 
          "\"\<)\>\""}], ",", 
         RowBox[{"{", 
          RowBox[{"iexpt", ",", "1", ",", 
           RowBox[{"Length", "[", "exptlist", "]"}]}], "}"}]}], "]"}]}], ";", 
      "\n", 
      RowBox[{
      "Print", "[", "\"\<making table of experiments included in plots\>\"", 
       "]"}], ";", "\n", 
      RowBox[{"exptnamestable", "=", 
       RowBox[{"makeGrid2", "[", 
        RowBox[{"exptnames", ",", "rows", ",", 
         RowBox[{"title", "<>", "\"\<\\n\\n\>\""}]}], "]"}]}], ";", "\n", 
      "\n", 
      RowBox[{"Which", "[", "\n", " ", 
       RowBox[{
        RowBox[{
         RowBox[{"plottype", "==", "2"}], " ", "||", " ", 
         RowBox[{"plottype", "==", "3"}], " ", "||", " ", 
         RowBox[{"plottype", "==", "4"}], " ", "||", " ", 
         RowBox[{"plottype", "==", "5"}], "  ", "||", " ", 
         RowBox[{"plottype", "==", "6"}]}], ",", "\n", 
        RowBox[{"{", 
         RowBox[{
          RowBox[{"{", 
           RowBox[{"xQplotcorr", ",", "exptnamestable"}], "}"}], ",", 
          RowBox[{"{", 
           RowBox[{"histplotcorr1", ",", "histplotcorr2"}], "}"}]}], "}"}], 
        ",", "\n", 
        RowBox[{"plottype", "==", "1"}], ",", "\n", 
        RowBox[{"{", "plot1", "}"}]}], "\n", "]"}]}]}], "\n", 
    "]"}]}]}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{{3.718338415689929*^9, 3.718338437474821*^9}, 
   3.718338634539289*^9, {3.719071281423287*^9, 3.7190714136173887`*^9}}]
}, Open  ]],

Cell["\<\
make all kinds plots by all kinds data (corr, dr*corr, dr), (plot1, plot2, \
plot3, ...) \
\>", "Subsection"],

Cell[CellGroupData[{

Cell["set manipulation interface of plots", "Subsection"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"processplotsmodes2", "[", 
    RowBox[{
    "plotin_", ",", "procin_", ",", "expidin_", ",", "modein_", ",", 
     "flavourmodein_"}], "]"}], ":=", "\n", 
   RowBox[{"Module", "[", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{
       RowBox[{"p", "=", "plotin"}], ",", 
       RowBox[{"proc", "=", "procin"}], ",", 
       RowBox[{"expid", "=", "expidin"}], ",", 
       RowBox[{"mode", "=", "modein"}], ",", 
       RowBox[{"flavourmode", "=", "flavourmodein"}], ",", "flavour", ",", 
       "output"}], "}"}], ",", "\n", 
     RowBox[{
      RowBox[{"output", "=", "0"}], ";", "\n", 
      RowBox[{"flavour", "=", "flavourmode"}], ";", "\n", "\n", 
      RowBox[{"If", "[", 
       RowBox[{
        RowBox[{"mode", "==", "1"}], ",", "\n", 
        RowBox[{"output", "=", 
         RowBox[{"(*", 
          RowBox[{"Table", "[", 
           RowBox[{
            RowBox[{
             RowBox[{"processplots", "[", 
              RowBox[{
              "pdfsetfile", ",", "PDFDataDir", ",", "CorrDataDir", ",", 
               "proc", ",", "expid", ",", "flavour"}], "]"}], "[", 
             RowBox[{"[", "1", "]"}], "]"}], ",", 
            RowBox[{"{", 
             RowBox[{"flavour", ",", 
              RowBox[{"-", "5"}], ",", "5"}], "}"}]}], "]"}], "*)"}], 
         RowBox[{"(*", 
          RowBox[{"Table", "[", 
           RowBox[{
            RowBox[{"p", "[", 
             RowBox[{"[", 
              RowBox[{
               RowBox[{"flavour", "+", "6"}], ",", "1"}], "]"}], "]"}], ",", 
            RowBox[{"{", 
             RowBox[{"flavour", ",", 
              RowBox[{"-", "5"}], ",", "5"}], "}"}]}], "]"}], "*)"}], 
         RowBox[{"p", "[", 
          RowBox[{"[", 
           RowBox[{
            RowBox[{"flavour", "+", "6"}], ",", "1"}], "]"}], "]"}]}]}], "\n",
        "]"}], ";", "\n", 
      RowBox[{"If", "[", 
       RowBox[{
        RowBox[{"mode", "==", "2"}], ",", "\n", 
        RowBox[{"output", "=", 
         RowBox[{"(*", 
          RowBox[{"Table", "[", 
           RowBox[{
            RowBox[{
             RowBox[{"processplots", "[", 
              RowBox[{
              "pdfsetfile", ",", "PDFDataDir", ",", "CorrDataDir", ",", 
               "proc", ",", "expid", ",", "flavour"}], "]"}], "[", 
             RowBox[{"[", "2", "]"}], "]"}], ",", 
            RowBox[{"{", 
             RowBox[{"flavour", ",", 
              RowBox[{"-", "5"}], ",", "5"}], "}"}]}], "]"}], "*)"}], 
         RowBox[{"p", "[", 
          RowBox[{"[", 
           RowBox[{
            RowBox[{"flavour", "+", "6"}], ",", "2"}], "]"}], "]"}]}]}], "\n",
        "]"}], ";", "\n", 
      RowBox[{"If", "[", 
       RowBox[{
        RowBox[{"mode", "==", "3"}], ",", "\n", 
        RowBox[{"output", "=", 
         RowBox[{"(*", 
          RowBox[{"Table", "[", 
           RowBox[{
            RowBox[{
             RowBox[{"processplots", "[", 
              RowBox[{
              "pdfsetfile", ",", "PDFDataDir", ",", "CorrDataDir", ",", 
               "proc", ",", "expid", ",", "flavour"}], "]"}], "[", 
             RowBox[{"[", "3", "]"}], "]"}], ",", 
            RowBox[{"{", 
             RowBox[{"flavour", ",", 
              RowBox[{"-", "5"}], ",", "5"}], "}"}]}], "]"}], "*)"}], 
         RowBox[{"(*", 
          RowBox[{"Table", "[", 
           RowBox[{
            RowBox[{"p", "[", 
             RowBox[{"[", 
              RowBox[{
               RowBox[{"flavour", "+", "6"}], ",", "3"}], "]"}], "]"}], ",", 
            RowBox[{"{", 
             RowBox[{"flavour", ",", 
              RowBox[{"-", "5"}], ",", "5"}], "}"}]}], "]"}], "*)"}], 
         RowBox[{"p", "[", 
          RowBox[{"[", 
           RowBox[{
            RowBox[{"flavour", "+", "6"}], ",", "3"}], "]"}], "]"}]}]}], "\n",
        "]"}], ";", "\n", 
      RowBox[{"If", "[", 
       RowBox[{
        RowBox[{"mode", "==", "4"}], ",", "\n", 
        RowBox[{"output", "=", 
         RowBox[{"(*", 
          RowBox[{"Append", "[", 
           RowBox[{
            RowBox[{"{", 
             RowBox[{
              RowBox[{"processplots", "[", 
               RowBox[{
               "pdfsetfile", ",", "PDFDataDir", ",", "CorrDataDir", ",", 
                "proc", ",", "expid", ",", "0"}], "]"}], "[", 
              RowBox[{"[", 
               RowBox[{"2", ",", "2"}], "]"}], "]"}], "}"}], ",", 
            RowBox[{"Table", "[", 
             RowBox[{
              RowBox[{
               RowBox[{"processplots", "[", 
                RowBox[{
                "pdfsetfile", ",", "proc", ",", "expid", ",", "flavour"}], 
                "]"}], "[", 
               RowBox[{"[", 
                RowBox[{"3", ",", "3"}], "]"}], "]"}], ",", 
              RowBox[{"{", 
               RowBox[{"flavour", ",", 
                RowBox[{"-", "5"}], ",", "5"}], "}"}]}], "]"}]}], " ", "]"}], 
          "*)"}], "\n", 
         RowBox[{"(*", 
          RowBox[{"Append", "[", 
           RowBox[{
            RowBox[{"{", 
             RowBox[{"p", "[", 
              RowBox[{"[", 
               RowBox[{"1", ",", "2", ",", "2"}], "]"}], "]"}], "}"}], ",", 
            RowBox[{"Table", "[", 
             RowBox[{
              RowBox[{"p", "[", 
               RowBox[{"[", 
                RowBox[{
                 RowBox[{"flavour", "+", "6"}], ",", "3", ",", "3"}], "]"}], 
               "]"}], ",", 
              RowBox[{"{", 
               RowBox[{"flavour", ",", 
                RowBox[{"-", "5"}], ",", "5"}], "}"}]}], "]"}]}], " ", "]"}], 
          "*)"}], "\n", 
         RowBox[{"{", 
          RowBox[{
           RowBox[{"p", "[", 
            RowBox[{"[", 
             RowBox[{
              RowBox[{"flavour", "+", "6"}], ",", "2", ",", "2"}], "]"}], 
            "]"}], ",", 
           RowBox[{"p", "[", 
            RowBox[{"[", 
             RowBox[{
              RowBox[{"flavour", "+", "6"}], ",", "3", ",", "3"}], "]"}], 
            "]"}]}], "}"}]}]}], 
       RowBox[{"(*", 
        RowBox[{"20170214", " ", 
         RowBox[{"btw", ":", " ", 
          RowBox[{
           RowBox[{"p", "[", 
            RowBox[{"[", 
             RowBox[{"1", ",", "2", ",", "2"}], "]"}], "]"}], ">", 
           RowBox[{"p", "[", 
            RowBox[{"[", 
             RowBox[{
              RowBox[{"flavour", "+", "6"}], ",", "2", ",", "2"}], "]"}], 
            "]"}]}]}]}], "*)"}], "\n", "]"}], ";", "\n", 
      RowBox[{"If", "[", 
       RowBox[{
        RowBox[{"mode", "==", "5"}], ",", "\n", 
        RowBox[{"output", "=", 
         RowBox[{"(*", 
          RowBox[{"Table", "[", 
           RowBox[{
            RowBox[{"{", 
             RowBox[{
              RowBox[{"p", "[", 
               RowBox[{"[", 
                RowBox[{
                 RowBox[{"flavour", "+", "6"}], ",", "1", ",", "3"}], "]"}], 
               "]"}], ",", 
              RowBox[{"p", "[", 
               RowBox[{"[", 
                RowBox[{
                 RowBox[{"flavour", "+", "6"}], ",", "3", ",", "3"}], "]"}], 
               "]"}]}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{"flavour", ",", 
              RowBox[{"-", "5"}], ",", "5"}], "}"}]}], "]"}], "*)"}], 
         RowBox[{"{", 
          RowBox[{
           RowBox[{"p", "[", 
            RowBox[{"[", 
             RowBox[{
              RowBox[{"flavour", "+", "6"}], ",", "1", ",", "3"}], "]"}], 
            "]"}], ",", 
           RowBox[{"p", "[", 
            RowBox[{"[", 
             RowBox[{
              RowBox[{"flavour", "+", "6"}], ",", "3", ",", "3"}], "]"}], 
            "]"}]}], "}"}]}]}], "\n", 
       RowBox[{"(*", "\n", 
        RowBox[{"Table", "[", "\n", 
         RowBox[{
          RowBox[{
           RowBox[{"p", "=", 
            RowBox[{"processplots", "[", 
             RowBox[{
             "pdfsetfile", ",", "PDFDataDir", ",", "CorrDataDir", ",", "proc",
               ",", "expid", ",", "flavour"}], "]"}]}], ";", "\n", 
           RowBox[{"{", 
            RowBox[{
             RowBox[{"p", "[", 
              RowBox[{"[", 
               RowBox[{"1", ",", "3"}], "]"}], "]"}], ",", 
             RowBox[{"p", "[", 
              RowBox[{"[", 
               RowBox[{"3", ",", "3"}], "]"}], "]"}]}], "}"}]}], ",", 
          RowBox[{"{", 
           RowBox[{"flavour", ",", 
            RowBox[{"-", "5"}], ",", "5"}], "}"}]}], "]"}], " ", "\n", "*)"}],
        "\n", "]"}], ";", "\n", "\n", 
      RowBox[{"(*", 
       RowBox[{"2017.01", ".24"}], "*)"}], "\n", 
      RowBox[{"If", "[", 
       RowBox[{
        RowBox[{"mode", "==", "6"}], ",", "\n", 
        RowBox[{"output", "=", 
         RowBox[{"(*", 
          RowBox[{"Table", "[", 
           RowBox[{
            RowBox[{
             RowBox[{"processplots", "[", 
              RowBox[{
              "pdfsetfile", ",", "PDFDataDir", ",", "CorrDataDir", ",", 
               "proc", ",", "expid", ",", "flavour"}], "]"}], "[", 
             RowBox[{"[", "1", "]"}], "]"}], ",", 
            RowBox[{"{", 
             RowBox[{"flavour", ",", 
              RowBox[{"-", "5"}], ",", "5"}], "}"}]}], "]"}], "*)"}], 
         RowBox[{"(*", 
          RowBox[{"Table", "[", 
           RowBox[{
            RowBox[{"p", "[", 
             RowBox[{"[", 
              RowBox[{
               RowBox[{"flavour", "+", "6"}], ",", "1"}], "]"}], "]"}], ",", 
            RowBox[{"{", 
             RowBox[{"flavour", ",", 
              RowBox[{"-", "5"}], ",", "5"}], "}"}]}], "]"}], "*)"}], 
         RowBox[{"p", "[", 
          RowBox[{"[", 
           RowBox[{
            RowBox[{"flavour", "+", "6"}], ",", "4"}], "]"}], "]"}]}]}], "\n",
        "]"}], ";", "\n", "\n", 
      RowBox[{"If", "[", 
       RowBox[{
        RowBox[{
         RowBox[{"mode", "!=", "1"}], " ", "&&", " ", 
         RowBox[{"mode", "!=", "2"}], " ", "&&", " ", 
         RowBox[{"mode", "!=", "3"}], "&&", " ", 
         RowBox[{"mode", "!=", "4"}], "&&", " ", 
         RowBox[{"mode", "!=", "5"}], "&&", " ", 
         RowBox[{"mode", "!=", "6"}]}], ",", "\n", 
        RowBox[{
         RowBox[{
         "Print", "[", "\"\<error, mode should be 1, 2, 3, 4\>\"", "]"}], ";", 
         RowBox[{"output", "=", "0"}]}]}], "\n", "]"}], ";", "\n", 
      "output"}]}], "\n", "]"}]}], ";"}]], "Input"],

Cell[BoxData[
 RowBox[{
  RowBox[{"(*", 
   RowBox[{
    RowBox[{
    "input", " ", "dataclass", " ", "list", " ", "of", " ", "correlation"}], 
    ",", " ", 
    RowBox[{"dr", "*", "correlation"}], ",", " ", 
    RowBox[{"deltaR", " ", "with", " ", 
     RowBox[{"dimensions", " ", "[", 
      RowBox[{"[", 
       RowBox[{"iexpt", ",", "flavour"}], "]"}], "]"}]}]}], "*)"}], "\n", 
  RowBox[{"(*", 
   RowBox[{"output", " ", "plots", " ", "for", " ", "manipulate"}], "*)"}], 
  "\n", 
  RowBox[{
   RowBox[{"makeplotsformanipulate", "[", 
    RowBox[{
    "corrfxQdtaobsclassin_", ",", "dRcorrfxQdtaobsclassin_", ",", 
     "deltaRclassin_", ",", "pdfsetfilein_", ",", "datalistFilein_"}], "]"}], 
   ":=", "\n", 
   RowBox[{"Module", "[", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{
       RowBox[{"corrfxQdtaobsclass", "=", "corrfxQdtaobsclassin"}], ",", 
       RowBox[{"dRcorrfxQdtaobsclass", "=", "dRcorrfxQdtaobsclassin"}], ",", 
       RowBox[{"deltaRclass", "=", "deltaRclassin"}], ",", 
       RowBox[{"pdfsetfile", "=", "pdfsetfilein"}], ",", 
       RowBox[{"datalistFile", "=", "datalistFilein"}], ",", "fmax", ",", 
       "corrdataforplot", ",", "drcorrdataforplot", ",", "drforplot", ",", 
       "procs", ",", "expids", ",", "p"}], "}"}], ",", "\n", 
     RowBox[{"(*", "********************************)"}], "\n", 
     RowBox[{"(*", 
      RowBox[{
      "prepare", " ", "for", " ", "data", " ", "input", " ", "to", " ", 
       "processdataplotsmultiexp"}], "*)"}], "\n", 
     RowBox[{"(*", "********************************)"}], "\n", 
     RowBox[{"(*", 
      RowBox[{
       RowBox[{
       "transf", " ", "format", " ", "from", " ", "LF", " ", "to", " ", 
        "LF1"}], ",", " ", 
       RowBox[{
       "since", " ", "plot", " ", "functions", " ", "use", " ", "LF1"}]}], 
      "*)"}], "\n", 
     RowBox[{
      RowBox[{"fmax", "=", 
       RowBox[{"Length", "[", 
        RowBox[{"corrfxQdtaobsclass", "[", 
         RowBox[{"[", "1", "]"}], "]"}], " ", "]"}]}], ";", "\n", "\n", 
      RowBox[{"Table", "[", "\n", 
       RowBox[{
        RowBox[{
         RowBox[{
          RowBox[{
           RowBox[{"corrfxQdtaobsclass", "[", 
            RowBox[{"[", 
             RowBox[{"i", ",", 
              RowBox[{"flavour", "+", "6"}]}], "]"}], "]"}], "[", 
           RowBox[{"[", "\"\<data\>\"", "]"}], "]"}], "=", 
          RowBox[{
           RowBox[{
            RowBox[{"corrfxQdtaobsclass", "[", 
             RowBox[{"[", 
              RowBox[{"i", ",", 
               RowBox[{"flavour", "+", "6"}]}], "]"}], "]"}], "[", 
            RowBox[{"[", "\"\<data\>\"", "]"}], "]"}], "/.", 
           RowBox[{"LF", "->", "LF1"}]}]}], ";", "\n", 
         RowBox[{
          RowBox[{
           RowBox[{"dRcorrfxQdtaobsclass", "[", 
            RowBox[{"[", 
             RowBox[{"i", ",", 
              RowBox[{"flavour", "+", "6"}]}], "]"}], "]"}], "[", 
           RowBox[{"[", "\"\<data\>\"", "]"}], "]"}], "=", 
          RowBox[{
           RowBox[{
            RowBox[{"dRcorrfxQdtaobsclass", "[", 
             RowBox[{"[", 
              RowBox[{"i", ",", 
               RowBox[{"flavour", "+", "6"}]}], "]"}], "]"}], "[", 
            RowBox[{"[", "\"\<data\>\"", "]"}], "]"}], "/.", 
           RowBox[{"LF", "->", "LF1"}]}]}], ";", "\n", 
         RowBox[{
          RowBox[{
           RowBox[{"deltaRclass", "[", 
            RowBox[{"[", 
             RowBox[{"i", ",", 
              RowBox[{"flavour", "+", "6"}]}], "]"}], "]"}], "[", 
           RowBox[{"[", "\"\<data\>\"", "]"}], "]"}], "=", 
          RowBox[{
           RowBox[{
            RowBox[{"deltaRclass", "[", 
             RowBox[{"[", 
              RowBox[{"i", ",", 
               RowBox[{"flavour", "+", "6"}]}], "]"}], "]"}], "[", 
            RowBox[{"[", "\"\<data\>\"", "]"}], "]"}], "/.", 
           RowBox[{"LF", "->", "LF1"}]}]}], ";", "\n", 
         RowBox[{"(*", 
          RowBox[{
           RowBox[{
            RowBox[{
             RowBox[{"deltaR", "[", 
              RowBox[{"[", 
               RowBox[{"i", ",", 
                RowBox[{"flavour", "+", "6"}]}], "]"}], "]"}], "[", 
             RowBox[{"[", "\"\<data\>\"", "]"}], "]"}], "=", 
            RowBox[{
             RowBox[{
              RowBox[{"deltaR", "[", 
               RowBox[{"[", 
                RowBox[{"i", ",", 
                 RowBox[{"flavour", "+", "6"}]}], "]"}], "]"}], "[", 
              RowBox[{"[", "\"\<data\>\"", "]"}], "]"}], "/.", 
             RowBox[{"LF", "\[Rule]", "LF1"}]}]}], ";"}], "*)"}], "\n", 
         "\"\<dummy\>\""}], ",", "\n", 
        RowBox[{"{", 
         RowBox[{"i", ",", "1", ",", 
          RowBox[{"Length", "[", "corrfxQdtaobsclass", "]"}]}], "}"}], ",", 
        RowBox[{"{", 
         RowBox[{"flavour", ",", 
          RowBox[{"-", "5"}], ",", 
          RowBox[{
           RowBox[{"-", "5"}], "+", "fmax", "-", "1"}]}], "}"}]}], "\n", 
       "]"}], ";", "\n", "\n", 
      RowBox[{"(*", 
       RowBox[{"set", " ", 
        RowBox[{"{", 
         RowBox[{
          RowBox[{"corr", "[", 
           RowBox[{"[", "flavour", "]"}], "]"}], ",", 
          RowBox[{"drcorr", "[", 
           RowBox[{"[", "flavour", "]"}], "]"}], ",", 
          RowBox[{"dr", "[", 
           RowBox[{"[", "flavour", "]"}], "]"}]}], "}"}]}], "*)"}], "\n", 
      RowBox[{"(*", 
       RowBox[{
       "they", " ", "are", " ", "used", " ", "to", "  ", "input", " ", "into",
         " ", "processdataplotsmultiexp"}], "*)"}], "\n", 
      RowBox[{"(*", 
       RowBox[{
        RowBox[{"data", " ", "format"}], " ", "\[Equal]", " ", 
        RowBox[{"{", 
         RowBox[{
          RowBox[{"LF", "[", 
           RowBox[{"x", ",", "Q", ",", "obs"}], "]"}], ",", "...", ",", 
          "..."}], "}"}]}], "*)"}], "\n", 
      RowBox[{"corrdataforplot", "=", 
       RowBox[{"Table", "[", 
        RowBox[{
         RowBox[{
          RowBox[{"corrfxQdtaobsclass", "[", 
           RowBox[{"[", 
            RowBox[{"iexpt", ",", 
             RowBox[{"flavour", "+", "6"}]}], "]"}], "]"}], "[", 
          RowBox[{"[", "\"\<data\>\"", "]"}], "]"}], ",", 
         RowBox[{"{", 
          RowBox[{"iexpt", ",", "1", ",", 
           RowBox[{"Length", "[", "corrfxQdtaobsclass", "]"}]}], "}"}], ",", 
         RowBox[{"{", 
          RowBox[{"flavour", ",", 
           RowBox[{"-", "5"}], ",", 
           RowBox[{
            RowBox[{"-", "5"}], "+", "fmax", "-", "1"}]}], "}"}]}], "]"}]}], 
      ";", "\n", 
      RowBox[{"drcorrdataforplot", "=", 
       RowBox[{"Table", "[", 
        RowBox[{
         RowBox[{
          RowBox[{"dRcorrfxQdtaobsclass", "[", 
           RowBox[{"[", 
            RowBox[{"iexpt", ",", 
             RowBox[{"flavour", "+", "6"}]}], "]"}], "]"}], "[", 
          RowBox[{"[", "\"\<data\>\"", "]"}], "]"}], ",", 
         RowBox[{"{", 
          RowBox[{"iexpt", ",", "1", ",", 
           RowBox[{"Length", "[", "corrfxQdtaobsclass", "]"}]}], "}"}], ",", 
         RowBox[{"{", 
          RowBox[{"flavour", ",", 
           RowBox[{"-", "5"}], ",", 
           RowBox[{
            RowBox[{"-", "5"}], "+", "fmax", "-", "1"}]}], "}"}]}], "]"}]}], 
      ";", "\n", 
      RowBox[{"drforplot", "=", 
       RowBox[{"Table", "[", 
        RowBox[{
         RowBox[{
          RowBox[{"deltaRclass", "[", 
           RowBox[{"[", 
            RowBox[{"iexpt", ",", 
             RowBox[{"flavour", "+", "6"}]}], "]"}], "]"}], "[", 
          RowBox[{"[", "\"\<data\>\"", "]"}], "]"}], ",", 
         RowBox[{"{", 
          RowBox[{"iexpt", ",", "1", ",", 
           RowBox[{"Length", "[", "corrfxQdtaobsclass", "]"}]}], "}"}], ",", 
         RowBox[{"{", 
          RowBox[{"flavour", ",", 
           RowBox[{"-", "5"}], ",", 
           RowBox[{
            RowBox[{"-", "5"}], "+", "fmax", "-", "1"}]}], "}"}]}], "]"}]}], 
      ";", "\n", "\n", 
      RowBox[{"(*", 
       RowBox[{
        RowBox[{
        "merge", " ", "all", " ", "experimental", " ", "data", " ", "into", 
         " ", "one"}], ",", " ", 
        RowBox[{"for", " ", "all", " ", "flavours"}]}], "*)"}], "\n", 
      RowBox[{"(*", 
       RowBox[{
        RowBox[{"ex", ":", " ", 
         RowBox[{"corrdataforplot", "[", 
          RowBox[{"[", 
           RowBox[{"iexpt", ",", "flavour", ",", "Npt"}], "]"}], "]"}]}], " ",
         "\[Rule]", " ", 
        RowBox[{"orrdataforplot", "[", 
         RowBox[{"[", 
          RowBox[{"flavour", ",", "Npt"}], "]"}], "]"}]}], "*)"}], "\n", 
      RowBox[{
       RowBox[{"{", 
        RowBox[{
        "corrdataforplot", ",", "drcorrdataforplot", ",", "drforplot"}], 
        "}"}], "=", 
       RowBox[{"mergeplotdata", "[", 
        RowBox[{"{", 
         RowBox[{
         "corrdataforplot", ",", "drcorrdataforplot", ",", "drforplot"}], 
         "}"}], "]"}]}], ";", "\n", "\n", 
      RowBox[{"(*", " ", 
       RowBox[{"deletezerovalue", ":", " ", 
        RowBox[{
        "delete", " ", "data", " ", "with", " ", "0", " ", "value", " ", 
         RowBox[{"(", 
          RowBox[{
           RowBox[{
           "0", " ", "value", " ", "usually", " ", "from", " ", "mb"}], ",", 
           " ", 
           RowBox[{"mc", " ", "cut"}]}], ")"}]}]}], "*)"}], "\n", 
      RowBox[{
       RowBox[{"{", 
        RowBox[{
        "corrdataforplot", ",", "drcorrdataforplot", ",", "drforplot"}], 
        "}"}], "=", 
       RowBox[{"deletezerovalue", "[", 
        RowBox[{"{", 
         RowBox[{
         "corrdataforplot", ",", "drcorrdataforplot", ",", "drforplot"}], 
         "}"}], "]"}]}], ";", "\n", "\n", 
      RowBox[{"(*", "********************************)"}], "\n", 
      RowBox[{"(*", 
       RowBox[{
       "use", " ", "processdataplotsmultiexp", " ", "to", " ", "make", " ", 
        "plots"}], "*)"}], "\n", 
      RowBox[{"(*", "********************************)"}], "\n", "\n", 
      RowBox[{"(*", 
       RowBox[{
        RowBox[{
         RowBox[{"prepare", " ", 
          RowBox[{"arguments", ":", " ", 
           RowBox[{"expt", " ", "index", " ", "of", " ", "processes"}]}]}], 
         "=", 
         RowBox[{"{", 
          RowBox[{
          "PDISNC", ",", "NDISCC", ",", "PDISNCCC", ",", "PVBPZ", ",", 
           "PVBPW", ",", "PJP", ",", "hDISNC", ",", "hDISCC", ",", "hVBPZ"}], 
          "}"}]}], ",", "\n", 
        RowBox[{
        "it", " ", "is", " ", "for", " ", "processdataplotsmultiexp"}]}], 
       "*)"}], "\n", 
      RowBox[{
       RowBox[{"{", 
        RowBox[{"procs", ",", "expids"}], "}"}], "=", 
       RowBox[{"toprocexptidlist", "[", "exptlist", "]"}]}], ";", "\n", 
      RowBox[{"(*", 
       RowBox[{
       "make", " ", "all", " ", "plots", " ", "for", " ", "manipulate"}], " ",
        "*)"}], "\n", "\n", 
      RowBox[{"p", "=", "\n", 
       RowBox[{"Table", "[", "\n", 
        RowBox[{
         RowBox[{"processdataplotsmultiexp", "[", 
          RowBox[{
           RowBox[{"{", 
            RowBox[{
            "corrdataforplot", ",", "drcorrdataforplot", ",", "drforplot"}], 
            "}"}], ",", "pdfsetfile", ",", 
           RowBox[{"(*", 
            RowBox[{"PDFDataDirin_", ",", "CorrDataDirin_", ","}], "*)"}], 
           "datalistFile", ",", "procs", ",", "expids", ",", "flavour", ",", 
           "SMmode"}], "]"}], ",", "\n", 
         RowBox[{"{", 
          RowBox[{"SMmode", ",", "1", ",", "3"}], "}"}], ",", 
         RowBox[{"{", 
          RowBox[{"flavour", ",", 
           RowBox[{"-", "5"}], ",", 
           RowBox[{
            RowBox[{"-", "5"}], "+", "fmax", "-", "1"}]}], "}"}]}], "]"}]}], 
      ";", "\n", "\n", "p"}]}], "\n", "]"}]}]}]], "Input"]
}, Open  ]],

Cell["save plot into file (pdf, eps, jpg)", "Subsection"]
}, Open  ]]
}, Open  ]],

Cell[CellGroupData[{

Cell["Other functions", "Chapter"],

Cell[CellGroupData[{

Cell["convert figure files into eps, png, pdf, jpg format", "Section"],

Cell[BoxData[
 RowBox[{
  RowBox[{"ConvertPlotExtension", "[", 
   RowBox[{"filenamelistin_", ",", "extIndexin_"}], "]"}], ":=", "\n", 
  RowBox[{"Module", "[", 
   RowBox[{
    RowBox[{"{", 
     RowBox[{
      RowBox[{"filenamelist", "=", "filenamelistin"}], ",", 
      RowBox[{"extIndex", "=", "extIndexin"}], ",", "\n", "convertstr", ",", 
      "extensionname", ",", "iext", ",", "filenamelistnew"}], "}"}], ",", 
    "\n", 
    RowBox[{
     RowBox[{"convertstr", "=", "\"\<convert \>\""}], ";", "\n", 
     RowBox[{"extensionname", "=", 
      RowBox[{"{", 
       RowBox[{
       "\"\<.eps\>\"", ",", "\"\<.png\>\"", ",", "\"\<.pdf\>\"", ",", 
        "\"\<.jpg\>\""}], "}"}]}], ";", "\n", 
     RowBox[{"iext", "=", "extIndex"}], ";", "\n", "\n", "\n", 
     RowBox[{"(*", 
      RowBox[{
      "cut", " ", "extension", " ", "part", " ", "and", " ", "add", " ", 
       "the", " ", "new", " ", "extension", " ", "we", " ", "want", " ", "to",
        " ", "convert"}], "*)"}], "\n", 
     RowBox[{"filenamelistnew", "=", 
      RowBox[{"Table", "[", 
       RowBox[{
        RowBox[{
         RowBox[{"StringDrop", "[", 
          RowBox[{
           RowBox[{"filenamelist", "[", 
            RowBox[{"[", "ifile", "]"}], "]"}], ",", 
           RowBox[{
            RowBox[{"-", "1"}], "-", 
            RowBox[{"(", 
             RowBox[{
              RowBox[{"FileExtension", "[", 
               RowBox[{"filenamelist", "[", 
                RowBox[{"[", "ifile", "]"}], "]"}], " ", "]"}], "//", 
              "StringLength"}], ")"}]}]}], " ", "]"}], "<>", 
         RowBox[{"extensionname", "[", 
          RowBox[{"[", "iext", "]"}], "]"}]}], ",", 
        RowBox[{"{", 
         RowBox[{"ifile", ",", "1", ",", 
          RowBox[{"Length", "[", "filenamelist", "]"}]}], "}"}]}], "]"}]}], 
     ";", "\n", "\n", 
     RowBox[{"(*", 
      RowBox[{
      "convert", " ", "files", " ", "to", " ", "new", " ", "extension"}], 
      "*)"}], "\n", 
     RowBox[{"Table", "[", 
      RowBox[{
       RowBox[{
        RowBox[{"Run", "[", 
         RowBox[{"convertstr", "<>", 
          RowBox[{"filenamelist", "[", 
           RowBox[{"[", "ifile", "]"}], "]"}], "<>", "\"\< \>\"", "<>", 
          RowBox[{"filenamelistnew", "[", 
           RowBox[{"[", "ifile", "]"}], "]"}]}], " ", "]"}], ";", 
        "\"\<dummy\>\""}], ",", 
       RowBox[{"{", 
        RowBox[{"ifile", ",", "1", ",", 
         RowBox[{"Length", "[", "filenamelist", "]"}]}], "}"}]}], "]"}], ";", 
     "\n", "\n", "\"\<dummy\>\""}]}], "\n", "]"}]}]], "Input",
 InitializationCell->True]
}, Open  ]],

Cell[CellGroupData[{

Cell["merge files into a pdf file", "Section"],

Cell[CellGroupData[{

Cell["\<\
get filenames which are output figures of figure making executables\
\>", "Subsection"],

Cell[BoxData[""], "Input",
 InitializationCell->True],

Cell[BoxData[
 RowBox[{
  RowBox[{"GetxQplotListSamept", "[", 
   RowBox[{"PlotDirin_", ",", "extIndexin_"}], "]"}], ":=", "\n", 
  RowBox[{"Module", "[", 
   RowBox[{
    RowBox[{"{", 
     RowBox[{
      RowBox[{"PlotDir", "=", "PlotDirin"}], ",", 
      RowBox[{"extIndex", "=", "extIndexin"}], ",", "\n", "filenamelist", ",",
       "filename", ",", "iext", ",", "obsname", ",", "representationname", 
      ",", "extensionname", ",", "fmax"}], "}"}], ",", "\n", "\n", 
    RowBox[{"(*", 
     RowBox[{
      RowBox[{"set", " ", "observables"}], ",", " ", 
      RowBox[{"different", " ", "kinds", " ", "of", " ", "plot"}], ",", " ", 
      RowBox[{
      "available", " ", "extension", " ", "of", " ", "output", " ", 
       "files"}]}], " ", "*)"}], "\n", 
    RowBox[{
     RowBox[{"obsname", "=", 
      RowBox[{"{", 
       RowBox[{
       "\"\<xQbyexpt\>\"", ",", "\"\<expt_error_ratio\>\"", ",", 
        "\"\<residual\>\"", ",", "\"\<dr\>\"", ",", "\"\<corrdr\>\"", ",", 
        "\"\<corr\>\""}], "}"}]}], ";", "\n", 
     RowBox[{"representationname", "=", 
      RowBox[{"{", 
       RowBox[{
       "\"\<xQ\>\"", ",", "\"\<legend\>\"", ",", "\"\<hist1\>\"", ",", 
        "\"\<hist2\>\""}], "}"}]}], ";", "\n", 
     RowBox[{"extensionname", "=", 
      RowBox[{"{", 
       RowBox[{
       "\"\<.eps\>\"", ",", "\"\<.png\>\"", ",", "\"\<.pdf\>\"", ",", 
        "\"\<.jpg\>\""}], "}"}]}], ";", "\n", "\n", 
     RowBox[{"(*", 
      RowBox[{"make", " ", "all", " ", "figuretype", " ", "plots"}], " ", 
      "*)"}], "\n", 
     RowBox[{"filenamelist", "=", 
      RowBox[{"{", "}"}]}], ";", "\n", 
     RowBox[{"iext", "=", "extIndex"}], ";", "\n", 
     RowBox[{"fmax", "=", "15"}], ";", "\n", "\n", 
     RowBox[{"Print", "[", 
      RowBox[{
      "\"\<search figures under\>\"", ",", "PlotDir", ",", 
       "\"\<, extension = \>\"", ",", 
       RowBox[{"extensionname", "[", 
        RowBox[{"[", "extIndex", "]"}], "]"}], ",", 
       "\"\<, total #flavour for check = \>\"", ",", "fmax"}], "]"}], ";", 
     "\n", 
     RowBox[{"Table", "[", "\n", 
      RowBox[{"(*", 
       RowBox[{
        RowBox[{"Print", "[", 
         RowBox[{"\"\<now flavour = \>\"", ",", "flavour"}], "]"}], ";"}], 
       "*)"}], "\n", 
      RowBox[{"(*", 
       RowBox[{
       "add", " ", "exptname", " ", "table", " ", "into", " ", "output", " ", 
        "figure"}], "*)"}], "\n", "\n", 
      RowBox[{"(*", 
       RowBox[{
        RowBox[{"p6", "=", 
         RowBox[{"GraphicsGrid", "[", 
          RowBox[{"p6", ",", 
           RowBox[{"Spacings", "\[Rule]", 
            RowBox[{"Scaled", "[", "0.15", "]"}]}]}], " ", "]"}]}], ";"}], 
       "*)"}], "\n", "\n", 
      RowBox[{
       RowBox[{
        RowBox[{"filename", "=", 
         RowBox[{
          RowBox[{"obsname", "[", 
           RowBox[{"[", "6", "]"}], "]"}], "<>", "\"\<_\>\"", "<>", 
          RowBox[{"representationname", "[", 
           RowBox[{"[", "1", "]"}], "]"}], "<>", "\"\<_\>\"", "<>", 
          "\"\<f\>\"", "<>", 
          RowBox[{"ToString", "[", "flavour", "]"}], "<>", 
          "\"\<_samept\>\""}]}], ";", "\n", 
        RowBox[{"If", "[", 
         RowBox[{
          RowBox[{
           RowBox[{"FileExistsQ", "[", 
            RowBox[{"PlotDir", "<>", "filename", "<>", 
             RowBox[{"extensionname", "[", 
              RowBox[{"[", "iext", "]"}], "]"}]}], "]"}], "==", "True"}], ",", 
          RowBox[{"AppendTo", "[", 
           RowBox[{"filenamelist", ",", 
            RowBox[{"PlotDir", "<>", "filename", "<>", 
             RowBox[{"extensionname", "[", 
              RowBox[{"[", "iext", "]"}], "]"}]}]}], " ", "]"}]}], " ", "]"}],
         ";", "\n", 
        RowBox[{"filename", "=", 
         RowBox[{
          RowBox[{"obsname", "[", 
           RowBox[{"[", "6", "]"}], "]"}], "<>", "\"\<_\>\"", "<>", 
          RowBox[{"representationname", "[", 
           RowBox[{"[", "2", "]"}], "]"}], "<>", "\"\<_\>\"", "<>", 
          "\"\<f\>\"", "<>", 
          RowBox[{"ToString", "[", "flavour", "]"}], "<>", 
          "\"\<_samept\>\""}]}], ";", "\n", 
        RowBox[{"If", "[", 
         RowBox[{
          RowBox[{
           RowBox[{"FileExistsQ", "[", 
            RowBox[{"PlotDir", "<>", "filename", "<>", 
             RowBox[{"extensionname", "[", 
              RowBox[{"[", "iext", "]"}], "]"}]}], "]"}], "==", "True"}], ",", 
          RowBox[{"AppendTo", "[", 
           RowBox[{"filenamelist", ",", 
            RowBox[{"PlotDir", "<>", "filename", "<>", 
             RowBox[{"extensionname", "[", 
              RowBox[{"[", "iext", "]"}], "]"}]}]}], " ", "]"}]}], " ", "]"}],
         ";", "\n", 
        RowBox[{"filename", "=", 
         RowBox[{
          RowBox[{"obsname", "[", 
           RowBox[{"[", "6", "]"}], "]"}], "<>", "\"\<_\>\"", "<>", 
          RowBox[{"representationname", "[", 
           RowBox[{"[", "3", "]"}], "]"}], "<>", "\"\<_\>\"", "<>", 
          "\"\<f\>\"", "<>", 
          RowBox[{"ToString", "[", "flavour", "]"}], "<>", 
          "\"\<_samept\>\""}]}], ";", "\n", 
        RowBox[{"If", "[", 
         RowBox[{
          RowBox[{
           RowBox[{"FileExistsQ", "[", 
            RowBox[{"PlotDir", "<>", "filename", "<>", 
             RowBox[{"extensionname", "[", 
              RowBox[{"[", "iext", "]"}], "]"}]}], "]"}], "==", "True"}], ",", 
          RowBox[{"AppendTo", "[", 
           RowBox[{"filenamelist", ",", 
            RowBox[{"PlotDir", "<>", "filename", "<>", 
             RowBox[{"extensionname", "[", 
              RowBox[{"[", "iext", "]"}], "]"}]}]}], " ", "]"}]}], " ", "]"}],
         ";", "\n", 
        RowBox[{"filename", "=", 
         RowBox[{
          RowBox[{"obsname", "[", 
           RowBox[{"[", "6", "]"}], "]"}], "<>", "\"\<_\>\"", "<>", 
          RowBox[{"representationname", "[", 
           RowBox[{"[", "4", "]"}], "]"}], "<>", "\"\<_\>\"", "<>", 
          "\"\<f\>\"", "<>", 
          RowBox[{"ToString", "[", "flavour", "]"}], "<>", 
          "\"\<_samept\>\""}]}], ";", "\n", 
        RowBox[{"If", "[", 
         RowBox[{
          RowBox[{
           RowBox[{"FileExistsQ", "[", 
            RowBox[{"PlotDir", "<>", "filename", "<>", 
             RowBox[{"extensionname", "[", 
              RowBox[{"[", "iext", "]"}], "]"}]}], "]"}], "==", "True"}], ",", 
          RowBox[{"AppendTo", "[", 
           RowBox[{"filenamelist", ",", 
            RowBox[{"PlotDir", "<>", "filename", "<>", 
             RowBox[{"extensionname", "[", 
              RowBox[{"[", "iext", "]"}], "]"}]}]}], " ", "]"}]}], " ", "]"}],
         ";", "\n", "\n", "\n", 
        RowBox[{"(*", 
         RowBox[{
          RowBox[{"p5", "=", 
           RowBox[{"GraphicsGrid", "[", 
            RowBox[{"p5", ",", 
             RowBox[{"Spacings", "\[Rule]", 
              RowBox[{"Scaled", "[", "0.15", "]"}]}]}], " ", "]"}]}], ";"}], 
         "*)"}], "\n", 
        RowBox[{"filename", "=", 
         RowBox[{
          RowBox[{"obsname", "[", 
           RowBox[{"[", "5", "]"}], "]"}], "<>", "\"\<_\>\"", "<>", 
          RowBox[{"representationname", "[", 
           RowBox[{"[", "1", "]"}], "]"}], "<>", "\"\<_\>\"", "<>", 
          "\"\<f\>\"", "<>", 
          RowBox[{"ToString", "[", "flavour", "]"}], "<>", 
          "\"\<_samept\>\""}]}], ";", "\n", 
        RowBox[{"If", "[", 
         RowBox[{
          RowBox[{
           RowBox[{"FileExistsQ", "[", 
            RowBox[{"PlotDir", "<>", "filename", "<>", 
             RowBox[{"extensionname", "[", 
              RowBox[{"[", "iext", "]"}], "]"}]}], "]"}], "==", "True"}], ",", 
          RowBox[{"AppendTo", "[", 
           RowBox[{"filenamelist", ",", 
            RowBox[{"PlotDir", "<>", "filename", "<>", 
             RowBox[{"extensionname", "[", 
              RowBox[{"[", "iext", "]"}], "]"}]}]}], " ", "]"}]}], " ", "]"}],
         ";", "\n", 
        RowBox[{"filename", "=", 
         RowBox[{
          RowBox[{"obsname", "[", 
           RowBox[{"[", "5", "]"}], "]"}], "<>", "\"\<_\>\"", "<>", 
          RowBox[{"representationname", "[", 
           RowBox[{"[", "2", "]"}], "]"}], "<>", "\"\<_\>\"", "<>", 
          "\"\<f\>\"", "<>", 
          RowBox[{"ToString", "[", "flavour", "]"}], "<>", 
          "\"\<_samept\>\""}]}], ";", "\n", 
        RowBox[{"If", "[", 
         RowBox[{
          RowBox[{
           RowBox[{"FileExistsQ", "[", 
            RowBox[{"PlotDir", "<>", "filename", "<>", 
             RowBox[{"extensionname", "[", 
              RowBox[{"[", "iext", "]"}], "]"}]}], "]"}], "==", "True"}], ",", 
          RowBox[{"AppendTo", "[", 
           RowBox[{"filenamelist", ",", 
            RowBox[{"PlotDir", "<>", "filename", "<>", 
             RowBox[{"extensionname", "[", 
              RowBox[{"[", "iext", "]"}], "]"}]}]}], " ", "]"}]}], " ", "]"}],
         ";", "\n", 
        RowBox[{"filename", "=", 
         RowBox[{
          RowBox[{"obsname", "[", 
           RowBox[{"[", "5", "]"}], "]"}], "<>", "\"\<_\>\"", "<>", 
          RowBox[{"representationname", "[", 
           RowBox[{"[", "3", "]"}], "]"}], "<>", "\"\<_\>\"", "<>", 
          "\"\<f\>\"", "<>", 
          RowBox[{"ToString", "[", "flavour", "]"}], "<>", 
          "\"\<_samept\>\""}]}], ";", "\n", 
        RowBox[{"If", "[", 
         RowBox[{
          RowBox[{
           RowBox[{"FileExistsQ", "[", 
            RowBox[{"PlotDir", "<>", "filename", "<>", 
             RowBox[{"extensionname", "[", 
              RowBox[{"[", "iext", "]"}], "]"}]}], "]"}], "==", "True"}], ",", 
          RowBox[{"AppendTo", "[", 
           RowBox[{"filenamelist", ",", 
            RowBox[{"PlotDir", "<>", "filename", "<>", 
             RowBox[{"extensionname", "[", 
              RowBox[{"[", "iext", "]"}], "]"}]}]}], " ", "]"}]}], " ", "]"}],
         ";", "\n", 
        RowBox[{"filename", "=", 
         RowBox[{
          RowBox[{"obsname", "[", 
           RowBox[{"[", "5", "]"}], "]"}], "<>", "\"\<_\>\"", "<>", 
          RowBox[{"representationname", "[", 
           RowBox[{"[", "4", "]"}], "]"}], "<>", "\"\<_\>\"", "<>", 
          "\"\<f\>\"", "<>", 
          RowBox[{"ToString", "[", "flavour", "]"}], "<>", 
          "\"\<_samept\>\""}]}], ";", "\n", 
        RowBox[{"If", "[", 
         RowBox[{
          RowBox[{
           RowBox[{"FileExistsQ", "[", 
            RowBox[{"PlotDir", "<>", "filename", "<>", 
             RowBox[{"extensionname", "[", 
              RowBox[{"[", "iext", "]"}], "]"}]}], "]"}], "==", "True"}], ",", 
          RowBox[{"AppendTo", "[", 
           RowBox[{"filenamelist", ",", 
            RowBox[{"PlotDir", "<>", "filename", "<>", 
             RowBox[{"extensionname", "[", 
              RowBox[{"[", "iext", "]"}], "]"}]}]}], " ", "]"}]}], " ", "]"}],
         ";", "\n", "\n", "\"\<dummy\>\""}], "\n", ",", 
       RowBox[{"{", 
        RowBox[{"flavour", ",", 
         RowBox[{"-", "5"}], ",", 
         RowBox[{
          RowBox[{"-", "5"}], "+", "fmax", "-", "1"}]}], "}"}]}], "\n", "]"}],
      ";", "\n", "\n", 
     RowBox[{"(*", 
      RowBox[{"2", ",", " ", "3", ",", " ", "4"}], "*)"}], "\n", 
     RowBox[{"(*", 
      RowBox[{"dr", "*", "corr", " ", "plots"}], "*)"}], "\n", 
     RowBox[{"(*", 
      RowBox[{
       RowBox[{"p5", "=", 
        RowBox[{"GraphicsGrid", "[", 
         RowBox[{"p5", ",", 
          RowBox[{"Spacings", "\[Rule]", 
           RowBox[{"Scaled", "[", "0.15", "]"}]}]}], " ", "]"}]}], ";"}], 
      "*)"}], "\n", 
     RowBox[{"filename", "=", 
      RowBox[{
       RowBox[{"obsname", "[", 
        RowBox[{"[", "2", "]"}], "]"}], "<>", "\"\<_\>\"", "<>", 
       RowBox[{"representationname", "[", 
        RowBox[{"[", "1", "]"}], "]"}], "<>", "\"\<_samept\>\""}]}], ";", 
     "\n", 
     RowBox[{"If", "[", 
      RowBox[{
       RowBox[{
        RowBox[{"FileExistsQ", "[", 
         RowBox[{"PlotDir", "<>", "filename", "<>", 
          RowBox[{"extensionname", "[", 
           RowBox[{"[", "iext", "]"}], "]"}]}], "]"}], "==", "True"}], ",", 
       RowBox[{"AppendTo", "[", 
        RowBox[{"filenamelist", ",", 
         RowBox[{"PlotDir", "<>", "filename", "<>", 
          RowBox[{"extensionname", "[", 
           RowBox[{"[", "iext", "]"}], "]"}]}]}], " ", "]"}]}], " ", "]"}], 
     ";", "\n", 
     RowBox[{"filename", "=", 
      RowBox[{
       RowBox[{"obsname", "[", 
        RowBox[{"[", "2", "]"}], "]"}], "<>", "\"\<_\>\"", "<>", 
       RowBox[{"representationname", "[", 
        RowBox[{"[", "2", "]"}], "]"}], "<>", "\"\<_samept\>\""}]}], ";", 
     "\n", 
     RowBox[{"If", "[", 
      RowBox[{
       RowBox[{
        RowBox[{"FileExistsQ", "[", 
         RowBox[{"PlotDir", "<>", "filename", "<>", 
          RowBox[{"extensionname", "[", 
           RowBox[{"[", "iext", "]"}], "]"}]}], "]"}], "==", "True"}], ",", 
       RowBox[{"AppendTo", "[", 
        RowBox[{"filenamelist", ",", 
         RowBox[{"PlotDir", "<>", "filename", "<>", 
          RowBox[{"extensionname", "[", 
           RowBox[{"[", "iext", "]"}], "]"}]}]}], " ", "]"}]}], " ", "]"}], 
     ";", "\n", 
     RowBox[{"filename", "=", 
      RowBox[{
       RowBox[{"obsname", "[", 
        RowBox[{"[", "2", "]"}], "]"}], "<>", "\"\<_\>\"", "<>", 
       RowBox[{"representationname", "[", 
        RowBox[{"[", "3", "]"}], "]"}], "<>", "\"\<_samept\>\""}]}], ";", 
     "\n", 
     RowBox[{"If", "[", 
      RowBox[{
       RowBox[{
        RowBox[{"FileExistsQ", "[", 
         RowBox[{"PlotDir", "<>", "filename", "<>", 
          RowBox[{"extensionname", "[", 
           RowBox[{"[", "iext", "]"}], "]"}]}], "]"}], "==", "True"}], ",", 
       RowBox[{"AppendTo", "[", 
        RowBox[{"filenamelist", ",", 
         RowBox[{"PlotDir", "<>", "filename", "<>", 
          RowBox[{"extensionname", "[", 
           RowBox[{"[", "iext", "]"}], "]"}]}]}], " ", "]"}]}], " ", "]"}], 
     ";", "\n", 
     RowBox[{"filename", "=", 
      RowBox[{
       RowBox[{"obsname", "[", 
        RowBox[{"[", "2", "]"}], "]"}], "<>", "\"\<_\>\"", "<>", 
       RowBox[{"representationname", "[", 
        RowBox[{"[", "4", "]"}], "]"}], "<>", "\"\<_samept\>\""}]}], ";", 
     "\n", 
     RowBox[{"If", "[", 
      RowBox[{
       RowBox[{
        RowBox[{"FileExistsQ", "[", 
         RowBox[{"PlotDir", "<>", "filename", "<>", 
          RowBox[{"extensionname", "[", 
           RowBox[{"[", "iext", "]"}], "]"}]}], "]"}], "==", "True"}], ",", 
       RowBox[{"AppendTo", "[", 
        RowBox[{"filenamelist", ",", 
         RowBox[{"PlotDir", "<>", "filename", "<>", 
          RowBox[{"extensionname", "[", 
           RowBox[{"[", "iext", "]"}], "]"}]}]}], " ", "]"}]}], " ", "]"}], 
     ";", "\n", "\n", "\n", 
     RowBox[{"(*", 
      RowBox[{
       RowBox[{"p5", "=", 
        RowBox[{"GraphicsGrid", "[", 
         RowBox[{"p5", ",", 
          RowBox[{"Spacings", "\[Rule]", 
           RowBox[{"Scaled", "[", "0.15", "]"}]}]}], " ", "]"}]}], ";"}], 
      "*)"}], "\n", 
     RowBox[{"filename", "=", 
      RowBox[{
       RowBox[{"obsname", "[", 
        RowBox[{"[", "3", "]"}], "]"}], "<>", "\"\<_\>\"", "<>", 
       RowBox[{"representationname", "[", 
        RowBox[{"[", "1", "]"}], "]"}], "<>", "\"\<_samept\>\""}]}], ";", 
     "\n", 
     RowBox[{"If", "[", 
      RowBox[{
       RowBox[{
        RowBox[{"FileExistsQ", "[", 
         RowBox[{"PlotDir", "<>", "filename", "<>", 
          RowBox[{"extensionname", "[", 
           RowBox[{"[", "iext", "]"}], "]"}]}], "]"}], "==", "True"}], ",", 
       RowBox[{"AppendTo", "[", 
        RowBox[{"filenamelist", ",", 
         RowBox[{"PlotDir", "<>", "filename", "<>", 
          RowBox[{"extensionname", "[", 
           RowBox[{"[", "iext", "]"}], "]"}]}]}], " ", "]"}]}], " ", "]"}], 
     ";", "\n", 
     RowBox[{"filename", "=", 
      RowBox[{
       RowBox[{"obsname", "[", 
        RowBox[{"[", "3", "]"}], "]"}], "<>", "\"\<_\>\"", "<>", 
       RowBox[{"representationname", "[", 
        RowBox[{"[", "2", "]"}], "]"}], "<>", "\"\<_samept\>\""}]}], ";", 
     "\n", 
     RowBox[{"If", "[", 
      RowBox[{
       RowBox[{
        RowBox[{"FileExistsQ", "[", 
         RowBox[{"PlotDir", "<>", "filename", "<>", 
          RowBox[{"extensionname", "[", 
           RowBox[{"[", "iext", "]"}], "]"}]}], "]"}], "==", "True"}], ",", 
       RowBox[{"AppendTo", "[", 
        RowBox[{"filenamelist", ",", 
         RowBox[{"PlotDir", "<>", "filename", "<>", 
          RowBox[{"extensionname", "[", 
           RowBox[{"[", "iext", "]"}], "]"}]}]}], " ", "]"}]}], " ", "]"}], 
     ";", "\n", 
     RowBox[{"filename", "=", 
      RowBox[{
       RowBox[{"obsname", "[", 
        RowBox[{"[", "3", "]"}], "]"}], "<>", "\"\<_\>\"", "<>", 
       RowBox[{"representationname", "[", 
        RowBox[{"[", "3", "]"}], "]"}], "<>", "\"\<_samept\>\""}]}], ";", 
     "\n", 
     RowBox[{"If", "[", 
      RowBox[{
       RowBox[{
        RowBox[{"FileExistsQ", "[", 
         RowBox[{"PlotDir", "<>", "filename", "<>", 
          RowBox[{"extensionname", "[", 
           RowBox[{"[", "iext", "]"}], "]"}]}], "]"}], "==", "True"}], ",", 
       RowBox[{"AppendTo", "[", 
        RowBox[{"filenamelist", ",", 
         RowBox[{"PlotDir", "<>", "filename", "<>", 
          RowBox[{"extensionname", "[", 
           RowBox[{"[", "iext", "]"}], "]"}]}]}], " ", "]"}]}], " ", "]"}], 
     ";", "\n", 
     RowBox[{"filename", "=", 
      RowBox[{
       RowBox[{"obsname", "[", 
        RowBox[{"[", "3", "]"}], "]"}], "<>", "\"\<_\>\"", "<>", 
       RowBox[{"representationname", "[", 
        RowBox[{"[", "4", "]"}], "]"}], "<>", "\"\<_samept\>\""}]}], ";", 
     "\n", 
     RowBox[{"If", "[", 
      RowBox[{
       RowBox[{
        RowBox[{"FileExistsQ", "[", 
         RowBox[{"PlotDir", "<>", "filename", "<>", 
          RowBox[{"extensionname", "[", 
           RowBox[{"[", "iext", "]"}], "]"}]}], "]"}], "==", "True"}], ",", 
       RowBox[{"AppendTo", "[", 
        RowBox[{"filenamelist", ",", 
         RowBox[{"PlotDir", "<>", "filename", "<>", 
          RowBox[{"extensionname", "[", 
           RowBox[{"[", "iext", "]"}], "]"}]}]}], " ", "]"}]}], " ", "]"}], 
     ";", "\n", "\n", "\n", 
     RowBox[{"(*", 
      RowBox[{
       RowBox[{"p5", "=", 
        RowBox[{"GraphicsGrid", "[", 
         RowBox[{"p5", ",", 
          RowBox[{"Spacings", "\[Rule]", 
           RowBox[{"Scaled", "[", "0.15", "]"}]}]}], " ", "]"}]}], ";"}], 
      "*)"}], "\n", 
     RowBox[{"filename", "=", 
      RowBox[{
       RowBox[{"obsname", "[", 
        RowBox[{"[", "4", "]"}], "]"}], "<>", "\"\<_\>\"", "<>", 
       RowBox[{"representationname", "[", 
        RowBox[{"[", "1", "]"}], "]"}], "<>", "\"\<_samept\>\""}]}], ";", 
     "\n", 
     RowBox[{"If", "[", 
      RowBox[{
       RowBox[{
        RowBox[{"FileExistsQ", "[", 
         RowBox[{"PlotDir", "<>", "filename", "<>", 
          RowBox[{"extensionname", "[", 
           RowBox[{"[", "iext", "]"}], "]"}]}], "]"}], "==", "True"}], ",", 
       RowBox[{"AppendTo", "[", 
        RowBox[{"filenamelist", ",", 
         RowBox[{"PlotDir", "<>", "filename", "<>", 
          RowBox[{"extensionname", "[", 
           RowBox[{"[", "iext", "]"}], "]"}]}]}], " ", "]"}]}], " ", "]"}], 
     ";", "\n", 
     RowBox[{"filename", "=", 
      RowBox[{
       RowBox[{"obsname", "[", 
        RowBox[{"[", "4", "]"}], "]"}], "<>", "\"\<_\>\"", "<>", 
       RowBox[{"representationname", "[", 
        RowBox[{"[", "2", "]"}], "]"}], "<>", "\"\<_samept\>\""}]}], ";", 
     "\n", 
     RowBox[{"If", "[", 
      RowBox[{
       RowBox[{
        RowBox[{"FileExistsQ", "[", 
         RowBox[{"PlotDir", "<>", "filename", "<>", 
          RowBox[{"extensionname", "[", 
           RowBox[{"[", "iext", "]"}], "]"}]}], "]"}], "==", "True"}], ",", 
       RowBox[{"AppendTo", "[", 
        RowBox[{"filenamelist", ",", 
         RowBox[{"PlotDir", "<>", "filename", "<>", 
          RowBox[{"extensionname", "[", 
           RowBox[{"[", "iext", "]"}], "]"}]}]}], " ", "]"}]}], " ", "]"}], 
     ";", "\n", 
     RowBox[{"filename", "=", 
      RowBox[{
       RowBox[{"obsname", "[", 
        RowBox[{"[", "4", "]"}], "]"}], "<>", "\"\<_\>\"", "<>", 
       RowBox[{"representationname", "[", 
        RowBox[{"[", "3", "]"}], "]"}], "<>", "\"\<_samept\>\""}]}], ";", 
     "\n", 
     RowBox[{"If", "[", 
      RowBox[{
       RowBox[{
        RowBox[{"FileExistsQ", "[", 
         RowBox[{"PlotDir", "<>", "filename", "<>", 
          RowBox[{"extensionname", "[", 
           RowBox[{"[", "iext", "]"}], "]"}]}], "]"}], "==", "True"}], ",", 
       RowBox[{"AppendTo", "[", 
        RowBox[{"filenamelist", ",", 
         RowBox[{"PlotDir", "<>", "filename", "<>", 
          RowBox[{"extensionname", "[", 
           RowBox[{"[", "iext", "]"}], "]"}]}]}], " ", "]"}]}], " ", "]"}], 
     ";", "\n", 
     RowBox[{"filename", "=", 
      RowBox[{
       RowBox[{"obsname", "[", 
        RowBox[{"[", "4", "]"}], "]"}], "<>", "\"\<_\>\"", "<>", 
       RowBox[{"representationname", "[", 
        RowBox[{"[", "4", "]"}], "]"}], "<>", "\"\<_samept\>\""}]}], ";", 
     "\n", 
     RowBox[{"If", "[", 
      RowBox[{
       RowBox[{
        RowBox[{"FileExistsQ", "[", 
         RowBox[{"PlotDir", "<>", "filename", "<>", 
          RowBox[{"extensionname", "[", 
           RowBox[{"[", "iext", "]"}], "]"}]}], "]"}], "==", "True"}], ",", 
       RowBox[{"AppendTo", "[", 
        RowBox[{"filenamelist", ",", 
         RowBox[{"PlotDir", "<>", "filename", "<>", 
          RowBox[{"extensionname", "[", 
           RowBox[{"[", "iext", "]"}], "]"}]}]}], " ", "]"}]}], " ", "]"}], 
     ";", "\n", "\n", "\n", 
     RowBox[{"filename", "=", 
      RowBox[{
       RowBox[{"obsname", "[", 
        RowBox[{"[", "1", "]"}], "]"}], "<>", "\"\<_\>\"", "<>", 
       RowBox[{"representationname", "[", 
        RowBox[{"[", "1", "]"}], "]"}]}]}], ";", "\n", 
     RowBox[{"If", "[", 
      RowBox[{
       RowBox[{
        RowBox[{"FileExistsQ", "[", 
         RowBox[{"PlotDir", "<>", "filename", "<>", 
          RowBox[{"extensionname", "[", 
           RowBox[{"[", "iext", "]"}], "]"}]}], "]"}], "==", "True"}], ",", 
       RowBox[{"AppendTo", "[", 
        RowBox[{"filenamelist", ",", 
         RowBox[{"PlotDir", "<>", "filename", "<>", 
          RowBox[{"extensionname", "[", 
           RowBox[{"[", "iext", "]"}], "]"}]}]}], " ", "]"}]}], " ", "]"}], 
     ";", "\n", 
     RowBox[{"(*", "output", "*)"}], "\n", "filenamelist"}]}], "\n", "\n", 
   "]"}]}]], "Code",
 CellChangeTimes->{{3.718338338900085*^9, 3.718338339451624*^9}}],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"GetxQplotListGrid", "[", 
    RowBox[{"PlotDirin_", ",", "extIndexin_"}], "]"}], ":=", "\n", 
   RowBox[{"Module", "[", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{
       RowBox[{"PlotDir", "=", "PlotDirin"}], ",", 
       RowBox[{"extIndex", "=", "extIndexin"}], ",", "\n", "filenamelist", 
       ",", "filename", ",", "iext", ",", "obsname", ",", 
       "representationname", ",", "extensionname", ",", "fmax"}], "}"}], ",", 
     "\n", "\n", 
     RowBox[{"(*", 
      RowBox[{
       RowBox[{"set", " ", "observables"}], ",", " ", 
       RowBox[{"different", " ", "kinds", " ", "of", " ", "plot"}], ",", " ", 
       
       RowBox[{
       "available", " ", "extension", " ", "of", " ", "output", " ", 
        "files"}]}], " ", "*)"}], "\n", 
     RowBox[{
      RowBox[{"obsname", "=", 
       RowBox[{"{", 
        RowBox[{
        "\"\<xQbyexpt\>\"", ",", "\"\<expt_error_ratio\>\"", ",", 
         "\"\<residual\>\"", ",", "\"\<dr\>\"", ",", "\"\<corrdr\>\"", ",", 
         "\"\<corr\>\""}], "}"}]}], ";", "\n", 
      RowBox[{"representationname", "=", 
       RowBox[{"{", 
        RowBox[{
        "\"\<xQ\>\"", ",", "\"\<legend\>\"", ",", "\"\<hist1\>\"", ",", 
         "\"\<hist2\>\""}], "}"}]}], ";", "\n", 
      RowBox[{"extensionname", "=", 
       RowBox[{"{", 
        RowBox[{
        "\"\<.eps\>\"", ",", "\"\<.png\>\"", ",", "\"\<.pdf\>\"", ",", 
         "\"\<.jpg\>\""}], "}"}]}], ";", "\n", "\n", 
      RowBox[{"(*", 
       RowBox[{"make", " ", "all", " ", "figuretype", " ", "plots"}], " ", 
       "*)"}], "\n", 
      RowBox[{"filenamelist", "=", 
       RowBox[{"{", "}"}]}], ";", "\n", 
      RowBox[{"iext", "=", "extIndex"}], ";", "\n", 
      RowBox[{"fmax", "=", "15"}], ";", "\n", "\n", 
      RowBox[{"Print", "[", 
       RowBox[{
       "\"\<search figures under\>\"", ",", "PlotDir", ",", 
        "\"\<, extension = \>\"", ",", 
        RowBox[{"extensionname", "[", 
         RowBox[{"[", "extIndex", "]"}], "]"}], ",", 
        "\"\<, total #flavour for check = \>\"", ",", "fmax"}], "]"}], ";", 
      "\n", 
      RowBox[{"Table", "[", "\n", 
       RowBox[{"(*", 
        RowBox[{
         RowBox[{"Print", "[", 
          RowBox[{"\"\<now flavour = \>\"", ",", "flavour"}], "]"}], ";"}], 
        "*)"}], "\n", 
       RowBox[{"(*", 
        RowBox[{
        "add", " ", "exptname", " ", "table", " ", "into", " ", "output", " ",
          "figure"}], "*)"}], "\n", "\n", 
       RowBox[{"(*", 
        RowBox[{
         RowBox[{"p6", "=", 
          RowBox[{"GraphicsGrid", "[", 
           RowBox[{"p6", ",", 
            RowBox[{"Spacings", "\[Rule]", 
             RowBox[{"Scaled", "[", "0.15", "]"}]}]}], " ", "]"}]}], ";"}], 
        "*)"}], "\n", 
       RowBox[{
        RowBox[{
         RowBox[{"filename", "=", 
          RowBox[{
           RowBox[{"obsname", "[", 
            RowBox[{"[", "6", "]"}], "]"}], "<>", "\"\<_\>\"", "<>", 
           RowBox[{"representationname", "[", 
            RowBox[{"[", "1", "]"}], "]"}], "<>", "\"\<_\>\"", "<>", 
           "\"\<f\>\"", "<>", 
           RowBox[{"ToString", "[", "flavour", "]"}], "<>", "\"\<_grid\>\"", "<>", 
           RowBox[{"extensionname", "[", 
            RowBox[{"[", "iext", "]"}], "]"}]}]}], ";", "\n", 
         RowBox[{"If", "[", 
          RowBox[{
           RowBox[{
            RowBox[{"FileExistsQ", "[", 
             RowBox[{"PlotDir", "<>", "filename"}], "]"}], "==", "True"}], 
           ",", 
           RowBox[{"AppendTo", "[", 
            RowBox[{"filenamelist", ",", 
             RowBox[{"PlotDir", "<>", "filename"}]}], "]"}]}], " ", "]"}], 
         ";", "\n", 
         RowBox[{"filename", "=", 
          RowBox[{
           RowBox[{"obsname", "[", 
            RowBox[{"[", "6", "]"}], "]"}], "<>", "\"\<_\>\"", "<>", 
           RowBox[{"representationname", "[", 
            RowBox[{"[", "2", "]"}], "]"}], "<>", "\"\<_\>\"", "<>", 
           "\"\<f\>\"", "<>", 
           RowBox[{"ToString", "[", "flavour", "]"}], "<>", "\"\<_grid\>\"", "<>", 
           RowBox[{"extensionname", "[", 
            RowBox[{"[", "iext", "]"}], "]"}]}]}], ";", "\n", 
         RowBox[{"If", "[", 
          RowBox[{
           RowBox[{
            RowBox[{"FileExistsQ", "[", 
             RowBox[{"PlotDir", "<>", "filename"}], "]"}], "==", "True"}], 
           ",", 
           RowBox[{"AppendTo", "[", 
            RowBox[{"filenamelist", ",", 
             RowBox[{"PlotDir", "<>", "filename"}]}], "]"}]}], " ", "]"}], 
         ";", "\n", 
         RowBox[{"filename", "=", 
          RowBox[{
           RowBox[{"obsname", "[", 
            RowBox[{"[", "6", "]"}], "]"}], "<>", "\"\<_\>\"", "<>", 
           RowBox[{"representationname", "[", 
            RowBox[{"[", "3", "]"}], "]"}], "<>", "\"\<_\>\"", "<>", 
           "\"\<f\>\"", "<>", 
           RowBox[{"ToString", "[", "flavour", "]"}], "<>", "\"\<_grid\>\"", "<>", 
           RowBox[{"extensionname", "[", 
            RowBox[{"[", "iext", "]"}], "]"}]}]}], ";", "\n", 
         RowBox[{"If", "[", 
          RowBox[{
           RowBox[{
            RowBox[{"FileExistsQ", "[", 
             RowBox[{"PlotDir", "<>", "filename"}], "]"}], "==", "True"}], 
           ",", 
           RowBox[{"AppendTo", "[", 
            RowBox[{"filenamelist", ",", 
             RowBox[{"PlotDir", "<>", "filename"}]}], "]"}]}], " ", "]"}], 
         ";", "\n", 
         RowBox[{"filename", "=", 
          RowBox[{
           RowBox[{"obsname", "[", 
            RowBox[{"[", "6", "]"}], "]"}], "<>", "\"\<_\>\"", "<>", 
           RowBox[{"representationname", "[", 
            RowBox[{"[", "4", "]"}], "]"}], "<>", "\"\<_\>\"", "<>", 
           "\"\<f\>\"", "<>", 
           RowBox[{"ToString", "[", "flavour", "]"}], "<>", "\"\<_grid\>\"", "<>", 
           RowBox[{"extensionname", "[", 
            RowBox[{"[", "iext", "]"}], "]"}]}]}], ";", "\n", 
         RowBox[{"If", "[", 
          RowBox[{
           RowBox[{
            RowBox[{"FileExistsQ", "[", 
             RowBox[{"PlotDir", "<>", "filename"}], "]"}], "==", "True"}], 
           ",", 
           RowBox[{"AppendTo", "[", 
            RowBox[{"filenamelist", ",", 
             RowBox[{"PlotDir", "<>", "filename"}]}], "]"}]}], " ", "]"}], 
         ";", "\n", "\n", 
         RowBox[{"(*", 
          RowBox[{"dr", "*", "corr", " ", "plots"}], "*)"}], "\n", 
         RowBox[{"(*", 
          RowBox[{
           RowBox[{"p5", "=", 
            RowBox[{"GraphicsGrid", "[", 
             RowBox[{"p5", ",", 
              RowBox[{"Spacings", "\[Rule]", 
               RowBox[{"Scaled", "[", "0.15", "]"}]}]}], " ", "]"}]}], ";"}], 
          "*)"}], "\n", 
         RowBox[{"filename", "=", 
          RowBox[{
           RowBox[{"obsname", "[", 
            RowBox[{"[", "5", "]"}], "]"}], "<>", "\"\<_\>\"", "<>", 
           RowBox[{"representationname", "[", 
            RowBox[{"[", "1", "]"}], "]"}], "<>", "\"\<_\>\"", "<>", 
           "\"\<f\>\"", "<>", 
           RowBox[{"ToString", "[", "flavour", "]"}], "<>", "\"\<_grid\>\"", "<>", 
           RowBox[{"extensionname", "[", 
            RowBox[{"[", "iext", "]"}], "]"}]}]}], ";", "\n", 
         RowBox[{"If", "[", 
          RowBox[{
           RowBox[{
            RowBox[{"FileExistsQ", "[", 
             RowBox[{"PlotDir", "<>", "filename"}], "]"}], "==", "True"}], 
           ",", 
           RowBox[{"AppendTo", "[", 
            RowBox[{"filenamelist", ",", 
             RowBox[{"PlotDir", "<>", "filename"}]}], "]"}]}], " ", "]"}], 
         ";", "\n", 
         RowBox[{"filename", "=", 
          RowBox[{
           RowBox[{"obsname", "[", 
            RowBox[{"[", "5", "]"}], "]"}], "<>", "\"\<_\>\"", "<>", 
           RowBox[{"representationname", "[", 
            RowBox[{"[", "2", "]"}], "]"}], "<>", "\"\<_\>\"", "<>", 
           "\"\<f\>\"", "<>", 
           RowBox[{"ToString", "[", "flavour", "]"}], "<>", "\"\<_grid\>\"", "<>", 
           RowBox[{"extensionname", "[", 
            RowBox[{"[", "iext", "]"}], "]"}]}]}], ";", "\n", 
         RowBox[{"If", "[", 
          RowBox[{
           RowBox[{
            RowBox[{"FileExistsQ", "[", 
             RowBox[{"PlotDir", "<>", "filename"}], "]"}], "==", "True"}], 
           ",", 
           RowBox[{"AppendTo", "[", 
            RowBox[{"filenamelist", ",", 
             RowBox[{"PlotDir", "<>", "filename"}]}], "]"}]}], " ", "]"}], 
         ";", "\n", 
         RowBox[{"filename", "=", 
          RowBox[{
           RowBox[{"obsname", "[", 
            RowBox[{"[", "5", "]"}], "]"}], "<>", "\"\<_\>\"", "<>", 
           RowBox[{"representationname", "[", 
            RowBox[{"[", "3", "]"}], "]"}], "<>", "\"\<_\>\"", "<>", 
           "\"\<f\>\"", "<>", 
           RowBox[{"ToString", "[", "flavour", "]"}], "<>", "\"\<_grid\>\"", "<>", 
           RowBox[{"extensionname", "[", 
            RowBox[{"[", "iext", "]"}], "]"}]}]}], ";", "\n", 
         RowBox[{"If", "[", 
          RowBox[{
           RowBox[{
            RowBox[{"FileExistsQ", "[", 
             RowBox[{"PlotDir", "<>", "filename"}], "]"}], "==", "True"}], 
           ",", 
           RowBox[{"AppendTo", "[", 
            RowBox[{"filenamelist", ",", 
             RowBox[{"PlotDir", "<>", "filename"}]}], "]"}]}], " ", "]"}], 
         ";", "\n", 
         RowBox[{"filename", "=", 
          RowBox[{
           RowBox[{"obsname", "[", 
            RowBox[{"[", "5", "]"}], "]"}], "<>", "\"\<_\>\"", "<>", 
           RowBox[{"representationname", "[", 
            RowBox[{"[", "4", "]"}], "]"}], "<>", "\"\<_\>\"", "<>", 
           "\"\<f\>\"", "<>", 
           RowBox[{"ToString", "[", "flavour", "]"}], "<>", "\"\<_grid\>\"", "<>", 
           RowBox[{"extensionname", "[", 
            RowBox[{"[", "iext", "]"}], "]"}]}]}], ";", "\n", 
         RowBox[{"If", "[", 
          RowBox[{
           RowBox[{
            RowBox[{"FileExistsQ", "[", 
             RowBox[{"PlotDir", "<>", "filename"}], "]"}], "==", "True"}], 
           ",", 
           RowBox[{"AppendTo", "[", 
            RowBox[{"filenamelist", ",", 
             RowBox[{"PlotDir", "<>", "filename"}]}], "]"}]}], " ", "]"}], 
         ";", "\n", "\n", 
         RowBox[{"(*", 
          RowBox[{"2", ",", " ", "3", ",", " ", "4"}], "*)"}], "\n", 
         RowBox[{"(*", 
          RowBox[{"dr", "*", "corr", " ", "plots"}], "*)"}], "\n", "\n", 
         RowBox[{"(*", 
          RowBox[{
           RowBox[{"p5", "=", 
            RowBox[{"GraphicsGrid", "[", 
             RowBox[{"p5", ",", 
              RowBox[{"Spacings", "\[Rule]", 
               RowBox[{"Scaled", "[", "0.15", "]"}]}]}], " ", "]"}]}], ";"}], 
          "*)"}], "\n", 
         RowBox[{"filename", "=", 
          RowBox[{
           RowBox[{"obsname", "[", 
            RowBox[{"[", "2", "]"}], "]"}], "<>", "\"\<_\>\"", "<>", 
           RowBox[{"representationname", "[", 
            RowBox[{"[", "1", "]"}], "]"}], "<>", "\"\<_\>\"", "<>", 
           "\"\<f\>\"", "<>", 
           RowBox[{"ToString", "[", "flavour", "]"}], "<>", "\"\<_grid\>\"", "<>", 
           RowBox[{"extensionname", "[", 
            RowBox[{"[", "iext", "]"}], "]"}]}]}], ";", "\n", 
         RowBox[{"If", "[", 
          RowBox[{
           RowBox[{
            RowBox[{"FileExistsQ", "[", 
             RowBox[{"PlotDir", "<>", "filename"}], "]"}], "==", "True"}], 
           ",", 
           RowBox[{"AppendTo", "[", 
            RowBox[{"filenamelist", ",", 
             RowBox[{"PlotDir", "<>", "filename"}]}], "]"}]}], " ", "]"}], 
         ";", "\n", 
         RowBox[{"filename", "=", 
          RowBox[{
           RowBox[{"obsname", "[", 
            RowBox[{"[", "2", "]"}], "]"}], "<>", "\"\<_\>\"", "<>", 
           RowBox[{"representationname", "[", 
            RowBox[{"[", "2", "]"}], "]"}], "<>", "\"\<_\>\"", "<>", 
           "\"\<f\>\"", "<>", 
           RowBox[{"ToString", "[", "flavour", "]"}], "<>", "\"\<_grid\>\"", "<>", 
           RowBox[{"extensionname", "[", 
            RowBox[{"[", "iext", "]"}], "]"}]}]}], ";", "\n", 
         RowBox[{"If", "[", 
          RowBox[{
           RowBox[{
            RowBox[{"FileExistsQ", "[", 
             RowBox[{"PlotDir", "<>", "filename"}], "]"}], "==", "True"}], 
           ",", 
           RowBox[{"AppendTo", "[", 
            RowBox[{"filenamelist", ",", 
             RowBox[{"PlotDir", "<>", "filename"}]}], "]"}]}], " ", "]"}], 
         ";", "\n", 
         RowBox[{"filename", "=", 
          RowBox[{
           RowBox[{"obsname", "[", 
            RowBox[{"[", "2", "]"}], "]"}], "<>", "\"\<_\>\"", "<>", 
           RowBox[{"representationname", "[", 
            RowBox[{"[", "3", "]"}], "]"}], "<>", "\"\<_\>\"", "<>", 
           "\"\<f\>\"", "<>", 
           RowBox[{"ToString", "[", "flavour", "]"}], "<>", "\"\<_grid\>\"", "<>", 
           RowBox[{"extensionname", "[", 
            RowBox[{"[", "iext", "]"}], "]"}]}]}], ";", "\n", 
         RowBox[{"If", "[", 
          RowBox[{
           RowBox[{
            RowBox[{"FileExistsQ", "[", 
             RowBox[{"PlotDir", "<>", "filename"}], "]"}], "==", "True"}], 
           ",", 
           RowBox[{"AppendTo", "[", 
            RowBox[{"filenamelist", ",", 
             RowBox[{"PlotDir", "<>", "filename"}]}], "]"}]}], " ", "]"}], 
         ";", "\n", 
         RowBox[{"filename", "=", 
          RowBox[{
           RowBox[{"obsname", "[", 
            RowBox[{"[", "2", "]"}], "]"}], "<>", "\"\<_\>\"", "<>", 
           RowBox[{"representationname", "[", 
            RowBox[{"[", "4", "]"}], "]"}], "<>", "\"\<_\>\"", "<>", 
           "\"\<f\>\"", "<>", 
           RowBox[{"ToString", "[", "flavour", "]"}], "<>", "\"\<_grid\>\"", "<>", 
           RowBox[{"extensionname", "[", 
            RowBox[{"[", "iext", "]"}], "]"}]}]}], ";", "\n", 
         RowBox[{"If", "[", 
          RowBox[{
           RowBox[{
            RowBox[{"FileExistsQ", "[", 
             RowBox[{"PlotDir", "<>", "filename"}], "]"}], "==", "True"}], 
           ",", 
           RowBox[{"AppendTo", "[", 
            RowBox[{"filenamelist", ",", 
             RowBox[{"PlotDir", "<>", "filename"}]}], "]"}]}], " ", "]"}], 
         ";", "\n", "\n", "\n", 
         RowBox[{"(*", 
          RowBox[{
           RowBox[{"p5", "=", 
            RowBox[{"GraphicsGrid", "[", 
             RowBox[{"p5", ",", 
              RowBox[{"Spacings", "\[Rule]", 
               RowBox[{"Scaled", "[", "0.15", "]"}]}]}], " ", "]"}]}], ";"}], 
          "*)"}], "\n", 
         RowBox[{"filename", "=", 
          RowBox[{
           RowBox[{"obsname", "[", 
            RowBox[{"[", "3", "]"}], "]"}], "<>", "\"\<_\>\"", "<>", 
           RowBox[{"representationname", "[", 
            RowBox[{"[", "1", "]"}], "]"}], "<>", "\"\<_\>\"", "<>", 
           "\"\<f\>\"", "<>", 
           RowBox[{"ToString", "[", "flavour", "]"}], "<>", "\"\<_grid\>\"", "<>", 
           RowBox[{"extensionname", "[", 
            RowBox[{"[", "iext", "]"}], "]"}]}]}], ";", "\n", 
         RowBox[{"If", "[", 
          RowBox[{
           RowBox[{
            RowBox[{"FileExistsQ", "[", 
             RowBox[{"PlotDir", "<>", "filename"}], "]"}], "==", "True"}], 
           ",", 
           RowBox[{"AppendTo", "[", 
            RowBox[{"filenamelist", ",", 
             RowBox[{"PlotDir", "<>", "filename"}]}], "]"}]}], " ", "]"}], 
         ";", "\n", 
         RowBox[{"filename", "=", 
          RowBox[{
           RowBox[{"obsname", "[", 
            RowBox[{"[", "3", "]"}], "]"}], "<>", "\"\<_\>\"", "<>", 
           RowBox[{"representationname", "[", 
            RowBox[{"[", "2", "]"}], "]"}], "<>", "\"\<_\>\"", "<>", 
           "\"\<f\>\"", "<>", 
           RowBox[{"ToString", "[", "flavour", "]"}], "<>", "\"\<_grid\>\"", "<>", 
           RowBox[{"extensionname", "[", 
            RowBox[{"[", "iext", "]"}], "]"}]}]}], ";", "\n", 
         RowBox[{"If", "[", 
          RowBox[{
           RowBox[{
            RowBox[{"FileExistsQ", "[", 
             RowBox[{"PlotDir", "<>", "filename"}], "]"}], "==", "True"}], 
           ",", 
           RowBox[{"AppendTo", "[", 
            RowBox[{"filenamelist", ",", 
             RowBox[{"PlotDir", "<>", "filename"}]}], "]"}]}], " ", "]"}], 
         ";", "\n", 
         RowBox[{"filename", "=", 
          RowBox[{
           RowBox[{"obsname", "[", 
            RowBox[{"[", "3", "]"}], "]"}], "<>", "\"\<_\>\"", "<>", 
           RowBox[{"representationname", "[", 
            RowBox[{"[", "3", "]"}], "]"}], "<>", "\"\<_\>\"", "<>", 
           "\"\<f\>\"", "<>", 
           RowBox[{"ToString", "[", "flavour", "]"}], "<>", "\"\<_grid\>\"", "<>", 
           RowBox[{"extensionname", "[", 
            RowBox[{"[", "iext", "]"}], "]"}]}]}], ";", "\n", 
         RowBox[{"If", "[", 
          RowBox[{
           RowBox[{
            RowBox[{"FileExistsQ", "[", 
             RowBox[{"PlotDir", "<>", "filename"}], "]"}], "==", "True"}], 
           ",", 
           RowBox[{"AppendTo", "[", 
            RowBox[{"filenamelist", ",", 
             RowBox[{"PlotDir", "<>", "filename"}]}], "]"}]}], " ", "]"}], 
         ";", "\n", 
         RowBox[{"filename", "=", 
          RowBox[{
           RowBox[{"obsname", "[", 
            RowBox[{"[", "3", "]"}], "]"}], "<>", "\"\<_\>\"", "<>", 
           RowBox[{"representationname", "[", 
            RowBox[{"[", "4", "]"}], "]"}], "<>", "\"\<_\>\"", "<>", 
           "\"\<f\>\"", "<>", 
           RowBox[{"ToString", "[", "flavour", "]"}], "<>", "\"\<_grid\>\"", "<>", 
           RowBox[{"extensionname", "[", 
            RowBox[{"[", "iext", "]"}], "]"}]}]}], ";", "\n", 
         RowBox[{"If", "[", 
          RowBox[{
           RowBox[{
            RowBox[{"FileExistsQ", "[", 
             RowBox[{"PlotDir", "<>", "filename"}], "]"}], "==", "True"}], 
           ",", 
           RowBox[{"AppendTo", "[", 
            RowBox[{"filenamelist", ",", 
             RowBox[{"PlotDir", "<>", "filename"}]}], "]"}]}], " ", "]"}], 
         ";", "\n", "\n", 
         RowBox[{"(*", 
          RowBox[{
           RowBox[{"p5", "=", 
            RowBox[{"GraphicsGrid", "[", 
             RowBox[{"p5", ",", 
              RowBox[{"Spacings", "\[Rule]", 
               RowBox[{"Scaled", "[", "0.15", "]"}]}]}], " ", "]"}]}], ";"}], 
          "*)"}], "\n", 
         RowBox[{"filename", "=", 
          RowBox[{
           RowBox[{"obsname", "[", 
            RowBox[{"[", "4", "]"}], "]"}], "<>", "\"\<_\>\"", "<>", 
           RowBox[{"representationname", "[", 
            RowBox[{"[", "1", "]"}], "]"}], "<>", "\"\<_\>\"", "<>", 
           "\"\<f\>\"", "<>", 
           RowBox[{"ToString", "[", "flavour", "]"}], "<>", "\"\<_grid\>\"", "<>", 
           RowBox[{"extensionname", "[", 
            RowBox[{"[", "iext", "]"}], "]"}]}]}], ";", "\n", 
         RowBox[{"If", "[", 
          RowBox[{
           RowBox[{
            RowBox[{"FileExistsQ", "[", 
             RowBox[{"PlotDir", "<>", "filename"}], "]"}], "==", "True"}], 
           ",", 
           RowBox[{"AppendTo", "[", 
            RowBox[{"filenamelist", ",", 
             RowBox[{"PlotDir", "<>", "filename"}]}], "]"}]}], " ", "]"}], 
         ";", "\n", 
         RowBox[{"filename", "=", 
          RowBox[{
           RowBox[{"obsname", "[", 
            RowBox[{"[", "4", "]"}], "]"}], "<>", "\"\<_\>\"", "<>", 
           RowBox[{"representationname", "[", 
            RowBox[{"[", "2", "]"}], "]"}], "<>", "\"\<_\>\"", "<>", 
           "\"\<f\>\"", "<>", 
           RowBox[{"ToString", "[", "flavour", "]"}], "<>", "\"\<_grid\>\"", "<>", 
           RowBox[{"extensionname", "[", 
            RowBox[{"[", "iext", "]"}], "]"}]}]}], ";", "\n", 
         RowBox[{"If", "[", 
          RowBox[{
           RowBox[{
            RowBox[{"FileExistsQ", "[", 
             RowBox[{"PlotDir", "<>", "filename"}], "]"}], "==", "True"}], 
           ",", 
           RowBox[{"AppendTo", "[", 
            RowBox[{"filenamelist", ",", 
             RowBox[{"PlotDir", "<>", "filename"}]}], "]"}]}], " ", "]"}], 
         ";", "\n", 
         RowBox[{"filename", "=", 
          RowBox[{
           RowBox[{"obsname", "[", 
            RowBox[{"[", "4", "]"}], "]"}], "<>", "\"\<_\>\"", "<>", 
           RowBox[{"representationname", "[", 
            RowBox[{"[", "3", "]"}], "]"}], "<>", "\"\<_\>\"", "<>", 
           "\"\<f\>\"", "<>", 
           RowBox[{"ToString", "[", "flavour", "]"}], "<>", "\"\<_grid\>\"", "<>", 
           RowBox[{"extensionname", "[", 
            RowBox[{"[", "iext", "]"}], "]"}]}]}], ";", "\n", 
         RowBox[{"If", "[", 
          RowBox[{
           RowBox[{
            RowBox[{"FileExistsQ", "[", 
             RowBox[{"PlotDir", "<>", "filename"}], "]"}], "==", "True"}], 
           ",", 
           RowBox[{"AppendTo", "[", 
            RowBox[{"filenamelist", ",", 
             RowBox[{"PlotDir", "<>", "filename"}]}], "]"}]}], " ", "]"}], 
         ";", "\n", 
         RowBox[{"filename", "=", 
          RowBox[{
           RowBox[{"obsname", "[", 
            RowBox[{"[", "4", "]"}], "]"}], "<>", "\"\<_\>\"", "<>", 
           RowBox[{"representationname", "[", 
            RowBox[{"[", "4", "]"}], "]"}], "<>", "\"\<_\>\"", "<>", 
           "\"\<f\>\"", "<>", 
           RowBox[{"ToString", "[", "flavour", "]"}], "<>", "\"\<_grid\>\"", "<>", 
           RowBox[{"extensionname", "[", 
            RowBox[{"[", "iext", "]"}], "]"}]}]}], ";", "\n", 
         RowBox[{"If", "[", 
          RowBox[{
           RowBox[{
            RowBox[{"FileExistsQ", "[", 
             RowBox[{"PlotDir", "<>", "filename"}], "]"}], "==", "True"}], 
           ",", 
           RowBox[{"AppendTo", "[", 
            RowBox[{"filenamelist", ",", 
             RowBox[{"PlotDir", "<>", "filename"}]}], "]"}]}], " ", "]"}], 
         ";", "\n", "\"\<dummy\>\""}], "\n", ",", 
        RowBox[{"{", 
         RowBox[{"flavour", ",", 
          RowBox[{"-", "5"}], ",", 
          RowBox[{
           RowBox[{"-", "5"}], "+", "fmax", "-", "1"}]}], "}"}]}], "\n", 
       "]"}], ";", "\n", "\n", 
      RowBox[{"filename", "=", 
       RowBox[{
        RowBox[{"obsname", "[", 
         RowBox[{"[", "1", "]"}], "]"}], "<>", "\"\<_\>\"", "<>", 
        RowBox[{"representationname", "[", 
         RowBox[{"[", "1", "]"}], "]"}], "<>", 
        RowBox[{"extensionname", "[", 
         RowBox[{"[", "iext", "]"}], "]"}]}]}], ";", "\n", 
      RowBox[{"If", "[", 
       RowBox[{
        RowBox[{
         RowBox[{"FileExistsQ", "[", 
          RowBox[{"PlotDir", "<>", "filename"}], "]"}], "==", "True"}], ",", 
        RowBox[{"AppendTo", "[", 
         RowBox[{"filenamelist", ",", 
          RowBox[{"PlotDir", "<>", "filename"}]}], "]"}]}], " ", "]"}], ";", 
      "\n", "\n", 
      RowBox[{"(*", "output", "*)"}], "\n", "filenamelist"}]}], "\n", "]"}]}],
   "\n"}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{{3.71833833007281*^9, 3.7183383305249243`*^9}}],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"GetxQplotListSameptGrid", "[", 
    RowBox[{"PlotDirin_", ",", "extIndexin_"}], "]"}], ":=", "\n", 
   RowBox[{"Module", "[", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{
       RowBox[{"PlotDir", "=", "PlotDirin"}], ",", 
       RowBox[{"extIndex", "=", "extIndexin"}], ",", "\n", "filenamelist", 
       ",", "filename", ",", "iext", ",", "obsname", ",", 
       "representationname", ",", "extensionname", ",", "fmax"}], "}"}], ",", 
     "\n", "\n", 
     RowBox[{"(*", 
      RowBox[{
       RowBox[{"set", " ", "observables"}], ",", " ", 
       RowBox[{"different", " ", "kinds", " ", "of", " ", "plot"}], ",", " ", 
       
       RowBox[{
       "available", " ", "extension", " ", "of", " ", "output", " ", 
        "files"}]}], " ", "*)"}], "\n", 
     RowBox[{
      RowBox[{"obsname", "=", 
       RowBox[{"{", 
        RowBox[{
        "\"\<xQbyexpt\>\"", ",", "\"\<expt_error_ratio\>\"", ",", 
         "\"\<residual\>\"", ",", "\"\<dr\>\"", ",", "\"\<corrdr\>\"", ",", 
         "\"\<corr\>\""}], "}"}]}], ";", "\n", 
      RowBox[{"representationname", "=", 
       RowBox[{"{", 
        RowBox[{
        "\"\<xQ\>\"", ",", "\"\<legend\>\"", ",", "\"\<hist1\>\"", ",", 
         "\"\<hist2\>\""}], "}"}]}], ";", "\n", 
      RowBox[{"extensionname", "=", 
       RowBox[{"{", 
        RowBox[{
        "\"\<.eps\>\"", ",", "\"\<.png\>\"", ",", "\"\<.pdf\>\"", ",", 
         "\"\<.jpg\>\""}], "}"}]}], ";", "\n", "\n", 
      RowBox[{"(*", 
       RowBox[{"make", " ", "all", " ", "figuretype", " ", "plots"}], " ", 
       "*)"}], "\n", 
      RowBox[{"filenamelist", "=", 
       RowBox[{"{", "}"}]}], ";", "\n", 
      RowBox[{"iext", "=", "extIndex"}], ";", "\n", 
      RowBox[{"fmax", "=", "15"}], ";", "\n", "\n", 
      RowBox[{"Print", "[", 
       RowBox[{
       "\"\<search figures under\>\"", ",", "PlotDir", ",", 
        "\"\<, extension = \>\"", ",", 
        RowBox[{"extensionname", "[", 
         RowBox[{"[", "extIndex", "]"}], "]"}], ",", 
        "\"\<, total #flavour for check = \>\"", ",", "fmax"}], "]"}], ";", 
      "\n", 
      RowBox[{"Table", "[", "\n", 
       RowBox[{"(*", 
        RowBox[{
         RowBox[{"Print", "[", 
          RowBox[{"\"\<now flavour = \>\"", ",", "flavour"}], "]"}], ";"}], 
        "*)"}], "\n", 
       RowBox[{"(*", 
        RowBox[{
        "add", " ", "exptname", " ", "table", " ", "into", " ", "output", " ",
          "figure"}], "*)"}], "\n", "\n", 
       RowBox[{"(*", 
        RowBox[{
         RowBox[{"p6", "=", 
          RowBox[{"GraphicsGrid", "[", 
           RowBox[{"p6", ",", 
            RowBox[{"Spacings", "\[Rule]", 
             RowBox[{"Scaled", "[", "0.15", "]"}]}]}], " ", "]"}]}], ";"}], 
        "*)"}], "\n", 
       RowBox[{
        RowBox[{
         RowBox[{"filename", "=", 
          RowBox[{
           RowBox[{"obsname", "[", 
            RowBox[{"[", "6", "]"}], "]"}], "<>", "\"\<_\>\"", "<>", 
           RowBox[{"representationname", "[", 
            RowBox[{"[", "1", "]"}], "]"}], "<>", "\"\<_\>\"", "<>", 
           "\"\<f\>\"", "<>", 
           RowBox[{"ToString", "[", "flavour", "]"}], "<>", 
           "\"\<_sameptgrid\>\"", "<>", 
           RowBox[{"extensionname", "[", 
            RowBox[{"[", "iext", "]"}], "]"}]}]}], ";", "\n", 
         RowBox[{"If", "[", 
          RowBox[{
           RowBox[{
            RowBox[{"FileExistsQ", "[", 
             RowBox[{"PlotDir", "<>", "filename"}], "]"}], "==", "True"}], 
           ",", 
           RowBox[{"AppendTo", "[", 
            RowBox[{"filenamelist", ",", 
             RowBox[{"PlotDir", "<>", "filename"}]}], "]"}]}], " ", "]"}], 
         ";", "\n", 
         RowBox[{"filename", "=", 
          RowBox[{
           RowBox[{"obsname", "[", 
            RowBox[{"[", "6", "]"}], "]"}], "<>", "\"\<_\>\"", "<>", 
           RowBox[{"representationname", "[", 
            RowBox[{"[", "2", "]"}], "]"}], "<>", "\"\<_\>\"", "<>", 
           "\"\<f\>\"", "<>", 
           RowBox[{"ToString", "[", "flavour", "]"}], "<>", 
           "\"\<_sameptgrid\>\"", "<>", 
           RowBox[{"extensionname", "[", 
            RowBox[{"[", "iext", "]"}], "]"}]}]}], ";", "\n", 
         RowBox[{"If", "[", 
          RowBox[{
           RowBox[{
            RowBox[{"FileExistsQ", "[", 
             RowBox[{"PlotDir", "<>", "filename"}], "]"}], "==", "True"}], 
           ",", 
           RowBox[{"AppendTo", "[", 
            RowBox[{"filenamelist", ",", 
             RowBox[{"PlotDir", "<>", "filename"}]}], "]"}]}], " ", "]"}], 
         ";", "\n", 
         RowBox[{"filename", "=", 
          RowBox[{
           RowBox[{"obsname", "[", 
            RowBox[{"[", "6", "]"}], "]"}], "<>", "\"\<_\>\"", "<>", 
           RowBox[{"representationname", "[", 
            RowBox[{"[", "3", "]"}], "]"}], "<>", "\"\<_\>\"", "<>", 
           "\"\<f\>\"", "<>", 
           RowBox[{"ToString", "[", "flavour", "]"}], "<>", 
           "\"\<_sameptgrid\>\"", "<>", 
           RowBox[{"extensionname", "[", 
            RowBox[{"[", "iext", "]"}], "]"}]}]}], ";", "\n", 
         RowBox[{"If", "[", 
          RowBox[{
           RowBox[{
            RowBox[{"FileExistsQ", "[", 
             RowBox[{"PlotDir", "<>", "filename"}], "]"}], "==", "True"}], 
           ",", 
           RowBox[{"AppendTo", "[", 
            RowBox[{"filenamelist", ",", 
             RowBox[{"PlotDir", "<>", "filename"}]}], "]"}]}], " ", "]"}], 
         ";", "\n", 
         RowBox[{"filename", "=", 
          RowBox[{
           RowBox[{"obsname", "[", 
            RowBox[{"[", "6", "]"}], "]"}], "<>", "\"\<_\>\"", "<>", 
           RowBox[{"representationname", "[", 
            RowBox[{"[", "4", "]"}], "]"}], "<>", "\"\<_\>\"", "<>", 
           "\"\<f\>\"", "<>", 
           RowBox[{"ToString", "[", "flavour", "]"}], "<>", 
           "\"\<_sameptgrid\>\"", "<>", 
           RowBox[{"extensionname", "[", 
            RowBox[{"[", "iext", "]"}], "]"}]}]}], ";", "\n", 
         RowBox[{"If", "[", 
          RowBox[{
           RowBox[{
            RowBox[{"FileExistsQ", "[", 
             RowBox[{"PlotDir", "<>", "filename"}], "]"}], "==", "True"}], 
           ",", 
           RowBox[{"AppendTo", "[", 
            RowBox[{"filenamelist", ",", 
             RowBox[{"PlotDir", "<>", "filename"}]}], "]"}]}], " ", "]"}], 
         ";", "\n", "\n", 
         RowBox[{"(*", 
          RowBox[{"dr", "*", "corr", " ", "plots"}], "*)"}], "\n", 
         RowBox[{"(*", 
          RowBox[{
           RowBox[{"p5", "=", 
            RowBox[{"GraphicsGrid", "[", 
             RowBox[{"p5", ",", 
              RowBox[{"Spacings", "\[Rule]", 
               RowBox[{"Scaled", "[", "0.15", "]"}]}]}], " ", "]"}]}], ";"}], 
          "*)"}], "\n", 
         RowBox[{"filename", "=", 
          RowBox[{
           RowBox[{"obsname", "[", 
            RowBox[{"[", "5", "]"}], "]"}], "<>", "\"\<_\>\"", "<>", 
           RowBox[{"representationname", "[", 
            RowBox[{"[", "1", "]"}], "]"}], "<>", "\"\<_\>\"", "<>", 
           "\"\<f\>\"", "<>", 
           RowBox[{"ToString", "[", "flavour", "]"}], "<>", 
           "\"\<_sameptgrid\>\"", "<>", 
           RowBox[{"extensionname", "[", 
            RowBox[{"[", "iext", "]"}], "]"}]}]}], ";", "\n", 
         RowBox[{"If", "[", 
          RowBox[{
           RowBox[{
            RowBox[{"FileExistsQ", "[", 
             RowBox[{"PlotDir", "<>", "filename"}], "]"}], "==", "True"}], 
           ",", 
           RowBox[{"AppendTo", "[", 
            RowBox[{"filenamelist", ",", 
             RowBox[{"PlotDir", "<>", "filename"}]}], "]"}]}], " ", "]"}], 
         ";", "\n", 
         RowBox[{"filename", "=", 
          RowBox[{
           RowBox[{"obsname", "[", 
            RowBox[{"[", "5", "]"}], "]"}], "<>", "\"\<_\>\"", "<>", 
           RowBox[{"representationname", "[", 
            RowBox[{"[", "2", "]"}], "]"}], "<>", "\"\<_\>\"", "<>", 
           "\"\<f\>\"", "<>", 
           RowBox[{"ToString", "[", "flavour", "]"}], "<>", 
           "\"\<_sameptgrid\>\"", "<>", 
           RowBox[{"extensionname", "[", 
            RowBox[{"[", "iext", "]"}], "]"}]}]}], ";", "\n", 
         RowBox[{"If", "[", 
          RowBox[{
           RowBox[{
            RowBox[{"FileExistsQ", "[", 
             RowBox[{"PlotDir", "<>", "filename"}], "]"}], "==", "True"}], 
           ",", 
           RowBox[{"AppendTo", "[", 
            RowBox[{"filenamelist", ",", 
             RowBox[{"PlotDir", "<>", "filename"}]}], "]"}]}], " ", "]"}], 
         ";", "\n", 
         RowBox[{"filename", "=", 
          RowBox[{
           RowBox[{"obsname", "[", 
            RowBox[{"[", "5", "]"}], "]"}], "<>", "\"\<_\>\"", "<>", 
           RowBox[{"representationname", "[", 
            RowBox[{"[", "3", "]"}], "]"}], "<>", "\"\<_\>\"", "<>", 
           "\"\<f\>\"", "<>", 
           RowBox[{"ToString", "[", "flavour", "]"}], "<>", 
           "\"\<_sameptgrid\>\"", "<>", 
           RowBox[{"extensionname", "[", 
            RowBox[{"[", "iext", "]"}], "]"}]}]}], ";", "\n", 
         RowBox[{"If", "[", 
          RowBox[{
           RowBox[{
            RowBox[{"FileExistsQ", "[", 
             RowBox[{"PlotDir", "<>", "filename"}], "]"}], "==", "True"}], 
           ",", 
           RowBox[{"AppendTo", "[", 
            RowBox[{"filenamelist", ",", 
             RowBox[{"PlotDir", "<>", "filename"}]}], "]"}]}], " ", "]"}], 
         ";", "\n", 
         RowBox[{"filename", "=", 
          RowBox[{
           RowBox[{"obsname", "[", 
            RowBox[{"[", "5", "]"}], "]"}], "<>", "\"\<_\>\"", "<>", 
           RowBox[{"representationname", "[", 
            RowBox[{"[", "4", "]"}], "]"}], "<>", "\"\<_\>\"", "<>", 
           "\"\<f\>\"", "<>", 
           RowBox[{"ToString", "[", "flavour", "]"}], "<>", 
           "\"\<_sameptgrid\>\"", "<>", 
           RowBox[{"extensionname", "[", 
            RowBox[{"[", "iext", "]"}], "]"}]}]}], ";", "\n", 
         RowBox[{"If", "[", 
          RowBox[{
           RowBox[{
            RowBox[{"FileExistsQ", "[", 
             RowBox[{"PlotDir", "<>", "filename"}], "]"}], "==", "True"}], 
           ",", 
           RowBox[{"AppendTo", "[", 
            RowBox[{"filenamelist", ",", 
             RowBox[{"PlotDir", "<>", "filename"}]}], "]"}]}], " ", "]"}], 
         ";", "\n", "\n", 
         RowBox[{"(*", 
          RowBox[{"2", ",", " ", "3", ",", " ", "4"}], "*)"}], "\n", 
         RowBox[{"(*", 
          RowBox[{"dr", "*", "corr", " ", "plots"}], "*)"}], "\n", "\n", 
         RowBox[{"(*", 
          RowBox[{
           RowBox[{"p5", "=", 
            RowBox[{"GraphicsGrid", "[", 
             RowBox[{"p5", ",", 
              RowBox[{"Spacings", "\[Rule]", 
               RowBox[{"Scaled", "[", "0.15", "]"}]}]}], " ", "]"}]}], ";"}], 
          "*)"}], "\n", 
         RowBox[{"filename", "=", 
          RowBox[{
           RowBox[{"obsname", "[", 
            RowBox[{"[", "2", "]"}], "]"}], "<>", "\"\<_\>\"", "<>", 
           RowBox[{"representationname", "[", 
            RowBox[{"[", "1", "]"}], "]"}], "<>", "\"\<_\>\"", "<>", 
           "\"\<f\>\"", "<>", 
           RowBox[{"ToString", "[", "flavour", "]"}], "<>", 
           "\"\<_sameptgrid\>\"", "<>", 
           RowBox[{"extensionname", "[", 
            RowBox[{"[", "iext", "]"}], "]"}]}]}], ";", "\n", 
         RowBox[{"If", "[", 
          RowBox[{
           RowBox[{
            RowBox[{"FileExistsQ", "[", 
             RowBox[{"PlotDir", "<>", "filename"}], "]"}], "==", "True"}], 
           ",", 
           RowBox[{"AppendTo", "[", 
            RowBox[{"filenamelist", ",", 
             RowBox[{"PlotDir", "<>", "filename"}]}], "]"}]}], " ", "]"}], 
         ";", "\n", 
         RowBox[{"filename", "=", 
          RowBox[{
           RowBox[{"obsname", "[", 
            RowBox[{"[", "2", "]"}], "]"}], "<>", "\"\<_\>\"", "<>", 
           RowBox[{"representationname", "[", 
            RowBox[{"[", "2", "]"}], "]"}], "<>", "\"\<_\>\"", "<>", 
           "\"\<f\>\"", "<>", 
           RowBox[{"ToString", "[", "flavour", "]"}], "<>", 
           "\"\<_sameptgrid\>\"", "<>", 
           RowBox[{"extensionname", "[", 
            RowBox[{"[", "iext", "]"}], "]"}]}]}], ";", "\n", 
         RowBox[{"If", "[", 
          RowBox[{
           RowBox[{
            RowBox[{"FileExistsQ", "[", 
             RowBox[{"PlotDir", "<>", "filename"}], "]"}], "==", "True"}], 
           ",", 
           RowBox[{"AppendTo", "[", 
            RowBox[{"filenamelist", ",", 
             RowBox[{"PlotDir", "<>", "filename"}]}], "]"}]}], " ", "]"}], 
         ";", "\n", 
         RowBox[{"filename", "=", 
          RowBox[{
           RowBox[{"obsname", "[", 
            RowBox[{"[", "2", "]"}], "]"}], "<>", "\"\<_\>\"", "<>", 
           RowBox[{"representationname", "[", 
            RowBox[{"[", "3", "]"}], "]"}], "<>", "\"\<_\>\"", "<>", 
           "\"\<f\>\"", "<>", 
           RowBox[{"ToString", "[", "flavour", "]"}], "<>", 
           "\"\<_sameptgrid\>\"", "<>", 
           RowBox[{"extensionname", "[", 
            RowBox[{"[", "iext", "]"}], "]"}]}]}], ";", "\n", 
         RowBox[{"If", "[", 
          RowBox[{
           RowBox[{
            RowBox[{"FileExistsQ", "[", 
             RowBox[{"PlotDir", "<>", "filename"}], "]"}], "==", "True"}], 
           ",", 
           RowBox[{"AppendTo", "[", 
            RowBox[{"filenamelist", ",", 
             RowBox[{"PlotDir", "<>", "filename"}]}], "]"}]}], " ", "]"}], 
         ";", "\n", 
         RowBox[{"filename", "=", 
          RowBox[{
           RowBox[{"obsname", "[", 
            RowBox[{"[", "2", "]"}], "]"}], "<>", "\"\<_\>\"", "<>", 
           RowBox[{"representationname", "[", 
            RowBox[{"[", "4", "]"}], "]"}], "<>", "\"\<_\>\"", "<>", 
           "\"\<f\>\"", "<>", 
           RowBox[{"ToString", "[", "flavour", "]"}], "<>", 
           "\"\<_sameptgrid\>\"", "<>", 
           RowBox[{"extensionname", "[", 
            RowBox[{"[", "iext", "]"}], "]"}]}]}], ";", "\n", 
         RowBox[{"If", "[", 
          RowBox[{
           RowBox[{
            RowBox[{"FileExistsQ", "[", 
             RowBox[{"PlotDir", "<>", "filename"}], "]"}], "==", "True"}], 
           ",", 
           RowBox[{"AppendTo", "[", 
            RowBox[{"filenamelist", ",", 
             RowBox[{"PlotDir", "<>", "filename"}]}], "]"}]}], " ", "]"}], 
         ";", "\n", "\n", "\n", 
         RowBox[{"(*", 
          RowBox[{
           RowBox[{"p5", "=", 
            RowBox[{"GraphicsGrid", "[", 
             RowBox[{"p5", ",", 
              RowBox[{"Spacings", "\[Rule]", 
               RowBox[{"Scaled", "[", "0.15", "]"}]}]}], " ", "]"}]}], ";"}], 
          "*)"}], "\n", 
         RowBox[{"filename", "=", 
          RowBox[{
           RowBox[{"obsname", "[", 
            RowBox[{"[", "3", "]"}], "]"}], "<>", "\"\<_\>\"", "<>", 
           RowBox[{"representationname", "[", 
            RowBox[{"[", "1", "]"}], "]"}], "<>", "\"\<_\>\"", "<>", 
           "\"\<f\>\"", "<>", 
           RowBox[{"ToString", "[", "flavour", "]"}], "<>", 
           "\"\<_sameptgrid\>\"", "<>", 
           RowBox[{"extensionname", "[", 
            RowBox[{"[", "iext", "]"}], "]"}]}]}], ";", "\n", 
         RowBox[{"If", "[", 
          RowBox[{
           RowBox[{
            RowBox[{"FileExistsQ", "[", 
             RowBox[{"PlotDir", "<>", "filename"}], "]"}], "==", "True"}], 
           ",", 
           RowBox[{"AppendTo", "[", 
            RowBox[{"filenamelist", ",", 
             RowBox[{"PlotDir", "<>", "filename"}]}], "]"}]}], " ", "]"}], 
         ";", "\n", 
         RowBox[{"filename", "=", 
          RowBox[{
           RowBox[{"obsname", "[", 
            RowBox[{"[", "3", "]"}], "]"}], "<>", "\"\<_\>\"", "<>", 
           RowBox[{"representationname", "[", 
            RowBox[{"[", "2", "]"}], "]"}], "<>", "\"\<_\>\"", "<>", 
           "\"\<f\>\"", "<>", 
           RowBox[{"ToString", "[", "flavour", "]"}], "<>", 
           "\"\<_sameptgrid\>\"", "<>", 
           RowBox[{"extensionname", "[", 
            RowBox[{"[", "iext", "]"}], "]"}]}]}], ";", "\n", 
         RowBox[{"If", "[", 
          RowBox[{
           RowBox[{
            RowBox[{"FileExistsQ", "[", 
             RowBox[{"PlotDir", "<>", "filename"}], "]"}], "==", "True"}], 
           ",", 
           RowBox[{"AppendTo", "[", 
            RowBox[{"filenamelist", ",", 
             RowBox[{"PlotDir", "<>", "filename"}]}], "]"}]}], " ", "]"}], 
         ";", "\n", 
         RowBox[{"filename", "=", 
          RowBox[{
           RowBox[{"obsname", "[", 
            RowBox[{"[", "3", "]"}], "]"}], "<>", "\"\<_\>\"", "<>", 
           RowBox[{"representationname", "[", 
            RowBox[{"[", "3", "]"}], "]"}], "<>", "\"\<_\>\"", "<>", 
           "\"\<f\>\"", "<>", 
           RowBox[{"ToString", "[", "flavour", "]"}], "<>", 
           "\"\<_sameptgrid\>\"", "<>", 
           RowBox[{"extensionname", "[", 
            RowBox[{"[", "iext", "]"}], "]"}]}]}], ";", "\n", 
         RowBox[{"If", "[", 
          RowBox[{
           RowBox[{
            RowBox[{"FileExistsQ", "[", 
             RowBox[{"PlotDir", "<>", "filename"}], "]"}], "==", "True"}], 
           ",", 
           RowBox[{"AppendTo", "[", 
            RowBox[{"filenamelist", ",", 
             RowBox[{"PlotDir", "<>", "filename"}]}], "]"}]}], " ", "]"}], 
         ";", "\n", 
         RowBox[{"filename", "=", 
          RowBox[{
           RowBox[{"obsname", "[", 
            RowBox[{"[", "3", "]"}], "]"}], "<>", "\"\<_\>\"", "<>", 
           RowBox[{"representationname", "[", 
            RowBox[{"[", "4", "]"}], "]"}], "<>", "\"\<_\>\"", "<>", 
           "\"\<f\>\"", "<>", 
           RowBox[{"ToString", "[", "flavour", "]"}], "<>", 
           "\"\<_sameptgrid\>\"", "<>", 
           RowBox[{"extensionname", "[", 
            RowBox[{"[", "iext", "]"}], "]"}]}]}], ";", "\n", 
         RowBox[{"If", "[", 
          RowBox[{
           RowBox[{
            RowBox[{"FileExistsQ", "[", 
             RowBox[{"PlotDir", "<>", "filename"}], "]"}], "==", "True"}], 
           ",", 
           RowBox[{"AppendTo", "[", 
            RowBox[{"filenamelist", ",", 
             RowBox[{"PlotDir", "<>", "filename"}]}], "]"}]}], " ", "]"}], 
         ";", "\n", "\n", 
         RowBox[{"(*", 
          RowBox[{
           RowBox[{"p5", "=", 
            RowBox[{"GraphicsGrid", "[", 
             RowBox[{"p5", ",", 
              RowBox[{"Spacings", "\[Rule]", 
               RowBox[{"Scaled", "[", "0.15", "]"}]}]}], " ", "]"}]}], ";"}], 
          "*)"}], "\n", 
         RowBox[{"filename", "=", 
          RowBox[{
           RowBox[{"obsname", "[", 
            RowBox[{"[", "4", "]"}], "]"}], "<>", "\"\<_\>\"", "<>", 
           RowBox[{"representationname", "[", 
            RowBox[{"[", "1", "]"}], "]"}], "<>", "\"\<_\>\"", "<>", 
           "\"\<f\>\"", "<>", 
           RowBox[{"ToString", "[", "flavour", "]"}], "<>", 
           "\"\<_sameptgrid\>\"", "<>", 
           RowBox[{"extensionname", "[", 
            RowBox[{"[", "iext", "]"}], "]"}]}]}], ";", "\n", 
         RowBox[{"If", "[", 
          RowBox[{
           RowBox[{
            RowBox[{"FileExistsQ", "[", 
             RowBox[{"PlotDir", "<>", "filename"}], "]"}], "==", "True"}], 
           ",", 
           RowBox[{"AppendTo", "[", 
            RowBox[{"filenamelist", ",", 
             RowBox[{"PlotDir", "<>", "filename"}]}], "]"}]}], " ", "]"}], 
         ";", "\n", 
         RowBox[{"filename", "=", 
          RowBox[{
           RowBox[{"obsname", "[", 
            RowBox[{"[", "4", "]"}], "]"}], "<>", "\"\<_\>\"", "<>", 
           RowBox[{"representationname", "[", 
            RowBox[{"[", "2", "]"}], "]"}], "<>", "\"\<_\>\"", "<>", 
           "\"\<f\>\"", "<>", 
           RowBox[{"ToString", "[", "flavour", "]"}], "<>", 
           "\"\<_sameptgrid\>\"", "<>", 
           RowBox[{"extensionname", "[", 
            RowBox[{"[", "iext", "]"}], "]"}]}]}], ";", "\n", 
         RowBox[{"If", "[", 
          RowBox[{
           RowBox[{
            RowBox[{"FileExistsQ", "[", 
             RowBox[{"PlotDir", "<>", "filename"}], "]"}], "==", "True"}], 
           ",", 
           RowBox[{"AppendTo", "[", 
            RowBox[{"filenamelist", ",", 
             RowBox[{"PlotDir", "<>", "filename"}]}], "]"}]}], " ", "]"}], 
         ";", "\n", 
         RowBox[{"filename", "=", 
          RowBox[{
           RowBox[{"obsname", "[", 
            RowBox[{"[", "4", "]"}], "]"}], "<>", "\"\<_\>\"", "<>", 
           RowBox[{"representationname", "[", 
            RowBox[{"[", "3", "]"}], "]"}], "<>", "\"\<_\>\"", "<>", 
           "\"\<f\>\"", "<>", 
           RowBox[{"ToString", "[", "flavour", "]"}], "<>", 
           "\"\<_sameptgrid\>\"", "<>", 
           RowBox[{"extensionname", "[", 
            RowBox[{"[", "iext", "]"}], "]"}]}]}], ";", "\n", 
         RowBox[{"If", "[", 
          RowBox[{
           RowBox[{
            RowBox[{"FileExistsQ", "[", 
             RowBox[{"PlotDir", "<>", "filename"}], "]"}], "==", "True"}], 
           ",", 
           RowBox[{"AppendTo", "[", 
            RowBox[{"filenamelist", ",", 
             RowBox[{"PlotDir", "<>", "filename"}]}], "]"}]}], " ", "]"}], 
         ";", "\n", 
         RowBox[{"filename", "=", 
          RowBox[{
           RowBox[{"obsname", "[", 
            RowBox[{"[", "4", "]"}], "]"}], "<>", "\"\<_\>\"", "<>", 
           RowBox[{"representationname", "[", 
            RowBox[{"[", "4", "]"}], "]"}], "<>", "\"\<_\>\"", "<>", 
           "\"\<f\>\"", "<>", 
           RowBox[{"ToString", "[", "flavour", "]"}], "<>", 
           "\"\<_sameptgrid\>\"", "<>", 
           RowBox[{"extensionname", "[", 
            RowBox[{"[", "iext", "]"}], "]"}]}]}], ";", "\n", 
         RowBox[{"If", "[", 
          RowBox[{
           RowBox[{
            RowBox[{"FileExistsQ", "[", 
             RowBox[{"PlotDir", "<>", "filename"}], "]"}], "==", "True"}], 
           ",", 
           RowBox[{"AppendTo", "[", 
            RowBox[{"filenamelist", ",", 
             RowBox[{"PlotDir", "<>", "filename"}]}], "]"}]}], " ", "]"}], 
         ";", "\n", "\"\<dummy\>\""}], "\n", ",", 
        RowBox[{"{", 
         RowBox[{"flavour", ",", 
          RowBox[{"-", "5"}], ",", 
          RowBox[{
           RowBox[{"-", "5"}], "+", "fmax", "-", "1"}]}], "}"}]}], "\n", 
       "]"}], ";", "\n", "\n", 
      RowBox[{"filename", "=", 
       RowBox[{
        RowBox[{"obsname", "[", 
         RowBox[{"[", "1", "]"}], "]"}], "<>", "\"\<_\>\"", "<>", 
        RowBox[{"representationname", "[", 
         RowBox[{"[", "1", "]"}], "]"}], "<>", 
        RowBox[{"extensionname", "[", 
         RowBox[{"[", "iext", "]"}], "]"}]}]}], ";", "\n", 
      RowBox[{"If", "[", 
       RowBox[{
        RowBox[{
         RowBox[{"FileExistsQ", "[", 
          RowBox[{"PlotDir", "<>", "filename"}], "]"}], "==", "True"}], ",", 
        RowBox[{"AppendTo", "[", 
         RowBox[{"filenamelist", ",", 
          RowBox[{"PlotDir", "<>", "filename"}]}], "]"}]}], " ", "]"}], ";", 
      "\n", "\n", 
      RowBox[{"(*", "output", "*)"}], "\n", "filenamelist"}]}], "\n", "]"}]}],
   "\n"}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{{3.718338324344664*^9, 3.7183383248045673`*^9}}]
}, Open  ]],

Cell[CellGroupData[{

Cell["make a pdf file to merge filenames ", "Subsection"],

Cell[BoxData[
 RowBox[{
  RowBox[{"MergePDFfiles", "[", "filenamelistin_", "]"}], ":=", "\n", 
  RowBox[{"Module", "[", 
   RowBox[{
    RowBox[{"{", 
     RowBox[{
      RowBox[{"filenamelist", "=", "filenamelistin"}], ",", "\n", 
      "pdfmergestr", ",", "pdfmergefiles", ",", "nofileflag"}], "}"}], ",", 
    "\n", 
    RowBox[{"(*", 
     RowBox[{
      RowBox[{"pdfmergestr", "=", "\"\<convert -density 300 \>\""}], ";"}], 
     "*)"}], "\n", 
    RowBox[{
     RowBox[{"pdfmergestr", "=", "\"\<bash epspdfcat \>\""}], ";", "\n", 
     RowBox[{"(*", 
      RowBox[{
       RowBox[{"pdffinalfile", "=", "\"\<allfig.pdf\>\""}], ";"}], "*)"}], 
     "\n", "\n", "\n", 
     RowBox[{"(*", 
      RowBox[{
       RowBox[{
       "if", " ", "any", " ", "files", " ", "are", " ", "not", " ", "exist"}],
        ",", " ", 
       RowBox[{"print", " ", "it"}]}], "*)"}], "\n", 
     RowBox[{"nofileflag", "=", "False"}], ";", "\n", 
     RowBox[{"Table", "[", "\n", 
      RowBox[{
       RowBox[{
        RowBox[{"If", "[", "\n", 
         RowBox[{
          RowBox[{
           RowBox[{"FileExistsQ", "[", 
            RowBox[{"filenamelist", "[", 
             RowBox[{"[", "ifile", "]"}], "]"}], " ", "]"}], "==", "False"}], 
          ",", "\n", 
          RowBox[{
           RowBox[{"Print", "[", 
            RowBox[{"\"\<the file doesn't exist: \>\"", ",", 
             RowBox[{"filenamelist", "[", 
              RowBox[{"[", "ifile", "]"}], "]"}]}], " ", "]"}], ";", "\n", 
           RowBox[{"nofileflag", "=", "True"}], ";", "\n", 
           "\"\<dummy\>\""}]}], "\n", "]"}], ";", "\n", "\"\<dummy\>\""}], 
       ",", "\n", 
       RowBox[{"{", 
        RowBox[{"ifile", ",", "1", ",", 
         RowBox[{"Length", "[", "filenamelist", "]"}]}], "}"}]}], "\n", "]"}],
      ";", "\n", 
     RowBox[{"(*", 
      RowBox[{
       RowBox[{
       "if", " ", "any", " ", "files", " ", "are", " ", "not", " ", "exist"}],
        ",", " ", 
       RowBox[{"stop", " ", "the", " ", "function"}]}], "*)"}], "\n", 
     RowBox[{"If", "[", 
      RowBox[{
       RowBox[{"nofileflag", "==", "True"}], ",", 
       RowBox[{"Abort", "[", "]"}]}], "]"}], ";", "\n", "\n", 
     RowBox[{"pdfmergefiles", "=", "\"\<\>\""}], ";", "\n", 
     RowBox[{"Table", "[", 
      RowBox[{
       RowBox[{
        RowBox[{"pdfmergefiles", "=", 
         RowBox[{"pdfmergefiles", "<>", 
          RowBox[{"filenamelist", "[", 
           RowBox[{"[", "ifile", "]"}], "]"}], "<>", "\"\< \>\""}]}], ";", 
        "\"\<dummy\>\""}], ",", 
       RowBox[{"{", 
        RowBox[{"ifile", ",", "1", ",", 
         RowBox[{"Length", "[", "filenamelist", "]"}]}], "}"}]}], "]"}], ";", 
     "\n", "\n", 
     RowBox[{"Run", "[", 
      RowBox[{"pdfmergestr", "<>", "pdfmergefiles"}], "]"}], ";", "\n", 
     "\"\<dummy\>\""}]}], "\n", "]"}]}]], "Input",
 InitializationCell->True]
}, Open  ]],

Cell[CellGroupData[{

Cell["\<\
make a pdf file to merge filenames which are output of figure making \
executables (3 kinds of output figures: samept, grid, sameptgrid)\
\>", "Subsection"],

Cell[BoxData[
 RowBox[{
  RowBox[{"(*", 
   RowBox[{
    RowBox[{
    "this", " ", "function", " ", "transf", " ", "png", " ", "files", " ", 
     "into", " ", "eps", " ", "files"}], ",", " ", 
    RowBox[{
    "then", " ", "convert", " ", "eps", " ", "files", " ", "into", " ", "one",
      " ", "pdf", " ", "file"}]}], "*)"}], "\n", 
  RowBox[{"(*", 
   RowBox[{
    RowBox[{"input", ":", " ", 
     RowBox[{"Dir", " ", "putting", " ", "figures"}]}], ",", " ", 
    RowBox[{"DirType", "\[Equal]", "\"\<samept\>\""}], ",", " ", 
    "\"\<grid\>\"", ",", " ", "\"\<sameptgrid\>\""}], "*)"}], "\n", 
  RowBox[{
   RowBox[{"implement", "[", 
    RowBox[{"PlotDirin_", ",", "DirTypein_"}], "]"}], ":=", "\n", 
   RowBox[{"Module", "[", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{
       RowBox[{"PlotDir", "=", "PlotDirin"}], ",", 
       RowBox[{"DirType", "=", "DirTypein"}], ",", "filelistold"}], "}"}], 
     ",", "\n", "\n", 
     RowBox[{"(*", 
      RowBox[{
       RowBox[{"original", " ", "file", " ", "extension"}], " ", "\[Equal]", 
       " ", 
       RowBox[{".", "png"}]}], "*)"}], "\n", 
     RowBox[{
      RowBox[{"iext", "=", "2"}], ";", "\n", 
      RowBox[{"(*", "run", "*)"}], "\n", 
      RowBox[{"(*", 
       RowBox[{
       "make", " ", "the", " ", "file", " ", "list", " ", "of", " ", 
        "original", " ", "file", " ", 
        RowBox[{"(", "extension", ")"}]}], "*)"}], "\n", 
      RowBox[{"filelistold", "=", "\n", 
       RowBox[{"Which", "[", "\n", 
        RowBox[{
         RowBox[{"DirType", "==", "\"\<samept\>\""}], ",", "\n", 
         RowBox[{"GetxQplotListSamept", "[", 
          RowBox[{"PlotDir", ",", "iext"}], "]"}], ",", "\n", 
         RowBox[{"DirType", "==", "\"\<grid\>\""}], ",", "\n", 
         RowBox[{"GetxQplotListGrid", "[", 
          RowBox[{"PlotDir", ",", "iext"}], "]"}], ",", "\n", 
         RowBox[{"DirType", "==", "\"\<sameptgrid\>\""}], ",", "\n", 
         RowBox[{"GetxQplotListSameptGrid", "[", 
          RowBox[{"PlotDir", ",", "iext"}], "]"}]}], "\n", "]"}]}], ";", "\n", 
      RowBox[{"(*", 
       RowBox[{
        RowBox[{
        "convert", " ", "to", " ", "the", " ", "new", " ", "extension"}], ",",
         " ", 
        RowBox[{"ex", ":", " ", "eps"}]}], "*)"}], "\n", 
      RowBox[{"ConvertPlotExtension", "[", 
       RowBox[{"filelistold", ",", "1"}], "]"}], ";", "\n", 
      RowBox[{"(*", 
       RowBox[{"set", " ", "new", " ", "file", " ", "list", " ", 
        RowBox[{"(", 
         RowBox[{".", "eps"}], ")"}]}], "*)"}], "\n", 
      RowBox[{"filelistnew", "=", "\n", 
       RowBox[{"Which", "[", "\n", 
        RowBox[{
         RowBox[{"DirType", "==", "\"\<samept\>\""}], ",", "\n", 
         RowBox[{"GetxQplotListSamept", "[", 
          RowBox[{"PlotDir", ",", "1"}], "]"}], ",", "\n", 
         RowBox[{
          RowBox[{"DirType", "==", "\"\<grid\>\""}], " ", "||", " ", 
          RowBox[{"DirType", "==", "\"\<xgrid\>\""}]}], ",", "\n", 
         RowBox[{"GetxQplotListGrid", "[", 
          RowBox[{"PlotDir", ",", "1"}], "]"}], ",", "\n", 
         RowBox[{"DirType", "==", "\"\<sameptgrid\>\""}], ",", "\n", 
         RowBox[{"GetxQplotListSameptGrid", "[", 
          RowBox[{"PlotDir", ",", "1"}], "]"}]}], "\n", "]"}]}], ";", "\n", 
      RowBox[{"(*", 
       RowBox[{
       "merge", " ", "eps", " ", "files", " ", "into", " ", "pdf", " ", 
        "file"}], "*)"}], "\n", 
      RowBox[{"MergePDFfiles", "[", "filelistnew", "]"}], ";", "\n", 
      RowBox[{"(*", 
       RowBox[{
       "move", " ", "the", " ", "merged", " ", "pdf", " ", "file", " ", "to", 
        " ", "the", " ", "directory"}], "*)"}], "\n", 
      RowBox[{"Run", "[", 
       RowBox[{"\"\<mv allfigs.pdf \>\"", "<>", "PlotDir"}], "]"}], ";", 
      "\n", "\"\<dummy\>\""}]}], "\n", "]"}]}]}]], "Input",
 InitializationCell->True],

Cell[BoxData[
 RowBox[{
  RowBox[{"(*", 
   RowBox[{
   "this", " ", "function", " ", "convert", " ", "eps", " ", "files", " ", 
    "into", " ", "one", " ", "pdf", " ", "file"}], "*)"}], "\n", 
  RowBox[{"(*", 
   RowBox[{
    RowBox[{"input", ":", " ", 
     RowBox[{"Dir", " ", "putting", " ", "figures"}]}], ",", " ", 
    RowBox[{"DirType", "\[Equal]", "\"\<samept\>\""}], ",", " ", 
    "\"\<grid\>\"", ",", " ", "\"\<sameptgrid\>\"", ",", "\n", 
    RowBox[{"output", ":", " ", 
     RowBox[{"a", " ", "pdf", " ", "file", " ", "that", " ", "merges", " ", 
      RowBox[{"all", " ", ".", "eps"}], " ", "files", " ", "which", " ", 
      "are", " ", "output", " ", "of", " ", "samept"}]}], ",", " ", "grid", 
    ",", " ", 
    RowBox[{
    "sameptgrid", " ", "figure", " ", "making", " ", "executables", " ", 
     RowBox[{"(", 
      RowBox[{"ex", ":", " ", 
       RowBox[{
        RowBox[{"run", ".", "nb"}], " ", "is", " ", "samept", " ", "figure", 
        " ", "maker"}]}], ")"}]}]}], "  ", "*)"}], "\n", 
  RowBox[{
   RowBox[{"implementeps", "[", 
    RowBox[{"PlotDirin_", ",", "DirTypein_"}], "]"}], ":=", "\n", 
   RowBox[{"Module", "[", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{
       RowBox[{"PlotDir", "=", "PlotDirin"}], ",", 
       RowBox[{"DirType", "=", "DirTypein"}]}], "}"}], ",", "\n", "\n", 
     RowBox[{"(*", 
      RowBox[{"set", " ", "new", " ", "file", " ", "list", " ", 
       RowBox[{"(", 
        RowBox[{".", "eps"}], ")"}]}], "*)"}], "\n", 
     RowBox[{
      RowBox[{"filelistnew", "=", "\n", 
       RowBox[{"Which", "[", "\n", 
        RowBox[{
         RowBox[{"DirType", "==", "\"\<samept\>\""}], ",", "\n", 
         RowBox[{"GetxQplotListSamept", "[", 
          RowBox[{"PlotDir", ",", "1"}], "]"}], ",", "\n", 
         RowBox[{
          RowBox[{"DirType", "==", "\"\<grid\>\""}], " ", "||", " ", 
          RowBox[{"DirType", "==", "\"\<xgrid\>\""}]}], ",", "\n", 
         RowBox[{"GetxQplotListGrid", "[", 
          RowBox[{"PlotDir", ",", "1"}], "]"}], ",", "\n", 
         RowBox[{"DirType", "==", "\"\<sameptgrid\>\""}], ",", "\n", 
         RowBox[{"GetxQplotListSameptGrid", "[", 
          RowBox[{"PlotDir", ",", "1"}], "]"}]}], "\n", "]"}]}], ";", "\n", 
      RowBox[{"(*", 
       RowBox[{
       "merge", " ", "eps", " ", "files", " ", "into", " ", "pdf", " ", 
        "file"}], "*)"}], "\n", 
      RowBox[{"MergePDFfiles", "[", "filelistnew", "]"}], ";", 
      RowBox[{"Print", "[", "filelistnew", "]"}], ";", "\n", 
      RowBox[{"(*", 
       RowBox[{
       "move", " ", "the", " ", "merged", " ", "pdf", " ", "file", " ", "to", 
        " ", "the", " ", "directory"}], "*)"}], "\n", 
      RowBox[{"Run", "[", 
       RowBox[{"\"\<mv allfigs.pdf \>\"", "<>", "PlotDir"}], "]"}], ";", 
      "\n", "\"\<dummy\>\""}]}], "\n", "]"}]}]}]], "Input",
 InitializationCell->True]
}, Open  ]]
}, Open  ]],

Cell[CellGroupData[{

Cell["for user define function ", "Section",
 CellChangeTimes->{{3.719823846377677*^9, 3.719823858300777*^9}}],

Cell[CellGroupData[{

Cell["\<\
Read f(x,Q) for specific Expt ID, flavour, point, replica index\
\>", "Subsection",
 CellChangeTimes->{{3.719842557027763*^9, 3.7198426100874777`*^9}}],

Cell[BoxData[
 RowBox[{
  RowBox[{"{", 
   RowBox[{
   "ibbar", ",", "icbar", ",", "isbar", ",", "idbar", ",", "iubar", ",", "ig",
     ",", "iu", ",", "id", ",", "is", ",", "ic", ",", "ib"}], "}"}], "=", 
  RowBox[{"Range", "[", 
   RowBox[{
    RowBox[{"-", "5"}], ",", "5", ",", "1"}], "]"}]}]], "Input",
 InitializationCell->True],

Cell[BoxData[
 RowBox[{
  RowBox[{"(*", 
   RowBox[{
    RowBox[{
    "this", " ", "function", " ", "extract", " ", "the", " ", "specific", " ",
      "part", " ", "of", " ", "PDF", " ", "data", " ", "in", " ", "fxQlist"}],
     ",", " ", 
    RowBox[{"where", " ", "fxQlist", " ", 
     RowBox[{"is", " ", "[", 
      RowBox[{"[", 
       RowBox[{"iexpt", ",", "iflavour", ",", "ipt"}], "]"}], "]"}], " ", 
     "List"}], ",", " ", 
    RowBox[{"each", " ", "element", " ", "is", " ", 
     RowBox[{"LLF", "[", 
      RowBox[{"x", ",", "Q", ",", 
       RowBox[{"f", 
        SubscriptBox[
         RowBox[{"(", 
          RowBox[{"x", ",", "Q"}], ")"}], "1"]}], ",", ",", ",", 
       RowBox[{"f", 
        SubscriptBox[
         RowBox[{"(", 
          RowBox[{"x", ",", "Q"}], ")"}], "Nset"]}]}], "]"}]}]}], "*)"}], 
  "\[IndentingNewLine]", 
  RowBox[{"(*", 
   RowBox[{
    RowBox[{"global", " ", 
     RowBox[{"variable", ":", " ", "fxQlist"}]}], ",", " ", "fxQDatabaselist",
     ",", " ", "fxQDatabaseExptlist"}], "*)"}], "\[IndentingNewLine]", 
  RowBox[{"(*", 
   RowBox[{
    RowBox[{
     RowBox[{"for", " ", "input", " ", "data", " ", 
      RowBox[{"format", " ", "[", 
       RowBox[{"[", 
        RowBox[{"iExpt", ",", "iFlavour", ",", "iPt"}], "]"}], "]"}]}], " ", 
     "=", " ", 
     RowBox[{"LF", "[", 
      RowBox[{"x", ",", "Q", ",", 
       RowBox[{"f", 
        SubscriptBox[
         RowBox[{"(", 
          RowBox[{"x", ",", "Q"}], ")"}], "1"]}], ",", ",", ",", 
       RowBox[{"f", 
        SubscriptBox[
         RowBox[{"(", 
          RowBox[{"x", ",", "Q"}], ")"}], "Nset"]}]}], "]"}]}], ",", " ", 
    RowBox[{"input", " ", "ExptID"}], ",", "iFlavour", ",", "iPt", ",", " ", 
    "iSet", ",", " ", 
    RowBox[{"output", " ", "the", " ", "corresponding", " ", "f", 
     RowBox[{"(", 
      RowBox[{"x", ",", "Q"}], ")"}]}]}], "*)"}], "\[IndentingNewLine]", 
  RowBox[{"(*", "\[IndentingNewLine]", 
   RowBox[{"ExptID", ",", "iFlavour", ",", "iPt", ",", " ", 
    RowBox[{
    "iSet", " ", "could", " ", "be", " ", "index", " ", "numbers", " ", "or", 
     " ", "\"\<All\>\""}], ",", " ", 
    RowBox[{"if", " ", "\"\<All\>\""}], ",", " ", 
    RowBox[{
     RowBox[{
     "the", " ", "function", " ", "output", " ", "all", " ", "data", " ", 
      "for", " ", "that", " ", "index", "  ", "\[IndentingNewLine]", 
      RowBox[{"e", ".", "g", ".", " ", "ExptID"}]}], "=", 
     RowBox[{"\"\<All\>\"", ":", " ", 
      RowBox[{"select", " ", "all", " ", "experiments", " ", 
       RowBox[{"(", 
        RowBox[{"in", " ", "the", " ", 
         RowBox[{"config1", ".", "txt"}]}], ")"}]}]}]}], ",", " ", 
    RowBox[{"iFlavour", "=", 
     RowBox[{"\"\<All\>\"", ":", " ", 
      RowBox[{
      "select", " ", "data", " ", "of", " ", "all", " ", "flavours"}]}]}], 
    ",", " ", 
    RowBox[{"iPt", "=", 
     RowBox[{"\"\<All\>\"", ":", " ", 
      RowBox[{"select", " ", "all", " ", "points"}]}]}], ",", " ", 
    RowBox[{"iSet", "=", 
     RowBox[{
      RowBox[{"\"\<All\>\"", ":", " ", 
       RowBox[{
       "select", " ", "all", " ", "replicas", "\[IndentingNewLine]", 
        "ExptID"}]}], "=", "159"}]}], ",", " ", 
    RowBox[{
     RowBox[{
     "the", " ", "experiment", " ", "in", " ", "fxQlist", " ", "with", " ", 
      "Expt", " ", "ID"}], " ", "=", " ", 
     RowBox[{
      RowBox[{"159", " ", 
       RowBox[{"(", 
        RowBox[{
         RowBox[{
          RowBox[{"fxQlist", "[", 
           RowBox[{"[", 
            RowBox[{"iexpt", ",", "iflavour"}], "]"}], "]"}], "[", 
          RowBox[{"[", 
           RowBox[{"\"\<exptinfo\>\"", ",", "\"\<exptid\>\""}], "]"}], "]"}], 
         " ", "=", " ", "159"}], " ", ")"}], "\[IndentingNewLine]", 
       "iFlavour"}], "=", 
      RowBox[{"-", 
       RowBox[{"5", "~", "5"}]}]}]}], ",", " ", 
    RowBox[{
     RowBox[{
      RowBox[{"bbar", " ", "~", " ", "b"}], "\[IndentingNewLine]", "iPt"}], 
     "=", "1"}], ",", " ", 
    RowBox[{
     RowBox[{
     "the", " ", "first", " ", "data", " ", "point", "\[IndentingNewLine]", 
      "iSet"}], "=", "1"}], ",", " ", 
    RowBox[{"the", " ", "central", " ", "set", " ", "f", 
     RowBox[{"(", 
      RowBox[{"x", ",", "Q"}], ")"}]}]}], "\[IndentingNewLine]", 
   "\[IndentingNewLine]", "*)"}], "\[IndentingNewLine]", 
  RowBox[{"(*", "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{
     RowBox[{"output", ":", " ", 
      RowBox[{
       RowBox[{"FxQTest", "[", 
        RowBox[{
        "ExptID", ",", "\"\<All\>\"", ",", "iPt", ",", "\"\<All\>\""}], "]"}],
        " ", "return", " ", "a", " ", "List", " ", "of", " ", "PDF", " ", 
       "values", " ", "with", " ", "dimensions"}]}], " ", "=", " ", 
     RowBox[{
      RowBox[{"[", 
       RowBox[{"[", 
        RowBox[{"iflavour", ",", "iset"}], "]"}], "]"}], " ", "for", " ", 
      RowBox[{"(", 
       RowBox[{"iExpt", ",", "iPt"}], ")"}]}]}], ",", "\[IndentingNewLine]", 
    RowBox[{
    "where", " ", "iExpt", " ", "is", " ", "the", " ", "iexpt", " ", "index", 
     " ", "in", " ", "the", " ", "input", " ", "f", 
     RowBox[{"(", 
      RowBox[{"x", ",", "Q"}], ")"}], " ", "data", " ", "fxQDatabaselist", 
     " ", "that", " ", 
     RowBox[{"it", "'"}], "s", " ", "expt", " ", "ID", " ", "is", " ", "the", 
     " ", "same", " ", "as", " ", "the", " ", "input", " ", "ExptID", " ", 
     "\[IndentingNewLine]", 
     RowBox[{"e", ".", "g", "."}]}]}], " ", "\[IndentingNewLine]", "*)"}], 
  "\[IndentingNewLine]", "\[IndentingNewLine]", 
  RowBox[{
   RowBox[{
    RowBox[{"FxQTest", "[", 
     RowBox[{"ExptIDin_", ",", "iFlavourin_", ",", "iPtin_", ",", "iSetin_"}],
      "]"}], ":=", "\[IndentingNewLine]", 
    RowBox[{"Module", "[", 
     RowBox[{
      RowBox[{"{", 
       RowBox[{
        RowBox[{"ExptID", "=", "ExptIDin"}], ",", 
        RowBox[{"iFlavour", "=", "iFlavourin"}], ",", 
        RowBox[{"iPt", "=", "iPtin"}], ",", 
        RowBox[{"iSet", "=", "iSetin"}], ",", "NExpt", ",", "NFlavour", ",", 
        "NPt", ",", "NSet", ",", "output", ",", "Nlayer", ",", "iExpt"}], 
       "}"}], ",", "\[IndentingNewLine]", "\[IndentingNewLine]", 
      RowBox[{"(*", 
       RowBox[{
        RowBox[{
         RowBox[{"20171119", ":", " ", 
          RowBox[{"when", " ", "input", " ", "Expt", " ", "ID"}]}], " ", "=", 
         "\"\<All\>\""}], ",", " ", 
        RowBox[{
        "this", " ", "function", " ", "only", " ", "extract", " ", "data", 
         " ", "sets", " ", "selected", " ", "by", " ", 
         RowBox[{"config1", ".", "txt"}]}]}], "*)"}], "\[IndentingNewLine]", 
      RowBox[{"(*", 
       RowBox[{
        RowBox[{
         RowBox[{"when", " ", "input"}], " ", "=", " ", 
         RowBox[{"specific", " ", "expt", " ", "ID"}]}], ",", " ", 
        RowBox[{
        "this", " ", "function", " ", "extract", " ", "the", " ", "data", " ",
          "set", " ", "with", " ", "the", " ", "same", " ", "input", " ", 
         "expt", " ", "ID", " ", "from", " ", "the", " ", "loaded", " ", 
         "database"}]}], " ", "*)"}], "\[IndentingNewLine]", 
      "\[IndentingNewLine]", 
      RowBox[{"(*", 
       RowBox[{
        RowBox[{
         RowBox[{"20171119", ":", " ", "iexpt"}], " ", "\[Rule]", " ", 
         "exptID"}], ",", " ", 
        RowBox[{
        "them", " ", "the", " ", "function", " ", "find", " ", "the", " ", 
         "corresponding", " ", "iexpt"}]}], "*)"}], "\[IndentingNewLine]", 
      RowBox[{
       RowBox[{"If", "[", 
        RowBox[{
         RowBox[{"ExptID", "\[Equal]", "\"\<All\>\""}], ",", 
         RowBox[{
          RowBox[{"output", "=", "fxQlist"}], ";", 
          RowBox[{"iExpt", "=", "\"\<All\>\""}]}]}], "]"}], ";", 
       "\[IndentingNewLine]", "\[IndentingNewLine]", 
       RowBox[{"If", "[", "\[IndentingNewLine]", 
        RowBox[{
         RowBox[{"ExptID", "\[NotEqual]", "\"\<All\>\""}], ",", 
         "\[IndentingNewLine]", 
         RowBox[{
          RowBox[{"output", "=", 
           RowBox[{"(*", 
            RowBox[{"fxQlist", ";"}], "*)"}], "fxQDatabaselist"}], ";", 
          "\[IndentingNewLine]", 
          RowBox[{"iExpt", "=", 
           RowBox[{"Position", "[", 
            RowBox[{"fxQDatabaseExptlist", ",", "ExptID"}], "]"}]}], ";", " ",
           "\[IndentingNewLine]", 
          RowBox[{"If", "[", "\[IndentingNewLine]", 
           RowBox[{
            RowBox[{
             RowBox[{"Length", "[", "iExpt", "]"}], "\[NotEqual]", "1"}], ",",
             "\[IndentingNewLine]", 
            RowBox[{
             RowBox[{
             "Print", "[", 
              "\"\<error, the should only have 1 data set of in your database \
of which the input expt ID is the same as the Expt ID\>\"", "]"}], ";", 
             "\[IndentingNewLine]", 
             RowBox[{"Print", "[", 
              RowBox[{
              "\"\<your input expt ID: \>\"", ",", "ExptID", ",", 
               "\"\<, expt IDs loaded: \>\"", ",", "fxQDatabaseExptlist"}], 
              "]"}], ";", "\[IndentingNewLine]", 
             RowBox[{"Quit", "[", "]"}]}]}], " ", "\[IndentingNewLine]", 
           "]"}], ";", "\[IndentingNewLine]", 
          RowBox[{"iExpt", "=", 
           RowBox[{"iExpt", "[", 
            RowBox[{"[", 
             RowBox[{"1", ",", "1"}], "]"}], "]"}]}], ";", 
          "\[IndentingNewLine]", "\"\<dummy\>\""}]}], "\[IndentingNewLine]", 
        "]"}], ";", "\[IndentingNewLine]", "\[IndentingNewLine]", 
       RowBox[{"(*", 
        RowBox[{"check", " ", "input"}], "*)"}], "\[IndentingNewLine]", 
       RowBox[{"NExpt", "=", 
        RowBox[{
         RowBox[{"Dimensions", "[", "output", "]"}], "[", 
         RowBox[{"[", "1", "]"}], "]"}]}], ";", "\[IndentingNewLine]", 
       RowBox[{"NFlavour", "=", 
        RowBox[{
         RowBox[{"Dimensions", "[", "output", "]"}], "[", 
         RowBox[{"[", "2", "]"}], "]"}]}], ";", "\[IndentingNewLine]", 
       RowBox[{"(*", 
        RowBox[{"include", " ", "one", " ", 
         RowBox[{"expts", ":", " ", 
          RowBox[{"Npt", " ", "\[Equal]"}]}]}], " ", "*)"}], 
       "\[IndentingNewLine]", 
       RowBox[{"If", "[", 
        RowBox[{
         RowBox[{"iExpt", "\[NotEqual]", "\"\<All\>\""}], ",", 
         RowBox[{"NPt", "=", 
          RowBox[{"Length", "[", 
           RowBox[{"output", "[", 
            RowBox[{"[", 
             RowBox[{"iExpt", ",", "1"}], "]"}], "]"}], " ", "]"}]}], ",", 
         RowBox[{"NPt", "=", 
          RowBox[{"Min", "[", 
           RowBox[{
            RowBox[{
             RowBox[{"Length", "[", 
              RowBox[{"#", "[", 
               RowBox[{"[", "1", "]"}], "]"}], " ", "]"}], "&"}], "/@", 
            "output"}], " ", "]"}]}]}], " ", "]"}], ";", 
       "\[IndentingNewLine]", 
       RowBox[{"NSet", "=", 
        RowBox[{
         RowBox[{"Length", "[", 
          RowBox[{"output", "[", 
           RowBox[{"[", 
            RowBox[{"1", ",", "1", ",", "1"}], "]"}], "]"}], " ", "]"}], "-", 
         "2"}]}], ";", "\[IndentingNewLine]", 
       RowBox[{"(*", 
        RowBox[{
         RowBox[{"y", " ", "default"}], ",", " ", 
         RowBox[{"#flavour", " ", "=", " ", 
          RowBox[{"11", " ", 
           RowBox[{"(", 
            RowBox[{"bbar", " ", "to", " ", "b"}], ")"}]}]}]}], "*)"}], 
       "\[IndentingNewLine]", 
       RowBox[{"NFlavour", "=", "11"}], ";", "\[IndentingNewLine]", 
       RowBox[{"If", "[", 
        RowBox[{
         RowBox[{"iExpt", ">", "NExpt"}], ",", 
         RowBox[{
          RowBox[{"Print", "[", 
           RowBox[{
           "\"\<error, the input iExpt > # of expts \>\"", ",", "NExpt"}], 
           "]"}], ";", 
          RowBox[{"Quit", "[", "]"}]}]}], " ", "]"}], ";", 
       "\[IndentingNewLine]", 
       RowBox[{"If", "[", 
        RowBox[{
         RowBox[{
          RowBox[{"(", 
           RowBox[{"iFlavour", "+", "6"}], ")"}], ">", "NFlavour"}], ",", 
         RowBox[{
          RowBox[{"Print", "[", 
           RowBox[{
           "\"\<error, the input iExpt > # of flavours \>\"", ",", 
            "NFlavour"}], "]"}], ";", 
          RowBox[{"Quit", "[", "]"}]}]}], " ", "]"}], ";", 
       "\[IndentingNewLine]", 
       RowBox[{"If", "[", 
        RowBox[{
         RowBox[{"iPt", ">", "NPt"}], ",", 
         RowBox[{
          RowBox[{"Print", "[", 
           RowBox[{
           "\"\<error, the input iExpt > # of points \>\"", ",", "NPt"}], 
           "]"}], ";", 
          RowBox[{"Quit", "[", "]"}]}]}], " ", "]"}], ";", 
       "\[IndentingNewLine]", 
       RowBox[{"If", "[", 
        RowBox[{
         RowBox[{"iSet", ">", "NSet"}], ",", 
         RowBox[{
          RowBox[{"Print", "[", 
           RowBox[{
           "\"\<error, the input iExpt > # of replicas \>\"", ",", "NSet"}], 
           "]"}], ";", 
          RowBox[{"Quit", "[", "]"}]}]}], " ", "]"}], ";", 
       "\[IndentingNewLine]", 
       RowBox[{"(*", "output", "*)"}], "\[IndentingNewLine]", 
       RowBox[{"Nlayer", "=", "0"}], ";", "\[IndentingNewLine]", 
       RowBox[{"If", "[", 
        RowBox[{
         RowBox[{"iExpt", "\[NotEqual]", "\"\<All\>\""}], ",", 
         RowBox[{"output", "=", 
          RowBox[{"output", "[", 
           RowBox[{"[", "iExpt", "]"}], "]"}]}], ",", 
         RowBox[{"Nlayer", "=", 
          RowBox[{"Nlayer", "+", "1"}]}]}], " ", "]"}], ";", 
       RowBox[{"(*", 
        RowBox[{
         RowBox[{
          RowBox[{"if", " ", "iExpt"}], " ", "\[Equal]", " ", "\"\<All\>\""}],
          ",", " ", 
         RowBox[{"layer", " ", "=", " ", 
          RowBox[{"[", 
           RowBox[{"[", 
            RowBox[{"iExpt", ",", "..."}], "]"}], "]"}]}], ",", " ", 
         RowBox[{
          RowBox[{"if", " ", "iExpt"}], "\[NotEqual]", "\"\<All\>\""}], ",", 
         " ", 
         RowBox[{"layer", " ", "=", " ", 
          RowBox[{"[", 
           RowBox[{"[", 
            RowBox[{"iflavour", ",", "..."}], "]"}], "]"}]}]}], "*)"}], 
       "\[IndentingNewLine]", 
       RowBox[{"If", "[", 
        RowBox[{
         RowBox[{"iFlavour", "\[NotEqual]", "\"\<All\>\""}], ",", 
         RowBox[{"output", "=", 
          RowBox[{"Map", "[", 
           RowBox[{
            RowBox[{
             RowBox[{"#", "[", 
              RowBox[{"[", 
               RowBox[{"iFlavour", "+", "6"}], "]"}], "]"}], "&"}], ",", 
            "output", ",", 
            RowBox[{"{", "Nlayer", "}"}]}], "]"}]}], ",", 
         RowBox[{"Nlayer", "=", 
          RowBox[{"Nlayer", "+", "1"}]}]}], " ", "]"}], ";", 
       "\[IndentingNewLine]", 
       RowBox[{"If", "[", 
        RowBox[{
         RowBox[{"iPt", "\[NotEqual]", "\"\<All\>\""}], ",", 
         RowBox[{"output", "=", 
          RowBox[{"Map", "[", 
           RowBox[{
            RowBox[{
             RowBox[{"#", "[", 
              RowBox[{"[", "iPt", "]"}], "]"}], "&"}], ",", "output", ",", 
            RowBox[{"{", "Nlayer", "}"}]}], "]"}]}], ",", ",", 
         RowBox[{"Nlayer", "=", 
          RowBox[{"Nlayer", "+", "1"}]}]}], " ", "]"}], ";", 
       "\[IndentingNewLine]", 
       RowBox[{"If", "[", 
        RowBox[{
         RowBox[{"iSet", "\[NotEqual]", "\"\<All\>\""}], ",", 
         RowBox[{"output", "=", 
          RowBox[{"output", "/.", 
           RowBox[{
            RowBox[{"LF", "[", 
             RowBox[{"x_", ",", "Q_", ",", "a__"}], "]"}], "\[RuleDelayed]", 
            RowBox[{"LF", "[", 
             RowBox[{"x", ",", "Q", ",", 
              RowBox[{
               RowBox[{"{", "a", "}"}], "[", 
               RowBox[{"[", "iSet", "]"}], "]"}]}], " ", "]"}]}]}]}], ",", 
         RowBox[{"Nlayer", "=", 
          RowBox[{"Nlayer", "+", "1"}]}]}], " ", "]"}], ";", 
       "\[IndentingNewLine]", 
       RowBox[{"(*", "\[IndentingNewLine]", 
        RowBox[{
         RowBox[{"If", "[", 
          RowBox[{
           RowBox[{"iPt", "\[NotEqual]", "\"\<All\>\""}], ",", 
           RowBox[{"output", "=", 
            RowBox[{"Map", "[", 
             RowBox[{
              RowBox[{
               RowBox[{"#", "[", 
                RowBox[{"[", "iPt", "]"}], "]"}], "&"}], ",", "output", ",", 
              RowBox[{"{", "2", "}"}]}], "]"}]}]}], " ", "]"}], ";", 
         "\[IndentingNewLine]", "\[IndentingNewLine]", 
         RowBox[{"If", "[", 
          RowBox[{
           RowBox[{"iFlavour", "\[NotEqual]", "\"\<All\>\""}], ",", 
           RowBox[{"output", "=", 
            RowBox[{"Map", "[", 
             RowBox[{
              RowBox[{
               RowBox[{"#", "[", 
                RowBox[{"[", 
                 RowBox[{"iFlavour", "+", "6"}], "]"}], "]"}], "&"}], ",", 
              "output", ",", 
              RowBox[{"{", "1", "}"}]}], "]"}]}]}], " ", "]"}], ";", 
         "\[IndentingNewLine]", 
         RowBox[{"If", "[", 
          RowBox[{
           RowBox[{"iExpt", "\[NotEqual]", "\"\<All\>\""}], ",", 
           RowBox[{"output", "=", 
            RowBox[{"output", "[", 
             RowBox[{"[", "iExpt", "]"}], "]"}]}]}], " ", "]"}], ";"}], 
        "\[IndentingNewLine]", "*)"}], "\[IndentingNewLine]", 
       RowBox[{"(*", "output", "*)"}], "\[IndentingNewLine]", 
       RowBox[{"output", "/.", 
        RowBox[{
         RowBox[{"LF", "[", 
          RowBox[{"x_", ",", "Q_", ",", "a__"}], "]"}], "\[RuleDelayed]", 
         RowBox[{"{", "a", "}"}]}]}]}]}], "\[IndentingNewLine]", "]"}]}], 
   "\[IndentingNewLine]", "\[IndentingNewLine]", 
   RowBox[{"(*", 
    RowBox[{"define", " ", "top", " ", "level", " ", "f", 
     RowBox[{"(", 
      RowBox[{"x", ",", "Q"}], ")"}], " ", "function", " ", "for", " ", 
     "users"}], "*)"}], "\[IndentingNewLine]", "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{
     RowBox[{"FxQ", "[", "iFlavourin_", "]"}], ":=", 
     RowBox[{"FxQTest", "[", 
      RowBox[{
      "\"\<All\>\"", ",", "iFlavourin", ",", "\"\<All\>\"", ",", 
       "\"\<All\>\""}], "]"}]}], ";"}], "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{
     RowBox[{"FxQ", "[", 
      RowBox[{"iExptin_", ",", "iFlavourin_", ",", "iPtin_", ",", "iSetin_"}],
       "]"}], ":=", 
     RowBox[{"FxQTest", "[", 
      RowBox[{"iExptin", ",", "iFlavourin", ",", "iPtin", ",", "iSetin"}], 
      "]"}]}], ";"}], "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{
     RowBox[{"FxQ", "[", 
      RowBox[{"iExptin_", ",", "iFlavourin_", ",", "iPtin_"}], "]"}], ":=", 
     RowBox[{"FxQTest", "[", 
      RowBox[{
      "iExptin", ",", "iFlavourin", ",", "iPtin", ",", "\"\<All\>\""}], 
      "]"}]}], ";"}], "\[IndentingNewLine]"}]}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{{3.719644788934949*^9, 3.719645133393556*^9}, {
   3.7196451782562017`*^9, 3.7196454122764683`*^9}, {3.719645468733173*^9, 
   3.719645471238447*^9}, {3.719645634919951*^9, 3.7196456566849747`*^9}, {
   3.719645815998908*^9, 3.719645847283451*^9}, {3.719646064971663*^9, 
   3.7196461648210497`*^9}, {3.719646339220385*^9, 3.719646342411758*^9}, {
   3.71964646284031*^9, 3.719646464824644*^9}, {3.719646606013377*^9, 
   3.719646683448421*^9}, {3.7196467386478443`*^9, 3.7196467544303617`*^9}, {
   3.719646819713044*^9, 3.719646820559676*^9}, {3.719646857883507*^9, 
   3.719646876335994*^9}, {3.7196469362995377`*^9, 3.719646953608491*^9}, {
   3.7196472127909517`*^9, 3.719647275147904*^9}, {3.7196473090771093`*^9, 
   3.719647350968659*^9}, {3.719647388803999*^9, 3.71964742523739*^9}, {
   3.7196475046882687`*^9, 3.719647507109137*^9}, {3.7196476349255457`*^9, 
   3.719647663313012*^9}, {3.71964821963371*^9, 3.7196482225285387`*^9}, {
   3.719648862695269*^9, 3.719648863722289*^9}, {3.7198190817755632`*^9, 
   3.719819094616254*^9}, {3.7198493000164843`*^9, 3.7198501815122433`*^9}, {
   3.719851046682987*^9, 3.719851050967414*^9}, {3.71985276915901*^9, 
   3.719852771115087*^9}, {3.720136205054118*^9, 3.720136218733345*^9}, {
   3.7201403822168703`*^9, 3.720140421927147*^9}, {3.720140646947536*^9, 
   3.720140668621038*^9}, {3.7201408857494583`*^9, 3.720141110795075*^9}, {
   3.720141307142659*^9, 3.7201413212002573`*^9}, {3.72014183345184*^9, 
   3.7201419614634027`*^9}, {3.720142024736053*^9, 3.720142037555791*^9}, {
   3.720142175805664*^9, 3.720142196768915*^9}, {3.720142297874094*^9, 
   3.720142479001603*^9}, 3.720142515082511*^9, {3.720142970482079*^9, 
   3.720143000624256*^9}, {3.7201433487488317`*^9, 3.720143558911973*^9}, {
   3.720143598288005*^9, 3.7201436188658333`*^9}, {3.720143657568027*^9, 
   3.720143665432598*^9}, {3.720143704045146*^9, 3.720143747871608*^9}, {
   3.7201437918289824`*^9, 3.7201438818969383`*^9}, {3.720143939452106*^9, 
   3.720143991860527*^9}, {3.720144030553961*^9, 3.7201441298043423`*^9}, {
   3.720144371410325*^9, 3.720144451674851*^9}, 3.7201459835447483`*^9, {
   3.720146036601184*^9, 3.720146047901132*^9}, {3.720146112428302*^9, 
   3.7201461969375267`*^9}, {3.720146227163457*^9, 3.72014625364434*^9}}]
}, Open  ]],

Cell[CellGroupData[{

Cell["\<\
transform the format of user define function to fxQ class List [[iexpt]]\
\>", "Subsection",
 CellChangeTimes->{{3.719823883747088*^9, 3.7198239696456347`*^9}}],

Cell[BoxData[
 RowBox[{
  RowBox[{"(*", 
   RowBox[{
   "this", " ", "function", " ", "input", " ", "the", " ", "user", " ", 
    "define", " ", "function", " ", "then", " ", "define", " ", "it", " ", 
    "as", " ", "a", " ", "new", " ", "flavour", " ", "index", " ", "data"}], 
   "*)"}], "\[IndentingNewLine]", 
  RowBox[{"(*", 
   RowBox[{
    RowBox[{"input", " ", "\[IndentingNewLine]", "UserDefFuncData"}], ",", 
    " ", 
    RowBox[{
     RowBox[{
     "the", " ", "data", " ", "read", " ", "from", " ", "user", " ", "define",
       " ", "function", "\[IndentingNewLine]", 
      RowBox[{"fxQdataclasslist", ":", " ", "format"}]}], " ", "=", " ", 
     RowBox[{"[", 
      RowBox[{"[", 
       RowBox[{"iexpt", ",", "iflavour"}], "]"}], "]"}]}], ",", " ", 
    RowBox[{
     RowBox[{"[", 
      RowBox[{"[", "\"\<data\>\"", "]"}], "]"}], "=", 
     RowBox[{"{", 
      RowBox[{
       RowBox[{"LF", "[", 
        RowBox[{"x", ",", "Q", ",", 
         RowBox[{"f", 
          SubscriptBox[
           RowBox[{"(", 
            RowBox[{"x", ",", "Q"}], ")"}], "1"]}], ",", 
         RowBox[{"...", "f", 
          SubscriptBox[
           RowBox[{"(", 
            RowBox[{"x", ",", "Q"}], ")"}], "Nset"]}]}], "]"}], ",", 
       RowBox[{"LF", "[", 
        RowBox[{"x", ",", "Q", ",", 
         RowBox[{"f", 
          SubscriptBox[
           RowBox[{"(", 
            RowBox[{"x", ",", "Q"}], ")"}], "1"]}], ",", 
         RowBox[{"...", "f", 
          SubscriptBox[
           RowBox[{"(", 
            RowBox[{"x", ",", "Q"}], ")"}], "Nset"]}]}], "]"}], ",", "..."}], 
      "}"}]}]}], "\[IndentingNewLine]", "*)"}], "\[IndentingNewLine]", 
  RowBox[{"(*", "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"output", ":", "\[IndentingNewLine]", 
     RowBox[{
     "if", " ", "user", " ", "define", " ", "function", " ", "is", " ", 
      RowBox[{"{", 
       RowBox[{"Nset", " ", "values"}], "}"}]}]}], ",", " ", 
    RowBox[{"the", " ", "new", " ", "flavour", " ", "data", " ", "is", " ", 
     RowBox[{"{", 
      RowBox[{"Nset", " ", "values"}], "}"}], " ", "for", " ", "every", " ", 
     "point", " ", "ipt", "\[IndentingNewLine]", "if", " ", "user", " ", 
     "define", " ", "function", " ", 
     RowBox[{"is", " ", "[", 
      RowBox[{"[", 
       RowBox[{"iexpt", ",", "ipt"}], "]"}], "]"}]}], ",", " ", 
    RowBox[{
     RowBox[{"each", " ", "element"}], " ", "=", " ", 
     RowBox[{"{", 
      RowBox[{"Nset", " ", "values"}], "}"}]}], ",", " ", 
    RowBox[{
    "the", " ", "Nset", " ", "data", " ", "of", " ", "points", " ", "of", " ",
      "the", " ", "new", " ", "flavour", " ", "is", " ", 
     "\[IndentingNewLine]", "the", " ", 
     RowBox[{"{", 
      RowBox[{"Nset", " ", "values"}], "}"}], " ", "for", " ", "the", " ", 
     RowBox[{"corresponding", " ", "[", 
      RowBox[{"[", 
       RowBox[{"iexpt", ",", "ipt"}], "]"}], "]"}], " ", 
     "\[IndentingNewLine]", "output", " ", 
     RowBox[{"format", ":", " ", 
      RowBox[{
       RowBox[{"[", 
        RowBox[{"[", "iexpt", "]"}], "]"}], " ", "of", " ", "fxQ", " ", 
       "class"}]}]}]}], "\[IndentingNewLine]", "*)"}], "\[IndentingNewLine]", 
  
  RowBox[{"(*", "\[IndentingNewLine]", 
   RowBox[{
   "example", " ", "of", " ", "the", " ", "case", " ", "1", " ", "is", " ", 
    "like", " ", "the", " ", "error", " ", "sets", " ", "of", " ", "an", " ", 
    "physical", " ", "observable", "\[IndentingNewLine]", "example", " ", 
    "of", " ", "the", " ", "case", " ", "1", " ", "is", " ", "like", " ", 
    "the", " ", "data", " ", "of", " ", "combination", " ", "of", " ", 
    "flavours", " ", "such", " ", "as", " ", 
    RowBox[{"u", "/", "d"}], " ", "for", " ", "each", " ", "point", " ", 
    "and", " ", "experiment"}], "\[IndentingNewLine]", "*)"}], 
  "\[IndentingNewLine]", "\[IndentingNewLine]", 
  RowBox[{
   RowBox[{"UDFToClass", "[", 
    RowBox[{"UserDefFuncDatain_", ",", "fxQdataclasslistin_"}], "]"}], ":=", 
   "\[IndentingNewLine]", 
   RowBox[{"Module", "[", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{
       RowBox[{"UserDefFuncData", "=", "UserDefFuncDatain"}], ",", 
       RowBox[{"fxQdataclasslist", "=", "fxQdataclasslistin"}], ",", 
       "DataFormatMode", ",", "tmpclass", ",", "Nset", ",", "Nexpt", ",", "x",
        ",", "Q", ",", "output"}], "}"}], ",", "\[IndentingNewLine]", 
     RowBox[{"(*", 
      RowBox[{"format", " ", "of", " ", "data"}], "*)"}], 
     "\[IndentingNewLine]", 
     RowBox[{"(*", 
      RowBox[{
       RowBox[{"1", " ", "for", " ", "case", " ", "1"}], ",", " ", 
       RowBox[{"2", " ", "for", " ", "case", " ", "2"}]}], "*)"}], 
     "\[IndentingNewLine]", 
     RowBox[{
      RowBox[{"DataFormatMode", "=", "\"\<unset\>\""}], ";", 
      "\[IndentingNewLine]", "\[IndentingNewLine]", 
      RowBox[{"Nset", "=", 
       RowBox[{
        RowBox[{"Length", "[", 
         RowBox[{
          RowBox[{"fxQdataclasslist", "[", 
           RowBox[{"[", 
            RowBox[{"1", ",", "1"}], "]"}], "]"}], "[", 
          RowBox[{"[", "\"\<label\>\"", "]"}], "]"}], " ", "]"}], "-", 
        "2"}]}], ";", "\[IndentingNewLine]", 
      RowBox[{"Nexpt", "=", 
       RowBox[{"Length", "[", "fxQdataclasslist", "]"}]}], ";", 
      "\[IndentingNewLine]", 
      RowBox[{"(*", 
       RowBox[{
       "check", " ", "the", " ", "user", " ", "define", " ", "function", " ", 
        "is", " ", 
        RowBox[{"{", 
         RowBox[{"Nset", " ", "values"}], "}"}]}], "*)"}], 
      "\[IndentingNewLine]", 
      RowBox[{"If", "[", 
       RowBox[{
        RowBox[{
         RowBox[{
          RowBox[{"Head", "[", "UserDefFuncData", "]"}], "\[Equal]", "List"}],
          " ", "&&", " ", 
         RowBox[{
          RowBox[{"Dimensions", "[", "UserDefFuncData", "]"}], "\[Equal]", 
          RowBox[{"{", "Nset", "}"}]}]}], ",", 
        RowBox[{"DataFormatMode", "=", "1"}]}], "]"}], ";", 
      "\[IndentingNewLine]", "\[IndentingNewLine]", 
      RowBox[{"(*", 
       RowBox[{
        RowBox[{
        "check", " ", "the", " ", "user", " ", "define", " ", "function", " ", 
         RowBox[{"is", " ", "[", 
          RowBox[{"[", 
           RowBox[{"iexpt", ",", "ipt"}], "]"}], "]"}]}], ",", " ", 
        RowBox[{
         RowBox[{"each", " ", "element"}], " ", "=", " ", 
         RowBox[{"{", "Nset", "}"}]}]}], "*)"}], "\[IndentingNewLine]", 
      RowBox[{"If", "[", 
       RowBox[{
        RowBox[{
         RowBox[{
          RowBox[{"Head", "[", "UserDefFuncData", "]"}], "\[Equal]", "List"}],
          " ", "&&", " ", 
         RowBox[{
          RowBox[{
           RowBox[{"Dimensions", "[", "UserDefFuncData", "]"}], "[", 
           RowBox[{"[", "1", "]"}], "]"}], "\[Equal]", "Nexpt"}], " ", "&&", 
         " ", 
         RowBox[{
          RowBox[{"Length", "[", 
           RowBox[{"UserDefFuncData", "[", 
            RowBox[{"[", 
             RowBox[{"1", ",", "1"}], "]"}], "]"}], " ", "]"}], "\[Equal]", 
          "Nset"}]}], " ", ",", 
        RowBox[{"DataFormatMode", "=", "2"}]}], "]"}], ";", 
      "\[IndentingNewLine]", 
      RowBox[{"(*", "\[IndentingNewLine]", 
       RowBox[{
        RowBox[{"Print", "[", 
         RowBox[{"\"\<mode: \>\"", ",", "DataFormatMode"}], "]"}], ";", 
        "\[IndentingNewLine]", 
        RowBox[{"Print", "[", 
         RowBox[{
          RowBox[{"Head", "[", "UserDefFuncData", "]"}], ",", "\"\< \>\"", 
          ",", 
          RowBox[{
           RowBox[{"Dimensions", "[", "UserDefFuncData", "]"}], "[", 
           RowBox[{"[", "1", "]"}], "]"}], ",", "\"\< \>\"", ",", 
          RowBox[{"Length", "[", 
           RowBox[{"UserDefFuncData", "[", 
            RowBox[{"[", 
             RowBox[{"1", ",", "1"}], "]"}], "]"}], " ", "]"}]}], "]"}], ";", 
        "\[IndentingNewLine]", 
        RowBox[{"Print", "[", 
         RowBox[{
         "\"\<List, \>\"", ",", "\"\<Next: \>\"", ",", "Nexpt", ",", 
          "\"\<, Nset: \>\"", ",", "Nset"}], "]"}], ";"}], 
       "\[IndentingNewLine]", "*)"}], "\[IndentingNewLine]", 
      "\[IndentingNewLine]", 
      RowBox[{"If", "[", "\[IndentingNewLine]", 
       RowBox[{
        RowBox[{
         RowBox[{"DataFormatMode", "\[NotEqual]", "1"}], " ", "&&", " ", 
         RowBox[{"DataFormatMode", "\[NotEqual]", "2"}]}], ",", 
        "\[IndentingNewLine]", 
        RowBox[{
         RowBox[{
         "Print", "[", 
          "\"\<error, the input user define function data is not correct\>\"",
           "]"}], ";", "\[IndentingNewLine]", 
         RowBox[{"Print", "[", 
          RowBox[{"\"\<Head of the input: \>\"", ",", 
           RowBox[{"Head", "[", "UserDefFuncData", "]"}]}], " ", "]"}], ";", 
         "\[IndentingNewLine]", 
         RowBox[{"Print", "[", 
          RowBox[{"\"\<Dimensions of the input: \>\"", ",", 
           RowBox[{"Dimensions", "[", "UserDefFuncData", "]"}]}], " ", "]"}], 
         ";", "\[IndentingNewLine]", 
         RowBox[{"Print", "[", 
          RowBox[{"\"\<expected Dimensions: {Nset} = \>\"", ",", 
           RowBox[{"{", "Nset", "}"}], ",", "\"\< or {Nexpt,Npt,Nset} = \>\"",
            ",", 
           RowBox[{"Dimensions", "[", "fxQdataclasslist", "]"}]}], " ", "]"}],
          ";", "\[IndentingNewLine]", 
         RowBox[{"Abort", "[", "]"}]}]}], " ", "\[IndentingNewLine]", "]"}], 
      ";", "\[IndentingNewLine]", "\[IndentingNewLine]", 
      RowBox[{"(*", 
       RowBox[{"for", " ", "input", " ", "is", " ", 
        RowBox[{"{", 
         RowBox[{"Nset", " ", "of", " ", "values"}], "}"}]}], "*)"}], 
      "\[IndentingNewLine]", 
      RowBox[{"(*", 
       RowBox[{
       "append", " ", "data", " ", "of", " ", "user", " ", "define", " ", 
        "function", " ", "to", " ", "fxQ", " ", "class", " ", "for", " ", 
        "each", " ", "expt", " ", "ID"}], "*)"}], "\n", 
      RowBox[{"If", "[", "\[IndentingNewLine]", 
       RowBox[{
        RowBox[{"DataFormatMode", "\[Equal]", "1"}], ",", "\n", 
        RowBox[{
         RowBox[{"output", "=", "\[IndentingNewLine]", 
          RowBox[{"Table", "[", "\[IndentingNewLine]", 
           RowBox[{
            RowBox[{
             RowBox[{"tmpclass", "=", 
              RowBox[{"fxQdataclasslist", "[", 
               RowBox[{"[", 
                RowBox[{"iexpt", ",", "1"}], "]"}], "]"}]}], ";", 
             "\[IndentingNewLine]", 
             RowBox[{
              RowBox[{"tmpclass", "[", 
               RowBox[{"[", "\"\<data\>\"", "]"}], "]"}], "=", 
              RowBox[{
               RowBox[{"tmpclass", "[", 
                RowBox[{"[", "\"\<data\>\"", "]"}], "]"}], "/.", 
               RowBox[{
                RowBox[{"LF", "[", "a__", "]"}], "\[RuleDelayed]", 
                RowBox[{"LF", "[", 
                 RowBox[{
                  RowBox[{
                   RowBox[{"{", "a", "}"}], "[", 
                   RowBox[{"[", "1", "]"}], "]"}], ",", 
                  RowBox[{
                   RowBox[{"{", "a", "}"}], "[", 
                   RowBox[{"[", "2", "]"}], "]"}], ",", 
                  RowBox[{"Sequence", "@@", "UserDefFuncData"}]}], 
                 "]"}]}]}]}], ";", "\[IndentingNewLine]", 
             RowBox[{"(*", 
              RowBox[{
               RowBox[{
                RowBox[{"fxQdataclasslist", "[", 
                 RowBox[{"[", "iexpt", "]"}], "]"}], "=", 
                RowBox[{"Append", "[", 
                 RowBox[{
                  RowBox[{"fxQdataclasslist", "[", 
                   RowBox[{"[", "iexpt", "]"}], "]"}], ",", "tmpclass"}], 
                 "]"}]}], ";"}], "*)"}], "\[IndentingNewLine]", "tmpclass"}], 
            ",", "\[IndentingNewLine]", 
            RowBox[{"{", 
             RowBox[{"iexpt", ",", "1", ",", "Nexpt"}], "}"}]}], 
           "\[IndentingNewLine]", "]"}]}], ";", "\[IndentingNewLine]", 
         "\"\<dummy\>\""}]}], "\[IndentingNewLine]", "]"}], ";", "\n", 
      "\[IndentingNewLine]", 
      RowBox[{"(*", 
       RowBox[{"for", " ", "input", " ", 
        RowBox[{"is", " ", "[", 
         RowBox[{"[", 
          RowBox[{"iexpt", ",", "ipt"}], "]"}], "]"}], 
        RowBox[{"{", 
         RowBox[{"Nset", " ", "of", " ", "values"}], "}"}]}], "*)"}], 
      "\[IndentingNewLine]", 
      RowBox[{"(*", 
       RowBox[{"append", " ", "the", " ", "corresponding", " ", 
        RowBox[{"{", 
         RowBox[{"Nset", " ", "of", " ", "values"}], "}"}], " ", "to", " ", 
        "each", " ", "fxQ", " ", 
        RowBox[{"class", " ", "[", 
         RowBox[{"[", 
          RowBox[{"iexpt", ",", "ipt"}], "]"}], "]"}]}], "*)"}], 
      "\[IndentingNewLine]", 
      RowBox[{"If", "[", "\[IndentingNewLine]", 
       RowBox[{
        RowBox[{"DataFormatMode", "\[Equal]", "2"}], ",", 
        "\[IndentingNewLine]", 
        RowBox[{
         RowBox[{"output", "=", "\[IndentingNewLine]", 
          RowBox[{"Table", "[", "\[IndentingNewLine]", 
           RowBox[{
            RowBox[{
             RowBox[{"tmpclass", "=", 
              RowBox[{"fxQdataclasslist", "[", 
               RowBox[{"[", 
                RowBox[{"iexpt", ",", "1"}], "]"}], "]"}]}], ";", 
             "\[IndentingNewLine]", 
             RowBox[{"Table", "[", "\[IndentingNewLine]", 
              RowBox[{
               RowBox[{
                RowBox[{"x", "=", 
                 RowBox[{
                  RowBox[{
                   RowBox[{"tmpclass", "[", 
                    RowBox[{"[", "\"\<data\>\"", "]"}], "]"}], "[", 
                   RowBox[{"[", "ipt", "]"}], "]"}], "[", 
                  RowBox[{"[", "1", "]"}], "]"}]}], ";", 
                RowBox[{"Q", "=", 
                 RowBox[{
                  RowBox[{
                   RowBox[{"tmpclass", "[", 
                    RowBox[{"[", "\"\<data\>\"", "]"}], "]"}], "[", 
                   RowBox[{"[", "ipt", "]"}], "]"}], "[", 
                  RowBox[{"[", "2", "]"}], "]"}]}], ";", 
                "\[IndentingNewLine]", 
                RowBox[{
                 RowBox[{
                  RowBox[{"tmpclass", "[", 
                   RowBox[{"[", "\"\<data\>\"", "]"}], "]"}], "[", 
                  RowBox[{"[", "ipt", "]"}], "]"}], "=", 
                 RowBox[{"LF", "[", 
                  RowBox[{"x", ",", "Q", ",", 
                   RowBox[{"Sequence", "@@", 
                    RowBox[{"UserDefFuncData", "[", 
                    RowBox[{"[", 
                    RowBox[{"iexpt", ",", "ipt"}], "]"}], "]"}]}]}], " ", 
                  "]"}]}]}], ",", "\[IndentingNewLine]", 
               RowBox[{"{", 
                RowBox[{"ipt", ",", "1", ",", 
                 RowBox[{"Length", "[", 
                  RowBox[{
                   RowBox[{"fxQdataclasslist", "[", 
                    RowBox[{"[", 
                    RowBox[{"iexpt", ",", "1"}], "]"}], "]"}], "[", 
                   RowBox[{"[", "\"\<data\>\"", "]"}], "]"}], " ", "]"}]}], 
                "}"}]}], "\[IndentingNewLine]", "]"}], ";", "\n", 
             RowBox[{"(*", 
              RowBox[{
               RowBox[{"fxQdataclasslist", "[", 
                RowBox[{"[", "iexpt", "]"}], "]"}], "=", 
               RowBox[{"Append", "[", 
                RowBox[{
                 RowBox[{"fxQdataclasslist", "[", 
                  RowBox[{"[", "iexpt", "]"}], "]"}], ",", "tmpclass"}], 
                "]"}]}], "*)"}], "\[IndentingNewLine]", "tmpclass"}], ",", 
            "\n", 
            RowBox[{"{", 
             RowBox[{"iexpt", ",", "Nexpt"}], "}"}]}], "\n", "]"}]}], ";", 
         "\[IndentingNewLine]", "\"\<dummy\>\""}]}], "\[IndentingNewLine]", 
       "]"}], ";", "\[IndentingNewLine]", "\[IndentingNewLine]", 
      RowBox[{"(*", 
       RowBox[{"put", " ", "data"}], " ", "*)"}], "\[IndentingNewLine]", 
      "output"}]}], "\[IndentingNewLine]", "]"}]}]}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{{3.719792774598091*^9, 3.719792819472323*^9}, {
   3.719792877555641*^9, 3.719792970055376*^9}, {3.719793007227852*^9, 
   3.719793188839108*^9}, {3.719793885538361*^9, 3.7197940112508087`*^9}, {
   3.7197940570047407`*^9, 3.719794100564664*^9}, {3.719794227250328*^9, 
   3.7197942502002993`*^9}, {3.719810096986215*^9, 3.719810138214429*^9}, {
   3.7198101732262697`*^9, 3.719810368225197*^9}, {3.719810683525247*^9, 
   3.719810688023875*^9}, {3.719810763645808*^9, 3.719810839449003*^9}, 
   3.719810882010244*^9, {3.719810987036293*^9, 3.719811088468553*^9}, {
   3.719811140068955*^9, 3.719811235061692*^9}, {3.719811304318768*^9, 
   3.7198116828892384`*^9}, {3.719811723801693*^9, 3.719811933627027*^9}, {
   3.719812224545472*^9, 3.7198123469989367`*^9}, {3.719812399755499*^9, 
   3.719812430564715*^9}, {3.719812531603733*^9, 3.719812577246056*^9}, {
   3.7198128163648376`*^9, 3.7198129136761436`*^9}, {3.719812981182067*^9, 
   3.719812982895405*^9}, {3.7198130280500307`*^9, 3.719813066068223*^9}, {
   3.719813102757128*^9, 3.719813109834034*^9}, {3.719813200984254*^9, 
   3.7198132135123863`*^9}, {3.719813252627872*^9, 3.7198132584643583`*^9}, 
   3.719813354721652*^9, {3.719813404610382*^9, 3.719813489160659*^9}, {
   3.71997214080704*^9, 3.719972145692754*^9}, {3.720205863548915*^9, 
   3.720205877589097*^9}, {3.7202059795420713`*^9, 3.720206070923293*^9}, {
   3.720206103049737*^9, 3.720206259692631*^9}}]
}, Open  ]],

Cell[CellGroupData[{

Cell["Example", "Subsection",
 CellChangeTimes->{{3.719674052517212*^9, 3.719674055085208*^9}, {
  3.719819252183271*^9, 3.719819253719924*^9}}],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{"fxQfile", "=", 
  "\"\</home/botingw/Downloads/xqplotter-20171105_color_palette_fix/quick_\
data/fxQNset_samept_data_CT14NNLO.dat\>\""}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"fxQdata", "=", 
   RowBox[{"Get", "[", "fxQfile", "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"fxQlist", "=", 
   RowBox[{"Table", "[", 
    RowBox[{
     RowBox[{
      RowBox[{"fxQdata", "[", 
       RowBox[{"[", 
        RowBox[{"iexpt", ",", "iflavour"}], "]"}], "]"}], "[", 
      RowBox[{"[", "\"\<data\>\"", "]"}], "]"}], ",", 
     RowBox[{"{", 
      RowBox[{"iexpt", ",", 
       RowBox[{
        RowBox[{"Dimensions", "[", "fxQdata", "]"}], "[", 
        RowBox[{"[", "1", "]"}], "]"}]}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"iflavour", ",", 
       RowBox[{
        RowBox[{"Dimensions", "[", "fxQdata", "]"}], "[", 
        RowBox[{"[", "2", "]"}], "]"}]}], "}"}]}], "]"}]}], ";"}]}], "Input"],

Cell[BoxData["\<\"/home/botingw/Downloads/xqplotter-20171105_color_palette_\
fix/quick_data/fxQNset_samept_data_CT14NNLO.dat\"\>"], "Output",
 CellChangeTimes->{3.719819301181561*^9}]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{
  RowBox[{"iExpt", "=", "10"}], ";", 
  RowBox[{"iFlavour", "=", "iu"}], ";", 
  RowBox[{"iPt", "=", "3"}], ";", 
  RowBox[{"iSet", "=", "5"}], 
  ";"}], "\[IndentingNewLine]", "iFlavour"}], "Input",
 CellChangeTimes->{{3.7196475832248507`*^9, 3.7196475888450947`*^9}, 
   3.719648626535434*^9, 3.7196491324267197`*^9}],

Cell[BoxData["1"], "Output",
 CellChangeTimes->{3.719674089160637*^9, 3.7197922210088997`*^9, 
  3.71981926175908*^9, 3.7198193078479633`*^9}]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{"FxQTest", "[", 
  RowBox[{"iExpt", ",", "iFlavour", ",", "iPt", ",", "\"\<All\>\""}], 
  "]"}], "\[IndentingNewLine]", 
 RowBox[{"fxQlist", "[", 
  RowBox[{"[", 
   RowBox[{"iExpt", ",", 
    RowBox[{"iFlavour", "+", "6"}], ",", "iPt"}], "]"}], "]"}]}], "Input",
 CellChangeTimes->{{3.719645600893353*^9, 3.719645631702449*^9}, {
  3.7196456764711733`*^9, 3.7196456971841707`*^9}, {3.7196462959265623`*^9, 
  3.7196463283324747`*^9}, {3.719647744751245*^9, 3.719647749348816*^9}}],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
  "8.44967314168131`", ",", "8.481489157205376`", ",", "8.41631105282717`", 
   ",", "8.414013239499578`", ",", "8.4177215178265`", ",", 
   "8.42747282887601`", ",", "8.443582111748793`", ",", "8.488036833279883`", 
   ",", "8.326683410162792`", ",", "8.392197590368905`", ",", 
   "8.492559636654233`", ",", "8.473417541682766`", ",", "8.39268143992465`", 
   ",", "8.439683646598057`", ",", "8.470853255183199`", ",", 
   "8.450469107485224`", ",", "8.430815625284266`", ",", "8.449018647969659`",
    ",", "8.46346803804041`", ",", "8.412387760635541`", ",", 
   "8.487099591427643`", ",", "8.445827508697583`", ",", "8.451857628005252`",
    ",", "8.453563634868534`", ",", "8.447600155854245`", ",", 
   "8.463536668697731`", ",", "8.438993141235558`", ",", "8.440665632538742`",
    ",", "8.467485068711628`", ",", "8.383347590573143`", ",", 
   "8.492265800758581`", ",", "8.495822463682162`", ",", "8.378320391737587`",
    ",", "8.526991650687176`", ",", "8.380732221535084`", ",", 
   "8.407526969828133`", ",", "8.479519692953934`", ",", "8.59270715782751`", 
   ",", "8.289895882762691`", ",", "8.495238521443781`", ",", 
   "8.377928940018982`", ",", "8.411898613332303`", ",", "8.476647412113637`",
    ",", "8.430266728170336`", ",", "8.462906255597026`", ",", 
   "8.50855883075575`", ",", "8.400425059296321`", ",", "8.29481379734889`", 
   ",", "8.620167141163941`", ",", "8.574631864716565`", ",", 
   "8.454780565515081`", ",", "8.517333971795649`", ",", "8.414220031658745`",
    ",", "8.503867047445294`", ",", "8.463961237846501`", ",", 
   "8.389640109693598`", ",", "8.54235249326216`"}], "}"}]], "Output",
 CellChangeTimes->{
  3.719645701606599*^9, {3.719645777826188*^9, 3.7196457910802507`*^9}, 
   3.719645854007534*^9, 3.7196461721338863`*^9, 3.719646230981841*^9, {
   3.719646297725933*^9, 3.719646347052526*^9}, {3.719646450645823*^9, 
   3.719646469899261*^9}, {3.719646544279883*^9, 3.719646556807837*^9}, 
   3.719646797804899*^9, 3.719646849273943*^9, 3.719646889727223*^9, {
   3.719647516247963*^9, 3.719647542523995*^9}, 3.719647714843705*^9, 
   3.719647750023312*^9, {3.719674104911025*^9, 3.71967413179464*^9}, 
   3.719792223714121*^9, 3.719819267311816*^9, 3.7198193148799343`*^9}],

Cell[BoxData[
 RowBox[{"LF", "[", 
  RowBox[{
  "0.072`", ",", "2.468`", ",", "8.44967314168131`", ",", 
   "8.481489157205376`", ",", "8.41631105282717`", ",", "8.414013239499578`", 
   ",", "8.4177215178265`", ",", "8.42747282887601`", ",", 
   "8.443582111748793`", ",", "8.488036833279883`", ",", "8.326683410162792`",
    ",", "8.392197590368905`", ",", "8.492559636654233`", ",", 
   "8.473417541682766`", ",", "8.39268143992465`", ",", "8.439683646598057`", 
   ",", "8.470853255183199`", ",", "8.450469107485224`", ",", 
   "8.430815625284266`", ",", "8.449018647969659`", ",", "8.46346803804041`", 
   ",", "8.412387760635541`", ",", "8.487099591427643`", ",", 
   "8.445827508697583`", ",", "8.451857628005252`", ",", "8.453563634868534`",
    ",", "8.447600155854245`", ",", "8.463536668697731`", ",", 
   "8.438993141235558`", ",", "8.440665632538742`", ",", "8.467485068711628`",
    ",", "8.383347590573143`", ",", "8.492265800758581`", ",", 
   "8.495822463682162`", ",", "8.378320391737587`", ",", "8.526991650687176`",
    ",", "8.380732221535084`", ",", "8.407526969828133`", ",", 
   "8.479519692953934`", ",", "8.59270715782751`", ",", "8.289895882762691`", 
   ",", "8.495238521443781`", ",", "8.377928940018982`", ",", 
   "8.411898613332303`", ",", "8.476647412113637`", ",", "8.430266728170336`",
    ",", "8.462906255597026`", ",", "8.50855883075575`", ",", 
   "8.400425059296321`", ",", "8.29481379734889`", ",", "8.620167141163941`", 
   ",", "8.574631864716565`", ",", "8.454780565515081`", ",", 
   "8.517333971795649`", ",", "8.414220031658745`", ",", "8.503867047445294`",
    ",", "8.463961237846501`", ",", "8.389640109693598`", ",", 
   "8.54235249326216`"}], "]"}]], "Output",
 CellChangeTimes->{
  3.719645701606599*^9, {3.719645777826188*^9, 3.7196457910802507`*^9}, 
   3.719645854007534*^9, 3.7196461721338863`*^9, 3.719646230981841*^9, {
   3.719646297725933*^9, 3.719646347052526*^9}, {3.719646450645823*^9, 
   3.719646469899261*^9}, {3.719646544279883*^9, 3.719646556807837*^9}, 
   3.719646797804899*^9, 3.719646849273943*^9, 3.719646889727223*^9, {
   3.719647516247963*^9, 3.719647542523995*^9}, 3.719647714843705*^9, 
   3.719647750023312*^9, {3.719674104911025*^9, 3.71967413179464*^9}, 
   3.719792223714121*^9, 3.719819267311816*^9, 3.719819314882614*^9}]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{
  RowBox[{"FxQTest", "[", 
   RowBox[{"iExpt", ",", "iFlavour", ",", "\"\<All\>\"", ",", "iSet"}], "]"}],
   "[", 
  RowBox[{"[", "iPt", "]"}], "]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"fxQlist", "[", 
   RowBox[{"[", 
    RowBox[{"iExpt", ",", 
     RowBox[{"iFlavour", "+", "6"}], ",", "iPt"}], "]"}], "]"}], "[", 
  RowBox[{"[", 
   RowBox[{"iSet", "+", "2"}], "]"}], "]"}]}], "Input",
 CellChangeTimes->{{3.719647760714381*^9, 3.7196477701479*^9}, {
  3.719647816348379*^9, 3.7196478192002697`*^9}, {3.719674154817692*^9, 
  3.719674180271172*^9}, {3.719680385819394*^9, 3.719680386729007*^9}, {
  3.719792236721347*^9, 3.719792241326384*^9}, {3.7197922780169497`*^9, 
  3.719792279281177*^9}, {3.719792313432909*^9, 3.7197923213100443`*^9}}],

Cell[BoxData[
 RowBox[{"{", "8.4177215178265`", "}"}]], "Output",
 CellChangeTimes->{
  3.719647783608541*^9, 3.7196478300537167`*^9, {3.719674141390243*^9, 
   3.719674183001452*^9}, {3.7196803833174677`*^9, 3.719680387344158*^9}, {
   3.719792228248295*^9, 3.7197922422455797`*^9}, 3.719792280307351*^9, {
   3.719792314597127*^9, 3.719792322122808*^9}, 3.7198193204641438`*^9}],

Cell[BoxData["8.4177215178265`"], "Output",
 CellChangeTimes->{
  3.719647783608541*^9, 3.7196478300537167`*^9, {3.719674141390243*^9, 
   3.719674183001452*^9}, {3.7196803833174677`*^9, 3.719680387344158*^9}, {
   3.719792228248295*^9, 3.7197922422455797`*^9}, 3.719792280307351*^9, {
   3.719792314597127*^9, 3.719792322122808*^9}, 3.7198193204653893`*^9}]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{
  RowBox[{"FxQTest", "[", 
   RowBox[{
   "\"\<All\>\"", ",", "\"\<All\>\"", ",", "\"\<All\>\"", ",", 
    "\"\<All\>\""}], "]"}], "[", 
  RowBox[{"[", 
   RowBox[{"iExpt", ",", 
    RowBox[{"iFlavour", "+", "6"}], ",", "iPt"}], "]"}], 
  "]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"fxQlist", "[", 
   RowBox[{"[", 
    RowBox[{"iExpt", ",", 
     RowBox[{"iFlavour", "+", "6"}], ",", "iPt"}], "]"}], "]"}], "/.", 
  RowBox[{
   RowBox[{"LF", "[", "a__", "]"}], "\[RuleDelayed]", 
   RowBox[{"Drop", "[", 
    RowBox[{
     RowBox[{"{", "a", "}"}], ",", "2"}], "]"}]}]}]}], "Input",
 CellChangeTimes->{{3.7196478430772867`*^9, 3.719647845270254*^9}, {
   3.719647880059751*^9, 3.719647973804941*^9}, 3.719648259197805*^9, {
   3.719648362210668*^9, 3.719648364545747*^9}, {3.7196483949261017`*^9, 
   3.719648431435947*^9}, {3.7196485340263243`*^9, 3.719648535942724*^9}, {
   3.719648590959187*^9, 3.719648593004019*^9}, {3.719674227105752*^9, 
   3.719674228859247*^9}}],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
  "8.44967314168131`", ",", "8.481489157205376`", ",", "8.41631105282717`", 
   ",", "8.414013239499578`", ",", "8.4177215178265`", ",", 
   "8.42747282887601`", ",", "8.443582111748793`", ",", "8.488036833279883`", 
   ",", "8.326683410162792`", ",", "8.392197590368905`", ",", 
   "8.492559636654233`", ",", "8.473417541682766`", ",", "8.39268143992465`", 
   ",", "8.439683646598057`", ",", "8.470853255183199`", ",", 
   "8.450469107485224`", ",", "8.430815625284266`", ",", "8.449018647969659`",
    ",", "8.46346803804041`", ",", "8.412387760635541`", ",", 
   "8.487099591427643`", ",", "8.445827508697583`", ",", "8.451857628005252`",
    ",", "8.453563634868534`", ",", "8.447600155854245`", ",", 
   "8.463536668697731`", ",", "8.438993141235558`", ",", "8.440665632538742`",
    ",", "8.467485068711628`", ",", "8.383347590573143`", ",", 
   "8.492265800758581`", ",", "8.495822463682162`", ",", "8.378320391737587`",
    ",", "8.526991650687176`", ",", "8.380732221535084`", ",", 
   "8.407526969828133`", ",", "8.479519692953934`", ",", "8.59270715782751`", 
   ",", "8.289895882762691`", ",", "8.495238521443781`", ",", 
   "8.377928940018982`", ",", "8.411898613332303`", ",", "8.476647412113637`",
    ",", "8.430266728170336`", ",", "8.462906255597026`", ",", 
   "8.50855883075575`", ",", "8.400425059296321`", ",", "8.29481379734889`", 
   ",", "8.620167141163941`", ",", "8.574631864716565`", ",", 
   "8.454780565515081`", ",", "8.517333971795649`", ",", "8.414220031658745`",
    ",", "8.503867047445294`", ",", "8.463961237846501`", ",", 
   "8.389640109693598`", ",", "8.54235249326216`"}], "}"}]], "Output",
 CellChangeTimes->{{3.719648604238899*^9, 3.71964863213305*^9}, 
   3.719674193054359*^9, 3.7196742296603813`*^9, 3.719792331756363*^9, 
   3.719819323254874*^9}],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
  "8.44967314168131`", ",", "8.481489157205376`", ",", "8.41631105282717`", 
   ",", "8.414013239499578`", ",", "8.4177215178265`", ",", 
   "8.42747282887601`", ",", "8.443582111748793`", ",", "8.488036833279883`", 
   ",", "8.326683410162792`", ",", "8.392197590368905`", ",", 
   "8.492559636654233`", ",", "8.473417541682766`", ",", "8.39268143992465`", 
   ",", "8.439683646598057`", ",", "8.470853255183199`", ",", 
   "8.450469107485224`", ",", "8.430815625284266`", ",", "8.449018647969659`",
    ",", "8.46346803804041`", ",", "8.412387760635541`", ",", 
   "8.487099591427643`", ",", "8.445827508697583`", ",", "8.451857628005252`",
    ",", "8.453563634868534`", ",", "8.447600155854245`", ",", 
   "8.463536668697731`", ",", "8.438993141235558`", ",", "8.440665632538742`",
    ",", "8.467485068711628`", ",", "8.383347590573143`", ",", 
   "8.492265800758581`", ",", "8.495822463682162`", ",", "8.378320391737587`",
    ",", "8.526991650687176`", ",", "8.380732221535084`", ",", 
   "8.407526969828133`", ",", "8.479519692953934`", ",", "8.59270715782751`", 
   ",", "8.289895882762691`", ",", "8.495238521443781`", ",", 
   "8.377928940018982`", ",", "8.411898613332303`", ",", "8.476647412113637`",
    ",", "8.430266728170336`", ",", "8.462906255597026`", ",", 
   "8.50855883075575`", ",", "8.400425059296321`", ",", "8.29481379734889`", 
   ",", "8.620167141163941`", ",", "8.574631864716565`", ",", 
   "8.454780565515081`", ",", "8.517333971795649`", ",", "8.414220031658745`",
    ",", "8.503867047445294`", ",", "8.463961237846501`", ",", 
   "8.389640109693598`", ",", "8.54235249326216`"}], "}"}]], "Output",
 CellChangeTimes->{{3.719648604238899*^9, 3.71964863213305*^9}, 
   3.719674193054359*^9, 3.7196742296603813`*^9, 3.719792331756363*^9, 
   3.719819323257391*^9}]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{"pdfHessianCorrelationfake", "[", 
  RowBox[{
   RowBox[{"{", "1", "}"}], ",", 
   RowBox[{"{", "35.1", "}"}]}], "]"}], "\[IndentingNewLine]", 
 RowBox[{"pdfHessianCorrelationfake", "[", 
  RowBox[{
   RowBox[{"FxQTest", "[", 
    RowBox[{"iExpt", ",", "iu", ",", "iPt", ",", "\"\<All\>\""}], "]"}], ",", 
   
   RowBox[{"FxQTest", "[", 
    RowBox[{"iExpt", ",", "iu", ",", "iPt", ",", "\"\<All\>\""}], "]"}]}], 
  " ", "]"}], "\[IndentingNewLine]", 
 RowBox[{"pdfHessianCorrelationfake", "[", 
  RowBox[{
   RowBox[{"FxQTest", "[", 
    RowBox[{"iExpt", ",", "iu", ",", "iPt", ",", "\"\<All\>\""}], "]"}], ",", 
   
   RowBox[{"FxQTest", "[", 
    RowBox[{"iExpt", ",", "id", ",", "iPt", ",", "\"\<All\>\""}], "]"}]}], 
  " ", "]"}]}], "Input",
 CellChangeTimes->{{3.719650430083316*^9, 3.719650441793294*^9}, {
  3.7196504825240183`*^9, 3.719650525759614*^9}, {3.719650595926875*^9, 
  3.719650603025076*^9}, {3.719792494759948*^9, 3.7197925133101254`*^9}}],

Cell[BoxData["0"], "Output",
 CellChangeTimes->{{3.719650442855557*^9, 3.719650538417633*^9}, 
   3.719650603928163*^9, {3.719651743003131*^9, 3.719651770671472*^9}, 
   3.7196518956620893`*^9, 3.719651944981439*^9, {3.719792497039659*^9, 
   3.719792514100801*^9}}],

Cell[BoxData["0.9999999999999999`"], "Output",
 CellChangeTimes->{{3.719650442855557*^9, 3.719650538417633*^9}, 
   3.719650603928163*^9, {3.719651743003131*^9, 3.719651770671472*^9}, 
   3.7196518956620893`*^9, 3.719651944981439*^9, {3.719792497039659*^9, 
   3.719792514101915*^9}}],

Cell[BoxData["0.17158259173582646`"], "Output",
 CellChangeTimes->{{3.719650442855557*^9, 3.719650538417633*^9}, 
   3.719650603928163*^9, {3.719651743003131*^9, 3.719651770671472*^9}, 
   3.7196518956620893`*^9, 3.719651944981439*^9, {3.719792497039659*^9, 
   3.719792514103037*^9}}]
}, Open  ]]
}, Open  ]]
}, Open  ]]
}, Open  ]]
}, Open  ]]
},
WindowSize->{1535, 848},
WindowMargins->{{0, Automatic}, {0, Automatic}},
FrontEndVersion->"11.0 for Linux x86 (64-bit) (July 28, 2016)",
StyleDefinitions->"Default.nb"
]
(* End of Notebook Content *)

(* Internal cache information *)
(*CellTagsOutline
CellTagsIndex->{}
*)
(*CellTagsIndex
CellTagsIndex->{}
*)
(*NotebookFileOutline
Notebook[{
Cell[CellGroupData[{
Cell[422, 15, 32, 0, 66, "Chapter"],
Cell[CellGroupData[{
Cell[479, 19, 3936, 100, 489, "Input",
 InitializationCell->True],
Cell[CellGroupData[{
Cell[4440, 123, 367, 9, 24, "Print"],
Cell[4810, 134, 254, 6, 24, "Print"],
Cell[5067, 142, 260, 6, 24, "Print"]
}, Open  ]]
}, Open  ]]
}, Open  ]],
Cell[CellGroupData[{
Cell[5388, 155, 35, 0, 66, "Chapter"],
Cell[5426, 157, 6153, 196, 978, "Input",
 InitializationCell->True],
Cell[11582, 355, 444, 12, 89, "Code"]
}, Open  ]],
Cell[CellGroupData[{
Cell[12063, 372, 42, 0, 93, "Title"],
Cell[CellGroupData[{
Cell[12130, 376, 29, 0, 66, "Chapter"],
Cell[CellGroupData[{
Cell[12184, 380, 36, 0, 65, "Section"],
Cell[CellGroupData[{
Cell[12245, 384, 35, 0, 45, "Subsection"],
Cell[12283, 386, 336, 8, 148, "Input",
 InitializationCell->True]
}, Open  ]],
Cell[CellGroupData[{
Cell[12656, 399, 35, 0, 44, "Subsection"],
Cell[12694, 401, 466, 10, 182, "Input",
 InitializationCell->True]
}, Open  ]],
Cell[CellGroupData[{
Cell[13197, 416, 32, 0, 44, "Subsection"],
Cell[13232, 418, 255, 7, 125, "Input",
 InitializationCell->True]
}, Open  ]]
}, Open  ]],
Cell[CellGroupData[{
Cell[13536, 431, 103, 2, 65, "Section"],
Cell[CellGroupData[{
Cell[13664, 437, 35, 0, 44, "Subsection"],
Cell[13702, 439, 542, 14, 234, "Input",
 InitializationCell->True]
}, Open  ]],
Cell[CellGroupData[{
Cell[14281, 458, 35, 0, 44, "Subsection"],
Cell[14319, 460, 254, 7, 174, "Input",
 InitializationCell->True]
}, Open  ]],
Cell[CellGroupData[{
Cell[14610, 472, 41, 0, 45, "Subsection"],
Cell[14654, 474, 343, 9, 195, "Input",
 InitializationCell->True]
}, Open  ]],
Cell[CellGroupData[{
Cell[15034, 488, 36, 0, 44, "Subsection"],
Cell[15073, 490, 255, 7, 174, "Input",
 InitializationCell->True]
}, Open  ]],
Cell[CellGroupData[{
Cell[15365, 502, 42, 0, 45, "Subsection"],
Cell[15410, 504, 344, 9, 195, "Input",
 InitializationCell->True]
}, Open  ]],
Cell[CellGroupData[{
Cell[15791, 518, 39, 0, 44, "Subsection"],
Cell[15833, 520, 8294, 234, 1286, "Input",
 InitializationCell->True],
Cell[24130, 756, 53, 1, 46, "Input",
 InitializationCell->True],
Cell[24186, 759, 15646, 386, 1943, "Code"]
}, Open  ]]
}, Open  ]]
}, Open  ]],
Cell[CellGroupData[{
Cell[39893, 1152, 34, 0, 66, "Chapter"],
Cell[CellGroupData[{
Cell[39952, 1156, 62, 0, 65, "Section"],
Cell[CellGroupData[{
Cell[40039, 1160, 39, 0, 44, "Subsection"],
Cell[40081, 1162, 10381, 258, 1590, "Input",
 InitializationCell->True],
Cell[50465, 1422, 269, 7, 126, "Input",
 InitializationCell->True]
}, Open  ]]
}, Open  ]],
Cell[CellGroupData[{
Cell[50783, 1435, 57, 0, 65, "Section"],
Cell[CellGroupData[{
Cell[50865, 1439, 34, 0, 44, "Subsection"],
Cell[50902, 1441, 5127, 134, 616, "Input",
 InitializationCell->True]
}, Open  ]]
}, Open  ]]
}, Open  ]],
Cell[CellGroupData[{
Cell[56090, 1582, 34, 0, 66, "Chapter"],
Cell[CellGroupData[{
Cell[56149, 1586, 37, 0, 65, "Section"],
Cell[CellGroupData[{
Cell[56211, 1590, 46, 0, 45, "Subsection"],
Cell[56260, 1592, 4736, 120, 736, "Input",
 InitializationCell->True],
Cell[60999, 1714, 4741, 120, 785, "Input",
 InitializationCell->True]
}, Open  ]],
Cell[CellGroupData[{
Cell[65777, 1839, 104, 2, 45, "Subsection"],
Cell[65884, 1843, 2336, 57, 313, "Input",
 InitializationCell->True],
Cell[68223, 1902, 1210, 33, 127, "Input",
 InitializationCell->True],
Cell[69436, 1937, 12475, 316, 1628, "Code"]
}, Open  ]]
}, Open  ]],
Cell[CellGroupData[{
Cell[81960, 2259, 77, 0, 65, "Section"],
Cell[CellGroupData[{
Cell[82062, 2263, 35, 0, 45, "Subsection"],
Cell[82100, 2265, 295, 8, 164, "Input",
 InitializationCell->True]
}, Open  ]]
}, Open  ]]
}, Open  ]],
Cell[CellGroupData[{
Cell[82456, 2280, 41, 0, 66, "Chapter"],
Cell[CellGroupData[{
Cell[82522, 2284, 118, 3, 101, "Section"],
Cell[CellGroupData[{
Cell[82665, 2291, 41, 0, 44, "Subsection"],
Cell[82709, 2293, 6832, 175, 626, "Input",
 InitializationCell->True],
Cell[89544, 2470, 3553, 93, 502, "Input",
 InitializationCell->True]
}, Open  ]]
}, Open  ]],
Cell[CellGroupData[{
Cell[93146, 2569, 260, 6, 137, "Section"],
Cell[CellGroupData[{
Cell[93431, 2579, 48, 0, 45, "Subsection"],
Cell[93482, 2581, 6301, 163, 819, "Input",
 InitializationCell->True],
Cell[99786, 2746, 3596, 96, 460, "Input",
 InitializationCell->True],
Cell[103385, 2844, 328, 10, 150, "Input",
 InitializationCell->True],
Cell[103716, 2856, 2466, 65, 404, "Input",
 InitializationCell->True],
Cell[106185, 2923, 2263, 61, 333, "Code"],
Cell[108451, 2986, 421, 9, 167, "Input",
 InitializationCell->True]
}, Open  ]]
}, Open  ]]
}, Open  ]],
Cell[CellGroupData[{
Cell[108933, 3002, 35, 0, 66, "Chapter"],
Cell[CellGroupData[{
Cell[108993, 3006, 45, 0, 65, "Section"],
Cell[CellGroupData[{
Cell[109063, 3010, 101, 2, 45, "Subsection"],
Cell[109167, 3014, 4767, 125, 491, "Input",
 InitializationCell->True]
}, Open  ]],
Cell[113949, 3142, 38, 0, 44, "Subsection"],
Cell[113990, 3144, 37, 0, 36, "Subsection"]
}, Open  ]],
Cell[CellGroupData[{
Cell[114064, 3149, 38, 0, 65, "Section"],
Cell[114105, 3151, 528, 15, 77, "Input"],
Cell[CellGroupData[{
Cell[114658, 3170, 41, 0, 44, "Subsection"],
Cell[114702, 3172, 8619, 225, 1277, "Input"],
Cell[123324, 3399, 66, 1, 48, "Input",
 InitializationCell->True],
Cell[123393, 3402, 29430, 704, 4570, "Input"]
}, Open  ]],
Cell[CellGroupData[{
Cell[152860, 4111, 40, 0, 44, "Subsection"],
Cell[152903, 4113, 17740, 441, 2377, "Input"]
}, Open  ]]
}, Open  ]],
Cell[CellGroupData[{
Cell[170692, 4560, 39, 0, 65, "Section"],
Cell[170734, 4562, 42, 0, 44, "Subsection"],
Cell[170779, 4564, 41, 0, 36, "Subsection"]
}, Open  ]],
Cell[CellGroupData[{
Cell[170857, 4569, 37, 0, 65, "Section"],
Cell[170897, 4571, 11506, 271, 1941, "Input"],
Cell[182406, 4844, 16078, 394, 2291, "Input",
 InitializationCell->True],
Cell[198487, 5240, 13051, 321, 1954, "Input",
 InitializationCell->True],
Cell[211541, 5563, 4103, 98, 744, "Code"],
Cell[215647, 5663, 17932, 428, 3127, "Input"],
Cell[233582, 6093, 30453, 753, 4725, "Input",
 InitializationCell->True],
Cell[264038, 6848, 36151, 897, 5041, "Input",
 InitializationCell->True],
Cell[300192, 7747, 26873, 645, 3857, "Input",
 InitializationCell->True]
}, Open  ]]
}, Open  ]],
Cell[CellGroupData[{
Cell[327114, 8398, 29, 0, 66, "Chapter"],
Cell[CellGroupData[{
Cell[327168, 8402, 71, 0, 65, "Section"],
Cell[327242, 8404, 760, 20, 132, "Input",
 InitializationCell->True],
Cell[328005, 8426, 26, 0, 30, "Input"],
Cell[328034, 8428, 26, 0, 30, "Input"]
}, Open  ]],
Cell[CellGroupData[{
Cell[328097, 8433, 70, 0, 65, "Section"],
Cell[CellGroupData[{
Cell[328192, 8437, 109, 1, 45, "Subsection"],
Cell[328304, 8440, 6178, 140, 485, "Input",
 InitializationCell->True],
Cell[334485, 8582, 6636, 176, 521, "Code"],
Cell[341124, 8760, 14241, 333, 2053, "Input",
 InitializationCell->True]
}, Open  ]],
Cell[CellGroupData[{
Cell[355402, 9098, 39, 0, 45, "Subsection"],
Cell[355444, 9100, 1669, 29, 498, "Input",
 InitializationCell->True],
Cell[357116, 9131, 53, 1, 46, "Input",
 InitializationCell->True],
Cell[357172, 9134, 22232, 529, 3517, "Input",
 InitializationCell->True]
}, Open  ]],
Cell[379419, 9666, 41, 0, 45, "Subsection"]
}, Open  ]],
Cell[CellGroupData[{
Cell[379497, 9671, 129, 5, 173, "Section"],
Cell[CellGroupData[{
Cell[379651, 9680, 64, 0, 45, "Subsection"],
Cell[379718, 9682, 12392, 299, 1765, "Input",
 InitializationCell->True]
}, Open  ]],
Cell[CellGroupData[{
Cell[392147, 9986, 77, 0, 45, "Subsection"],
Cell[392227, 9988, 33266, 827, 3906, "Input",
 InitializationCell->True],
Cell[425496, 10817, 5228, 130, 479, "Input",
 InitializationCell->True],
Cell[430727, 10949, 21884, 527, 2207, "Input"],
Cell[452614, 11478, 4102, 100, 370, "Code"],
Cell[456719, 11580, 23474, 566, 1994, "Code"],
Cell[480196, 12148, 81444, 1865, 5775, "Code"]
}, Open  ]],
Cell[CellGroupData[{
Cell[561677, 14018, 50, 0, 45, "Subsection"],
Cell[561730, 14020, 3690, 97, 498, "Input",
 InitializationCell->True],
Cell[565423, 14119, 3690, 96, 498, "Input",
 InitializationCell->True],
Cell[569116, 14217, 15446, 378, 2007, "Input"],
Cell[584565, 14597, 18257, 455, 1988, "Code"],
Cell[602825, 15054, 13385, 304, 1701, "Input",
 InitializationCell->True]
}, Open  ]]
}, Open  ]],
Cell[CellGroupData[{
Cell[616259, 15364, 42, 0, 65, "Section"],
Cell[616304, 15366, 37, 0, 45, "Subsection"],
Cell[616344, 15368, 55, 0, 37, "Subsection"],
Cell[616402, 15370, 36, 0, 37, "Subsection"],
Cell[616441, 15372, 57, 0, 37, "Subsection"]
}, Open  ]],
Cell[CellGroupData[{
Cell[616535, 15377, 93, 2, 65, "Section"],
Cell[616631, 15381, 38, 0, 45, "Subsection"],
Cell[616672, 15383, 75, 0, 37, "Subsection"],
Cell[616750, 15385, 56, 0, 37, "Subsection"]
}, Open  ]],
Cell[CellGroupData[{
Cell[616843, 15390, 40, 0, 65, "Section"],
Cell[616886, 15392, 52, 0, 44, "Subsection"],
Cell[CellGroupData[{
Cell[616963, 15396, 140, 4, 63, "Subsection"],
Cell[617106, 15402, 8636, 235, 647, "Input"],
Cell[625745, 15639, 26, 0, 30, "Input"],
Cell[625774, 15641, 2956, 83, 336, "Code",
 InitializationCell->False]
}, Open  ]],
Cell[CellGroupData[{
Cell[628767, 15729, 70, 0, 45, "Subsection"],
Cell[628840, 15731, 4027, 109, 607, "Input"],
Cell[632870, 15842, 371, 10, 68, "Input",
 InitializationCell->True],
Cell[633244, 15854, 382, 10, 68, "Input",
 InitializationCell->True],
Cell[633629, 15866, 4984, 120, 728, "Input",
 InitializationCell->True],
Cell[638616, 15988, 55664, 1333, 6719, "Input"],
Cell[694283, 17323, 67031, 1593, 6830, "Code",
 InitializationCell->False],
Cell[761317, 18918, 69845, 1640, 8504, "Input"],
Cell[831165, 20560, 109110, 2591, 12256, "Input",
 InitializationCell->True],
Cell[940278, 23153, 16322, 347, 1947, "Input",
 InitializationCell->True],
Cell[956603, 23502, 218921, 4972, 22292, "Input",
 InitializationCell->True],
Cell[1175527, 28476, 67780, 1619, 8348, "Input",
 InitializationCell->True]
}, Open  ]],
Cell[1243322, 30098, 119, 3, 45, "Subsection"],
Cell[CellGroupData[{
Cell[1243466, 30105, 57, 0, 37, "Subsection"],
Cell[1243526, 30107, 10251, 274, 962, "Input"],
Cell[1253780, 30383, 11567, 297, 1091, "Input"]
}, Open  ]],
Cell[1265362, 30683, 57, 0, 45, "Subsection"]
}, Open  ]]
}, Open  ]],
Cell[CellGroupData[{
Cell[1265468, 30689, 34, 0, 66, "Chapter"],
Cell[CellGroupData[{
Cell[1265527, 30693, 70, 0, 65, "Section"],
Cell[1265600, 30695, 2573, 65, 397, "Input",
 InitializationCell->True]
}, Open  ]],
Cell[CellGroupData[{
Cell[1268210, 30765, 46, 0, 65, "Section"],
Cell[CellGroupData[{
Cell[1268281, 30769, 97, 2, 45, "Subsection"],
Cell[1268381, 30773, 53, 1, 46, "Input",
 InitializationCell->True],
Cell[1268437, 30776, 22501, 550, 1670, "Code"],
Cell[1290941, 31328, 22929, 538, 1930, "Input",
 InitializationCell->True],
Cell[1313873, 31868, 23296, 558, 1930, "Input",
 InitializationCell->True]
}, Open  ]],
Cell[CellGroupData[{
Cell[1337206, 32431, 57, 0, 45, "Subsection"],
Cell[1337266, 32433, 2855, 75, 666, "Input",
 InitializationCell->True]
}, Open  ]],
Cell[CellGroupData[{
Cell[1340158, 32513, 166, 3, 45, "Subsection"],
Cell[1340327, 32518, 3819, 89, 825, "Input",
 InitializationCell->True],
Cell[1344149, 32609, 2852, 65, 517, "Input",
 InitializationCell->True]
}, Open  ]]
}, Open  ]],
Cell[CellGroupData[{
Cell[1347050, 32680, 110, 1, 65, "Section"],
Cell[CellGroupData[{
Cell[1347185, 32685, 161, 3, 45, "Subsection"],
Cell[1347349, 32690, 334, 9, 51, "Input",
 InitializationCell->True],
Cell[1347686, 32701, 20678, 489, 1707, "Input",
 InitializationCell->True]
}, Open  ]],
Cell[CellGroupData[{
Cell[1368401, 33195, 170, 3, 45, "Subsection"],
Cell[1368574, 33200, 17165, 388, 1840, "Input",
 InitializationCell->True]
}, Open  ]],
Cell[CellGroupData[{
Cell[1385776, 33593, 144, 2, 45, "Subsection"],
Cell[CellGroupData[{
Cell[1385945, 33599, 940, 25, 81, "Input"],
Cell[1386888, 33626, 183, 2, 32, "Output"]
}, Open  ]],
Cell[CellGroupData[{
Cell[1387108, 33633, 344, 8, 51, "Input"],
Cell[1387455, 33643, 142, 2, 30, "Output"]
}, Open  ]],
Cell[CellGroupData[{
Cell[1387634, 33650, 505, 10, 59, "Input"],
Cell[1388142, 33662, 2268, 34, 71, "Output"],
Cell[1390413, 33698, 2306, 35, 90, "Output"]
}, Open  ]],
Cell[CellGroupData[{
Cell[1392756, 33738, 781, 17, 59, "Input"],
Cell[1393540, 33757, 380, 6, 32, "Output"],
Cell[1393923, 33765, 358, 5, 30, "Output"]
}, Open  ]],
Cell[CellGroupData[{
Cell[1394318, 33775, 1005, 25, 59, "Input"],
Cell[1395326, 33802, 1835, 28, 71, "Output"],
Cell[1397164, 33832, 1835, 28, 71, "Output"]
}, Open  ]],
Cell[CellGroupData[{
Cell[1399036, 33865, 984, 23, 80, "Input"],
Cell[1400023, 33890, 266, 4, 30, "Output"],
Cell[1400292, 33896, 284, 4, 30, "Output"],
Cell[1400579, 33902, 285, 4, 30, "Output"]
}, Open  ]]
}, Open  ]]
}, Open  ]]
}, Open  ]]
}, Open  ]]
}
]
*)


20170222,
in this version, there is a new mode "quick_save_plot".
By this mode users do not need to set up " = PDFsetDir !", " = PDFsetmethod !" 
since the correlation data is stored in correlation_data.m 

what we need to setup:
"quick_save_plot = runfunc !"


" = figureDirtag !" set where to put the output figures
" = PDFname !" to set which PDFset users want to plot, presently only CT14nnlo is available
" = datalist !": the path of file "dat16lisformathematica"
" = expttype !" and " = exptid !": depend on users, deciding which experiments are plotted 

===========================
How we run:
math -script correlation_plot_project_v5_script.m

============================
20170301
1. the config file is replaced by a new version
2. work for smu workstation: curie, rubin (Mathematica 10.2)
3. explanation of new configure file for the web site:
presently, my Mathematica script only read following arguments, which means
functions or options for other arguments have not yet been workout:
PDF set:
Expt. ID:
Expt. Flag: 

"PDF set:" is the "PDFname" of old configure file.
"Expt. ID:" & "Expt. Flag:" are used to replace "= expttype !" & "= exptid !";
"Expt. ID:" show all possible experimental ID a web user can choose.
"Expt. Flag:" set 0 & 1 to control whether an ID of "Expt. ID" should be used 
as data for Mathematica.

---------------------------------
Checkboxes on the website
for "...Flag:" in config file,
we design checkboxes on website, if some boxes are checked, python should 
set those flags as 1, some that the Mathematica code will run these functions  

ex:
Figures to plot
x  Experimental data points
x  Experimental errors
x  Residuals
x  PDF errors on residuals
x  Correlations with functions
x  Histograms of correlations
x  Sensitivity to functions
x  Histograms of sensitivity
x  ...
---------------------------------
for other arguments in old configure file such as:
"= figureDirtag !"
"= datalist !"
I setup these paths in Mathematica code.
plots can be found in ./plots
datalist file could be found in the same Dir of Mathematica main code.
"= runfunc !"
web version only runs quicksaveplot mode, so users don't need to choose the run mode.
"= PDFsetDir !"
"= PDFsetmethod !"
"= PDFDataDir !"
same reason, quicksaveplot mode does not use these arguments

=====================================
20170308
config file add new arguments
"Color by data percentage" allow user to input three number for percentage, ex: 40 65 90,
which means when you sort data from small to large, the position of the percentage in sorted data.
The percentage you choose seperate data by these percentage and give different color for these seprerated data in plots.

"Size" allow user to choose point size in plots
user could choose following sizes: tiny small medium large

"highlight mode" is for every plot type (presently from 1~7???)
user could choose different way to highlight the data range he want to see
#mode 0: No highlight. mode 1: highlight data by range of value. mode 2: highlight data by range of percentage
for mode 1: every plot type has 2 values, val1 val2, means highlight range of value of a data point,
ex: for "correlation" plots, 0.4  0.75 means data in (0.4,0.75) will be highlighted
for mode 2: val1 val2 are percentage
ex: for "correlation" plots, 40  75 means data in (40%,75%) will be highlighted

example for Mathematica code reading these arguments:
for following config file
Type:  1     2     3     4     5     6     7
Mode:  0     2     0     1     0     1     1
Mode 1 range: 0.5  0.75 0.5  0.75 0.5  0.75 0.5  0.75 0.5  0.75 0.5  0.75 0.5  0.75
Mode 2 range: 50  86.55 50  86.55 50  86.55 50  86.55 50  86.55 50  86.55 50  86.55
 
code will read
Type:         1     2         3     4         5     6         7
Mode:         0     2         0     1         0     1         1
Mode 1 range: x  x  x   x     x  x  0.5  0.75 x x   0.5  0.75 0.5  0.75
Mode 2 range: x  x  50  86.55 x  x  x    x x  x x   x         x  x

(
since mode 0 does not hightlight data, so the code will not use value of mode 1&2 range,
when user choose any mode, for example mode 1, config still need to have value for other modes for read 
so that code will not show error message 
 )
============================
20170316
1. user option for #Functions to use in correlations set in program
2. size of point in highlight mode automatically set as small
3. make a meta_data_structure.txt file to record meta data in program
4. make a fake function of correlation to replace correlation function of library
(so that user mode corr, dr*corr can be calculated) 
5. I find the script version and the .nb version get little different outputs, 
for four plots combined in one by Grid function:
the .nb makes
A  B  plots
C  D 
script makes
A     plots
B
C  
D
     
========================
20170420
1. point size linearly enlarge in lighlighted region
2. deeper color for PDFCorrelationplot7 (Darker 0.1 -> 0.2) 
20170427
For new experiments in 2017.0425.2123.-0500_ct14nn-new, modify the code
dtareadbotingw2016
1. ExptIDtoName: if lisTable does not include the input ExptID, return "None"
2. selectdatacolume: add new experiments into list
3. ExptIDEcm: add Sqrt(S) of new experiments
correlation_plot_project_v17_script.nb
1. (*global variables*) part, add ExptID of new experiments
quickdata
1. add data of the new CT14NNLO into quickdata by correlation_plot_project_v6_2.nb
and dtareadbotingw2016_for_v6_2.m 

future: 
1. use Export to save data into .m file
2. build a pragram to save data into .m file
3. seperate correlation project functions and the implementation part into different files
4. investigate which expts do not be included in the default calculation
5. .log file 
===========================
20170606
v21:
adjust scale of correlation, sensitivity, deltaR, central of residue
make a function: comparison of grid&samept 
make executables of three methods: samept, grid, xgrid 
write a note for tutorial
barcolor modify for presentation

v22:
make script versions for executables
delete unused functions 
data files of executables that making figures are setup in "plotdata_config.txt" 

20170707
v23:
residue -> residual for all files

20170822
adding time information of running for samept figure making executables

20170828
adding expts_info_v3.nb: this executable enables users to know the information of PDF sets, data files 
the expts_info_v3.m version: output information should come from the Print[] function, not yet finished
fix: ReadExptTable, add data label information and put in [[3]] of output
fix: readexptsbydta, remove the "wrongformat" reminder
define data label indexes of theory, shifteddata, and uncorrerror by variables (fxQsamept_corr.nb)

201700906
adding expts_info_v4.nb: change variable names, reorganize functions, add error messages for abnormal data
change data filename format .m -> .dat

20171016: add expt id 160, 545 into data list in ExptIDEcm
20171023: add combining two plotted data files function in expts_info_v5.nb
20171025: change barseperator of dr*corr in funtion processdataplotsmultiexp6percentage  

20171027: advices:
google doc to ask Tim and Fred feedbacks for this package
(highlight mode confusing, LHAParse, how to get the physical predictions for other PDF sets such as NNPDF, 
better way to read configure file: read file by Mathematica format, highlight mode grey out unhighlighted points)

 20171030: change some string = "residue" to "residual" in corr_proj_funcs.nb(.m)
20171101: change files stored in ./quick_data/
from corr, dRcorr, residual central value, delta residual, expt error ratio -> residuals in all replicas, f(x,Q) in all replicas, .dta data of central set
also, calculation of observables for plotting are moved from fxQsamept_corr_vx.nb to run_vx.nb
10171102: solve the problem arises from setting config file for xmin, xmax, ymin, ymax as auto, set auto values in processdataplotsmultiexp6percentage

20171103: add mathematica expression format for output figures so that users can change details (label, ticks) themselve
20171103: some figures output have {} symbol, delete them
20171105: output for script version .eps -> .png
20171107: for highlight range, grey out unhighlighted data and use highlight range as barlegend seperator

20171108: 
highlight mode and color palette change: 
1. highlighted points have the same size, and larger than unhighlighted points
2. color palettes of highlight and no-highlight modes are the same
3, unhighlighted points become gray no matter in which color seperator interval they are 
4. color palette, original {red - gray -blue}, become {red - green - blue}
5. expt error ratio & delta residual palette are only positive
other modify:
6. title labels of figures are simplified
7. lines in histogram part at negative side of residual error and expt error ratio are canceled, expt error ratio line: change from 50%, 70%, 85% of data to 0.1

20171108: 
modify:
delete histograms with negative ranges of expt error ratio figure and delta residual figure
take absolute values for expt error ratio data
digital # of highlight range showed in the figures <= 2  

20171108
reorganize the processdataplotsmultiexp6percentage and define it as processdataplotsmultiexp7percentage

20171109
1. new function (ReadUserFunction) for reading user define functions or data
2. build a new read configure file function: readcorrconfigfile5, deleting user define functions part in the new function 
(so ReadUserFunction will take care of that part)
3. highlight range convention change: in functions readcorrconfigfile5, processdataplotsmultiexp7percentage
new convention: {{hmin1, hmax1}, {hmin2, hmax2}, ...}
4. for histogram of |obs|, fix the problem that title labels have no |...| symbol

20171109: 
shorten name of 2017.1008.0954.-0500_CT14HERA2-jet.ev to CT14HERA2-jet.ev (in processdataplotsmultiexp7percentage)
20171111:
1. renew histogram plotting function: histplot4->histplot5, use binwidth as the input of the bin setting in histplot5
2. change lines on histogram-> think, unsaturate red and blue
3. percentage highlight mode: don't take the statistics for absolute values of data when calculating the percentage of highlight
4. fix the bug that when input 0% to GetDataPercentage, function will output data[[0]] which has no value
5. move highlight text in 2D-xQ plots to avoid covering data points and cutted by the left edge  
6. if red lines in histograms exceed the frame, don't draw them

20171116
1. change the way to input the user define function
from python script -> user_define_func.txt (don't write values from main.py)
2. input could be a combination of PDFs for various flavours or a List with Nset values
read user define function way change (ReadUserFunctionV2 -> ReadUserFunctionV2)
3. input function FxQ[iflavour] or FxQ[iexpt,iflavour,ipt,iset]

20171119
1. ReadUserFunctionV2 -> ReadUserFunctionV3
user define function is between begin tag and end tag
so users can input multi-line command
2. user_define_func.txt -> user_func.txt
3. copy user_func.txt to the output directory 

20171120
1. change the input arguments of FxQ in user_func.txt: iExpt -> ExptID. e.g. ExptID=159; FxQ[ExptID,ig,iPt,iSet] 
2. change the main.py selection of flavours part: only shows bbar ~ b radios, but still write q6, q7, and q8 to config1.txt
3. add more descriptions about how to write functions in the user_func.txt

